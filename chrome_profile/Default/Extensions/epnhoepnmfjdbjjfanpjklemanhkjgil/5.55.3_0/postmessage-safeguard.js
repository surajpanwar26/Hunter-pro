(()=>{var v=window.addEventListener,L=window.removeEventListener,M='"guid":"pendo-',r=new Map;window.addEventListener=T;window.removeEventListener=c;function T(...s){let[a,e,t,...o]=s,i=v;if(window.Zone&&(i=EventTarget.prototype.addEventListener),a!=="message")return i.apply(this,s);if(!e)return i.apply(this,s);let p=(n,...l)=>{if(!n||!n.data)return e(n,...l);if(typeof n.data=="object"){let f=n.data.action||"",u=n.data.type||"",y=n.data.source||"",g=n.data.destination||"",w=!!n.data.pendoMessage,E=u?.includes("pendo")||f?.includes("pendo"),h=y?.includes("pendo")||g?.includes("pendo");if(E||h||w){t&&t.once&&window.addEventListener(a,e,t,...o);return}}else if(typeof n.data=="string"&&n.data.includes(M)){t&&t.once&&window.addEventListener(a,e,t,...o);return}typeof e=="function"?e(n,...l):typeof e=="object"&&e.handleEvent&&e.handleEvent(n,...l)};c(...s);let d=!1;return typeof t=="boolean"?d=t:typeof t=="object"&&(d=t.capture||!1),r.set(e,{...r.get(e),[d]:p}),i.apply(this,[a,p,t,...o])}function c(...s){let[a,e,t]=s,o=L;if(window.Zone&&(o=EventTarget.prototype.removeEventListener),a!=="message")return o.apply(this,s);if(!e)return o.apply(this,s);let i=!1;if(typeof t=="boolean"?i=t:typeof t=="object"&&(i=t.capture||!1),r.has(e)){let p=r.get(e),d=r.get(e)[i];d&&o.apply(this,[a,d,t]),delete p[i],r.set(e,p)}o.apply(this,s)}})();
