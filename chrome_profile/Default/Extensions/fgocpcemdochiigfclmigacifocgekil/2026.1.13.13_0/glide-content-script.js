(self.daWebpack=self.daWebpack||[]).push([[206],{181:(K,we,B)=>{var Z=B(9812),g=B(15153),fe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ae=/^\w*$/;K.exports=function pe(se,be){if(Z(se))return!1;var he=typeof se;return!("number"!=he&&"symbol"!=he&&"boolean"!=he&&null!=se&&!g(se))||(ae.test(se)||!fe.test(se)||null!=be&&se in Object(be))}},1090:(K,we,B)=>{var Z=B(86316);K.exports=function g(fe,ae){var pe=this.__data__,se=Z(pe,fe);return se<0?(++this.size,pe.push([fe,ae])):pe[se][1]=ae,this}},5230:(K,we,B)=>{var Z=B(58247),fe=Object.prototype.hasOwnProperty;K.exports=function ae(pe){var se=this.__data__;return Z?void 0!==se[pe]:fe.call(se,pe)}},8488:(K,we,B)=>{var Z=B(8516),g=Object.prototype,fe=g.hasOwnProperty,ae=g.toString,pe=Z?Z.toStringTag:void 0;K.exports=function se(be){var he=fe.call(be,pe),dt=be[pe];try{be[pe]=void 0;var qt=!0}catch{}var Zr=ae.call(be);return qt&&(he?be[pe]=dt:delete be[pe]),Zr}},8516:(K,we,B)=>{var g=B(81464).Symbol;K.exports=g},9812:K=>{var we=Array.isArray;K.exports=we},12651:K=>{K.exports=function we(B,Z){return B===Z||B!=B&&Z!=Z}},12757:K=>{K.exports=function we(B,Z){for(var g=-1,fe=null==B?0:B.length,ae=Array(fe);++g<fe;)ae[g]=Z(B[g],g,B);return ae}},15153:(K,we,B)=>{var Z=B(61057),g=B(57433);K.exports=function ae(pe){return"symbol"==typeof pe||g(pe)&&"[object Symbol]"==Z(pe)}},20336:(K,we,B)=>{var g=B(81464)["__core-js_shared__"];K.exports=g},21891:(K,we,B)=>{var Z=B(63028),g=B(25752),fe=B(51012);K.exports=function ae(){this.size=0,this.__data__={hash:new Z,map:new(fe||g),string:new Z}}},22447:(K,we,B)=>{var Z=B(68339),g=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fe=/\\(\\)?/g,ae=Z(function(pe){var se=[];return 46===pe.charCodeAt(0)&&se.push(""),pe.replace(g,function(be,he,dt,qt){se.push(dt?qt.replace(fe,"$1"):he||be)}),se});K.exports=ae},23643:K=>{K.exports=function we(){this.__data__=[],this.size=0}},25752:(K,we,B)=>{var Z=B(23643),g=B(27103),fe=B(30062),ae=B(31610),pe=B(1090);function se(be){var he=-1,dt=null==be?0:be.length;for(this.clear();++he<dt;){var qt=be[he];this.set(qt[0],qt[1])}}se.prototype.clear=Z,se.prototype.delete=g,se.prototype.get=fe,se.prototype.has=ae,se.prototype.set=pe,K.exports=se},26681:(K,we,B)=>{var Z=B(98137);K.exports=function g(fe,ae,pe){var se=null==fe?void 0:Z(fe,ae);return void 0===se?pe:se}},27103:(K,we,B)=>{var Z=B(86316),fe=Array.prototype.splice;K.exports=function ae(pe){var se=this.__data__,be=Z(se,pe);return!(be<0)&&(be==se.length-1?se.pop():fe.call(se,be,1),--this.size,!0)}},30062:(K,we,B)=>{var Z=B(86316);K.exports=function g(fe){var ae=this.__data__,pe=Z(ae,fe);return pe<0?void 0:ae[pe][1]}},31610:(K,we,B)=>{var Z=B(86316);K.exports=function g(fe){return Z(this.__data__,fe)>-1}},33718:(K,we,B)=>{var Z=B(58247);K.exports=function fe(ae,pe){var se=this.__data__;return this.size+=this.has(ae)?0:1,se[ae]=Z&&void 0===pe?"__lodash_hash_undefined__":pe,this}},40322:(K,we,B)=>{var Z=B(79038);K.exports=function g(fe){return Z(this,fe).has(fe)}},43916:(K,we,B)=>{var Z=B(9812),g=B(181),fe=B(22447),ae=B(54717);K.exports=function pe(se,be){return Z(se)?se:g(se,be)?[se]:fe(ae(se))}},47258:(K,we,B)=>{var Z=B(79038);K.exports=function g(fe,ae){var pe=Z(this,fe),se=pe.size;return pe.set(fe,ae),this.size+=pe.size==se?0:1,this}},48401:(K,we,B)=>{var ae,Z=B(20336),g=(ae=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+ae:"";K.exports=function fe(ae){return!!g&&g in ae}},49467:(K,we,B)=>{"use strict";function Z(n,e,t,o,r,i,s){try{var a=n[i](s),c=a.value}catch(d){return void t(d)}a.done?e(c):Promise.resolve(c).then(o,r)}function g(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var i=n.apply(e,t);function s(c){Z(i,o,r,s,a,"next",c)}function a(c){Z(i,o,r,s,a,"throw",c)}s(void 0)})}}function fe(n,e){return Object.is(n,e)}let ae=null,pe=!1,se=1;const be=Symbol("SIGNAL");function he(n){const e=ae;return ae=n,e}function dt(){return ae}const Si={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function so(n){if(pe)throw new Error("");if(null===ae)return;ae.consumerOnSignalRead(n);const e=ae.nextProducerIndex++;if(df(ae),e<ae.producerNode.length&&ae.producerNode[e]!==n&&uu(ae)){kl(ae.producerNode[e],ae.producerIndexOfThis[e])}ae.producerNode[e]!==n&&(ae.producerNode[e]=n,ae.producerIndexOfThis[e]=uu(ae)?xl(n,ae,e):0),ae.producerLastReadVersion[e]=n.version}function Rs(n){if((!uu(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==se)){if(!n.producerMustRecompute(n)&&!Ki(n))return void Jo(n);n.producerRecomputeValue(n),Jo(n)}}function Zo(n){if(void 0===n.liveConsumerNode)return;const e=pe;pe=!0;try{for(const t of n.liveConsumerNode)t.dirty||Tw(t)}finally{pe=e}}function Ls(){return!1!==ae?.consumerAllowSignalWrites}function Tw(n){n.dirty=!0,Zo(n),n.consumerMarkedDirty?.(n)}function Jo(n){n.dirty=!1,n.lastCleanEpoch=se}function Jr(n){return n&&(n.nextProducerIndex=0),he(n)}function Po(n,e){if(he(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(uu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)kl(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ki(n){df(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],o=n.producerLastReadVersion[e];if(o!==t.version||(Rs(t),o!==t.version))return!0}return!1}function Tr(n){if(df(n),uu(n))for(let e=0;e<n.producerNode.length;e++)kl(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function xl(n,e,t){if(Iw(n),0===n.liveConsumerNode.length&&Ew(n))for(let o=0;o<n.producerNode.length;o++)n.producerIndexOfThis[o]=xl(n.producerNode[o],n,o);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function kl(n,e){if(Iw(n),1===n.liveConsumerNode.length&&Ew(n))for(let o=0;o<n.producerNode.length;o++)kl(n.producerNode[o],n.producerIndexOfThis[o]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const o=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];df(r),r.producerIndexOfThis[o]=e}}function uu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function df(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Iw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Ew(n){return void 0!==n.producerNode}function Gp(n,e){const t=Object.create(Vs);t.computation=n,void 0!==e&&(t.equal=e);const o=()=>{if(Rs(t),so(t),t.value===Fo)throw t.error;return t.value};return o[be]=t,o}const Da=Symbol("UNSET"),Al=Symbol("COMPUTING"),Fo=Symbol("ERRORED"),Vs={...Si,value:Da,dirty:!0,error:null,equal:fe,kind:"computed",producerMustRecompute:n=>n.value===Da||n.value===Al,producerRecomputeValue(n){if(n.value===Al)throw new Error("Detected cycle in computations.");const e=n.value;n.value=Al;const t=Jr(n);let o,r=!1;try{o=n.computation(),he(null),r=e!==Da&&e!==Fo&&o!==Fo&&n.equal(e,o)}catch(i){o=Fo,n.error=i}finally{Po(n,t)}r?n.value=e:(n.value=o,n.version++)}};let du=function gE(){throw new Error};function Kr(n){du(n)}let ff=null;function Bs(n,e){Ls()||Kr(n),n.equal(n.value,e)||(n.value=e,function _E(n){n.version++,function Ns(){se++}(),Zo(n),ff?.()}(n))}function Mw(n,e){Ls()||Kr(n),Bs(n,e(n.value))}const xa={...Si,equal:fe,value:void 0,kind:"signal"};let ti;function gu(){return ti}function Us(n){const e=ti;return ti=n,e}const ka=Symbol("NotFound");Error;function at(n){return"function"==typeof n}function zp(n){const t=n(o=>{Error.call(o),o.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Aa=zp(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((o,r)=>`${r+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function pu(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:o}=this;if(at(o))try{o()}catch(i){e=i instanceof Aa?i.errors:[i]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const i of r)try{vf(i)}catch(s){e=e??[],s instanceof Aa?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Aa(e)}}add(e){var t;if(e&&e!==this)if(this.closed)vf(e);else{if(e instanceof bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&pu(t,e)}remove(e){const{_finalizers:t}=this;t&&pu(t,e),e instanceof bn&&e._removeParent(this)}}bn.EMPTY=(()=>{const n=new bn;return n.closed=!0,n})();const Oa=bn.EMPTY;function _f(n){return n instanceof bn||n&&"closed"in n&&at(n.remove)&&at(n.add)&&at(n.unsubscribe)}function vf(n){at(n)?n():n.unsubscribe()}const es={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ol={setTimeout(n,e,...t){const{delegate:o}=Ol;return o?.setTimeout?o.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ol;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function yf(n){Ol.setTimeout(()=>{const{onUnhandledError:e}=es;if(!e)throw n;e(n)})}function Pa(){}const Wp=Xp("C",void 0,void 0);function Xp(n,e,t){return{kind:n,value:e,error:t}}let Fa=null;function bf(n){if(es.useDeprecatedSynchronousErrorHandling){const e=!Fa;if(e&&(Fa={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:o}=Fa;if(Fa=null,t)throw o}}else n()}class wf extends bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_f(e)&&e.add(this)):this.destination=CE}static create(e,t,o){return new Pl(e,t,o)}next(e){this.isStopped?Zp(function Yp(n){return Xp("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Zp(function qp(n){return Xp("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Zp(Wp,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const yE=Function.prototype.bind;function Qp(n,e){return yE.call(n,e)}class bE{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(o){mu(o)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(o){mu(o)}else mu(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){mu(t)}}}class Pl extends wf{constructor(e,t,o){let r;if(super(),at(e)||!e)r={next:e??void 0,error:t??void 0,complete:o??void 0};else{let i;this&&es.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Qp(e.next,i),error:e.error&&Qp(e.error,i),complete:e.complete&&Qp(e.complete,i)}):r=e}this.destination=new bE(r)}}function mu(n){es.useDeprecatedSynchronousErrorHandling?function xw(n){es.useDeprecatedSynchronousErrorHandling&&Fa&&(Fa.errorThrown=!0,Fa.error=n)}(n):yf(n)}function Zp(n,e){const{onStoppedNotification:t}=es;t&&Ol.setTimeout(()=>t(n,e))}const CE={closed:!0,next:Pa,error:function wE(n){throw n},complete:Pa},_u="function"==typeof Symbol&&Symbol.observable||"@@observable";function Na(n){return n}function Aw(n){return 0===n.length?Na:1===n.length?n[0]:function(t){return n.reduce((o,r)=>r(o),t)}}class ht{constructor(e){e&&(this._subscribe=e)}lift(e){const t=new ht;return t.source=this,t.operator=e,t}subscribe(e,t,o){const r=function TE(n){return n&&n instanceof wf||function SE(n){return n&&at(n.next)&&at(n.error)&&at(n.complete)}(n)&&_f(n)}(e)?e:new Pl(e,t,o);return bf(()=>{const{operator:i,source:s}=this;r.add(i?i.call(r,s):s?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){e.error(t)}}forEach(e,t){return new(t=Ow(t))((o,r)=>{const i=new Pl({next:s=>{try{e(s)}catch(a){r(a),i.unsubscribe()}},error:r,complete:o});this.subscribe(i)})}_subscribe(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)}[_u](){return this}pipe(...e){return Aw(e)(this)}toPromise(e){return new(e=Ow(e))((t,o)=>{let r;this.subscribe(i=>r=i,i=>o(i),()=>t(r))})}}function Ow(n){var e;return null!==(e=n??es.Promise)&&void 0!==e?e:Promise}ht.create=n=>new ht(n);const IE=zp(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});class gn extends ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const t=new Pw(this,this);return t.operator=e,t}_throwIfClosed(){if(this.closed)throw new IE}next(e){bf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const t of this.currentObservers)t.next(e)}})}error(e){bf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:t}=this;for(;t.length;)t.shift().error(e)}})}complete(){bf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:t,isStopped:o,observers:r}=this;return t||o?Oa:(this.currentObservers=null,r.push(e),new bn(()=>{this.currentObservers=null,pu(r,e)}))}_checkFinalizedStatuses(e){const{hasError:t,thrownError:o,isStopped:r}=this;t?e.error(o):r&&e.complete()}asObservable(){const e=new ht;return e.source=this,e}}gn.create=(n,e)=>new Pw(n,e);class Pw extends gn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===o||o.call(t,e)}error(e){var t,o;null===(o=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===o||o.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,o;return null!==(o=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==o?o:Oa}}class Hs extends gn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:o}=this;if(e)throw t;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}}const Ae_CLICK="click",Ae_MOUSEOVER="mouseover",Ae_MOUSEOUT="mouseout",Lw=["focus","blur","error","load","toggle"];[Ae_CLICK,"dblclick","focusin","focusout","keydown","keyup","keypress",Ae_MOUSEOVER,Ae_MOUSEOUT,"submit","touchstart","touchend","touchmove","touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"].concat(Lw);typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent);var um,n;(n=um||(um={}))[n.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK";function kn(n){return e=>{if(function Er(n){return at(n?.lift)}(e))return e.lift(function(t){try{return n(t,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function cn(n,e,t,o,r){return new $s(n,e,t,o,r)}class $s extends wf{constructor(e,t,o,r,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function mt(n,e){return kn((t,o)=>{let r=0;t.subscribe(cn(o,i=>{o.next(n.call(e,i,r++))}))})}const $t="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss";class J extends Error{code;constructor(e,t){super(ts(e,t)),this.code=e}}function ts(n,e){return`${function gm(n){return`NG0${Math.abs(n)}`}(n)}${e?": "+e:""}`}const Rl=Symbol("InputSignalNode#UNSET"),tC={...xa,transformFn:void 0,applyValueToInputSignal(n,e){Bs(n,e)}};function nC(n,e){const t=Object.create(tC);function o(){if(so(t),t.value===Rl){throw new J(-950,null)}return t.value}return t.value=n,t.transformFn=e?.transform,o[be]=t,o}function Ti(n){return{toString:n}.toString()}const ns="__annotations__",oi="__parameters__",Ll="__prop__metadata__";function Vl(n,e,t,o,r){return Ti(()=>{const i=Mf(e);function s(...a){if(this instanceof s)return i.call(this,...a),this;const c=new s(...a);return function(f){return r&&r(f,...a),(f.hasOwnProperty(ns)?f[ns]:Object.defineProperty(f,ns,{value:[]})[ns]).push(c),f}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}function Mf(n){return function(...t){if(n){const o=n(...t);for(const r in o)this[r]=o[r]}}}function Gs(n,e,t){return Ti(()=>{const o=Mf(e);function r(...i){if(this instanceof r)return o.apply(this,i),this;const s=new r(...i);return a.annotation=s,a;function a(c,d,f){const p=c.hasOwnProperty(oi)?c[oi]:Object.defineProperty(c,oi,{value:[]})[oi];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),c}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Ii(n,e,t,o){return Ti(()=>{const r=Mf(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const a=new i(...s);return function c(d,f){if(void 0===d)throw new Error("Standard Angular field decorators are not supported in JIT mode.");const p=d.constructor,y=p.hasOwnProperty(Ll)?p[Ll]:Object.defineProperty(p,Ll,{value:{}})[Ll];y[f]=y.hasOwnProperty(f)&&y[f]||[],y[f].unshift(a)}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}const en=globalThis;function yt(n){for(let e in n)if(n[e]===yt)return e;throw Error("Could not find renamed property on target object.")}function XE(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function wn(n){if("string"==typeof n)return n;if(Array.isArray(n))return`[${n.map(wn).join(", ")}]`;if(null==n)return""+n;const e=n.overriddenName||n.name;if(e)return`${e}`;const t=n.toString();if(null==t)return""+t;const o=t.indexOf("\n");return o>=0?t.slice(0,o):t}function bo(n,e){return n?e?`${n} ${e}`:n:e||""}const wu=yt({__forward_ref__:yt});function Mt(n){return n.__forward_ref__=Mt,n.toString=function(){return wn(this())},n}function Ue(n){return Df(n)?n():n}function Df(n){return"function"==typeof n&&n.hasOwnProperty(wu)&&n.__forward_ref__===Mt}function Mr(n,e,t){n!=e&&Pe(t,n,e,"==")}function Pe(n,e,t,o){throw new Error(`ASSERTION ERROR: ${n}`+(null==o?"":` [Expected=> ${t} ${o} ${e} <=Actual]`))}function F(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ro(n){return{providers:n.providers||[],imports:n.imports||[]}}function La(n){return W(n,je)||W(n,Cn)}function W(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ce(n){return n&&(n.hasOwnProperty(gt)||n.hasOwnProperty(Ot))?n[gt]:null}const je=yt({\u0275prov:yt}),gt=yt({\u0275inj:yt}),Cn=yt({ngInjectableDef:yt}),Ot=yt({ngInjectorDef:yt});class de{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=F({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bm(n){return n&&!!n.\u0275providers}const Ul=yt({\u0275cmp:yt}),wm=yt({\u0275dir:yt}),Hl=yt({\u0275pipe:yt}),os=yt({\u0275mod:yt}),Dr=yt({\u0275fac:yt}),jl=yt({__NG_ELEMENT_ID__:yt}),Tu=yt({__NG_ENV_ID__:yt});function Ge(n){return"string"==typeof n?n:null==n?"":String(n)}function _t(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ge(n)}function $l(n,e){throw new J(-200,n)}function Sm(n,e){throw new J(-201,!1)}var Ke;let Tm;function Iu(){return Tm}function Yn(n){const e=Tm;return Tm=n,e}function kf(n,e,t){const o=La(n);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:t&Ke.Optional?null:void 0!==e?e:void Sm()}!function(n){n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional"}(Ke||(Ke={}));const Ba={},Im="__NG_DI_FLAG__";class Sn{injector;constructor(e){this.injector=e}retrieve(e,t){const o=t;return this.injector.get(e,o.optional?ka:Ba,o)}}const An="ngTempTokenPath",oM=/\n/gm,lC="__source";function Em(n,e=Ke.Default){if(void 0===gu())throw new J(-203,!1);if(null===gu())return kf(n,void 0,e);{const t=gu();let o;return o=t instanceof Sn?t.injector:t,o.get(n,e&Ke.Optional?null:void 0,e)}}function L(n,e=Ke.Default){return(Iu()||Em)(Ue(n),e)}function Af(n){throw new J(202,!1)}function C(n,e=Ke.Default){return L(n,Ws(e))}function Ws(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Ua(n){const e=[];for(let t=0;t<n.length;t++){const o=Ue(n[t]);if(Array.isArray(o)){if(0===o.length)throw new J(900,!1);let r,i=Ke.Default;for(let s=0;s<o.length;s++){const a=o[s],c=zl(a);"number"==typeof c?-1===c?r=a.token:i|=c:r=a}e.push(L(r,i))}else e.push(L(o))}return e}function qs(n,e){return n[Im]=e,n.prototype[Im]=e,n}function zl(n){return n[Im]}function rM(n,e,t,o){const r=n[An];throw e[lC]&&r.unshift(e[lC]),n.message=function iM(n,e,t,o=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=wn(e);if(Array.isArray(e))r=e.map(wn).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):wn(a)))}r=`{${i.join(", ")}}`}return`${t}${o?"("+o+")":""}[${r}]: ${n.replace(oM,"\n  ")}`}("\n"+n.message,r,t,o),n.ngTokenPath=r,n[An]=null,n}const sM=qs(Gs("Inject",n=>({token:n})),-1),Of=qs(Gs("Optional"),8),aM=qs(Gs("Self"),2),Wl=qs(Gs("SkipSelf"),4),Eu=qs(Gs("Host"),1);function Ys(n,e){return n.hasOwnProperty(Dr)?n[Dr]:null}function On(n){return n.flat(Number.POSITIVE_INFINITY)}function rs(n,e){n.forEach(t=>Array.isArray(t)?rs(t,e):e(t))}function tr(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function et(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Pf(n,e){const t=[];for(let o=0;o<n;o++)t.push(e);return t}function cC(n,e,t){const o=n.length-t;for(;e<o;)n[e]=n[e+t],e++;for(;t--;)n.pop()}function uC(n,e,t,o){let r=n.length;if(r==e)n.push(t,o);else if(1===r)n.push(o,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){const i=r-2;n[r]=n[i],r--}n[e]=t,n[e+1]=o}}function Pn(n,e,t){let o=Mu(n,e);return o>=0?n[1|o]=t:(o=~o,uC(n,o,e,t)),o}function Mm(n,e){const t=Mu(n,e);if(t>=0)return n[1|t]}function Mu(n,e){return function lM(n,e,t){let o=0,r=n.length>>t;for(;r!==o;){const i=o+(r-o>>1),s=n[i<<t];if(e===s)return i<<t;s>e?r=i:o=i+1}return~(r<<t)}(n,e,1)}const ri={},vt=[],Fn=new de(""),dC=new de("",-1),Dm=new de("");class Ff{get(e,t=Ba){if(t===Ba){const o=new Error(`NullInjectorError: No provider for ${wn(e)}!`);throw o.name="NullInjectorError",o}return t}}function nr(n,e){const t=n[os]||null;if(!t&&!0===e)throw new Error(`Type ${wn(n)} does not have '\u0275mod' property.`);return t}function nt(n){return n[Ul]||null}function Gt(n){return n[wm]||null}function or(n){return n[Hl]||null}function ql(n){const e=nt(n)||Gt(n)||or(n);return null!==e&&e.standalone}function Xs(n){return{\u0275providers:n}}function cM(...n){return{\u0275providers:is(!0,n),\u0275fromNgModule:!0}}function is(n,...e){const t=[],o=new Set;let r;const i=s=>{t.push(s)};return rs(e,s=>{const a=s;Nf(a,i,[],o)&&(r||=[],r.push(a))}),void 0!==r&&fC(r,i),t}function fC(n,e){for(let t=0;t<n.length;t++){const{ngModule:o,providers:r}=n[t];xm(r,i=>{e(i,o)})}}function Nf(n,e,t,o){if(!(n=Ue(n)))return!1;let r=null,i=Ce(n);const s=!i&&nt(n);if(i||s){if(s&&!s.standalone)return!1;r=n}else{const c=n.ngModule;if(i=Ce(c),!i)return!1;r=c}const a=o.has(r);if(s){if(a)return!1;if(o.add(r),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const d of c)Nf(d,e,t,o)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let d;o.add(r);try{rs(i.imports,f=>{Nf(f,e,t,o)&&(d||=[],d.push(f))})}finally{}void 0!==d&&fC(d,e)}if(!a){const d=Ys(r)||(()=>new r);e({provide:r,useFactory:d,deps:vt},r),e({provide:Dm,useValue:r,multi:!0},r),e({provide:Fn,useValue:()=>L(r),multi:!0},r)}const c=i.providers;if(null!=c&&!a){const d=n;xm(c,f=>{e(f,d)})}}}return r!==n&&void 0!==n.providers}function xm(n,e){for(let t of n)bm(t)&&(t=t.\u0275providers),Array.isArray(t)?xm(t,e):e(t)}const uM=yt({provide:String,useValue:yt});function km(n){return null!==n&&"object"==typeof n&&uM in n}function hC(n){return!(!n||!n.useExisting)}function gC(n){return!(!n||!n.useFactory)}function Qs(n){return"function"==typeof n}const Am=new de(""),Rf={},Lf={};let Ha;function ja(){return void 0===Ha&&(Ha=new Ff),Ha}class Co{}class Zs extends Co{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,o,r){super(),this.parent=t,this.source=o,this.scopes=r,Di(e,s=>this.processProvider(s)),this.records.set(dC,Yl(void 0,this)),r.has("environment")&&this.records.set(Co,Yl(void 0,this));const i=this.records.get(Am);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Dm,vt,Ke.Self))}retrieve(e,t){const o=t;return this.get(e,o.optional?ka:Ba,o)}destroy(){lo(this),this._destroyed=!0;const e=he(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of t)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return lo(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){lo(this);const t=Us(this),o=Yn(void 0);try{return e()}finally{Us(t),Yn(o)}}get(e,t=Ba,o=Ke.Default){if(lo(this),e.hasOwnProperty(Tu))return e[Tu](this);o=Ws(o);const i=Us(this),s=Yn(void 0);try{if(!(o&Ke.SkipSelf)){let c=this.records.get(e);if(void 0===c){const d=function Du(n){return"function"==typeof n||"object"==typeof n&&n instanceof de}(e)&&La(e);c=d&&this.injectableDefInScope(d)?Yl(Om(e),Rf):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c,o)}const a=o&Ke.Self?ja():this.parent;return t=o&Ke.Optional&&t===Ba?null:t,a.get(e,t)}catch(a){if("NullInjectorError"===a.name){if((a[An]=a[An]||[]).unshift(wn(e)),i)throw a;return rM(a,e,"R3InjectorError",this.source)}throw a}finally{Yn(s),Us(i)}}resolveInjectorInitializers(){const e=he(null),t=Us(this),o=Yn(void 0);try{const i=this.get(Fn,vt,Ke.Self);for(const s of i)s()}finally{Us(t),Yn(o),he(e)}}toString(){const e=[],t=this.records;for(const o of t.keys())e.push(wn(o));return`R3Injector[${e.join(", ")}]`}processProvider(e){let t=Qs(e=Ue(e))?e:Ue(e&&e.provide);const o=function Pm(n){if(km(n))return Yl(void 0,n.useValue);return Yl(Js(n),Rf)}(e);if(!Qs(e)&&!0===e.multi){let r=this.records.get(t);r||(r=Yl(void 0,Rf,!0),r.factory=()=>Ua(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,o)}hydrate(e,t,o){const r=he(null);try{return t.value===Lf?$l(wn(e)):t.value===Rf&&(t.value=Lf,t.value=t.factory(void 0,o)),"object"==typeof t.value&&t.value&&function _C(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{he(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Ue(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Om(n){const e=La(n),t=null!==e?e.factory:Ys(n);if(null!==t)return t;if(n instanceof de)throw new J(204,!1);if(n instanceof Function)return function ss(n){if(n.length>0)throw new J(204,!1);const t=function H(n){return n&&(n[je]||n[Cn])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new J(204,!1)}function Js(n,e,t){let o;if(Qs(n)){const r=Ue(n);return Ys(r)||Om(r)}if(km(n))o=()=>Ue(n.useValue);else if(gC(n))o=()=>n.useFactory(...Ua(n.deps||[]));else if(hC(n))o=(r,i)=>L(Ue(n.useExisting),void 0!==i&&i&Ke.Optional?Ke.Optional:void 0);else{const r=Ue(n&&(n.useClass||n.provide));if(!function mC(n){return!!n.deps}(n))return Ys(r)||Om(r);o=()=>new r(...Ua(n.deps))}return o}function lo(n){if(n.destroyed)throw new J(205,!1)}function Yl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Di(n,e){for(const t of n)Array.isArray(t)?Di(t,e):t&&bm(t)?Di(t.\u0275providers,e):e(t)}function Xl(n,e){let t;n instanceof Zs?(lo(n),t=n):t=new Sn(n);const r=Us(t),i=Yn(void 0);try{return e()}finally{Us(r),Yn(i)}}function Fm(){return void 0!==Iu()||null!=gu()}function xr(n){if(!Fm())throw new J(-203,!1)}var $a,Nm,Ln;function pn(n){const e=en.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}!function(n){n[n.Directive=0]="Directive",n[n.Component=1]="Component",n[n.Injectable=2]="Injectable",n[n.Pipe=3]="Pipe",n[n.NgModule=4]="NgModule"}($a||($a={})),function(n){n[n.Directive=0]="Directive",n[n.Pipe=1]="Pipe",n[n.NgModule=2]="NgModule"}(Nm||(Nm={})),function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Ln||(Ln={}));const Rm={\u0275\u0275defineInjectable:F,\u0275\u0275defineInjector:Ro,\u0275\u0275inject:L,\u0275\u0275invalidFactoryDep:Af,resolveForwardRef:Ue},xi=Function;function Ga(n){return"function"==typeof n}const Vf=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,za=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,vC=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,So=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class dM{_reflect;constructor(e){this._reflect=e||en.Reflect}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let o;o=Pf(typeof e>"u"?t.length:e.length);for(let r=0;r<o.length;r++)typeof e>"u"?o[r]=[]:e[r]&&e[r]!=Object?o[r]=[e[r]]:o[r]=[],t&&null!=t[r]&&(o[r]=o[r].concat(t[r]));return o}_ownParameters(e,t){if(function Lm(n){return Vf.test(n)||So.test(n)||za.test(n)&&!vC.test(n)}(e.toString()))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const r=e.ctorParameters;if(r&&r!==t.ctorParameters){const a="function"==typeof r?r():r,c=a.map(f=>f&&f.type),d=a.map(f=>f&&Vm(f.decorators));return this._zipTypesAndAnnotations(c,d)}const i=e.hasOwnProperty(oi)&&e[oi],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return s||i?this._zipTypesAndAnnotations(s,i):Pf(e.length)}parameters(e){if(!Ga(e))return[];const t=Bf(e);let o=this._ownParameters(e,t);return!o&&t!==Object&&(o=this.parameters(t)),o||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let o=e.annotations;return"function"==typeof o&&o.annotations&&(o=o.annotations),o}return e.decorators&&e.decorators!==t.decorators?Vm(e.decorators):e.hasOwnProperty(ns)?e[ns]:null}annotations(e){if(!Ga(e))return[];const t=Bf(e),o=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(o)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let o=e.propMetadata;return"function"==typeof o&&o.propMetadata&&(o=o.propMetadata),o}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const o=e.propDecorators,r={};return Object.keys(o).forEach(i=>{r[i]=Vm(o[i])}),r}return e.hasOwnProperty(Ll)?e[Ll]:null}propMetadata(e){if(!Ga(e))return{};const t=Bf(e),o={};if(t!==Object){const i=this.propMetadata(t);Object.keys(i).forEach(s=>{o[s]=i[s]})}const r=this._ownPropMetadata(e,t);return r&&Object.keys(r).forEach(i=>{const s=[];o.hasOwnProperty(i)&&s.push(...o[i]),s.push(...r[i]),o[i]=s}),o}ownPropMetadata(e){return Ga(e)&&this._ownPropMetadata(e,Bf(e))||{}}hasLifecycleHook(e,t){return e instanceof xi&&t in e.prototype}}function Vm(n){return n?n.map(e=>new(0,e.type.annotationCls)(...e.args?e.args:[])):[]}function Bf(n){const e=n.prototype?Object.getPrototypeOf(n.prototype):null;return(e?e.constructor:null)||Object}function De(n){return Array.isArray(n)&&"object"==typeof n[1]}function Rn(n){return Array.isArray(n)&&!0===n[1]}function Hm(n){return!!(4&n.flags)}function To(n){return n.componentOffset>-1}function xu(n){return!(1&~n.flags)}function ir(n){return!!n.template}function as(n){return!!(512&n[2])}function kr(n){return!(256&~n[2])}class vM{previousValue;currentValue;firstChange;constructor(e,t,o){this.previousValue=e,this.currentValue=t,this.firstChange=o}isFirstChange(){return this.firstChange}}function IC(n,e,t,o){null!==e?e.applyValueToInputSignal(e,o):n[t]=o}const ta=(()=>{const n=()=>$m;return n.ngInherit=!0,n})();function $m(n){return n.type.prototype.ngOnChanges&&(n.setInput=yM),EC}function EC(){const n=zm(this),e=n?.current;if(e){const t=n.previous;if(t===ri)n.previous=e;else for(let o in e)t[o]=e[o];n.current=null,this.ngOnChanges(e)}}function yM(n,e,t,o,r){const i=this.declaredInputs[o],s=zm(n)||function Vo(n,e){return n[Gm]=e}(n,{previous:ri,current:null}),a=s.current||(s.current={}),c=s.previous,d=c[i];a[i]=new vM(d&&d.currentValue,t,c===ri),IC(n,e,r,t)}const Gm="__ngSimpleChanges__";function zm(n){return n[Gm]||null}let Or=null;const St=function(n,e=null,t){Or?.(n,e,t)};function lt(n){for(;Array.isArray(n);)n=n[0];return n}function Gf(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}function tc(n,e){return lt(e[n])}function uo(n,e){return lt(e[n.index])}function li(n,e){return n.data[e]}function Ja(n,e){return n[e]}function zf(n,e,t,o){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=o}function fo(n,e){const t=e[n];return De(t)?t:t[0]}function qf(n){return!(128&~n[2])}function Bo(n,e){return null==e?null:n[e]}function Ou(n){n[17]=0}function Wm(n){1024&n[2]||(n[2]|=1024,qf(n)&&oa(n))}function qm(n,e){for(;n>0;)e=e[14],n--;return e}function na(n){return!!(9216&n[2]||n[24]?.dirty)}function Xf(n){n[10].changeDetectionScheduler?.notify(8),64&n[2]&&(n[2]|=1024),na(n)&&oa(n)}function oa(n){n[10].changeDetectionScheduler?.notify(0);let e=Xn(n);for(;null!==e&&!(8192&e[2])&&(e[2]|=8192,qf(e));)e=Xn(e)}function Qf(n,e){if(kr(n))throw new J(911,!1);null===n[21]&&(n[21]=[]),n[21].push(e)}function Zf(n,e){if(null===n[21])return;const t=n[21].indexOf(e);-1!==t&&n[21].splice(t,1)}function Xn(n){const e=n[3];return Rn(e)?e[3]:e}function Jf(n){return n[7]??=[]}function Kf(n){return n.cleanup??=[]}const He={lFrame:r_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Pu;!function(n){n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews"}(Pu||(Pu={}));let ci=!1;function oc(){return He.bindingsEnabled}function Pr(){return null!==He.skipHydrationRootTNode}function U(){return He.lFrame.lView}function Le(){return He.lFrame.tView}function _e(n){return He.lFrame.contextLView=n,n[8]}function Me(n){return He.lFrame.contextLView=null,n}function tt(){let n=Km();for(;null!==n&&64===n.type;)n=n.parent;return n}function Km(){return He.lFrame.currentTNode}function Fu(){const n=He.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Fr(n,e){const t=He.lFrame;t.currentTNode=n,t.isParent=e}function e_(){return He.lFrame.isParent}function t_(){He.lFrame.isParent=!1}function MC(){return He.lFrame.contextLView}function DC(){return ci}function rc(n){const e=ci;return ci=n,e}function Io(){const n=He.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function cs(){return He.lFrame.bindingIndex}function ic(n){return He.lFrame.bindingIndex=n}function ar(){return He.lFrame.bindingIndex++}function Ai(n){const e=He.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function xC(n){He.lFrame.inI18n=n}function TM(n,e){const t=He.lFrame;t.bindingIndex=t.bindingRootIndex=n,nh(e)}function nh(n){He.lFrame.currentDirectiveIndex=n}function oh(n){const e=He.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function n_(){return He.lFrame.currentQueryIndex}function sc(n){He.lFrame.currentQueryIndex=n}function kC(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[5]:null}function ac(n,e,t){if(t&Ke.SkipSelf){let r=e,i=n;for(;(r=r.parent,null===r&&!(t&Ke.Host))&&(r=kC(i),!(null===r||(i=i[14],10&r.type))););if(null===r)return!1;e=r,n=i}const o=He.lFrame=o_();return o.currentTNode=e,o.lView=n,!0}function Nu(n){const e=o_(),t=n[1];He.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function o_(){const n=He.lFrame,e=null===n?null:n.child;return null===e?r_(n):e}function r_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Ru(){const n=He.lFrame;return He.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const i_=Ru;function Nr(){const n=Ru();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Qn(){return He.lFrame.selectedIndex}function ia(n){He.lFrame.selectedIndex=n}function xt(){const n=He.lFrame;return li(n.tView,n.selectedIndex)}function lc(){He.lFrame.currentNamespace="svg"}function AC(){return He.lFrame.currentNamespace}let OC=!0;function Lu(){return OC}function Oi(n){OC=n}function s_(n,e){for(let t=e.directiveStart,o=e.directiveEnd;t<o;t++){const i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:f}=i;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),null!=f&&(n.destroyHooks??=[]).push(t,f)}}function Vu(n,e,t){PC(n,e,3,t)}function Bu(n,e,t,o){(3&n[2])===t&&PC(n,e,t,o)}function rh(n,e){let t=n[2];(3&t)===e&&(t&=16383,t+=1,n[2]=t)}function PC(n,e,t,o){const r=void 0!==o?65535&n[17]:0,i=o??-1,s=e.length-1;let a=0;for(let c=r;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=o&&a>=o)break}else e[c]<0&&(n[17]+=65536),(a<i||-1==i)&&(kM(n,t,e,c),n[17]=(4294901760&n[17])+c+2),c++}function FC(n,e){St(4,n,e);const t=he(null);try{e.call(n)}finally{he(t),St(5,n,e)}}function kM(n,e,t,o){const r=t[o]<0,i=t[o+1],a=n[r?-t[o]:t[o]];r?n[2]>>14<n[17]>>16&&(3&n[2])===e&&(n[2]+=16384,FC(a,i)):FC(a,i)}class Uu{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,o){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=o}}function l_(n){return null!=n&&"object"==typeof n&&(null===n.insertBeforeIndex||"number"==typeof n.insertBeforeIndex||Array.isArray(n.insertBeforeIndex))}function NC(n){return 3===n||4===n||6===n}function c_(n){return 64===n.charCodeAt(0)}function cc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let o=0;o<e.length;o++){const r=e[o];"number"==typeof r?t=r:0===t||RC(n,t,r,null,-1===t||2===t?e[++o]:null)}}return n}function RC(n,e,t,o,r){let i=0,s=n.length;if(-1===e)s=-1;else for(;i<n.length;){const a=n[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<n.length;){const a=n[i];if("number"==typeof a)break;if(a===t)return void(null!==r&&(n[i+1]=r));i++,null!==r&&i++}-1!==s&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),null!==r&&n.splice(i++,0,r)}function u_(n){return-1!==n}function Hu(n){return 32767&n}function ju(n,e){let t=function d_(n){return n>>16}(n),o=e;for(;t>0;)o=o[14],t--;return o}let f_=!0;function ih(n){const e=f_;return f_=n,e}let NM=0;const Pi={};function sh(n,e){const t=BC(n,e);if(-1!==t)return t;const o=e[1];o.firstCreatePass&&(n.injectorIndex=e.length,h_(o.data,n),h_(e,null),h_(o.blueprint,null));const r=ah(n,e),i=n.injectorIndex;if(u_(r)){const s=Hu(r),a=ju(r,e),c=a[1].data;for(let d=0;d<8;d++)e[i+d]=a[s+d]|c[s+d]}return e[i+8]=r,i}function h_(n,e){n.push(0,0,0,0,0,0,0,0,e)}function BC(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function ah(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,o=null,r=e;for(;null!==r;){if(o=$u(r),null===o)return-1;if(t++,r=r[14],-1!==o.injectorIndex)return o.injectorIndex|t<<16}return-1}function g_(n,e,t){!function RM(n,e,t){let o;"string"==typeof t?o=t.charCodeAt(0)||0:t.hasOwnProperty(jl)&&(o=t[jl]),null==o&&(o=t[jl]=NM++);const r=255&o,i=1<<r;e.data[n+(r>>5)]|=i}(n,e,t)}function UC(n,e,t){if(t&Ke.Optional||void 0!==n)return n;Sm()}function HC(n,e,t,o){if(t&Ke.Optional&&void 0===o&&(o=null),!(t&(Ke.Self|Ke.Host))){const r=n[9],i=Yn(void 0);try{return r?r.get(e,o,t&Ke.Optional):kf(e,o,t&Ke.Optional)}finally{Yn(i)}}return UC(o,0,t)}function jC(n,e,t,o=Ke.Default,r){if(null!==n){if(2048&e[2]&&!(o&Ke.Self)){const s=function HM(n,e,t,o,r){let i=n,s=e;for(;null!==i&&null!==s&&2048&s[2]&&!as(s);){const a=$C(i,s,t,o|Ke.Self,Pi);if(a!==Pi)return a;let c=i.parent;if(!c){const d=s[20];if(d){const f=d.get(t,Pi,o);if(f!==Pi)return f}c=$u(s),s=s[14]}i=c}return r}(n,e,t,o,Pi);if(s!==Pi)return s}const i=$C(n,e,t,o,Pi);if(i!==Pi)return i}return HC(e,t,o,r)}function $C(n,e,t,o,r){const i=function BM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(jl)?n[jl]:void 0;return"number"==typeof e?e>=0?255&e:UM:e}(t);if("function"==typeof i){if(!ac(e,n,o))return o&Ke.Host?UC(r,0,o):HC(e,t,o,r);try{let s;if(s=i(o),null!=s||o&Ke.Optional)return s;Sm()}finally{i_()}}else if("number"==typeof i){let s=null,a=BC(n,e),c=-1,d=o&Ke.Host?e[15][5]:null;for((-1===a||o&Ke.SkipSelf)&&(c=-1===a?ah(n,e):e[a+8],-1!==c&&zC(o,!1)?(s=e[1],a=Hu(c),e=ju(c,e)):a=-1);-1!==a;){const f=e[1];if(GC(i,a,f.data)){const p=VM(a,e,t,s,o,d);if(p!==Pi)return p}c=e[a+8],-1!==c&&zC(o,e[1].data[a+8]===d)&&GC(i,a,e)?(s=f,a=Hu(c),e=ju(c,e)):a=-1}}return r}function VM(n,e,t,o,r,i){const s=e[1],a=s.data[n+8],f=uc(a,s,t,null==o?To(a)&&f_:o!=s&&!!(3&a.type),r&Ke.Host&&i===a);return null!==f?dc(e,s,f,a,r):Pi}function uc(n,e,t,o,r){const i=n.providerIndexes,s=e.data,a=1048575&i,c=n.directiveStart,d=n.directiveEnd,f=i>>20,y=r?a+f:d;for(let m=o?a:a+f;m<y;m++){const b=s[m];if(m<c&&t===b||m>=c&&b.type===t)return m}if(r){const m=s[c];if(m&&ir(m)&&m.type===t)return c}return null}function dc(n,e,t,o,r){let i=n[t];const s=e.data;if(i instanceof Uu){const a=i;a.resolving&&$l(_t(s[t]));const c=ih(a.canSeeViewProviders);a.resolving=!0;const f=a.injectImpl?Yn(a.injectImpl):null;ac(n,o,Ke.Default);try{i=n[t]=a.factory(void 0,r,s,n,o),e.firstCreatePass&&t>=o.directiveStart&&function xM(n,e,t){const{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(o){const s=$m(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),i&&((t.preOrderHooks??=[]).push(n,i),(t.preOrderCheckHooks??=[]).push(n,i))}(t,s[t],e)}finally{null!==f&&Yn(f),ih(c),a.resolving=!1,i_()}}return i}function GC(n,e,t){const o=1<<n;return!!(t[e+(n>>5)]&o)}function zC(n,e){return!(n&Ke.Self||n&Ke.Host&&e)}class un{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,o){return jC(this._tNode,this._lView,e,Ws(o),t)}}function UM(){return new un(tt(),U())}function rt(n){return Ti(()=>{const e=n.prototype.constructor,t=e[Dr]||lh(e),o=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==o;){const i=r[Dr]||lh(r);if(i&&i!==t)return i;r=Object.getPrototypeOf(r)}return i=>new i})}function lh(n){return Df(n)?()=>{const e=lh(Ue(n));return e&&e()}:Ys(n)}function $u(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[5]:null}function ch(n){return function LM(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const o=t.length;let r=0;for(;r<o;){const i=t[r];if(NC(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<o&&"string"==typeof t[r];)r++;else{if(i===e)return t[r+1];r+=2}}}return null}(tt(),n)}const jM=Gs("Attribute",n=>({attributeName:n,__NG_ELEMENT_ID__:()=>ch(n)}));let WC=null;function p_(){return WC=WC||new dM}function uh(n){return qC(p_().parameters(n))}function qC(n){return n.map(e=>function $M(n){const e={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(n)&&n.length>0)for(let t=0;t<n.length;t++){const o=n[t];if(void 0===o)continue;const r=Object.getPrototypeOf(o);if(o instanceof Of||"Optional"===r.ngMetadataName)e.optional=!0;else if(o instanceof Wl||"SkipSelf"===r.ngMetadataName)e.skipSelf=!0;else if(o instanceof aM||"Self"===r.ngMetadataName)e.self=!0;else if(o instanceof Eu||"Host"===r.ngMetadataName)e.host=!0;else if(o instanceof sM)e.token=o.token;else if(o instanceof jM){if(void 0===o.attributeName)throw new J(204,!1);e.attribute=o.attributeName}else e.token=o}else void 0===n||Array.isArray(n)&&0===n.length?e.token=null:e.token=n;return e}(e))}function GM(n,e){let t=null,o=null;n.hasOwnProperty(je)||Object.defineProperty(n,je,{get:()=>(null===t&&(t=pn().compileInjectable(Rm,`ng:///${n.name}/\u0275prov.js`,function YM(n,e){const t=e||{providedIn:null},o={name:n.name,type:n,typeArgumentCount:0,providedIn:t.providedIn};return(YC(t)||XC(t))&&void 0!==t.deps&&(o.deps=qC(t.deps)),YC(t)?o.useClass=t.useClass:function WM(n){return zM in n}(t)?o.useValue=t.useValue:XC(t)?o.useFactory=t.useFactory:function qM(n){return void 0!==n.useExisting}(t)&&(o.useExisting=t.useExisting),o}(n,e))),t)}),n.hasOwnProperty(Dr)||Object.defineProperty(n,Dr,{get:()=>{if(null===o){const r=pn();o=r.compileFactory(Rm,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,typeArgumentCount:0,deps:uh(n),target:r.FactoryTarget.Injectable})}return o},configurable:!0})}const zM=yt({provide:String,useValue:yt});function YC(n){return void 0!==n.useClass}function XC(n){return void 0!==n.useFactory}Vl("Injectable",void 0,void 0,0,(n,e)=>GM(n,e));function QC(n,e=null,t=null,o){const r=m_(n,e,t,o);return r.resolveInjectorInitializers(),r}function m_(n,e=null,t=null,o,r=new Set){const i=[t||vt,cM(n)];return o=o||("object"==typeof n?void 0:wn(n)),new Zs(i,e||ja(),o||null,r)}class We{static THROW_IF_NOT_FOUND=Ba;static NULL=new Ff;static create(e,t){if(Array.isArray(e))return QC({name:""},t,e,"");{const o=e.name??"";return QC({name:o},e.parent,e.providers,o)}}static \u0275prov=F({token:We,providedIn:"any",factory:()=>L(dC)});static __NG_ELEMENT_ID__=-1}new de("").__NG_ELEMENT_ID__=n=>{const e=tt();if(null===e)throw new J(204,!1);if(2&e.type)return e.value;if(n&Ke.Optional)return null;throw new J(204,!1)};const ZC=!1;class Bn{static __NG_ELEMENT_ID__=QM;static __NG_ENV_ID__=e=>e}class JC extends Bn{_lView;constructor(e){super(),this._lView=e}onDestroy(e){const t=this._lView;return kr(t)?(e(),()=>{}):(Qf(t,e),()=>Zf(t,e))}}function QM(){return new JC(U())}class us{}const Gu=new de("",{providedIn:"root",factory:()=>!1}),KC=(new de("",{providedIn:"root",factory:()=>!1}),new de("")),__=new de("");class Rr{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Hs(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=F({token:Rr,providedIn:"root",factory:()=>new Rr})}class zu{internalPendingTasks=C(Rr);scheduler=C(us);add(){const e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){var t=this;return g(function*(){const o=t.add();try{return yield e()}finally{o()}})()}static \u0275prov=F({token:zu,providedIn:"root",factory:()=>new zu})}const Pt=class ZM extends gn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Fm()&&(this.destroyRef=C(Bn,{optional:!0})??void 0,this.pendingTasks=C(Rr,{optional:!0})??void 0)}emit(e){const t=he(null);try{super.next(e)}finally{he(t)}}subscribe(e,t,o){let r=e,i=t||(()=>null),s=o;if(e&&"object"==typeof e){const c=e;r=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:r,error:i,complete:s});return e instanceof bn&&e.add(a),a}wrapInTimeout(e){return t=>{const o=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{void 0!==o&&this.pendingTasks?.remove(o)}})}}};function aa(...n){}function eS(n){let e,t;function o(){n=aa;try{void 0!==t&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(t),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),o()}),"function"==typeof requestAnimationFrame&&(t=requestAnimationFrame(()=>{n(),o()})),()=>o()}function v_(n){return queueMicrotask(()=>n()),()=>{n=aa}}const Wu="isAngularZone",qu=Wu+"_ID";let tS=0;class ft{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Pt(!1);onMicrotaskEmpty=new Pt(!1);onStable=new Pt(!1);onError=new Pt(!1);constructor(e){const{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:i=ZC}=e;if(typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&o,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=i,function eD(n){const e=()=>{!function KM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;function e(){eS(()=>{n.callbackScheduled=!1,fc(n),n.isCheckStableRunning=!0,y_(n),n.isCheckStableRunning=!1})}n.callbackScheduled=!0,n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),fc(n)}(n)},t=tS++;n._inner=n._inner.fork({name:"angular",properties:{[Wu]:!0,[qu]:t,[qu+t]:!0},onInvokeTask:(o,r,i,s,a,c)=>{if(function w_(n){return iS(n,"__ignore_ng_zone__")}(c))return o.invokeTask(i,s,a,c);try{return Yu(n),o.invokeTask(i,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),oS(n)}},onInvoke:(o,r,i,s,a,c,d)=>{try{return Yu(n),o.invoke(i,s,a,c,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!function rS(n){return iS(n,"__scheduler_tick__")}(c)&&e(),oS(n)}},onHasTask:(o,r,i,s)=>{o.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,fc(n),y_(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,r,i,s)=>(o.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Wu)}static assertInAngularZone(){if(!ft.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(ft.isInAngularZone())throw new J(909,!1)}run(e,t,o){return this._inner.run(e,t,o)}runTask(e,t,o,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,e,nS,aa,aa);try{return i.runTask(s,t,o)}finally{i.cancelTask(s)}}runGuarded(e,t,o){return this._inner.runGuarded(e,t,o)}runOutsideAngular(e){return this._outer.run(e)}}const nS={};function y_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function fc(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&!0===n.callbackScheduled?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Yu(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function oS(n){n._nesting--,y_(n)}class b_{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Pt;onMicrotaskEmpty=new Pt;onStable=new Pt;onError=new Pt;run(e,t,o){return e.apply(t,o)}runGuarded(e,t,o){return e.apply(t,o)}runOutsideAngular(e){return e()}runTask(e,t,o,r){return e.apply(t,o)}}function iS(n,e){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0]?.data?.[e]}class di{_console=console;handleError(e){this._console.error("ERROR",e)}}const nD=new de("",{providedIn:"root",factory:()=>{const n=C(ft),e=C(di);return t=>n.runOutsideAngular(()=>e.handleError(t))}});class sS{destroyed=!1;listeners=null;errorHandler=C(di,{optional:!0});destroyRef=C(Bn);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new J(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{const t=this.listeners?.indexOf(e);void 0!==t&&-1!==t&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed)return void console.warn(ts(953,!1));if(null===this.listeners)return;const t=he(null);try{for(const o of this.listeners)try{o(e)}catch(r){this.errorHandler?.handleError(r)}}finally{he(t)}}}function tn(n){return new sS}function aS(n,e){return nC(n,e)}const v=(aS.required=function oD(n){return nC(Rl,n)},aS);function rD(){return hc(tt(),U())}function hc(n,e){return new ct(uo(n,e))}class ct{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=rD}function lS(n){return n instanceof ct?n.nativeElement:n}function C_(n){return"function"==typeof n&&void 0!==n[be]}function ue(n,e){const t=function mE(n,e){const t=Object.create(xa);t.value=n,void 0!==e&&(t.equal=e);const o=()=>(so(t),t.value);return o[be]=t,o}(n,e?.equal),o=t[be];return t.set=r=>Bs(o,r),t.update=r=>Mw(o,r),t.asReadonly=dh.bind(t),t}function dh(){const n=this[be];if(void 0===n.readonlyFn){const e=()=>this();e[be]=n,n.readonlyFn=e}return n.readonlyFn}function Eo(n){return C_(n)&&"function"==typeof n.set}function mn(){return this._results[Symbol.iterator]()}class iD{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new gn}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const o=On(e);(this._changesDetected=!function S(n,e,t){if(n.length!==e.length)return!1;for(let o=0;o<n.length;o++){let r=n[o],i=e[o];if(t&&(r=t(r),i=t(i)),i!==r)return!1}return!0}(this._results,o,t))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=mn}function Xu(n){return!(128&~n.flags)}var pc;!function(n){n[n.OnPush=0]="OnPush",n[n.Default=1]="Default"}(pc||(pc={}));const Vr=new Map;let uS=0;function gh(n){Vr.delete(n[19])}const I_="__ngContext__";function Mo(n,e){De(e)?(n[I_]=e[19],function nn(n){Vr.set(n[19],n)}(e)):n[I_]=e}function Fi(n){return E_(n[12])}function Ye(n){return E_(n[4])}function E_(n){for(;null!==n&&!Rn(n);)n=n[4];return n}let D_;function Ni(){if(void 0!==D_)return D_;if(typeof document<"u")return document;throw new J(210,!1)}const fs=new de("",{providedIn:"root",factory:()=>bD}),bD="ng",Ku=new de(""),mh=new de("",{providedIn:"platform",factory:()=>"unknown"}),wD=(new de(""),new de("")),x_=new de("",{providedIn:"root",factory:()=>Ni().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),CD={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Un=new de("",{providedIn:"root",factory:()=>CD});function SD(){const n=new hs;return n.store=function TD(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(o){console.warn("Exception while restoring TransferState for app "+e,o)}return{}}(Ni(),C(fs)),n}class hs{static \u0275prov=F({token:hs,providedIn:"root",factory:SD});store={};onSerializeCallbacks={};get(e,t){return void 0!==this.store[e]?this.store[e]:t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const e in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(e))try{this.store[e]=this.onSerializeCallbacks[e]()}catch(t){console.warn("Exception in onSerialize callback: ",t)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}const gs="r",IS=(new de(""),new de("",{providedIn:"root",factory:()=>false})),MS=(new de(""),new de(""),new de(""));new de("",{providedIn:"root",factory:()=>new Map});var Sh;!function(n){n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER"}(Sh||(Sh={}));const _c=new de(""),DS=new Set;function ur(n){DS.has(n)||(DS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}class Th{view;node;constructor(e,t){this.view=e,this.node=t}static __NG_ELEMENT_ID__=ID}function ID(){return new Th(U(),tt())}var rl;!function(n){n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read"}(rl||(rl={}));class vc{impl=null;execute(){this.impl?.execute()}static \u0275prov=F({token:vc,providedIn:"root",factory:()=>new vc})}const xS=[rl.EarlyRead,rl.Write,rl.MixedReadWrite,rl.Read];class od{ngZone=C(ft);scheduler=C(us);errorHandler=C(di,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){C(_c,{optional:!0})}execute(){const e=this.sequences.size>0;e&&St(16),this.executing=!0;for(const t of xS)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[t])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>(0,o.hooks[t])(o.pipelinedValue),o.snapshot))}catch(r){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(const t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&St(17)}register(e){const{view:t}=e;void 0!==t?((t[25]??=[]).push(e),oa(t),t[2]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,t){return t?t.run(Sh.AFTER_NEXT_RENDER,e):e()}static \u0275prov=F({token:od,providedIn:"root",factory:()=>new od})}class kS{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,o,r,i,s=null){this.impl=e,this.hooks=t,this.view=o,this.once=r,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();const e=this.view?.[25];e&&(this.view[25]=e.filter(t=>t!==this))}}function AS(n,e){!e?.injector&&xr();const t=e?.injector??C(We);return ur("NgAfterRender"),OS(n,t,e,!1)}function L_(n,e){!e?.injector&&xr();const t=e?.injector??C(We);return ur("NgAfterNextRender"),OS(n,t,e,!0)}function OS(n,e,t,o){const r=e.get(vc);r.impl??=e.get(od);const i=e.get(_c,null,{optional:!0}),s=t?.phase??rl.MixedReadWrite,a=!0!==t?.manualCleanup?e.get(Bn):null,c=e.get(Th,null,{optional:!0}),d=new kS(r.impl,function ED(n,e){if(n instanceof Function){const t=[void 0,void 0,void 0,void 0];return t[e]=n,t}return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}(n,s),c?.view,o,a,i?.snapshot(null));return r.impl.register(d),d}var dn;!function(n){n[n.NOT_STARTED=0]="NOT_STARTED",n[n.IN_PROGRESS=1]="IN_PROGRESS",n[n.COMPLETE=2]="COMPLETE",n[n.FAILED=3]="FAILED"}(dn||(dn={}));var It,il;!function(n){n[n.Placeholder=0]="Placeholder",n[n.Loading=1]="Loading",n[n.Complete=2]="Complete",n[n.Error=3]="Error"}(It||(It={})),function(n){n[n.Initial=-1]="Initial"}(il||(il={}));var ho;function sl(n,e,t){const o=NS(n);null===e[o]&&(e[o]=[]),e[o].push(t)}function Mh(n,e){const t=NS(n),o=e[t];if(null!==o){for(const r of o)r();e[t]=null}}function FS(n){Mh(1,n),Mh(0,n),Mh(2,n)}function NS(n){let e=4;return 1===n?e=5:2===n&&(e=9),e}function rd(n){return n+1}function Zn(n,e){n[1];return n[rd(e.index)]}function Tn(n,e){const t=rd(e.index);return n.data[t]}function V_(n,e){return e===It.Placeholder?n.placeholderBlockConfig?.[0]??null:e===It.Loading?n.loadingBlockConfig?.[0]??null:null}function RS(n){return n.loadingBlockConfig?.[1]??null}function B_(n,e){if(!n||0===n.length)return e;const t=new Set(n);for(const o of e)t.add(o);return n.length===t.size?n:Array.from(t)}!function(n){n[n.Manual=0]="Manual",n[n.Playthrough=1]="Playthrough"}(ho||(ho={}));const Dh={passive:!0,capture:!0},H_=new WeakMap,j_=new WeakMap,wc=new WeakMap,xh=["click","keydown"],kh=["mouseenter","mouseover","focusin"];let Cc=null,$_=0;class G_{callbacks=new Set;listener=()=>{for(const e of this.callbacks)e()}}function BS(n,e){let t=j_.get(n);if(!t){t=new G_,j_.set(n,t);for(const o of xh)n.addEventListener(o,t.listener,Dh)}return t.callbacks.add(e),()=>{const{callbacks:o,listener:r}=t;if(o.delete(e),0===o.size){j_.delete(n);for(const i of xh)n.removeEventListener(i,r,Dh)}}}function US(n,e){let t=H_.get(n);if(!t){t=new G_,H_.set(n,t);for(const o of kh)n.addEventListener(o,t.listener,Dh)}return t.callbacks.add(e),()=>{const{callbacks:o,listener:r}=t;if(o.delete(e),0===o.size){for(const i of kh)n.removeEventListener(i,r,Dh);H_.delete(n)}}}function z_(n,e,t){const o=t.get(ft);let r=wc.get(n);return Cc=Cc||o.runOutsideAngular(()=>new IntersectionObserver(i=>{for(const s of i)s.isIntersecting&&wc.has(s.target)&&o.run(wc.get(s.target).listener)})),r||(r=new G_,o.runOutsideAngular(()=>Cc.observe(n)),wc.set(n,r),$_++),r.callbacks.add(e),()=>{wc.has(n)&&(r.callbacks.delete(e),0===r.callbacks.size&&(Cc?.unobserve(n),wc.delete(n),$_--),0===$_&&(Cc?.disconnect(),Cc=null))}}function Sc(n,e,t,o,r,i,s){const a=n[9],c=a.get(ft);let d;d=AS({read:function f(){if(kr(n))return void d.destroy();const p=Zn(n,e),y=p[1];if(y!==il.Initial&&y!==It.Placeholder)return void d.destroy();const m=function ND(n,e,t){return null==t?n:t>=0?qm(t,n):n[e.index][10]??null}(n,e,o);if(!m||(d.destroy(),kr(m)))return;const b=function RD(n,e){return tc(26+e,n)}(m,t),T=r(b,()=>{c.run(()=>{n!==m&&Zf(m,T),i()})},a);n!==m&&Qf(m,T),sl(s,p,T)}},{injector:a})}new de("",{providedIn:"root",factory:()=>({})});let I=(n,e,t,o)=>{};const N=new de("");const Ee="__nghDeferData__";let Re=()=>null;function jo(n,e,t=!1){return Re(n,e,t)}function go(n){let e=n._lView;return 2===e[1].type?null:(as(e)&&(e=e[26]),e)}var po;!function(n){n.Hydrated="hydrated",n.Skipped="skipped",n.Mismatched="mismatched"}(po||(po={}));function q_(n){return n.get(MS,!1,{optional:!0})}function VO(n,e){const t=n.contentQueries;if(null!==t){const o=he(null);try{for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const a=n.data[s];sc(i),a.contentQueries(2,e[s],s)}}}finally{he(o)}}}function $D(n,e,t){sc(0);const o=he(null);try{e(n,t)}finally{he(o)}}function GD(n,e,t){if(Hm(e)){const o=he(null);try{const r=e.directiveStart,i=e.directiveEnd;for(let s=r;s<i;s++){const a=n.data[s];if(a.contentQueries){const c=t[s];a.contentQueries(1,c,s)}}}finally{he(o)}}}var Br;let zS,WS;function BO(){if(void 0===zS&&(zS=null,en.trustedTypes))try{zS=en.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zS}function Oh(n){return BO()?.createHTML(n)||n}function zD(){if(void 0===WS&&(WS=null,en.trustedTypes))try{WS=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return WS}function UO(n){return zD()?.createHTML(n)||n}function HO(n){return zD()?.createScript(n)||n}function jO(n){return zD()?.createScriptURL(n)||n}!function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Br||(Br={}));class ad{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${$t})`}}class J3 extends ad{getTypeName(){return"HTML"}}class K3 extends ad{getTypeName(){return"Style"}}class ej extends ad{getTypeName(){return"Script"}}class tj extends ad{getTypeName(){return"URL"}}class nj extends ad{getTypeName(){return"ResourceURL"}}function fi(n){return n instanceof ad?n.changingThisBreaksApplicationSecurity:n}function ua(n,e){const t=function oj(n){return n instanceof ad&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${$t})`)}return t===e}function $O(n){const e=new uj(n);return function dj(){try{return!!(new window.DOMParser).parseFromString(Oh(""),"text/html")}catch{return!1}}()?new cj(e):e}class cj{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Oh(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}}class uj{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=Oh(e),t}}const fj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qS(n){return(n=String(n)).match(fj)?n:"unsafe:"+n}function al(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Y_(...n){const e={};for(const t of n)for(const o in t)t.hasOwnProperty(o)&&(e[o]=!0);return e}const GO=al("area,br,col,hr,img,wbr"),zO=al("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),WO=al("rp,rt"),hj=Y_(WO,zO),gj=Y_(zO,al("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pj=Y_(WO,al("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),WD=Y_(GO,gj,pj,hj),qD=al("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),mj=al("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_j=al("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),qO=Y_(qD,mj,_j),vj=al("script,style,template");class yj{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,o=!0,r=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?o=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,o&&t.firstChild)r.push(t),t=Cj(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=wj(t);if(i){t=i;break}t=r.pop()}return this.buf.join("")}startElement(e){const t=YO(e).toLowerCase();if(!WD.hasOwnProperty(t))return this.sanitizedSomething=!0,!vj.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const o=e.attributes;for(let r=0;r<o.length;r++){const i=o.item(r),s=i.name,a=s.toLowerCase();if(!qO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;qD[a]&&(c=qS(c)),this.buf.push(" ",s,'="',QO(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=YO(e).toLowerCase();WD.hasOwnProperty(t)&&!GO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(QO(e))}}function wj(n){const e=n.nextSibling;if(e&&n!==e.previousSibling)throw XO(e);return e}function Cj(n){const e=n.firstChild;if(e&&function bj(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(n,e))throw XO(e);return e}function YO(n){const e=n.nodeName;return"string"==typeof e?e:"FORM"}function XO(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}const Sj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tj=/([^\#-~ |!])/g;function QO(n){return n.replace(/&/g,"&amp;").replace(Sj,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(Tj,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let YS;function ZO(n,e){let t=null;try{YS=YS||$O(n);let o=e?String(e):"";t=YS.getInertBodyElement(o);let r=5,i=o;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,o=i,i=t.innerHTML,t=YS.getInertBodyElement(o)}while(o!==i);return Oh((new yj).sanitizeChildren(YD(t)||t))}finally{if(t){const o=YD(t)||t;for(;o.firstChild;)o.firstChild.remove()}}}function YD(n){return"content"in n&&function Ij(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var hi;function XS(n){const e=X_();return e?UO(e.sanitize(hi.HTML,n)||""):ua(n,"HTML")?UO(fi(n)):ZO(Ni(),Ge(n))}function XD(n){const e=X_();return e?e.sanitize(hi.URL,n)||"":ua(n,"URL")?fi(n):qS(Ge(n))}function JO(n){const e=X_();if(e)return jO(e.sanitize(hi.RESOURCE_URL,n)||"");if(ua(n,"ResourceURL"))return jO(fi(n));throw new J(904,!1)}function X_(){const n=U();return n&&n[10].sanitizer}!function(n){n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL"}(hi||(hi={}));const Oj=/^>|^->|<!--|-->|--!>|<!-$/g,Pj=/(<|>)/g;function KO(n){return n.replace(Oj,e=>e.replace(Pj,"\u200b$1\u200b"))}function oP(n){return n.ownerDocument}function rP(n){return n.ownerDocument.body}function da(n){return n instanceof Function?n():n}function Gj(n,e,t){let o=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const i=e.length;if(r+i===o||n.charCodeAt(r+i)<=32)return r}t=r+1}}const lP="ng-template";function zj(n,e,t,o){let r=0;if(o){for(;r<e.length&&"string"==typeof e[r];r+=2)if("class"===e[r]&&-1!==Gj(e[r+1].toLowerCase(),t,0))return!0}else if(JD(n))return!1;if(r=e.indexOf(1,r),r>-1){let i;for(;++r<e.length&&"string"==typeof(i=e[r]);)if(i.toLowerCase()===t)return!0}return!1}function JD(n){return 4===n.type&&n.value!==lP}function Wj(n,e,t){return e===(4!==n.type||t?n.value:lP)}function qj(n,e,t){let o=4;const r=n.attrs,i=null!==r?function Qj(n){for(let e=0;e<n.length;e++){if(NC(n[e]))return e}return n.length}(r):0;let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&o){if(o=2|1&o,""!==c&&!Wj(n,c,t)||""===c&&1===e.length){if(ms(o))return!1;s=!0}}else if(8&o){if(null===r||!zj(n,r,c,t)){if(ms(o))return!1;s=!0}}else{const d=e[++a],f=Yj(c,r,JD(n),t);if(-1===f){if(ms(o))return!1;s=!0;continue}if(""!==d){let p;if(p=f>i?"":r[f+1].toLowerCase(),2&o&&d!==p){if(ms(o))return!1;s=!0}}}}else{if(!s&&!ms(o)&&!ms(c))return!1;if(s&&ms(c))continue;s=!1,o=c|1&o}}return ms(o)||s}function ms(n){return!(1&n)}function Yj(n,e,t,o){if(null===e)return-1;let r=0;if(o||!t){let i=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=i?1:2}return-1}return function Zj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const o=n[t];if("number"==typeof o)return-1;if(o===e)return t;t++}return-1}(e,n)}function cP(n,e,t=!1){for(let o=0;o<e.length;o++)if(qj(n,e[o],t))return!0;return!1}function Jj(n,e){e:for(let t=0;t<e.length;t++){const o=e[t];if(n.length===o.length){for(let r=0;r<n.length;r++)if(n[r]!==o[r])continue e;return!0}}return!1}function uP(n,e){return n?":not("+e.trim()+")":e}function Kj(n){let e=n[0],t=1,o=2,r="",i=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&o){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&o?r+="."+s:4&o&&(r+=" "+s);else""!==r&&!ms(s)&&(e+=uP(i,r),r=""),o=s,i=i||!ms(o);t++}return""!==r&&(e+=uP(i,r)),e}const qe={};function KD(n,e){return n.createText(e)}function dP(n,e,t){n.setValue(e,t)}function ex(n,e){return n.createComment(KO(e))}function JS(n,e,t){return n.createElement(e,t)}function ld(n,e,t,o,r){n.insertBefore(e,t,o,r)}function fP(n,e,t){n.appendChild(e,t)}function hP(n,e,t,o,r){null!==o?ld(n,e,t,o,r):fP(n,e,t)}function Q_(n,e,t){n.removeChild(null,e,t)}function pP(n,e,t){const{mergedAttrs:o,classes:r,styles:i}=t;null!==o&&function FM(n,e,t){let o=0;for(;o<t.length;){const r=t[o];if("number"==typeof r){if(0!==r)break;o++;const i=t[o++],s=t[o++],a=t[o++];n.setAttribute(e,s,a,i)}else{const i=r,s=t[++o];c_(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),o++}}return o}(n,e,o),null!==r&&function o5(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}(n,e,r),null!==i&&function n5(n,e,t){n.setAttribute(e,"style",t)}(n,e,i)}function tx(n,e,t,o,r,i,s,a,c,d,f){const p=26+o,y=p+r,m=function r5(n,e){const t=[];for(let o=0;o<e;o++)t.push(o<n?null:qe);return t}(p,y),b="function"==typeof d?d():d;return m[1]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:f}}function mP(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=tx(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function KS(n,e,t,o,r,i,s,a,c,d,f){const p=e.blueprint.slice();return p[0]=r,p[2]=1228|o,(null!==d||n&&2048&n[2])&&(p[2]|=2048),Ou(p),p[3]=p[14]=n,p[8]=t,p[10]=s||n&&n[10],p[11]=a||n&&n[11],p[9]=c||n&&n[9]||null,p[5]=i,p[19]=function hh(){return uS++}(),p[6]=f,p[20]=d,p[15]=2==e.type?n[15]:p,p}function nx(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function Z_(n,e,t,o){if(0===t)return-1;const r=e.length;for(let i=0;i<t;i++)e.push(o),n.blueprint.push(o),n.data.push(null);return r}function ox(n,e){return n[12]?n[13][4]=e:n[12]=e,n[13]=e,e}function P(n=1){_P(Le(),U(),Qn()+n,!1)}function _P(n,e,t,o){if(!o)if(3&~e[2]){const i=n.preOrderHooks;null!==i&&Bu(e,i,0,t)}else{const i=n.preOrderCheckHooks;null!==i&&Vu(e,i,t)}ia(t)}var J_;function rx(n,e,t,o){const r=he(null);try{const[i,s,a]=n.inputs[t];let c=null;!!(s&J_.SignalBased)&&(c=e[i][be]),null!==c&&void 0!==c.transformFn?o=c.transformFn(o):null!==a&&(o=a.call(e,o)),null!==n.setInput?n.setInput(e,c,o,t,i):IC(e,c,i,o)}finally{he(r)}}function vP(n,e,t,o,r){const i=Qn(),s=2&o;try{ia(-1),s&&e.length>26&&_P(n,e,26,!1),St(s?2:0,r),t(o,r)}finally{ia(i),St(s?3:1,r)}}function eT(n,e,t){(function f5(n,e,t){const o=t.directiveStart,r=t.directiveEnd;To(t)&&function i5(n,e,t){const o=uo(e,n),r=mP(t),i=n[10].rendererFactory,s=ox(n,KS(n,r,null,nx(t),o,e,null,i.createRenderer(o,t),null,null,null));return n[e.index]=s}(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||sh(t,e);const i=t.initialInputs;for(let s=o;s<r;s++){const a=n.data[s],c=dc(e,n,s,t);if(Mo(c,e),null!==i&&p5(e,s-o,c,a,t,i),ir(a)){fo(t.index,e)[8]=dc(e,n,s,t)}}})(n,e,t),!(64&~t.flags)&&function h5(n,e,t){const o=t.directiveStart,r=t.directiveEnd,i=t.index,s=function IM(){return He.lFrame.currentDirectiveIndex}();try{ia(i);for(let a=o;a<r;a++){const c=n.data[a],d=e[a];nh(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&g5(c,d)}}finally{ia(-1),nh(s)}}(n,e,t)}function ix(n,e,t=uo){const o=e.localNames;if(null!==o){let r=e.index+1;for(let i=0;i<o.length;i+=2){const s=o[i+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function s5(n,e,t,o){const i=o.get(IS,false)||t===Br.ShadowDom,s=n.selectRootElement(e,i);return function a5(n){yP(n)}(s),s}!function(n){n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform"}(J_||(J_={}));let ux,yP=()=>null;function Ur(n,e,t,o,r,i,s,a){if(a||!cx(e,n,t,o,r))if(3&e.type){const c=uo(e,t);o=function u5(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(o),r=null!=s?s(r,e.value||"",o):r,i.setProperty(c,o,r)}else e.type;else To(e)&&function d5(n,e){const t=fo(e,n);16&t[2]||(t[2]|=64)}(t,e.index)}function g5(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function sx(n,e){const t=n.directiveRegistry;let o=null;if(t)for(let r=0;r<t.length;r++){const i=t[r];cP(e,i.selectors,!1)&&(o??=[],ir(i)?o.unshift(i):o.push(i))}return o}function fa(n,e,t,o,r,i){const s=uo(n,e);ax(e[11],s,i,n.value,t,o,r)}function ax(n,e,t,o,r,i,s){if(null==i)n.removeAttribute(e,r,t);else{const a=null==s?Ge(i):s(i,o||"",r);n.setAttribute(e,r,a,t)}}function p5(n,e,t,o,r,i){const s=i[e];if(null!==s)for(let a=0;a<s.length;a+=2){rx(o,t,s[a],s[a+1])}}function wP(n,e,t){return(null===n||ir(n))&&(t=Gf(t[e.index])),t[11]}function lx(n,e){const t=n[9],o=t?t.get(di,null):null;o&&o.handleError(e)}function cx(n,e,t,o,r){const i=n.inputs?.[o],s=n.hostDirectiveInputs?.[o];let a=!1;if(s)for(let c=0;c<s.length;c+=2){const d=s[c],f=s[c+1];rx(e.data[d],t[d],f,r),a=!0}if(i)for(const c of i){const d=t[c];rx(e.data[c],d,o,r),a=!0}return a}function m5(n,e){const t=fo(e,n),o=t[1];!function _5(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(o,t);const r=t[0];null!==r&&null===t[6]&&(t[6]=jo(r,t[9])),St(18),tT(o,t,t[8]),St(19,t[8])}function tT(n,e,t){Nu(e);try{const o=n.viewQuery;null!==o&&$D(1,o,t);const r=n.template;null!==r&&vP(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[18]?.finishViewCreation(n),n.staticContentQueries&&VO(n,e),n.staticViewQueries&&$D(2,n.viewQuery,t);const i=n.components;null!==i&&function v5(n,e){for(let t=0;t<e.length;t++)m5(n,e[t])}(e,i)}catch(o){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),o}finally{e[2]&=-5,Nr()}}function Fh(n,e,t,o){const r=he(null);try{const i=e.tView,c=KS(n,i,t,4096&n[2]?4096:16,null,e,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),d=n[e.index];c[16]=d;const f=n[18];return null!==f&&(c[18]=f.createEmbeddedView(i)),tT(i,c,t),c}finally{he(r)}}function cd(n,e){return!e||null===e.firstChild||Xu(n)}function dx(n,e){return ux(n,e)}var ll;function Tc(n){return!(32&~n.flags)}function Nh(n,e,t,o,r){if(null!=o){let i,s=!1;Rn(o)?i=o:De(o)&&(s=!0,o=o[0]);const a=lt(o);0===n&&null!==t?null==r?fP(e,t,a):ld(e,t,a,r||null,!0):1===n&&null!==t?ld(e,t,a,r||null,!0):2===n?Q_(e,a,s):3===n&&e.destroyNode(a),null!=i&&function I5(n,e,t,o,r){const i=t[7],s=lt(t);i!==s&&Nh(e,n,o,i,r);for(let a=10;a<t.length;a++){const c=t[a];oT(c[1],c,n,e,o,i)}}(e,n,i,t,r)}}function CP(n,e){SP(n,e),e[0]=null,e[5]=null}function SP(n,e){e[10].changeDetectionScheduler?.notify(9),oT(n,e,e[11],2,null,null)}function fx(n,e){const t=n[9],o=t.indexOf(e);t.splice(o,1)}function K_(n,e){if(kr(e))return;const t=e[11];t.destroyNode&&oT(n,e,t,3,null,null),function w5(n){let e=n[12];if(!e)return hx(n[1],n);for(;e;){let t=null;if(De(e))t=e[12];else{const o=e[10];o&&(t=o)}if(!t){for(;e&&!e[4]&&e!==n;)De(e)&&hx(e[1],e),e=e[3];null===e&&(e=n),De(e)&&hx(e[1],e),t=e&&e[4]}e=t}}(e)}function hx(n,e){if(kr(e))return;const t=he(null);try{e[2]&=-129,e[2]|=256,e[24]&&Tr(e[24]),function S5(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let o=0;o<t.length;o+=2){const r=e[t[o]];if(!(r instanceof Uu)){const i=t[o+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=r[i[s]],c=i[s+1];St(4,a,c);try{c.call(a)}finally{St(5,a,c)}}else{St(4,r,i);try{i.call(r)}finally{St(5,r,i)}}}}}(n,e),function C5(n,e){const t=n.cleanup,o=e[7];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const a=t[s+3];a>=0?o[a]():o[-a].unsubscribe(),s+=2}else{const a=o[t[s+1]];t[s].call(a)}null!==o&&(e[7]=null);const r=e[21];if(null!==r){e[21]=null;for(let s=0;s<r.length;s++){(0,r[s])()}}const i=e[23];if(null!==i){e[23]=null;for(const s of i)s.destroy()}}(n,e),1===e[1].type&&e[11].destroy();const o=e[16];if(null!==o&&Rn(e[3])){o!==e[3]&&fx(o,e);const r=e[18];null!==r&&r.detachView(n)}gh(e)}finally{he(t)}}function gx(n,e,t){return TP(n,e.parent,t)}function TP(n,e,t){let o=e;for(;null!==o&&168&o.type;)o=(e=o).parent;if(null===o)return t[0];if(To(o)){const{encapsulation:r}=n.data[o.directiveStart+o.componentOffset];if(r===Br.None||r===Br.Emulated)return null}return uo(o,t)}function IP(n,e,t){return MP(n,e,t)}function EP(n,e,t){return 40&n.type?uo(n,t):null}!function(n){n[n.Important=1]="Important",n[n.DashCase=2]="DashCase"}(ll||(ll={}));let px,MP=EP;function DP(n,e){MP=n,px=e}function nT(n,e,t,o){const r=gx(n,o,e),i=e[11],a=IP(o.parent||e[5],o,e);if(null!=r)if(Array.isArray(t))for(let c=0;c<t.length;c++)hP(i,r,t[c],a,!1);else hP(i,r,t,a,!1);void 0!==px&&px(i,o,e,t,r)}function ud(n,e){if(null!==e){const t=e.type;if(3&t)return uo(e,n);if(4&t)return mx(-1,n[e.index]);if(8&t){const o=e.child;if(null!==o)return ud(n,o);{const r=n[e.index];return Rn(r)?mx(-1,r):lt(r)}}if(128&t)return ud(n,e.next);if(32&t)return dx(e,n)()||lt(n[e.index]);{const o=xP(n,e);if(null!==o){if(Array.isArray(o))return o[0];return ud(Xn(n[15]),o)}return ud(n,e.next)}}return null}function xP(n,e){if(null!==e){const o=n[15][5],r=e.projection;return o.projection[r]}return null}function mx(n,e){const t=10+n+1;if(t<e.length){const o=e[t],r=o[1].firstChild;if(null!==r)return ud(o,r)}return e[7]}function _x(n,e,t,o,r,i,s){for(;null!=t;){if(128===t.type){t=t.next;continue}const a=o[t.index],c=t.type;if(s&&0===e&&(a&&Mo(lt(a),o),t.flags|=2),!Tc(t))if(8&c)_x(n,e,t.child,o,r,i,!1),Nh(e,n,r,a,i);else if(32&c){const d=dx(t,o);let f;for(;f=d();)Nh(e,n,r,f,i);Nh(e,n,r,a,i)}else 16&c?kP(n,e,o,t,r,i):Nh(e,n,r,a,i);t=s?t.projectionNext:t.next}}function oT(n,e,t,o,r,i){_x(t,o,n.firstChild,e,r,i,!1)}function kP(n,e,t,o,r,i){const s=t[15],c=s[5].projection[o.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){Nh(e,n,r,c[d],i)}else{let d=c;const f=s[3];Xu(o)&&(d.flags|=128),_x(n,e,d,f,r,i,!0)}}function Rh(n,e,t,o,r=!1){for(;null!==t;){if(128===t.type){t=r?t.projectionNext:t.next;continue}const i=e[t.index];null!==i&&o.push(lt(i)),Rn(i)&&vx(i,o);const s=t.type;if(8&s)Rh(n,e,t.child,o);else if(32&s){const a=dx(t,e);let c;for(;c=a();)o.push(c)}else if(16&s){const a=xP(e,t);if(Array.isArray(a))o.push(...a);else{const c=Xn(e[15]);Rh(c[1],c,a,o,!0)}}t=r?t.projectionNext:t.next}return o}function vx(n,e){for(let t=10;t<n.length;t++){const o=n[t],r=o[1].firstChild;null!==r&&Rh(o[1],o,r,e)}n[7]!==n[0]&&e.push(n[7])}function AP(n){if(null!==n[25]){for(const e of n[25])e.impl.addSequence(e);n[25].length=0}}let OP=[];function M5(n){return n[24]??function D5(n){const e=OP.pop()??Object.create(k5);return e.lView=n,e}(n)}const k5={...Si,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{oa(n.lView)},consumerOnSignalRead(){this.lView[24]=this}};const O5={...Si,consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Xn(n.lView);for(;e&&!PP(e[1]);)e=Xn(e);e&&Wm(e)},consumerOnSignalRead(){this.lView[24]=this}};function PP(n){return 2!==n.type}function FP(n){if(null===n[23])return;let e=!0;for(;e;){let t=!1;for(const o of n[23])o.dirty&&(t=!0,null===o.zone||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));e=t&&!!(8192&n[2])}}function rT(n,e=!0,t=0){const r=n[10].rendererFactory;r.begin?.();try{!function F5(n,e){const t=DC();try{rc(!0),yx(n,e);let o=0;for(;na(n);){if(100===o)throw new J(103,!1);o++,yx(n,1)}}finally{rc(t)}}(n,t)}catch(s){throw e&&lx(n,s),s}finally{r.end?.()}}function RP(n,e,t,o){if(kr(e))return;const r=e[2];Nu(e);let a=!0,c=null,d=null;PP(n)?(d=M5(e),c=Jr(d)):null===dt()?(a=!1,d=function A5(n){const e=n[24]??Object.create(O5);return e.lView=n,e}(e),c=Jr(d)):e[24]&&(Tr(e[24]),e[24]=null);try{Ou(e),ic(n.bindingStartIndex),null!==t&&vP(n,e,t,2,o);const f=!(3&~r);if(f){const m=n.preOrderCheckHooks;null!==m&&Vu(e,m,null)}else{const m=n.preOrderHooks;null!==m&&Bu(e,m,0,null),rh(e,0)}if(function N5(n){for(let e=Fi(n);null!==e;e=Ye(e)){if(!(2&e[2]))continue;const t=e[9];for(let o=0;o<t.length;o++){Wm(t[o])}}}(e),FP(e),LP(e,0),null!==n.contentQueries&&VO(n,e),f){const m=n.contentCheckHooks;null!==m&&Vu(e,m)}else{const m=n.contentHooks;null!==m&&Bu(e,m,1),rh(e,1)}!function L5(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let o=0;o<t.length;o++){const r=t[o];if(r<0)ia(~r);else{const i=r,s=t[++o],a=t[++o];TM(s,i);const c=e[i];St(24,c),a(2,c),St(25,c)}}}finally{ia(-1)}}(n,e);const p=n.components;null!==p&&BP(e,p,0);const y=n.viewQuery;if(null!==y&&$D(2,y,o),f){const m=n.viewCheckHooks;null!==m&&Vu(e,m)}else{const m=n.viewHooks;null!==m&&Bu(e,m,2),rh(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[22]){for(const m of e[22])m();e[22]=null}AP(e),e[2]&=-73}catch(f){throw oa(e),f}finally{null!==d&&(Po(d,c),a&&function x5(n){n.lView[24]!==n&&(n.lView=null,OP.push(n))}(d)),Nr()}}function LP(n,e){for(let t=Fi(n);null!==t;t=Ye(t))for(let o=10;o<t.length;o++){VP(t[o],e)}}function R5(n,e,t){St(18);const o=fo(e,n);VP(o,t),St(19,o[8])}function VP(n,e){qf(n)&&yx(n,e)}function yx(n,e){const o=n[1],r=n[2],i=n[24];let s=!!(0===e&&16&r);if(s||=!!(64&r&&0===e),s||=!!(1024&r),s||=!(!i?.dirty||!Ki(i)),s||=!1,i&&(i.dirty=!1),n[2]&=-9217,s)RP(o,n,o.template,n[8]);else if(8192&r){FP(n),LP(n,1);const a=o.components;null!==a&&BP(n,a,1),AP(n)}}function BP(n,e,t){for(let o=0;o<e.length;o++)R5(n,e[o],t)}function ev(n,e){const t=DC()?64:1088;for(n[10].changeDetectionScheduler?.notify(e);n;){n[2]|=t;const o=Xn(n);if(as(n)&&!o)return n;n=o}return null}function UP(n,e,t,o){return[n,!0,0,e,null,o,null,t,null,null]}function HP(n,e){const t=10+e;if(t<n.length)return n[t]}function Lh(n,e,t,o=!0){const r=e[1];if(function V5(n,e,t,o){const r=10+o,i=t.length;o>0&&(t[r-1][4]=e),o<i-10?(e[4]=t[r],tr(t,10+o,e)):(t.push(e),e[4]=null),e[3]=t;const s=e[16];null!==s&&t!==s&&jP(s,e);const a=e[18];null!==a&&a.insertView(n),Xf(e),e[2]|=128}(r,e,n,t),o){const s=mx(t,n),a=e[11],c=a.parentNode(n[7]);null!==c&&function b5(n,e,t,o,r,i){o[0]=r,o[5]=e,oT(n,o,t,1,r,i)}(r,n[5],a,e,c,s)}const i=e[6];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function bx(n,e){const t=tv(n,e);return void 0!==t&&K_(t[1],t),t}function tv(n,e){if(n.length<=10)return;const t=10+e,o=n[t];if(o){const r=o[16];null!==r&&r!==n&&fx(r,o),e>0&&(n[t-1][4]=o[4]);const i=et(n,10+e);CP(o[1],o);const s=i[18];null!==s&&s.detachView(i[1]),o[3]=null,o[4]=null,o[2]&=-129}return o}function jP(n,e){const t=n[9],o=e[3];if(De(o))n[2]|=2;else{const r=o[3][15];e[15]!==r&&(n[2]|=2)}null===t?n[9]=[e]:t.push(e)}let nv=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){const e=this._lView,t=e[1];return Rh(t,e,t.firstChild,[])}constructor(e,t,o=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=o}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return kr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Rn(e)){const t=e[8],o=t?t.indexOf(this):-1;o>-1&&(tv(e,o),et(t,o))}this._attachedToViewContainer=!1}K_(this._lView[1],this._lView)}onDestroy(e){Qf(this._lView,e)}markForCheck(){ev(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[2]&=-129}reattach(){Xf(this._lView),this._lView[2]|=128}detectChanges(){this._lView[2]|=1024,rT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=as(this._lView),t=this._lView[16];null!==t&&!e&&fx(t,this._lView),SP(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e;const t=as(this._lView),o=this._lView[16];null!==o&&!t&&jP(o,this._lView),Xf(this._lView)}};class _s{static __NG_ELEMENT_ID__=H5}const B5=_s,U5=class extends B5{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,o){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,o){const r=Fh(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:o});return new nv(r)}};function H5(){return iT(tt(),U())}function iT(n,e){return 4&n.type?new U5(e,n,hc(n,e)):null}function zP(n,e,t){const o=e.insertBeforeIndex,r=Array.isArray(o)?o[0]:o;return null===r?EP(n,0,t):lt(t[r])}function WP(n,e,t,o,r){const i=e.insertBeforeIndex;if(Array.isArray(i)){let s=o,a=null;if(3&e.type||(a=s,s=r),null!==s&&-1===e.componentOffset)for(let c=1;c<i.length;c++){ld(n,s,t[i[c]],a,!1)}}}function Vh(n,e,t,o,r){let i=n.data[e];if(null===i)i=Tx(n,e,t,o,r),function SM(){return He.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=o,i.attrs=r;const s=Fu();i.injectorIndex=null===s?-1:s.injectorIndex}return Fr(i,!0),i}function Tx(n,e,t,o,r){const i=Km(),s=e_(),a=s?i:i&&i.parent,c=n.data[e]=function Z5(n,e,t,o,r,i){let s=e?e.injectorIndex:-1,a=0;return Pr()&&(a|=128),{type:t,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a,t,e,o,r);return function Q5(n,e,t,o){null===n.firstChild&&(n.firstChild=e),null!==t&&(o?null==t.child&&null!==e.parent&&(t.child=e):null===t.next&&(t.next=e,e.prev=t))}(n,c,i,s),c}function qP(n,e){if(n.push(e),n.length>1)for(let t=n.length-2;t>=0;t--){const o=n[t];YP(o)||J5(o,e)&&null===K5(o)&&e9(o,e.index)}}function YP(n){return!(64&n.type)}function J5(n,e){return YP(e)||n.index>e.index}function K5(n){const e=n.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function e9(n,e){const t=n.insertBeforeIndex;Array.isArray(t)?t[0]=e:(DP(zP,WP),n.insertBeforeIndex=e)}function sv(n,e){const t=n.data[e];return null===t||"string"==typeof t?null:t.hasOwnProperty("currentCaseLViewIndex")?t:t.value}function o9(n,e,t){const o=Tx(n,t,64,null,null);return qP(e,o),o}function aT(n,e){const t=e[n.currentCaseLViewIndex];return null===t?t:t<0?~t:t}function XP(n){return n>>>17}function QP(n){return(131070&n)>>>1}function JP(n){return-1===n}function Ix(n,e,t){n.index=0;const o=aT(e,t);n.removes=null!==o?e.remove[o]:vt}function lT(n){if(n.index<n.removes.length){const e=n.removes[n.index++];if(e>0)return n.lView[e];{n.stack.push(n.index,n.removes);const t=~e;return Ix(n,n.lView[1].data[t],n.lView),lT(n)}}return 0===n.stack.length?null:(n.removes=n.stack.pop(),n.index=n.stack.pop(),lT(n))}function i9(){const n={stack:[],index:-1};return function e(t,o){for(n.lView=o;n.stack.length;)n.stack.pop();return Ix(n,t.value,o),lT.bind(null,n)}}let rF=()=>{};let sF=()=>{};function A9(n,e,t){for(const o of t.node.cases[t.case]){const r=e.get(o.index-26);r&&Q_(n,r,!1)}}function aF(n){const e=n[6]??[],o=n[3][11],r=[];for(const i of e)void 0!==i.data.di?r.push(i):lF(i,o);n[6]=r}function O9(n){const{lContainer:e}=n,t=e[6];if(null===t)return;const r=e[3][11];for(const i of t)lF(i,r)}function lF(n,e){let t=0,o=n.firstChild;if(o){const r=n.data[gs];for(;t<r;){const i=o.nextSibling;Q_(e,o,!1),o=i,t++}}}function uT(n){aF(n);const e=n[0];De(e)&&dT(e);for(let t=10;t<n.length;t++)dT(n[t])}function dT(n){!function k9(n){const e=n[6];if(e){const{i18nNodes:t,dehydratedIcuData:o}=e;if(t&&o){const r=n[11];for(const i of o.values())A9(r,t,i)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}(n);const e=n[1];for(let t=26;t<e.bindingStartIndex;t++)if(Rn(n[t])){uT(n[t])}else De(n[t])&&dT(n[t])}function cF(n){const e=n._views;for(const t of e){const o=go(t);null!==o&&null!==o[0]&&(De(o)?dT(o):uT(o))}}let uF=()=>null;function Uh(n,e){return uF(n,e)}let L9=class{},dF=class{};class V9{resolveComponentFactory(e){throw Error(`No component factory found for ${wn(e)}.`)}}let uv=class{static NULL=new V9};class dv{}class fr{destroyNode=null;static __NG_ELEMENT_ID__=()=>function B9(){const n=U(),t=fo(tt().index,n);return(De(t)?t:n)[11]}()}class Ox{static \u0275prov=F({token:Ox,providedIn:"root",factory:()=>null})}function Px(n){return void 0!==n.ngModule}function Hh(n){return!!nr(n)}function fT(n){return!!or(n)}function fF(n){return!!Gt(n)}function fv(n){return!!nt(n)}function H9(n,e){if(Df(n)&&!(n=Ue(n)))throw new Error(`Expected forwardRef function, imported from "${_t(e)}", to return a standalone entity or NgModule but got "${_t(n)||n}".`);if(null==nr(n)){const t=nt(n)||Gt(n)||or(n);if(null==t)throw Px(n)?new Error(`A module with providers was imported from "${_t(e)}". Modules with providers are not supported in standalone components imports.`):new Error(`The "${_t(n)}" type, imported from "${_t(e)}", must be a standalone component / directive / pipe or an NgModule. Did you forget to add the required @Component / @Directive / @Pipe or @NgModule annotation?`);if(!t.standalone)throw new Error(`The "${_t(n)}" ${function U9(n){return nt(n)?"component":Gt(n)?"directive":or(n)?"pipe":"type"}(n)}, imported from "${_t(e)}", is not standalone. Did you forget to add the standalone: true flag?`)}}function Ic(n,e){for(const t of n)e.add(t)}const hv=new class j9{ownerNgModule=new Map;ngModulesWithSomeUnresolvedDecls=new Set;ngModulesScopeCache=new Map;standaloneComponentsScopeCache=new Map;resolveNgModulesDecls(){if(0!==this.ngModulesWithSomeUnresolvedDecls.size){for(const e of this.ngModulesWithSomeUnresolvedDecls){const t=nr(e);if(t?.declarations)for(const o of da(t.declarations))fv(o)&&this.ownerNgModule.set(o,e)}this.ngModulesWithSomeUnresolvedDecls.clear()}}getComponentDependencies(e,t){this.resolveNgModulesDecls();const o=nt(e);if(null===o)throw new Error(`Attempting to get component dependencies for a type that is not a component: ${e}`);if(o.standalone){const r=this.getStandaloneComponentScope(e,t);return r.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...r.compilation.directives,...r.compilation.pipes,...r.compilation.ngModules]}}{if(!this.ownerNgModule.has(e))return{dependencies:[]};const r=this.getNgModuleScope(this.ownerNgModule.get(e));return r.compilation.isPoisoned?{dependencies:[]}:{dependencies:[...r.compilation.directives,...r.compilation.pipes]}}}registerNgModule(e,t){if(!Hh(e))throw new Error(`Attempting to register a Type which is not NgModule as NgModule: ${e}`);this.ngModulesWithSomeUnresolvedDecls.add(e)}clearScopeCacheFor(e){this.ngModulesScopeCache.delete(e),this.standaloneComponentsScopeCache.delete(e)}getNgModuleScope(e){if(this.ngModulesScopeCache.has(e))return this.ngModulesScopeCache.get(e);const t=this.computeNgModuleScope(e);return this.ngModulesScopeCache.set(e,t),t}computeNgModuleScope(e){const t=nr(e,!0),o={exported:{directives:new Set,pipes:new Set},compilation:{directives:new Set,pipes:new Set}};for(const r of da(t.imports))if(Hh(r)){const i=this.getNgModuleScope(r);Ic(i.exported.directives,o.compilation.directives),Ic(i.exported.pipes,o.compilation.pipes)}else{if(!ql(r)){o.compilation.isPoisoned=!0;break}if(fF(r)||fv(r))o.compilation.directives.add(r);else{if(!fT(r))throw new J(980,"The standalone imported type is neither a component nor a directive nor a pipe");o.compilation.pipes.add(r)}}if(!o.compilation.isPoisoned)for(const r of da(t.declarations)){if(Hh(r)||ql(r)){o.compilation.isPoisoned=!0;break}fT(r)?o.compilation.pipes.add(r):o.compilation.directives.add(r)}for(const r of da(t.exports))if(Hh(r)){const i=this.getNgModuleScope(r);Ic(i.exported.directives,o.exported.directives),Ic(i.exported.pipes,o.exported.pipes),Ic(i.exported.directives,o.compilation.directives),Ic(i.exported.pipes,o.compilation.pipes)}else fT(r)?o.exported.pipes.add(r):o.exported.directives.add(r);return o}getStandaloneComponentScope(e,t){if(this.standaloneComponentsScopeCache.has(e))return this.standaloneComponentsScopeCache.get(e);const o=this.computeStandaloneComponentScope(e,t);return this.standaloneComponentsScopeCache.set(e,o),o}computeStandaloneComponentScope(e,t){const o={compilation:{directives:new Set([e]),pipes:new Set,ngModules:new Set}};for(const r of On(t??[])){const i=Ue(r);try{H9(i,e)}catch{return o.compilation.isPoisoned=!0,o}if(Hh(i)){o.compilation.ngModules.add(i);const s=this.getNgModuleScope(i);if(s.exported.isPoisoned)return o.compilation.isPoisoned=!0,o;Ic(s.exported.directives,o.compilation.directives),Ic(s.exported.pipes,o.compilation.pipes)}else if(fT(i))o.compilation.pipes.add(i);else{if(!fF(i)&&!fv(i))return o.compilation.isPoisoned=!0,o;o.compilation.directives.add(i)}}return o}isOrphanComponent(e){const t=nt(e);return!(!t||t.standalone)&&(this.resolveNgModulesDecls(),!this.ownerNgModule.has(e))}},Fx={};class jh{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,o){o=Ws(o);const r=this.injector.get(e,Fx,o);return r!==Fx||t===Fx?r:this.parentInjector.get(e,t,o)}}function Nx(n,e,t){let o=t?n.styles:null,r=t?n.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];if("number"==typeof a)i=a;else if(1==i)r=bo(r,a);else if(2==i){o=bo(o,a+": "+e[++s]+";")}}t?n.styles=o:n.stylesWithoutHost=o,t?n.classes=r:n.classesWithoutHost=r}function ne(n,e=Ke.Default){const t=U();if(null===t)return L(n,e);return jC(tt(),t,Ue(n),e)}function hF(){throw new Error("invalid")}function Rx(n,e,t,o,r){const i=null===o?null:{"":-1},s=r(n,t);if(null!==s){let a,c=null,d=null;const f=function G9(n){let e=null,t=!1;for(let s=0;s<n.length;s++){const a=n[s];if(0===s&&ir(a)&&(e=a),null!==a.findHostDirectiveDefs){t=!0;break}}if(!t)return null;let o=null,r=null,i=null;for(const s of n)null!==s.findHostDirectiveDefs&&(o??=[],r??=new Map,i??=new Map,z9(s,o,i,r)),s===e&&(o??=[],o.push(s));return null!==o?(o.push(...null===e?n:n.slice(1)),[o,r,i]):null}(s);null===f?a=s:[a,c,d]=f,function q9(n,e,t,o,r,i,s){const a=o.length;let c=!1;for(let y=0;y<a;y++){const m=o[y];!c&&ir(m)&&(c=!0,W9(n,t,y)),g_(sh(t,e),n,m.type)}!function K9(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,a);for(let y=0;y<a;y++){const m=o[y];m.providersResolver&&m.providersResolver(m)}let d=!1,f=!1,p=Z_(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let y=0;y<a;y++){const m=o[y];if(t.mergedAttrs=cc(t.mergedAttrs,m.hostAttrs),X9(n,t,e,p,m),J9(p,m,r),null!==s&&s.has(m)){const[T,M]=s.get(m);t.directiveToIndex.set(m.type,[p,T+t.directiveStart,M+t.directiveStart])}else(null===i||!i.has(m))&&t.directiveToIndex.set(m.type,p);null!==m.contentQueries&&(t.flags|=4),(null!==m.hostBindings||null!==m.hostAttrs||0!==m.hostVars)&&(t.flags|=64);const b=m.type.prototype;!d&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),d=!0),!f&&(b.ngOnChanges||b.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),p++}!function Y9(n,e,t){for(let o=e.directiveStart;o<e.directiveEnd;o++){const r=n.data[o];if(null!==t&&t.has(r)){const i=t.get(r);pF(0,e,i,o),pF(1,e,i,o),_F(e,o,!0)}else gF(0,e,r,o),gF(1,e,r,o),_F(e,o,!1)}}(n,t,i)}(n,e,t,a,i,c,d)}null!==i&&null!==o&&function $9(n,e,t){const o=n.localNames=[];for(let r=0;r<e.length;r+=2){const i=t[e[r+1]];if(null==i)throw new J(-301,!1);o.push(e[r],i)}}(t,o,i)}function z9(n,e,t,o){const r=e.length;n.findHostDirectiveDefs(n,e,o),t.set(n,[r,e.length-1])}function W9(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function gF(n,e,t,o){const r=0===n?t.inputs:t.outputs;for(const i in r)if(r.hasOwnProperty(i)){let s;s=0===n?e.inputs??={}:e.outputs??={},s[i]??=[],s[i].push(o),mF(e,i)}}function pF(n,e,t,o){const r=0===n?t.inputs:t.outputs;for(const i in r)if(r.hasOwnProperty(i)){const s=r[i];let a;a=0===n?e.hostDirectiveInputs??={}:e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(o,i),mF(e,s)}}function mF(n,e){"class"===e?n.flags|=8:"style"===e&&(n.flags|=16)}function _F(n,e,t){const{attrs:o,inputs:r,hostDirectiveInputs:i}=n;if(null===o||!t&&null===r||t&&null===i||JD(n))return n.initialInputs??=[],void n.initialInputs.push(null);let s=null,a=0;for(;a<o.length;){const c=o[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(!t&&r.hasOwnProperty(c)){const d=r[c];for(const f of d)if(f===e){s??=[],s.push(c,o[a+1]);break}}else if(t&&i.hasOwnProperty(c)){const d=i[c];for(let f=0;f<d.length;f+=2)if(d[f]===e){s??=[],s.push(d[f+1],o[a+1]);break}}a+=2}else a+=2;else a+=4}n.initialInputs??=[],n.initialInputs.push(s)}function X9(n,e,t,o,r){n.data[o]=r;const i=r.factory||(r.factory=Ys(r.type)),s=new Uu(i,ir(r),ne);n.blueprint[o]=s,t[o]=s,function Q9(n,e,t,o,r){const i=r.hostBindings;if(i){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function Z9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,o,i)}}(n,e,o,Z_(n,t,r.hostVars,qe),r)}function J9(n,e,t){if(t){if(e.exportAs)for(let o=0;o<e.exportAs.length;o++)t[e.exportAs[o]]=n;ir(e)&&(t[""]=n)}}function vF(n,e,t,o,r,i,s,a){const c=e.consts,f=Vh(e,n,2,o,Bo(c,s));return i&&Rx(e,t,f,Bo(c,a),r),f.mergedAttrs=cc(f.mergedAttrs,f.attrs),null!==f.attrs&&Nx(f,f.attrs,!1),null!==f.mergedAttrs&&Nx(f,f.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,f),f}function yF(n,e){s_(n,e),Hm(e)&&n.queries.elementEnd(e)}class bF extends uv{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=nt(e);return new gv(t,this.ngModule)}}class gv extends dF{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=function e4(n){return Object.keys(n).map(e=>{const[t,o,r]=n[e],i={propName:t,templateName:e,isSignal:!!(o&J_.SignalBased)};return r&&(i.transform=r),i})}(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=function t4(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function e5(n){return n.map(Kj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,o,r){St(22);const i=he(null);try{const s=this.componentDef,a=o?["ng-version","19.2.15"]:function t5(n){const e=[],t=[];let o=1,r=2;for(;o<n.length;){let i=n[o];if("string"==typeof i)2===r?""!==i&&e.push(i,n[++o]):8===r&&t.push(i);else{if(!ms(r))break;r=i}o++}return t.length&&e.push(1,...t),e}(this.componentDef.selectors[0]),c=tx(0,null,null,1,0,null,null,null,null,[a],null),d=function n4(n,e,t){let o=e instanceof Co?e:e?.injector;return o&&null!==n.getStandaloneInjector&&(o=n.getStandaloneInjector(o)||o),o?new jh(t,o):t}(s,r||this.ngModule,e),f=function o4(n){const e=n.get(dv,null);if(null===e)throw new J(407,!1);return{rendererFactory:e,sanitizer:n.get(Ox,null),changeDetectionScheduler:n.get(us,null)}}(d),p=f.rendererFactory.createRenderer(null,s),y=o?s5(p,o,s.encapsulation,d):function r4(n,e){const t=(n.selectors[0][0]||"div").toLowerCase();return JS(e,t,"svg"===t?"svg":"math"===t?"math":null)}(s,p),m=KS(null,c,null,512|nx(s),null,null,f,p,d,null,jo(y,d,!0));m[26]=y,Nu(m);let b=null;try{const T=vF(26,c,m,"#host",()=>[this.componentDef],!0,0);y&&(pP(p,y,T),Mo(y,m)),eT(c,m,T),GD(c,T,m),yF(c,T),void 0!==t&&function s4(n,e,t){const o=n.projection=[];for(let r=0;r<e.length;r++){const i=t[r];o.push(null!=i&&i.length?Array.from(i):null)}}(T,this.ngContentSelectors,t),b=fo(T.index,m),m[8]=b[8],tT(c,m,null)}catch(T){throw null!==b&&gh(b),gh(m),T}finally{St(23),Nr()}return new i4(this.componentType,m)}finally{he(i)}}}class i4 extends L9{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=li(t[1],26),this.location=hc(this._tNode,t),this.instance=fo(this._tNode.index,t)[8],this.hostView=this.changeDetectorRef=new nv(t,void 0,!1),this.componentType=e}setInput(e,t){const o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const r=this._rootLView;cx(o,r[1],r,e,t);this.previousInputValues.set(e,t);ev(fo(o.index,r),1)}get injector(){return new un(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Vi{static __NG_ELEMENT_ID__=a4}function a4(){return SF(tt(),U())}const l4=Vi,wF=class extends l4{_lContainer;_hostTNode;_hostLView;constructor(e,t,o){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=o}get element(){return hc(this._hostTNode,this._hostLView)}get injector(){return new un(this._hostTNode,this._hostLView)}get parentInjector(){const e=ah(this._hostTNode,this._hostLView);if(u_(e)){const t=ju(e,this._hostLView),o=Hu(e),r=t[1].data[o+8];return new un(r,t)}return new un(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=CF(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,o){let r,i;"number"==typeof o?r=o:null!=o&&(r=o.index,i=o.injector);const s=Uh(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,r,cd(this._hostTNode,s)),a}createComponent(e,t,o,r,i){const s=e&&!Ga(e);let a;if(s)a=t;else{const b=t||{};a=b.index,o=b.injector,r=b.projectableNodes,i=b.environmentInjector||b.ngModuleRef}const c=s?e:new gv(nt(e)),d=o||this.parentInjector;if(!i&&null==c.ngModule){const T=(s?d:this.parentInjector).get(Co,null);T&&(i=T)}const f=nt(c.componentType??{}),p=Uh(this._lContainer,f?.id??null),y=p?.firstChild??null,m=c.create(d,r,y,i);return this.insertImpl(m.hostView,a,cd(this._hostTNode,p)),m}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,o){const r=e._lView;if(function Yf(n){return Rn(n[3])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=r[3],d=new wF(c,c[5],c[3]);d.detach(d.indexOf(e))}}const i=this._adjustIndex(t),s=this._lContainer;return Lh(s,r,i,o),e.attachToViewContainerRef(),tr(Lx(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=CF(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),o=tv(this._lContainer,t);o&&(et(Lx(this._lContainer),t),K_(o[1],o))}detach(e){const t=this._adjustIndex(e,-1),o=tv(this._lContainer,t);return o&&null!=et(Lx(this._lContainer),t)?new nv(o):null}_adjustIndex(e,t=0){return e??this.length+t}};function CF(n){return n[8]}function Lx(n){return n[8]||(n[8]=[])}function SF(n,e){let t;const o=e[n.index];return Rn(o)?t=o:(t=UP(o,e,null,n),e[n.index]=t,ox(e,t)),TF(t,e,n,o),new wF(t,n,e)}let TF=EF,Vx=()=>!1;function IF(n,e,t){return Vx(n,e,t)}function EF(n,e,t,o){if(n[7])return;let r;r=8&t.type?lt(o):function c4(n,e){const t=n[11],o=t.createComment(""),r=uo(e,n),i=t.parentNode(r);return ld(t,i,o,t.nextSibling(r),!1),o}(e,t),n[7]=r}class Bx{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new Bx(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ux{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const o=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let i=0;i<o;i++){const s=t.getByIndex(i),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new Ux(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==zx(e,t).matches&&this.queries[t].setDirty()}}class MF{flags;read;predicate;constructor(e,t,o=null){this.flags=t,this.read=o,this.predicate="string"==typeof e?function _4(n){return n.split(",").map(e=>e.trim())}(e):e}}class Hx{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let o=0;o<this.length;o++){const r=null!==t?t.length:0,i=this.getByIndex(o).embeddedTView(e,r);i&&(i.indexInDeclarationView=o,null!==t?t.push(i):t=[i])}return null!==t?new Hx(t):null}template(e,t){for(let o=0;o<this.queries.length;o++)this.queries[o].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class jx{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new jx(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let o=e.parent;for(;null!==o&&8&o.type&&o.index!==t;)o=o.parent;return t===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const o=this.metadata.predicate;if(Array.isArray(o))for(let r=0;r<o.length;r++){const i=o[r];this.matchTNodeWithReadOption(e,t,h4(t,i)),this.matchTNodeWithReadOption(e,t,uc(t,e,i,!1,!1))}else o===_s?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,uc(t,e,o,!1,!1))}matchTNodeWithReadOption(e,t,o){if(null!==o){const r=this.metadata.read;if(null!==r)if(r===ct||r===Vi||r===_s&&4&t.type)this.addMatch(t.index,-2);else{const i=uc(t,e,r,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,o)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function h4(n,e){const t=n.localNames;if(null!==t)for(let o=0;o<t.length;o+=2)if(t[o]===e)return t[o+1];return null}function p4(n,e,t,o){return-1===t?function g4(n,e){return 11&n.type?hc(n,e):4&n.type?iT(n,e):null}(e,n):-2===t?function m4(n,e,t){if(t===ct)return hc(e,n);if(t===_s)return iT(e,n);if(t===Vi)return SF(e,n)}(n,e,o):dc(n,n[1],t,e)}function DF(n,e,t,o){const r=e[18].queries[o];if(null===r.matches){const i=n.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const d=s[c];if(d<0)a.push(null);else{const f=i[d];a.push(p4(e,f,s[c+1],t.metadata.read))}}r.matches=a}return r.matches}function $x(n,e,t,o){const r=n.queries.getByIndex(t),i=r.matches;if(null!==i){const s=DF(n,e,r,t);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)o.push(s[a/2]);else{const d=i[a+1],f=e[-c];for(let p=10;p<f.length;p++){const y=f[p];y[16]===y[3]&&$x(y[1],y,d,o)}if(null!==f[9]){const p=f[9];for(let y=0;y<p.length;y++){const m=p[y];$x(m[1],m,d,o)}}}}}return o}function Gx(n,e){return n[18].queries[e].queryList}function xF(n,e,t){const o=new iD(!(4&~t));return function wM(n,e,t,o){const r=Jf(e);r.push(t),n.firstCreatePass&&Kf(n).push(o,r.length-1)}(n,e,o,o.destroy),(e[18]??=new Ux).queries.push(new Bx(o))-1}function kF(n,e,t){const o=Le();return o.firstCreatePass&&(OF(o,new MF(n,e,t),-1),!(2&~e)&&(o.staticViewQueries=!0)),xF(o,U(),e)}function AF(n,e,t,o){const r=Le();if(r.firstCreatePass){const i=tt();OF(r,new MF(e,t,o),i.index),function v4(n,e){const t=n.contentQueries||(n.contentQueries=[]),o=t.length?t[t.length-1]:-1;e!==o&&t.push(n.queries.length-1,e)}(r,n),!(2&~t)&&(r.staticContentQueries=!0)}return xF(r,U(),t)}function OF(n,e,t){null===n.queries&&(n.queries=new Hx),n.queries.track(new jx(e,t))}function zx(n,e){return n.queries.getByIndex(e)}function PF(n,e){const t=n[1],o=zx(t,e);return o.crossesNgTemplate?$x(t,n,e,[]):DF(t,n,o,e)}function Wx(n,e,t){let o;const r=Gp(()=>{o._dirtyCounter();const i=function y4(n,e){const t=n._lView,o=n._queryIndex;if(void 0===t||void 0===o||4&t[2])return e?void 0:vt;const r=Gx(t,o),i=PF(t,o);return r.reset(i,lS),e?r.first:r._changesDetected||void 0===n._flatValue?n._flatValue=r.toArray():n._flatValue}(o,n);if(e&&void 0===i)throw new J(-951,!1);return i});return o=r[be],o._dirtyCounter=ue(0),o._flatValue=void 0,r}function FF(n){return Wx(!0,!1)}function NF(n){return Wx(!0,!0)}function LF(n,e){const t=n[be];t._lView=U(),t._queryIndex=e,t._queryList=Gx(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(o=>o+1))}function VF(n,e){return FF()}VF.required=function b4(n,e){return NF()};function BF(n,e){return FF()}BF.required=function w4(n,e){return NF()};function UF(n,e){const t=Object.create(tC),o=new sS;function r(){return so(t),HF(t.value),t.value}return t.value=n,r[be]=t,r.asReadonly=dh.bind(r),r.set=i=>{t.equal(t.value,i)||(Bs(t,i),o.emit(i))},r.update=i=>{HF(t.value),r.set(i(t.value))},r.subscribe=o.subscribe.bind(o),r.destroyRef=o.destroyRef,r}function HF(n){if(n===Rl)throw new J(952,!1)}function jF(n,e){return UF(n)}jF.required=function C4(n){return UF(Rl)};class hT{}Ii("ContentChildren",(n,e={})=>({selector:n,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:true,...e}),hT),Ii("ContentChild",(n,e={})=>({selector:n,first:!0,isViewQuery:!1,descendants:!0,...e}),hT),Ii("ViewChildren",(n,e={})=>({selector:n,first:!1,isViewQuery:!0,descendants:!0,emitDistinctChangesOnly:true,...e}),hT),Ii("ViewChild",(n,e)=>({selector:n,first:!0,isViewQuery:!0,descendants:!0,...e}),hT);let $h=new Map;const pv=new Set;function GF(n){return!!(n.templateUrl&&!n.hasOwnProperty("template")||n.styleUrls&&n.styleUrls.length||n.styleUrl)}const qx=new Map;let zF=!0;function WF(n,e){(function x4(n,e,t){if(e&&e!==t&&zF)throw new Error(`Duplicate module registered for ${n} - ${wn(e)} vs ${wn(e.name)}`)})(e,qx.get(e)||null,n),qx.set(e,n)}let fd=class{},A4=class{};class Yx extends fd{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new bF(this);constructor(e,t,o,r=!0){super(),this.ngModuleType=e,this._parent=t;const i=nr(e);this._bootstrapComponents=da(i.bootstrap),this._r3Injector=m_(e,t,[{provide:fd,useValue:this},{provide:uv,useValue:this.componentFactoryResolver},...o],wn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Xx extends A4{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Yx(this.moduleType,e,[])}}class YF extends fd{injector;componentFactoryResolver=new bF(this);instance=null;constructor(e){super();const t=new Zs([...e.providers,{provide:fd,useValue:this},{provide:uv,useValue:this.componentFactoryResolver}],e.parent||ja(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function XF(n,e,t=null){return new YF({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}class gT{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const t=is(0,e.type),o=t.length>0?XF([t],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,o)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:gT,providedIn:"environment",factory:()=>new gT(L(Co))})}function $e(n){return Ti(()=>{const e=QF(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===pc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(gT).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Br.Emulated,styles:n.styles||vt,_:null,schemas:n.schemas||null,tView:null,id:""};e.standalone&&ur("NgStandalone"),ZF(t);const o=n.dependencies;return t.directiveDefs=pT(o,!1),t.pipeDefs=pT(o,!0),t.id=function B4(n){let e=0;const t="function"==typeof n.consts?"":n.consts,o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(const i of o.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)|0;return e+=2147483648,"c"+e}(t),t})}function F4(n){return nt(n)||Gt(n)}function N4(n){return null!==n}function gi(n){return Ti(()=>({type:n.type,bootstrap:n.bootstrap||vt,declarations:n.declarations||vt,imports:n.imports||vt,exports:n.exports||vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function R4(n,e){if(null==n)return ri;const t={};for(const o in n)if(n.hasOwnProperty(o)){const r=n[o];let i,s,a,c;Array.isArray(r)?(a=r[0],i=r[1],s=r[2]??i,c=r[3]||null):(i=r,s=r,a=J_.None,c=null),t[i]=[o,a,c],e[i]=s}return t}function L4(n){if(null==n)return ri;const e={};for(const t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function xe(n){return Ti(()=>{const e=QF(n);return ZF(e),e})}function xo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function QF(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||ri,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:!0===n.signals,selectors:n.selectors||vt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:R4(n.inputs,e),outputs:L4(n.outputs),debugInfo:null}}function ZF(n){n.features?.forEach(e=>e(n))}function pT(n,e){if(!n)return null;const t=e?or:F4;return()=>("function"==typeof n?n():n).map(o=>t(o)).filter(N4)}function JF(n){return Object.getPrototypeOf(n.prototype).constructor}function ze(n){let e=JF(n.type),t=!0;const o=[n];for(;e;){let r;if(ir(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);r=e.\u0275dir}if(r){if(t){o.push(r);const s=n;s.inputs=Qx(n.inputs),s.declaredInputs=Qx(n.declaredInputs),s.outputs=Qx(n.outputs);const a=r.hostBindings;a&&G4(n,a);const c=r.viewQuery,d=r.contentQueries;if(c&&j4(n,c),d&&$4(n,d),U4(n,r),XE(n.outputs,r.outputs),ir(r)&&r.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const i=r.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(n),a===ze&&(t=!1)}}e=Object.getPrototypeOf(e)}!function H4(n){let e=0,t=null;for(let o=n.length-1;o>=0;o--){const r=n[o];r.hostVars=e+=r.hostVars,r.hostAttrs=cc(r.hostAttrs,t=cc(t,r.hostAttrs))}}(o)}function U4(n,e){for(const t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;const o=e.inputs[t];void 0!==o&&(n.inputs[t]=o,n.declaredInputs[t]=e.declaredInputs[t])}}function Qx(n){return n===ri?{}:n===vt?[]:n}function j4(n,e){const t=n.viewQuery;n.viewQuery=t?(o,r)=>{e(o,r),t(o,r)}:e}function $4(n,e){const t=n.contentQueries;n.contentQueries=t?(o,r,i)=>{e(o,r,i),t(o,r,i)}:e}function G4(n,e){const t=n.hostBindings;n.hostBindings=t?(o,r)=>{e(o,r),t(o,r)}:e}const z4=["providersResolver"],W4=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function KF(n,e,t){if(null!==n.hostDirectives)for(const o of n.hostDirectives)if("function"==typeof o){const r=o();for(const i of r)eN(Zx(i),e,t)}else eN(o,e,t)}function eN(n,e,t){const o=Gt(n.directive);(function X4(n,e){for(const t in e)if(e.hasOwnProperty(t)){const o=e[t],r=n[t];n[o]=r}})(o.declaredInputs,n.inputs),KF(o,e,t),t.set(o,n),e.push(o)}function Zx(n){return"function"==typeof n?{directive:Ue(n),inputs:ri,outputs:ri}:{directive:Ue(n.directive),inputs:tN(n.inputs),outputs:tN(n.outputs)}}function tN(n){if(void 0===n||0===n.length)return ri;const e={};for(let t=0;t<n.length;t+=2)e[n[t]]=n[t+1];return e}function mT(n){return!!Jx(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Jx(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ha(n,e,t){return n[e]=t}function mv(n,e){return n[e]}function In(n,e,t){const o=n[e];return!Object.is(o,t)&&(n[e]=t,!0)}function hd(n,e,t,o){const r=In(n,e,t);return In(n,e+1,o)||r}function _T(n,e,t,o,r){const i=hd(n,e,t,o);return In(n,e+2,r)||i}function Bi(n,e,t,o,r,i){const s=hd(n,e,t,o);return hd(n,e+2,r,i)||s}function _v(n,e,t,o,r,i,s,a,c,d){const f=t+26,p=e.firstCreatePass?function K4(n,e,t,o,r,i,s,a,c){const d=e.consts,f=Vh(e,n,4,s||null,a||null);oc()&&Rx(e,t,f,Bo(d,c),sx),f.mergedAttrs=cc(f.mergedAttrs,f.attrs),s_(e,f);const p=f.tView=tx(2,f,o,r,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return null!==e.queries&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}(f,e,n,o,r,i,s,a,c):e.data[f];Fr(p,!1);const y=oN(e,n,p,t);Lu()&&nT(e,n,y,p),Mo(y,n);const m=UP(y,n,y,p);return n[f]=m,ox(n,m),IF(m,p,n),xu(p)&&eT(e,n,p),null!=c&&ix(n,p,d),p}function te(n,e,t,o,r,i,s,a){const c=U(),d=Le();return _v(c,d,n,e,t,o,r,Bo(d.consts,i),s,a),te}let oN=rN;function rN(n,e,t,o){return Oi(!0),e[11].createComment("")}function vT(n,e){const t=e.get(yT);return t.add(n),()=>t.remove(n)}class yT{executingCallbacks=!1;idleId=null;current=new Set;deferred=new Set;ngZone=C(ft);requestIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?requestIdleCallback:setTimeout)().bind(globalThis);cancelIdleCallbackFn=(()=>typeof requestIdleCallback<"u"?cancelIdleCallback:clearTimeout)().bind(globalThis);add(e){(this.executingCallbacks?this.deferred:this.current).add(e),null===this.idleId&&this.scheduleIdleCallback()}remove(e){const{current:t,deferred:o}=this;t.delete(e),o.delete(e),0===t.size&&0===o.size&&this.cancelIdleCallback()}scheduleIdleCallback(){const e=()=>{this.cancelIdleCallback(),this.executingCallbacks=!0;for(const t of this.current)t();if(this.current.clear(),this.executingCallbacks=!1,this.deferred.size>0){for(const t of this.deferred)this.current.add(t);this.deferred.clear(),this.scheduleIdleCallback()}};this.idleId=this.requestIdleCallbackFn(()=>this.ngZone.run(e))}cancelIdleCallback(){null!==this.idleId&&(this.cancelIdleCallbackFn(this.idleId),this.idleId=null)}ngOnDestroy(){this.cancelIdleCallback(),this.current.clear(),this.deferred.clear()}static \u0275prov=F({token:yT,providedIn:"root",factory:()=>new yT})}function bT(n){return(e,t)=>iN(n,e,t)}function iN(n,e,t){const o=t.get(wT),r=t.get(ft);return o.add(n,e,r),()=>o.remove(e)}class wT{executingCallbacks=!1;timeoutId=null;invokeTimerAt=null;current=[];deferred=[];add(e,t,o){const r=this.executingCallbacks?this.deferred:this.current;this.addToQueue(r,Date.now()+e,t),this.scheduleTimer(o)}remove(e){const{current:t,deferred:o}=this;-1===this.removeFromQueue(t,e)&&this.removeFromQueue(o,e),0===t.length&&0===o.length&&this.clearTimeout()}addToQueue(e,t,o){let r=e.length;for(let i=0;i<e.length;i+=2)if(e[i]>t){r=i;break}uC(e,r,t,o)}removeFromQueue(e,t){let o=-1;for(let r=0;r<e.length;r+=2)if(e[r+1]===t){o=r;break}return o>-1&&cC(e,o,2),o}scheduleTimer(e){const t=()=>{this.clearTimeout(),this.executingCallbacks=!0;const r=[...this.current],i=Date.now();for(let a=0;a<r.length;a+=2){const c=r[a],d=r[a+1];if(!(c<=i))break;d()}let s=-1;for(let a=0;a<this.current.length&&this.current[a]<=i;a+=2)s=a+1;if(s>=0&&cC(this.current,0,s+1),this.executingCallbacks=!1,this.deferred.length>0){for(let a=0;a<this.deferred.length;a+=2){const c=this.deferred[a],d=this.deferred[a+1];this.addToQueue(this.current,c,d)}this.deferred.length=0}this.scheduleTimer(e)};if(this.current.length>0){const r=Date.now(),i=this.current[0];if(null===this.timeoutId||this.invokeTimerAt&&this.invokeTimerAt-i>16){this.clearTimeout();const s=Math.max(i-r,16);this.invokeTimerAt=i,this.timeoutId=e.runOutsideAngular(()=>setTimeout(()=>e.run(t),s))}}}clearTimeout(){null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}ngOnDestroy(){this.clearTimeout(),this.current.length=0,this.deferred.length=0}static \u0275prov=F({token:wT,providedIn:"root",factory:()=>new wT})}class CT{cachedInjectors=new Map;getOrCreateInjector(e,t,o,r){if(!this.cachedInjectors.has(e)){const i=o.length>0?XF(o,t,r):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=F({token:CT,providedIn:"environment",factory:()=>new CT})}const r$=new de("");function Kx(n,e,t){return n.get(CT).getOrCreateInjector(e,n,t,"")}function Ec(n,e,t,o=!1){const r=t[3],i=r[1];if(kr(r))return;const s=Zn(r,e),a=s[1],c=s[7];if(!(null!==c&&n<c)&&lN(a,n)&&lN(s[0]??-1,n)){const d=Tn(i,e),p=o||null===RS(d)&&null===V_(d,It.Loading)&&!V_(d,It.Placeholder)?sN:e1;try{p(n,s,t,e,r)}catch(y){lx(r,y)}}}function sN(n,e,t,o,r){St(20);const i=function PD(n,e,t){const r=Tn(e[1],t);switch(n){case It.Complete:return r.primaryTmplIndex;case It.Loading:return r.loadingTmplIndex;case It.Error:return r.errorTmplIndex;case It.Placeholder:return r.placeholderTmplIndex;default:return null}}(n,r,o);if(null!==i){e[1]=n;const s=r[1],c=li(s,i+26),d=0;let f;if(bx(t,d),n===It.Complete){const b=Tn(s,o),T=b.providers;T&&T.length>0&&(f=function i$(n,e,t){if(n instanceof jh){const r=n.injector,s=Kx(n.parentInjector,e,t);return new jh(r,s)}const o=n.get(Co);if(o!==n){const r=Kx(o,e,t);return new jh(n,r)}return Kx(n,e,t)}(r[9],b,T))}const{dehydratedView:p,dehydratedViewIx:y}=function s$(n,e){const t=n[6]?.findIndex(r=>r.data.s===e[1])??-1;return{dehydratedView:t>-1?n[6][t]:null,dehydratedViewIx:t}}(t,e),m=Fh(r,c,null,{injector:f,dehydratedView:p});if(Lh(t,m,d,cd(c,p)),ev(m,2),y>-1&&t[6]?.splice(y,1),(n===It.Complete||n===It.Error)&&Array.isArray(e[8])){for(const b of e[8])b();e[8]=null}}St(21)}function a$(n,e,t,o,r){const i=Date.now(),a=Tn(r[1],o);if(null===e[2]||e[2]<=i){e[2]=null;const c=RS(a),d=null!==e[3];if(n!==It.Loading||null===c||d){n>It.Loading&&d&&(e[3](),e[3]=null,e[0]=null),sN(n,e,t,o,r);const f=V_(a,n);null!==f&&(e[2]=i+f,aN(f,e,o,t,r))}else{e[0]=n;const f=aN(c,e,o,t,r);e[3]=f}}else e[0]=n}function aN(n,e,t,o,r){return iN(n,()=>{const s=e[0];e[2]=null,e[0]=null,null!==s&&Ec(s,t,o)},r[9])}function lN(n,e){return n<e}function Gh(n,e){const t=n[e.index];Ec(It.Placeholder,e,t)}function cN(n,e,t){n.loadingPromise.then(()=>{n.loadingState===dn.COMPLETE?Ec(It.Complete,e,t):n.loadingState===dn.FAILED&&Ec(It.Error,e,t)})}let e1=null;class zh{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(t){return new(t||zh)};static \u0275prov=F({token:zh,factory:zh.\u0275fac,providedIn:"platform"})}new class u${resolverToTokenToDependencies=new WeakMap;resolverToProviders=new WeakMap;resolverToEffects=new WeakMap;standaloneInjectorToComponent=new WeakMap;reset(){this.resolverToTokenToDependencies=new WeakMap,this.resolverToProviders=new WeakMap,this.standaloneInjectorToComponent=new WeakMap}};const _N=new de(""),TT=new de("");class gd{_ngZone;registry;_isZoneStable=!0;_callbacks=[];_taskTrackingZone=null;_destroyRef;constructor(e,t,o){this._ngZone=e,this.registry=t,Fm()&&(this._destroyRef=C(Bn,{optional:!0})??void 0),r1||(function Y$(n){r1=n}(o),o.addToWindow(t)),this._watchAngularEvents(),e.run(()=>{this._taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){const e=this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),t=this._ngZone.runOutsideAngular(()=>this._ngZone.onStable.subscribe({next:()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}}));this._destroyRef?.onDestroy(()=>{e.unsubscribe(),t.unsubscribe()})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1))}}getPendingTasks(){return this._taskTrackingZone?this._taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,o){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==r),e()},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:o})}whenStable(e,t,o){if(o&&!this._taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,o),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,t,o){return[]}static \u0275fac=function(t){return new(t||gd)(L(ft),L(pd),L(TT))};static \u0275prov=F({token:gd,factory:gd.\u0275fac})}class pd{_applications=new Map;registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return r1?.findTestabilityInTree(this,e,t)??null}static \u0275fac=function(t){return new(t||pd)};static \u0275prov=F({token:pd,factory:pd.\u0275fac,providedIn:"platform"})}let r1;class IT{static \u0275prov=F({token:IT,providedIn:"root",factory:()=>new vN})}class vN{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){const t=e.zone,o=this.queues.get(t);o.has(e)&&(o.delete(e),this.queuedEffectCount--)}enqueue(e){const t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);const o=this.queues.get(t);o.has(e)||(this.queuedEffectCount++,o.add(e))}flush(){for(;this.queuedEffectCount>0;)for(const[e,t]of this.queues)null===e?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(const t of e)e.delete(t),this.queuedEffectCount--,t.run()}}function ET(n){return!!n&&"function"==typeof n.then}function yN(n){return!!n&&"function"==typeof n.subscribe}const bN=new de("");class qh{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t});appInits=C(bN,{optional:!0})??[];injector=C(We);constructor(){}runInitializers(){if(this.initialized)return;const e=[];for(const o of this.appInits){const r=Xl(this.injector,o);if(ET(r))e.push(r);else if(yN(r)){const i=new Promise((s,a)=>{r.subscribe({complete:s,error:a})});e.push(i)}}const t=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{t()}).catch(o=>{this.reject(o)}),0===e.length&&t(),this.initialized=!0}static \u0275fac=function(t){return new(t||qh)};static \u0275prov=F({token:qh,factory:qh.\u0275fac,providedIn:"root"})}const MT=new de("");function wN(){!function pE(n){du=n}(()=>{throw new J(600,!1)})}function CN(n,e){return Array.isArray(e)?e.reduce(CN,n):{...n,...e}}class Jn{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(nD);afterRenderManager=C(vc);zonelessEnabled=C(Gu);rootEffectScheduler=C(IT);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new gn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(Rr).hasPendingTasks.pipe(mt(e=>!e));constructor(){C(_c,{optional:!0})}whenStable(){let e;return new Promise(t=>{e=this.isStable.subscribe({next:o=>{o&&t()}})}).finally(()=>{e.unsubscribe()})}_injector=C(Co);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,t){return this.bootstrapImpl(e,t)}bootstrapImpl(e,t,o=We.NULL){St(10);const r=e instanceof dF;if(!this._injector.get(qh).done){throw new J(405,"")}let s;s=r?e:this._injector.get(uv).resolveComponentFactory(e),this.componentTypes.push(s.componentType);const a=function X$(n){return n.isBoundToModule}(s)?void 0:this._injector.get(fd),c=t||s.selector,d=s.create(o,[],c,a),f=d.location.nativeElement,p=d.injector.get(_N,null);return p?.registerApplication(f),d.onDestroy(()=>{this.detachView(d.hostView),DT(this.components,d),p?.unregisterApplication(f)}),this._loadComponent(d),St(11,d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){St(12),null!==this.tracingSnapshot?this.tracingSnapshot.run(Sh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new J(101,!1);const e=he(null);try{this._runningTick=!0,this.synchronize()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,he(e),this.afterTick.next(),St(13)}};synchronize(){null===this._rendererFactory&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(dv,null,{optional:!0}));let e=0;for(;0!==this.dirtyFlags&&e++<10;)St(14),this.synchronizeOnce(),St(15)}synchronizeOnce(){if(16&this.dirtyFlags&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),7&this.dirtyFlags){const e=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:t,notifyErrorHandler:o}of this.allViews)Z$(t,o,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),23&this.dirtyFlags)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:e})=>na(e))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;DT(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(MT,[]).forEach(o=>o(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>DT(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new J(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(t){return new(t||Jn)};static \u0275prov=F({token:Jn,factory:Jn.\u0275fac,providedIn:"root"})}function DT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Z$(n,e,t,o){(t||na(n))&&rT(n,e,t&&!o?0:1)}function SN(n){const e=U(),t=tt();if(Gh(e,t),!EN(0,e))return;const o=e[9];sl(0,Zn(e,t),n(()=>md(0,e,t),o))}function TN(n,e){const t=U(),o=t[9],r=tt(),s=Tn(t[1],r);if(s.loadingState===dn.NOT_STARTED){sl(1,Zn(t,r),n(()=>yv(s,t,r),o))}}function IN(n,e,t){const o=e[9],r=Zn(e,t),i=r[6];sl(2,r,n(()=>Mc(o,i),o))}function yv(n,e,t){i1(n,e,t)}function i1(n,e,t){const o=e[9],r=e[1];if(n.loadingState!==dn.NOT_STARTED)return n.loadingPromise??Promise.resolve();const i=Zn(e,t),s=function FD(n,e){return li(n,e.primaryTmplIndex+26)}(r,n);n.loadingState=dn.IN_PROGRESS,Mh(1,i);let a=n.dependencyResolverFn;const c=o.get(zu).add();return a?(n.loadingPromise=Promise.allSettled(a()).then(d=>{let f=!1;const p=[],y=[];for(const m of d){if("fulfilled"!==m.status){f=!0;break}{const b=m.value,T=nt(b)||Gt(b);if(T)p.push(T);else{const M=or(b);M&&y.push(M)}}}if(f){if(n.loadingState=dn.FAILED,null===n.errorTmplIndex){const b=new J(-750,!1);lx(e,b)}}else{n.loadingState=dn.COMPLETE;const m=s.tView;if(p.length>0){m.directiveRegistry=B_(m.directiveRegistry,p);const T=is(!1,...p.map(M=>M.type));n.providers=T}y.length>0&&(m.pipeRegistry=B_(m.pipeRegistry,y))}}),n.loadingPromise.finally(()=>{n.loadingPromise=null,c()})):(n.loadingPromise=Promise.resolve().then(()=>{n.loadingPromise=null,n.loadingState=dn.COMPLETE,c()}),n.loadingPromise)}function EN(n,e){return e[9].get(r$,null,{optional:!0})?.behavior!==ho.Manual}function md(n,e,t){const o=e[1],r=e[t.index];if(!EN(0,e))return;const i=Zn(e,t),s=Tn(o,t);switch(FS(i),s.loadingState){case dn.NOT_STARTED:Ec(It.Loading,t,r),i1(s,e,t),s.loadingState===dn.IN_PROGRESS&&cN(s,t,r);break;case dn.IN_PROGRESS:Ec(It.Loading,t,r),cN(s,t,r);break;case dn.COMPLETE:Ec(It.Complete,t,r);break;case dn.FAILED:Ec(It.Error,t,r)}}function Mc(n,e,t){return s1.apply(this,arguments)}function s1(){return s1=g(function*(n,e,t){const o=n.get(N);if(o.hydrating.has(e))return;const{parentBlockPromise:i,hydrationQueue:s}=function U3(n,e){const t=e.get(N),r=e.get(hs).get(Ee,{});let i=!1,s=n,a=null;const c=[];for(;!i&&s;){i=t.has(s);const d=t.hydrating.get(s);if(null===a&&null!=d){a=d.promise;break}c.unshift(s),s=r[s].p}return{parentBlockPromise:a,hydrationQueue:c}}(e,n);if(0===s.length)return;null!==i&&s.shift(),function eG(n,e){for(let t of e)n.hydrating.set(t,Promise.withResolvers())}(o,s),null!==i&&(yield i);const a=s[0];o.has(a)?yield MN(n,s,t):o.awaitParentBlock(a,g(function*(){return yield MN(n,s,t)}))}),s1.apply(this,arguments)}function MN(n,e,t){return a1.apply(this,arguments)}function a1(){return a1=g(function*(n,e,t){const o=n.get(N),r=o.hydrating,i=n.get(Rr),s=i.add();for(let c=0;c<e.length;c++){const d=e[c],f=o.get(d);if(null==f){K$(c,e,o),DN(e.slice(c),o);break}if(yield nG(f),yield tG(n),J$(f)){O9(f),DN(e.slice(c),o);break}r.get(d).resolve()}const a=e[e.length-1];yield r.get(a)?.promise,i.remove(s),t&&t(e),function P9(n,e,t,o){null!==n&&(t.cleanup(e),uT(n.lContainer),cF(o))}(o.get(a),e,o,n.get(Jn))}),a1.apply(this,arguments)}function J$(n){return Zn(n.lView,n.tNode)[1]===It.Error}function K$(n,e,t){const o=n-1,r=o>-1?t.get(e[o]):null;r&&uT(r.lContainer)}function DN(n,e){const t=e.hydrating;for(const o in n)t.get(o)?.reject();e.cleanup(n)}function tG(n){return new Promise(e=>L_(e,{injector:n}))}function nG(n){return l1.apply(this,arguments)}function l1(){return l1=g(function*(n){const{tNode:e,lView:t}=n,o=Zn(t,e);return new Promise(r=>{(function oG(n,e){Array.isArray(n[8])||(n[8]=[]),n[8].push(e)})(o,r),md(0,t,e)})}),l1.apply(this,arguments)}function En(n,e,t){return 0===n?xN(e,t):2!==n||!xN(e,t)}function xN(n,e){const t=n[9],o=Tn(n[1],e),r=q_(t),i=null!==o.flags&&!(1&~o.flags),a=null!==Zn(n,e)[6];return!(i&&a&&r)}function Dc(n,e){const t=Tn(n,e);return t.hydrateTriggers??=new Map}function Mn(n,e,t,o){const r=U();if(In(r,ar(),e)){Le();fa(xt(),r,n,e,t,o)}return Mn}function Yh(n,e){let t=!1,o=cs();for(let i=1;i<e.length;i+=2)t=In(n,o++,e[i])||t;if(ic(o),!t)return qe;let r=e[0];for(let i=1;i<e.length;i+=2)r+=Ge(e[i])+e[i+1];return r}function Xh(n,e,t,o){return In(n,ar(),t)?e+Ge(t)+o:qe}function Qh(n,e,t,o,r,i){const a=hd(n,cs(),t,r);return Ai(2),a?e+Ge(t)+o+Ge(r)+i:qe}function Zh(n,e,t,o,r,i,s,a){const d=_T(n,cs(),t,r,s);return Ai(3),d?e+Ge(t)+o+Ge(r)+i+Ge(s)+a:qe}function Jh(n,e,t,o,r,i,s,a,c,d){const p=Bi(n,cs(),t,r,s,c);return Ai(4),p?e+Ge(t)+o+Ge(r)+i+Ge(s)+a+Ge(c)+d:qe}function Kh(n,e,t,o,r,i,s,a,c,d,f,p){const y=cs();let m=Bi(n,y,t,r,s,c);return m=In(n,y+4,f)||m,Ai(5),m?e+Ge(t)+o+Ge(r)+i+Ge(s)+a+Ge(c)+d+Ge(f)+p:qe}function eg(n,e,t,o,r,i,s,a,c,d,f,p,y,m){const b=cs();let T=Bi(n,b,t,r,s,c);return T=hd(n,b+4,f,y)||T,Ai(6),T?e+Ge(t)+o+Ge(r)+i+Ge(s)+a+Ge(c)+d+Ge(f)+p+Ge(y)+m:qe}function tg(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T){const M=cs();let O=Bi(n,M,t,r,s,c);return O=_T(n,M+4,f,y,b)||O,Ai(7),O?e+Ge(t)+o+Ge(r)+i+Ge(s)+a+Ge(c)+d+Ge(f)+p+Ge(y)+m+Ge(b)+T:qe}function ng(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M,O){const x=cs();let z=Bi(n,x,t,r,s,c);return z=Bi(n,x+4,f,y,b,M)||z,Ai(8),z?e+Ge(t)+o+Ge(r)+i+Ge(s)+a+Ge(c)+d+Ge(f)+p+Ge(y)+m+Ge(b)+T+Ge(M)+O:qe}function xT(n,e){return n<<17|e<<2}function _d(n){return n>>17&32767}function c1(n){return 2|n}function og(n){return(131068&n)>>2}function u1(n,e){return-131069&n|e<<2}function d1(n){return 1|n}function NG(n,e,t,o,r,i){let s=i?e.classBindings:e.styleBindings,a=_d(s),c=og(s);n[o]=t;let f,d=!1;if(Array.isArray(t)){const p=t;f=p[1],(null===f||Mu(p,f)>0)&&(d=!0)}else f=t;if(r)if(0!==c){const y=_d(n[a+1]);n[o+1]=xT(y,a),0!==y&&(n[y+1]=u1(n[y+1],o)),n[a+1]=function PG(n,e){return 131071&n|e<<17}(n[a+1],o)}else n[o+1]=xT(a,0),0!==a&&(n[a+1]=u1(n[a+1],o)),a=o;else n[o+1]=xT(c,0),0===a?a=o:n[c+1]=u1(n[c+1],o),c=o;d&&(n[o+1]=c1(n[o+1])),UN(n,f,o,!0),UN(n,f,o,!1),function RG(n,e,t,o,r){const i=r?n.residualClasses:n.residualStyles;null!=i&&"string"==typeof e&&Mu(i,e)>=0&&(t[o+1]=d1(t[o+1]))}(e,f,n,o,i),s=xT(a,c),i?e.classBindings=s:e.styleBindings=s}function UN(n,e,t,o){const r=n[t+1],i=null===e;let s=o?_d(r):og(r),a=!1;for(;0!==s&&(!1===a||i);){const c=n[s],d=n[s+1];LG(c,e)&&(a=!0,n[s+1]=o?d1(d):c1(d)),s=o?_d(d):og(d)}a&&(n[t+1]=o?c1(r):d1(r))}function LG(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Mu(n,e)>=0}const Kn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HN(n){return n.substring(Kn.key,Kn.keyEnd)}function VG(n){return n.substring(Kn.value,Kn.valueEnd)}function jN(n,e){const t=Kn.textEnd;return t===e?-1:(e=Kn.keyEnd=function HG(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Kn.key=e,t),rg(n,e,t))}function $N(n,e){const t=Kn.textEnd;let o=Kn.key=rg(n,e,t);return t===o?-1:(o=Kn.keyEnd=function jG(n,e,t){let o;for(;e<t&&(45===(o=n.charCodeAt(e))||95===o||(-33&o)>=65&&(-33&o)<=90||o>=48&&o<=57);)e++;return e}(n,o,t),o=zN(n,o,t,58),o=Kn.value=rg(n,o,t),o=Kn.valueEnd=function $G(n,e,t){let o=-1,r=-1,i=-1,s=e,a=s;for(;s<t;){const c=n.charCodeAt(s++);if(59===c)return a;34===c||39===c?a=s=WN(n,c,s,t):e===s-4&&85===i&&82===r&&76===o&&40===c?a=s=WN(n,41,s,t):c>32&&(a=s),i=r,r=o,o=-33&c}return a}(n,o,t),zN(n,o,t,59))}function GN(n){Kn.key=0,Kn.keyEnd=0,Kn.value=0,Kn.valueEnd=0,Kn.textEnd=n.length}function rg(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function zN(n,e,t,o){return(e=rg(n,e,t))<t&&e++,e}function WN(n,e,t,o){let r=-1,i=t;for(;i<o;){const s=n.charCodeAt(i++);if(s==e&&92!==r)return i;r=92==s&&92===r?0:s}throw new Error}function A(n,e,t){const o=U();if(In(o,ar(),e)){Ur(Le(),xt(),o,n,e,o[11],t,!1)}return A}function f1(n,e,t,o,r){cx(e,n,t,r?"class":"style",o)}function $o(n,e,t){return ys(n,e,t,!1),$o}function Qe(n,e){return ys(n,e,null,!0),Qe}function vs(n){bs(QN,GG,n,!1)}function GG(n,e){for(let t=function UG(n){return GN(n),$N(n,rg(n,0,Kn.textEnd))}(e);t>=0;t=$N(e,t))QN(n,HN(e),VG(e))}function qN(n){bs(QG,ga,n,!0)}function ga(n,e){for(let t=function BG(n){return GN(n),jN(n,rg(n,0,Kn.textEnd))}(e);t>=0;t=jN(e,t))Pn(n,HN(e),!0)}function ys(n,e,t,o){const r=U(),i=Le(),s=Ai(2);if(i.firstUpdatePass&&XN(i,n,s,o),e!==qe&&In(r,s,e)){ZN(i,i.data[Qn()],r,r[11],n,r[s+1]=function JG(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=wn(fi(n)))),n}(e,t),o,s)}}function bs(n,e,t,o){const r=Le(),i=Ai(2);r.firstUpdatePass&&XN(r,null,i,o);const s=U();if(t!==qe&&In(s,i,t)){const a=r.data[Qn()];if(KN(a,o)&&!YN(r,i)){let c=o?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=bo(c,t||"")),f1(r,a,s,t,o)}else!function ZG(n,e,t,o,r,i,s,a){r===qe&&(r=vt);let c=0,d=0,f=0<r.length?r[0]:null,p=0<i.length?i[0]:null;for(;null!==f||null!==p;){const y=c<r.length?r[c+1]:void 0,m=d<i.length?i[d+1]:void 0;let T,b=null;f===p?(c+=2,d+=2,y!==m&&(b=p,T=m)):null===p||null!==f&&f<p?(c+=2,b=f):(d+=2,b=p,T=m),null!==b&&ZN(n,e,t,o,b,T,s,a),f=c<r.length?r[c]:null,p=d<i.length?i[d]:null}}(r,a,s,s[11],s[i+1],s[i+1]=function XG(n,e,t){if(null==t||""===t)return vt;const o=[],r=fi(t);if(Array.isArray(r))for(let i=0;i<r.length;i++)n(o,r[i],!0);else if("object"==typeof r)for(const i in r)r.hasOwnProperty(i)&&n(o,i,r[i]);else"string"==typeof r&&e(o,r);return o}(n,e,t),o,i)}}function YN(n,e){return e>=n.expandoStartIndex}function XN(n,e,t,o){const r=n.data;if(null===r[t+1]){const i=r[Qn()],s=YN(n,t);KN(i,o)&&null===e&&!s&&(e=!1),e=function zG(n,e,t,o){const r=oh(n);let i=o?e.residualClasses:e.residualStyles;if(null===r)0===(o?e.classBindings:e.styleBindings)&&(t=h1(null,n,e,t,o),t=bv(t,e.attrs,o),i=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=h1(r,n,e,t,o),null===i){let c=function WG(n,e,t){const o=t?e.classBindings:e.styleBindings;if(0!==og(o))return n[_d(o)]}(n,e,o);void 0!==c&&Array.isArray(c)&&(c=h1(null,n,e,c[1],o),c=bv(c,e.attrs,o),function qG(n,e,t,o){const r=t?e.classBindings:e.styleBindings;n[_d(r)]=o}(n,e,o,c))}else i=function YG(n,e,t){let o;const r=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<r;i++){o=bv(o,n[i].hostAttrs,t)}return bv(o,e.attrs,t)}(n,e,o)}return void 0!==i&&(o?e.residualClasses=i:e.residualStyles=i),t}(r,i,e,o),NG(r,i,e,t,s,o)}}function h1(n,e,t,o,r){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=e[a],o=bv(o,i.hostAttrs,r),i!==n);)a++;return null!==n&&(t.directiveStylingLast=a),o}function bv(n,e,t){const o=t?1:2;let r=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?r=s:r===o&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Pn(n,s,!!t||e[++i]))}return void 0===n?null:n}function QN(n,e,t){Pn(n,e,fi(t))}function QG(n,e,t){const o=String(e);""!==o&&!o.includes(" ")&&Pn(n,o,t)}function ZN(n,e,t,o,r,i,s,a){if(!(3&e.type))return;const c=n.data,d=c[a+1],f=function FG(n){return!(1&~n)}(d)?JN(c,e,t,r,og(d),s):void 0;if(!kT(f)){kT(i)||function OG(n){return!(2&~n)}(d)&&(i=JN(c,null,t,r,a,s));!function E5(n,e,t,o,r){if(e)r?n.addClass(t,o):n.removeClass(t,o);else{let i=-1===o.indexOf("-")?void 0:ll.DashCase;null==r?n.removeStyle(t,o,i):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),i|=ll.Important),n.setStyle(t,o,r,i))}}(o,s,tc(Qn(),t),r,i)}}function JN(n,e,t,o,r,i){const s=null===e;let a;for(;r>0;){const c=n[r],d=Array.isArray(c),f=d?c[1]:c,p=null===f;let y=t[r+1];y===qe&&(y=p?vt:void 0);let m=p?Mm(y,o):f===o?y:void 0;if(d&&!kT(m)&&(m=Mm(c,o)),kT(m)&&(a=m,s))return a;const b=n[r+1];r=s?_d(b):og(b)}if(null!==e){let c=i?e.residualClasses:e.residualStyles;null!=c&&(a=Mm(c,o))}return a}function kT(n){return void 0!==n}function KN(n,e){return!!(n.flags&(e?8:16))}function Go(n,e,t){bs(Pn,ga,Xh(U(),n,e,t),!0)}class l6{destroy(e){}updateValue(e,t){}swap(e,t){const o=Math.min(e,t),r=Math.max(e,t),i=this.detach(r);if(r-o>1){const s=this.detach(o);this.attach(o,i),this.attach(r,s)}else this.attach(o,i)}move(e,t){this.attach(t,this.detach(e))}}function g1(n,e,t,o,r){return n===t&&Object.is(e,o)?1:Object.is(r(n,e),r(t,o))?-1:0}function p1(n,e,t,o){return!(void 0===e||!e.has(o))&&(n.attach(t,e.get(o)),e.delete(o),!0)}function eR(n,e,t,o,r){if(p1(n,e,o,t(o,r)))n.updateValue(o,r);else{const i=n.create(o,r);n.attach(o,i)}}function tR(n,e,t,o){const r=new Set;for(let i=e;i<=t;i++)r.add(o(i,n.at(i)));return r}class nR{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;const t=this.kvMap.get(e);return void 0!==this._vMap&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let o=this.kvMap.get(e);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(o);)o=r.get(o);r.set(o,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,o]of this.kvMap)if(e(o,t),void 0!==this._vMap){const r=this._vMap;for(;r.has(o);)o=r.get(o),e(o,t)}}}function ge(n,e){ur("NgControlFlow");const t=U(),o=ar(),r=t[o]!==qe?t[o]:-1,i=-1!==r?AT(t,26+r):void 0;if(In(t,o,n)){const a=he(null);try{if(void 0!==i&&bx(i,0),-1!==n){const c=26+n,d=AT(t,c),f=m1(t[1],c),p=Uh(d,f.tView.ssrId);Lh(d,Fh(t,f,e,{dehydratedView:p}),0,cd(f,p))}}finally{he(a)}}else if(void 0!==i){const a=HP(i,0);void 0!==a&&(a[8]=e)}}class u6{lContainer;$implicit;$index;constructor(e,t,o){this.lContainer=e,this.$implicit=t,this.$index=o}get $count(){return this.lContainer.length-10}}function ig(n,e){return e}class f6{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,o){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=o}}function ws(n,e,t,o,r,i,s,a,c,d,f,p,y){ur("NgControlFlow");const m=U(),b=Le(),T=void 0!==c,M=U(),O=a?s.bind(M[15][8]):s,x=new f6(T,O);M[26+n]=x,_v(m,b,n+1,e,t,o,r,Bo(b.consts,i)),T&&_v(m,b,n+2,c,d,f,p,Bo(b.consts,y))}class h6 extends l6{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,o){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=o}get length(){return this.lContainer.length-10}at(e){return this.getLView(e)[8].$implicit}attach(e,t){const o=t[6];this.needsIndexUpdate||=e!==this.length,Lh(this.lContainer,t,e,cd(this.templateTNode,o))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,function g6(n,e){return tv(n,e)}(this.lContainer,e)}create(e,t){const o=Uh(this.lContainer,this.templateTNode.tView.ssrId),r=Fh(this.hostLView,this.templateTNode,new u6(this.lContainer,t,e),{dehydratedView:o});return this.operationsCounter?.recordCreate(),r}destroy(e){K_(e[1],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[8].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[8].$index=e}getLView(e){return function p6(n,e){return HP(n,e)}(this.lContainer,e)}}function Cs(n){const e=he(null),t=Qn();try{const o=U(),r=o[1],i=o[t],s=t+1,a=AT(o,s);if(void 0===i.liveCollection){const d=m1(r,s);i.liveCollection=new h6(a,o,d)}else i.liveCollection.reset();const c=i.liveCollection;if(function c6(n,e,t){let o,r,i=0,s=n.length-1;if(Array.isArray(e)){let c=e.length-1;for(;i<=s&&i<=c;){const d=n.at(i),f=e[i],p=g1(i,d,i,f,t);if(0!==p){p<0&&n.updateValue(i,f),i++;continue}const y=n.at(s),m=e[c],b=g1(s,y,c,m,t);if(0!==b){b<0&&n.updateValue(s,m),s--,c--;continue}const T=t(i,d),M=t(s,y),O=t(i,f);if(Object.is(O,M)){const x=t(c,m);Object.is(x,T)?(n.swap(i,s),n.updateValue(s,m),c--,s--):n.move(s,i),n.updateValue(i,f),i++}else if(o??=new nR,r??=tR(n,i,s,t),p1(n,o,i,O))n.updateValue(i,f),i++,s++;else if(r.has(O))o.set(T,n.detach(i)),s--;else{const x=n.create(i,e[i]);n.attach(i,x),i++,s++}}for(;i<=c;)eR(n,o,t,i,e[i]),i++}else if(null!=e){const c=e[Symbol.iterator]();let d=c.next();for(;!d.done&&i<=s;){const f=n.at(i),p=d.value,y=g1(i,f,i,p,t);if(0!==y)y<0&&n.updateValue(i,p),i++,d=c.next();else{o??=new nR,r??=tR(n,i,s,t);const m=t(i,p);if(p1(n,o,i,m))n.updateValue(i,p),i++,s++,d=c.next();else if(r.has(m)){const b=t(i,f);o.set(b,n.detach(i)),s--}else n.attach(i,n.create(i,p)),i++,s++,d=c.next()}}for(;!d.done;)eR(n,o,t,n.length,d.value),d=c.next()}for(;i<=s;)n.destroy(n.detach(s--));o?.forEach(c=>{n.destroy(c)})}(c,n,i.trackByFn),c.updateIndexes(),i.hasEmptyBlock){const d=ar(),f=0===c.length;if(In(o,d,f)){const p=t+2,y=AT(o,p);if(f){const m=m1(r,p),b=Uh(y,m.tView.ssrId);Lh(y,Fh(o,m,void 0,{dehydratedView:b}),0,cd(m,b))}else bx(y,0)}}}finally{he(e)}}function AT(n,e){return n[e]}function m1(n,e){return li(n,e)}function V(n,e,t,o){const r=U(),i=Le(),s=26+n,a=r[11],c=i.firstCreatePass?vF(s,i,r,e,sx,oc(),t,o):i.data[s],d=oR(i,r,c,a,e,n);r[s]=d;const f=xu(c);return Fr(c,!0),pP(a,d,c),!Tc(c)&&Lu()&&nT(i,r,d,c),(0===function Xm(){return He.lFrame.elementDepthCount}()||f)&&Mo(d,r),function Qm(){He.lFrame.elementDepthCount++}(),f&&(eT(i,r,c),GD(i,c,r)),null!==o&&ix(r,c),V}function j(){let n=tt();e_()?t_():(n=n.parent,Fr(n,!1));const e=n;(function Ne(n){return He.skipHydrationRootTNode===n})(e)&&function CM(){He.skipHydrationRootTNode=null}(),function Zm(){He.lFrame.elementDepthCount--}();const t=Le();return t.firstCreatePass&&yF(t,e),null!=e.classesWithoutHost&&function OM(n){return!!(8&n.flags)}(e)&&f1(t,e,U(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function PM(n){return!!(16&n.flags)}(e)&&f1(t,e,U(),e.stylesWithoutHost,!1),j}function $(n,e,t,o){return V(n,e,t,o),j(),$}let oR=(n,e,t,o,r,i)=>(Oi(!0),JS(o,r,AC()));function Qt(n,e,t){const o=U(),r=Le(),i=n+26,s=r.firstCreatePass?function v6(n,e,t,o,r){const i=e.consts,s=Bo(i,o),a=Vh(e,n,8,"ng-container",s);null!==s&&Nx(a,s,!0);const c=Bo(i,r);return oc()&&Rx(e,t,a,c,sx),a.mergedAttrs=cc(a.mergedAttrs,a.attrs),null!==e.queries&&e.queries.elementStart(e,a),a}(i,r,o,e,t):r.data[i];Fr(s,!0);const a=iR(r,o,s,n);return o[i]=a,Lu()&&nT(r,o,a,s),Mo(a,o),xu(s)&&(eT(r,o,s),GD(r,s,o)),null!=t&&ix(o,s),Qt}function Zt(){let n=tt();const e=Le();return e_()?t_():(n=n.parent,Fr(n,!1)),e.firstCreatePass&&(s_(e,n),Hm(n)&&e.queries.elementEnd(n)),Zt}let iR=(n,e,t,o)=>(Oi(!0),ex(e[11],""));function pt(){return U()}const vd=void 0;var C6=["en",[["a","p"],["AM","PM"],vd],[["AM","PM"],vd,vd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vd,"{1} 'at' {0}",vd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function w6(n){const e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===t?1:5}];let sg={};function hr(n){const e=function S6(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=cR(e);if(t)return t;const o=e.split("-")[0];if(t=cR(o),t)return t;if("en"===o)return C6;throw new J(701,!1)}function lR(n){return hr(n)[Wt.PluralCase]}function cR(n){return n in sg||(sg[n]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[n]),sg[n]}var Wt;!function(n){n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData"}(Wt||(Wt={}));const T6=["zero","one","two","few","many"];const OT="en-US",PT={marker:"element"},FT={marker:"ICU"};var gr;!function(n){n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT"}(gr||(gr={}));let uR=OT;let wv=0,Cv=0;function dR(n,e,t){const o=n[11];switch(t){case Node.COMMENT_NODE:return ex(o,e);case Node.TEXT_NODE:return KD(o,e);case Node.ELEMENT_NODE:return JS(o,e,null)}}let Sv=(n,e,t,o)=>(Oi(!0),dR(n,t,o));function fR(n,e,t,o){const r=t[11];let s,i=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const d=e[++a];null===t[d]&&(t[d]=Sv(t,d,c,Node.TEXT_NODE))}else if("number"==typeof c)switch(1&c){case 0:const d=XP(c);let f,p;if(null===i&&(i=d,s=r.parentNode(o)),d===i?(f=o,p=s):(f=null,p=lt(t[d])),null!==p){const T=QP(c);ld(r,p,t[T],f,!1);const O=sv(n,T);if(null!==O&&"object"==typeof O){const x=aT(O,t);null!==x&&fR(n,O.create[x],t,t[O.anchorIdx])}}break;case 1:const y=c>>>1,m=e[++a],b=e[++a];ax(r,tc(y,t),null,null,m,b,null)}else switch(c){case FT:const d=e[++a],f=e[++a];if(null===t[f]){Mo(t[f]=Sv(t,f,d,Node.COMMENT_NODE),t)}break;case PT:const p=e[++a],y=e[++a];if(null===t[y]){Mo(t[y]=Sv(t,y,p,Node.ELEMENT_NODE),t)}}}}function hR(n,e,t,o,r){for(let i=0;i<t.length;i++){const s=t[i],a=t[++i];if(s&r){let c="";for(let d=i+1;d<=i+a;d++){const f=t[d];if("string"==typeof f)c+=f;else if("number"==typeof f)if(f<0)c+=Ge(e[o-f]);else{const p=f>>>2;switch(3&f){case 1:const y=t[++d],m=t[++d],b=n.data[p];"string"==typeof b?ax(e[11],e[p],null,b,y,c,m):Ur(n,b,e,y,c,e[11],m,!1);break;case 0:const T=e[p];null!==T&&dP(e[11],T,c);break;case 2:F6(n,sv(n,p),e,c);break;case 3:gR(n,sv(n,p),o,e)}}}}else{const c=t[i+1];if(c>0&&!(3&~c)){const f=sv(n,c>>>2);e[f.currentCaseLViewIndex]<0&&gR(n,f,o,e)}}i+=a}}function gR(n,e,t,o){let r=o[e.currentCaseLViewIndex];if(null!==r){let i=wv;r<0&&(r=o[e.currentCaseLViewIndex]=~r,i=-1),hR(n,o,e.update[r],t,i)}}function F6(n,e,t,o){const r=function N6(n,e){let t=n.cases.indexOf(e);if(-1===t)switch(n.type){case 1:{const o=function I6(n,e){const t=lR(e)(parseInt(n,10)),o=T6[t];return void 0!==o?o:"other"}(e,function D6(){return uR}());t=n.cases.indexOf(o),-1===t&&"other"!==o&&(t=n.cases.indexOf("other"));break}case 0:t=n.cases.indexOf("other")}return-1===t?null:t}(e,o);if(aT(e,t)!==r&&(pR(n,e,t),t[e.currentCaseLViewIndex]=null===r?null:~r,null!==r)){const s=t[e.anchorIdx];s&&fR(n,e.create[r],t,s),function M9(n,e,t){sF(n,e,t)}(t,e.anchorIdx,r)}}function pR(n,e,t){let o=aT(e,t);if(null!==o){const r=e.remove[o];for(let i=0;i<r.length;i++){const s=r[i];if(s>0){const a=tc(s,t);null!==a&&Q_(t[11],a)}else pR(n,sv(n,~s),t)}}}const NT=/\ufffd(\d+):?\d*\ufffd/gi,R6=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,L6=/\ufffd(\d+)\ufffd/,_R=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Tv="\ufffd",V6=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,B6=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,U6=/\uE500/g;function j6(n,e,t,o,r,i){const s=Fu(),a=[],c=[],d=[[]],f=[[]];r=function W6(n,e){if(JP(e))return bR(n);{const t=n.indexOf(`:${e}${Tv}`)+2+e.toString().length,o=n.search(new RegExp(`${Tv}\\/\\*\\d+:${e}${Tv}`));return bR(n.substring(t,o))}}(r,i);const p=function H6(n){return n.replace(U6," ")}(r).split(B6);for(let y=0;y<p.length;y++){let m=p[y];if(1&y){const b=47===m.charCodeAt(0),T=m.charCodeAt(b?1:0),M=26+Number.parseInt(m.substring(b?2:1));if(b)d.shift(),f.shift(),Fr(Fu(),!1);else{const O=o9(n,d[0],M);d.unshift([]),Fr(O,!0);const x={kind:2,index:M,children:[],type:35===T?0:1};f[0].push(x),f.unshift(x.children)}}else{const b=_1(m);for(let T=0;T<b.length;T++){let M=b[T];if(1&T){const O=M;if("object"!=typeof O)throw new Error(`Unable to parse ICU expression in "${r}" message.`);const z=vR(n,s,d[0],t,a,"",!0).index;wR(f[0],n,t,c,e,O,z)}else{const O=M;""!==O&&$6(f[0],n,s,d[0],a,c,t,O)}}}}n.data[o]={create:a,update:c,ast:f[0],parentTNodeIndex:e}}function vR(n,e,t,o,r,i,s){const a=Z_(n,o,1,null);let c=a<<gr.SHIFT,d=Fu();e===d&&(d=null),null===d&&(c|=gr.APPEND_EAGERLY),s&&(c|=gr.COMMENT,function y5(n){void 0===ux&&(ux=n())}(i9)),r.push(c,null===i?"":i);const f=Tx(n,a,s?32:1,null===i?"":i,null);qP(t,f);const p=f.index;return Fr(f,!1),null!==d&&e!==d&&function n9(n,e){let t=n.insertBeforeIndex;null===t?(DP(zP,WP),t=n.insertBeforeIndex=[null,e]):(Mr(Array.isArray(t),!0,"Expecting array here"),t.push(e))}(d,p),f}function $6(n,e,t,o,r,i,s,a){const c=a.match(NT),f=vR(e,t,o,s,r,c?null:a,!1).index;c&&Iv(i,a,f,null,0,null),n.push({kind:0,index:f})}function Iv(n,e,t,o,r,i){const s=n.length,a=s+1;n.push(null,null);const c=s+2,d=e.split(NT);let f=0;for(let p=0;p<d.length;p++){const y=d[p];if(1&p){const m=r+parseInt(y,10);n.push(-1-m),f|=yR(m)}else""!==y&&n.push(y)}return n.push(t<<2|(o?1:0)),o&&n.push(o,i),n[s]=f,n[a]=n.length-c,f}function z6(n){let e=0;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o&&o<0&&e++}return e}function yR(n){return 1<<Math.min(n,31)}function bR(n){let e,i,t="",o=0,r=!1;for(;null!==(e=V6.exec(n));)r?e[0]===`${Tv}/*${i}${Tv}`&&(o=e.index,r=!1):(t+=n.substring(o,e.index+e[0].length),i=e[1],r=!0);return t+=n.slice(o),t}function wR(n,e,t,o,r,i,s){let a=0;const c={type:i.type,currentCaseLViewIndex:Z_(e,t,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};(function Q6(n,e,t){n.push(yR(e.mainBinding),2,-1-e.mainBinding,t<<2|2)})(o,i,s),function t9(n,e,t){const o=n.data[e];null===o?n.data[e]=t:o.value=t}(e,s,c);const d=i.values,f=[];for(let p=0;p<d.length;p++){const y=d[p],m=[];for(let T=0;T<y.length;T++){const M=y[T];if("string"!=typeof M){const O=m.push(M)-1;y[T]=`\x3c!--\ufffd${O}\ufffd--\x3e`}}const b=[];f.push(b),a=Y6(b,e,c,t,o,r,i.cases[p],y.join(""),m)|a}a&&function Z6(n,e,t){n.push(e,1,t<<2|3)}(o,a,s),n.push({kind:3,index:s,cases:f,currentCaseLViewIndex:c.currentCaseLViewIndex})}function q6(n){const e=[],t=[];let o=1,r=0;const i=_1(n=n.replace(_R,function(s,a,c){return o="select"===c?0:1,r=parseInt(a.slice(1),10),""}));for(let s=0;s<i.length;){let a=i[s++].trim();1===o&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&e.push(a);const c=_1(i[s++]);e.length>t.length&&t.push(c)}return{type:o,mainBinding:r,cases:e,values:t}}function _1(n){if(!n)return[];let e=0;const t=[],o=[],r=/[{}]/g;let i;for(r.lastIndex=0;i=r.exec(n);){const a=i.index;if("}"==i[0]){if(t.pop(),0==t.length){const c=n.substring(e,a);_R.test(c)?o.push(q6(c)):o.push(c),e=a+1}}else{if(0==t.length){const c=n.substring(e,a);o.push(c),e=a+1}t.push("{")}}const s=n.substring(e);return o.push(s),o}function Y6(n,e,t,o,r,i,s,a,c){const d=[],f=[],p=[];t.cases.push(s),t.create.push(d),t.remove.push(f),t.update.push(p);const m=$O(Ni()).getInertBodyElement(a),b=YD(m)||m;return b?CR(n,e,t,o,r,d,f,p,b,i,c,0):0}function CR(n,e,t,o,r,i,s,a,c,d,f,p){let y=0,m=c.firstChild;for(;m;){const b=Z_(e,o,1,null);switch(m.nodeType){case Node.ELEMENT_NODE:const T=m,M=T.tagName.toLowerCase();if(WD.hasOwnProperty(M)){v1(i,PT,M,d,b),e.data[b]=M;const ie=T.attributes;for(let Ze=0;Ze<ie.length;Ze++){const Xe=ie.item(Ze),yn=Xe.name.toLowerCase();Xe.value.match(NT)?qO.hasOwnProperty(yn)&&(qD[yn]?Iv(a,Xe.value,b,Xe.name,0,qS):Iv(a,Xe.value,b,Xe.name,0,null)):J6(i,b,Xe)}const ye={kind:1,index:b,children:[]};n.push(ye),y=CR(ye.children,e,t,o,r,i,s,a,m,b,f,p+1)|y,SR(s,b,p)}break;case Node.TEXT_NODE:const O=m.textContent||"",x=O.match(NT);v1(i,null,x?"":O,d,b),SR(s,b,p),x&&(y=Iv(a,O,b,null,0,null)|y),n.push({kind:0,index:b});break;case Node.COMMENT_NODE:const z=L6.exec(m.textContent||"");if(z){const ye=f[parseInt(z[1],10)];v1(i,FT,"",d,b),wR(n,e,o,r,d,ye,b),X6(s,b,p)}}m=m.nextSibling}return y}function SR(n,e,t){0===t&&n.push(e)}function X6(n,e,t){0===t&&(n.push(~e),n.push(e))}function v1(n,e,t,o,r){null!==e&&n.push(e),n.push(t,r,function r9(n,e,t){return n|e<<17|t<<1}(0,o,r))}function J6(n,e,t){n.push(e<<1|1,t.name,t.value)}const K6=/\[(\ufffd.+?\ufffd?)\]/,e8=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,t8=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,n8=/{([A-Z0-9_]+)}/g,o8=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,r8=/\/\*/,i8=/\d+\:(\d+)/;function IR(n,e,t=-1){const o=Le(),r=U(),i=26+n,s=Bo(o.consts,e),a=Fu();if(o.firstCreatePass&&j6(o,null===a?0:a.index,r,i,s,t),2===o.type){r[15][2]|=32}else r[2]|=32;const c=o.data[i],f=TP(o,a===r[5]?null:a,r),p=a&&8&a.type?r[a.index]:null;(function _9(n,e,t,o){rF(n,e,t,o)})(r,i,a,t),function P6(n,e,t,o){const r=n[11];for(let i=0;i<e.length;i++){const s=e[i++],a=e[i],c=(s&gr.COMMENT)===gr.COMMENT,d=(s&gr.APPEND_EAGERLY)===gr.APPEND_EAGERLY,f=s>>>gr.SHIFT;let p=n[f],y=!1;null===p&&(p=n[f]=Sv(n,f,a,c?Node.COMMENT_NODE:Node.TEXT_NODE),y=Lu()),d&&null!==t&&y&&ld(r,t,p,o,!1)}}(r,c.create,f,p),xC(!0)}function ER(){xC(!1)}function DR(n,e,t){return function o(r){if(r===Function)return t;ev(To(n)?fo(n.index,e):e,5);const s=e[8];let a=xR(e,s,t,r),c=o.__ngNextListenerFn__;for(;c;)a=xR(e,s,c,r)&&a,c=c.__ngNextListenerFn__;return a}}function xR(n,e,t,o){const r=he(null);try{return St(6,e,t),!1!==t(o)}catch(i){return function d8(n,e){const t=n[9],o=t?t.get(di,null):null;o&&o.handleError(e)}(n,i),!1}finally{St(7,e,t),he(r)}}function kR(n,e,t,o,r,i){const s=e[t],a=e[1],f=s[a.data[t].outputs[o]],p=a.firstCreatePass?Kf(a):null,y=Jf(e),m=f.subscribe(i),b=y.length;y.push(i,m),p&&p.push(r,n.index,b,-(b+1))}function Ie(n,e,t,o){const r=U(),i=Le(),s=tt();return y1(i,r,r[11],s,n,e,o),Ie}function y1(n,e,t,o,r,i,s){const a=xu(o),d=n.firstCreatePass?Kf(n):null,f=Jf(e);let p=!0;if(3&o.type||s){const y=uo(o,e),m=s?s(y):y,b=f.length,T=s?O=>s(lt(O[o.index])):o.index;let M=null;if(!s&&a&&(M=function f8(n,e,t,o){const r=n.cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const s=r[i];if(s===t&&r[i+1]===o){const a=e[7],c=r[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(n,e,r,o.index)),null!==M){(M.__ngLastListenerFn__||M).__ngNextListenerFn__=i,M.__ngLastListenerFn__=i,p=!1}else{(function E(n,e,t,o){I(n,e,t,o)})(e,m,r,i=DR(o,e,i));const O=t.listen(m,r,i);f.push(i,O),d&&d.push(r,T,b,b+1)}}else i=DR(o,e,i);if(p){const y=o.outputs?.[r],m=o.hostDirectiveOutputs?.[r];if(m&&m.length)for(let b=0;b<m.length;b+=2){const T=m[b],M=m[b+1];kR(o,e,T,M,r,i)}if(y&&y.length)for(const b of y)kR(o,e,b,r,r,i)}}function D(n=1){return function el(n){return(He.lFrame.contextLView=qm(n,He.lFrame.contextLView))[8]}(n)}function h8(n,e){let t=null;const o=function Xj(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const i=e[r];if("*"!==i){if(null===o?cP(n,i,!0):Jj(o,i))return r}else t=r}return t}function b1(n){const e=U()[15][5];if(!e.projection){const t=n?n.length:1,o=e.projection=Pf(t,null),r=o.slice();let i=e.child;for(;null!==i;){if(128!==i.type){const s=n?h8(i,n):0;null!==s&&(r[s]?r[s].projectionNext=i:o[s]=i,r[s]=i)}i=i.next}}}function w1(n,e=0,t,o,r,i){const s=U(),a=Le(),c=o?n+1:null;null!==c&&_v(s,a,c,o,r,i,null,t);const d=Vh(a,26+n,16,null,t||null);null===d.projection&&(d.projection=e),t_();const p=!s[6]||Pr();null===s[15][5].projection[d.projection]&&null!==c?function g8(n,e,t){const o=26+t,r=e.data[o],i=n[o],s=Uh(i,r.tView.ssrId),a=Fh(n,r,void 0,{dehydratedView:s});Lh(i,a,0,cd(r,s))}(s,a,c):p&&!Tc(d)&&function T5(n,e,t){kP(e[11],0,e,t,gx(n,t,e),IP(t.parent||e[5],t,e))}(a,s,d)}function Ev(n,e,t,o,r){const i=U(),s=Xh(i,e,t,o);if(s!==qe){Ur(Le(),xt(),i,n,s,i[11],r,!1)}return Ev}function pr(n,e,t){kF(n,e,t)}function mr(n){const e=U(),t=Le(),o=n_();sc(o+1);const r=zx(t,o);if(n.dirty&&function Wf(n){return!(4&~n[2])}(e)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const i=PF(e,o);n.reset(i,lS),n.notifyOnChanges()}return!0}return!1}function _r(){return Gx(U(),n_())}function Ui(n){return Ja(MC(),26+n)}function Hn(n,e=""){const t=U(),o=Le(),r=n+26,i=o.firstCreatePass?Vh(o,r,1,e,null):o.data[r],s=QR(o,t,i,e,n);t[r]=s,Lu()&&nT(o,t,s,i),Fr(i,!1)}let QR=(n,e,t,o,r)=>(Oi(!0),KD(e[11],o));function C1(n){return ag("",n,""),C1}function ag(n,e,t){const o=U(),r=Xh(o,n,e,t);return r!==qe&&cl(o,Qn(),r),ag}function S1(n,e,t,o,r){const i=U(),s=Qh(i,n,e,t,o,r);return s!==qe&&cl(i,Qn(),s),S1}function cl(n,e,t){const o=tc(e,n);dP(n[11],o,t)}const s2={};function Mv(n){const e=Le(),t=U(),o=n+26;return Fr(Vh(e,o,128,null,null),!1),zf(e,t,o,s2),Mv}function lg(n){ur("NgLet");return zf(Le(),U(),Qn(),n),n}function mo(n){const t=Ja(MC(),26+n);if(t===s2)throw new J(314,!1);return t}function T1(n,e,t,o,r){if(n=Ue(n),Array.isArray(n))for(let i=0;i<n.length;i++)T1(n[i],e,t,o,r);else{const i=Le(),s=U(),a=tt();let c=Qs(n)?n:Ue(n.provide);const d=Js(n),f=1048575&a.providerIndexes,p=a.directiveStart,y=a.providerIndexes>>20;if(Qs(n)||!n.multi){const m=new Uu(d,r,ne),b=E1(c,e,r?f:f+y,p);-1===b?(g_(sh(a,s),i,c),I1(i,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[b]=m,s[b]=m)}else{const m=E1(c,e,f+y,p),b=E1(c,e,f,f+y),T=m>=0&&t[m],M=b>=0&&t[b];if(r&&!M||!r&&!T){g_(sh(a,s),i,c);const O=function N8(n,e,t,o,r){const i=new Uu(n,t,ne);return i.multi=[],i.index=e,i.componentProviders=0,a2(i,r,o&&!t),i}(r?F8:P8,t.length,r,o,d);!r&&M&&(t[b].providerFactory=O),I1(i,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else{I1(i,n,m>-1?m:b,a2(t[r?b:m],d,!r&&o))}!r&&o&&M&&t[b].componentProviders++}}}function I1(n,e,t,o){const r=Qs(e),i=function pC(n){return!!n.useClass}(e);if(r||i){const c=(i?Ue(e.useClass):e).prototype.ngOnDestroy;if(c){const d=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const f=d.indexOf(t);-1===f?d.push(t,[o,c]):d[f+1].push(o,c)}else d.push(t,c)}}}function a2(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function E1(n,e,t,o){for(let r=t;r<o;r++)if(e[r]===n)return r;return-1}function P8(n,e,t,o,r){return M1(this.multi,[])}function F8(n,e,t,o,r){const i=this.multi;let s;if(this.providerFactory){const a=this.providerFactory.componentProviders,c=dc(o,o[1],this.providerFactory.index,r);s=c.slice(0,a),M1(i,s);for(let d=a;d<c.length;d++)s.push(c[d])}else s=[],M1(i,s);return s}function M1(n,e){for(let t=0;t<n.length;t++){const o=n[t];e.push(o())}return e}function Ht(n,e=[]){return t=>{t.providersResolver=(o,r)=>function O8(n,e,t){const o=Le();if(o.firstCreatePass){const r=ir(n);T1(t,o.data,o.blueprint,r,!0),T1(e,o.data,o.blueprint,r,!1)}}(o,r?r(n):n,e)}}function RT(n){if("function"==typeof n)return n;const e=On(n);return e.some(Df)?()=>e.map(Ue).map(l2):e.map(l2)}function l2(n){return Px(n)?n.ngModule:n}function xc(n,e,t,o){return d2(U(),Io(),n,e,t,o)}function c2(n,e,t,o,r){return f2(U(),Io(),n,e,t,o,r)}function u2(n,e,t,o,r,i,s){return g2(U(),Io(),n,e,t,o,r,i,s)}function Dv(n,e){const t=n[e];return t===qe?void 0:t}function d2(n,e,t,o,r,i){const s=e+t;return In(n,s,r)?ha(n,s+1,i?o.call(i,r):o(r)):Dv(n,s+1)}function f2(n,e,t,o,r,i,s){const a=e+t;return hd(n,a,r,i)?ha(n,a+2,s?o.call(s,r,i):o(r,i)):Dv(n,a+2)}function h2(n,e,t,o,r,i,s,a){const c=e+t;return _T(n,c,r,i,s)?ha(n,c+3,a?o.call(a,r,i,s):o(r,i,s)):Dv(n,c+3)}function g2(n,e,t,o,r,i,s,a,c){const d=e+t;return Bi(n,d,r,i,s,a)?ha(n,d+4,c?o.call(c,r,i,s,a):o(r,i,s,a)):Dv(n,d+4)}function p2(n,e,t,o,r,i){let s=e+t,a=!1;for(let c=0;c<r.length;c++)In(n,s++,r[c])&&(a=!0);return a?ha(n,s,o.apply(i,r)):Dv(n,s)}function fn(n,e){const t=Le();let o;const r=n+26;t.firstCreatePass?(o=function W8(n,e){if(e)for(let t=e.length-1;t>=0;t--){const o=e[t];if(n===o.name)return o}}(e,t.pipeRegistry),t.data[r]=o,o.onDestroy&&(t.destroyHooks??=[]).push(r,o.onDestroy)):o=t.data[r];const i=o.factory||(o.factory=Ys(o.type));const a=Yn(ne);try{const c=ih(!1),d=i();return ih(c),zf(t,U(),r,d),d}finally{Yn(a)}}function Hi(n,e,t){const o=n+26,r=U(),i=Ja(r,o);return xv(r,o)?d2(r,Io(),e,i.transform,t,i):i.transform(t)}function pi(n,e,t,o){const r=n+26,i=U(),s=Ja(i,r);return xv(i,r)?f2(i,Io(),e,s.transform,t,o,s):s.transform(t,o)}function xv(n,e){return n[1].data[e].pure}function LT(n,e,t,o,r){const i=r[1];if(i!==o.tView)for(let s=26;s<i.bindingStartIndex;s++){const a=r[s];if(Rn(a)){De(a[0])&&LT(n,e,t,o,a[0]);for(let c=10;c<a.length;c++)LT(n,e,t,o,a[c])}else De(a)&&LT(n,e,t,o,a)}else(function oz(n,e,t,o,r){const i=r[8];let s=r[0];const a=r[3],c=r[5],d=r[9].get(ft,null),f=()=>{if(o.encapsulation===Br.ShadowDom){const b=s.cloneNode(!1);s.replaceWith(b),s=b}const p=mP(t),y=KS(a,p,i,nx(t),s,c,null,null,null,null,null);(function rz(n,e,t,o){for(let r=26;r<n[1].bindingStartIndex;r++){const i=n[r];if((De(i)||Rn(i))&&i[4]===e){i[4]=t;break}}n[12]===e&&(n[12]=t),n[13]===e&&(n[13]=t),t[4]=e[4],e[4]=null,n[o]=t})(a,r,y,c.index),K_(r[1],r);const m=r[10].rendererFactory;(function nz(n,e){n.componentReplaced?.(e.id)})(m,o),y[11]=m.createRenderer(s,t),CP(r[1],r),function iz(n){if(null!==n.projection){for(const e of n.projection)l_(e)&&(e.projectionNext=null,e.flags&=-3);n.projection=null}}(c),tT(p,y,i),RP(p,y,p.template,i)};null===d?m2(n,e,f):d.run(()=>m2(n,e,f))})(n,e,t,o,r)}function m2(n,e,t){try{t()}catch(o){const r=o;if(null!==e&&r.message){const i=r.message+(r.stack?"\n"+r.stack:"");n?.hot?.send?.("angular:invalidate",{id:e,message:i,error:!0})}throw o}}const vr={\u0275\u0275attribute:Mn,\u0275\u0275attributeInterpolate1:function AN(n,e,t,o,r,i){const s=U(),a=Xh(s,e,t,o);if(a!==qe){fa(xt(),s,n,a,r,i)}return AN},\u0275\u0275attributeInterpolate2:function ON(n,e,t,o,r,i,s,a){const c=U(),d=Qh(c,e,t,o,r,i);if(d!==qe){fa(xt(),c,n,d,s,a)}return ON},\u0275\u0275attributeInterpolate3:function PN(n,e,t,o,r,i,s,a,c,d){const f=U(),p=Zh(f,e,t,o,r,i,s,a);if(p!==qe){fa(xt(),f,n,p,c,d)}return PN},\u0275\u0275attributeInterpolate4:function FN(n,e,t,o,r,i,s,a,c,d,f,p){const y=U(),m=Jh(y,e,t,o,r,i,s,a,c,d);if(m!==qe){fa(xt(),y,n,m,f,p)}return FN},\u0275\u0275attributeInterpolate5:function NN(n,e,t,o,r,i,s,a,c,d,f,p,y,m){const b=U(),T=Kh(b,e,t,o,r,i,s,a,c,d,f,p);if(T!==qe){fa(xt(),b,n,T,y,m)}return NN},\u0275\u0275attributeInterpolate6:function RN(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T){const M=U(),O=eg(M,e,t,o,r,i,s,a,c,d,f,p,y,m);if(O!==qe){fa(xt(),M,n,O,b,T)}return RN},\u0275\u0275attributeInterpolate7:function LN(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M,O){const x=U(),z=tg(x,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T);if(z!==qe){fa(xt(),x,n,z,M,O)}return LN},\u0275\u0275attributeInterpolate8:function VN(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M,O,x,z){const ie=U(),ye=ng(ie,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M,O);if(ye!==qe){fa(xt(),ie,n,ye,x,z)}return VN},\u0275\u0275attributeInterpolateV:function BN(n,e,t,o){const r=U(),i=Yh(r,e);if(i!==qe){fa(xt(),r,n,i,t,o)}return BN},\u0275\u0275defineComponent:$e,\u0275\u0275defineDirective:xe,\u0275\u0275defineInjectable:F,\u0275\u0275defineInjector:Ro,\u0275\u0275defineNgModule:gi,\u0275\u0275definePipe:xo,\u0275\u0275directiveInject:ne,\u0275\u0275getInheritedFactory:rt,\u0275\u0275inject:L,\u0275\u0275injectAttribute:ch,\u0275\u0275invalidFactory:hF,\u0275\u0275invalidFactoryDep:Af,\u0275\u0275templateRefExtractor:function Q8(n,e){return iT(n,e)},\u0275\u0275resetView:Me,\u0275\u0275HostDirectivesFeature:function Y4(n){const e=t=>{const o=Array.isArray(n);null===t.hostDirectives?(t.findHostDirectiveDefs=KF,t.hostDirectives=o?n.map(Zx):[n]):o?t.hostDirectives.unshift(...n.map(Zx)):t.hostDirectives.unshift(n)};return e.ngInherit=!0,e},\u0275\u0275NgOnChangesFeature:ta,\u0275\u0275ProvidersFeature:Ht,\u0275\u0275CopyDefinitionFeature:function q4(n){let t,e=JF(n.type);t=ir(n)?e.\u0275cmp:e.\u0275dir;const o=n;for(const r of z4)o[r]=t[r];if(ir(t))for(const r of W4)o[r]=t[r]},\u0275\u0275InheritDefinitionFeature:ze,\u0275\u0275ExternalStylesFeature:function R8(n){return e=>{n.length<1||(e.getExternalStyles=t=>n.map(r=>r+"?ngcomp"+(t?"="+encodeURIComponent(t):"")+"&e="+e.encapsulation))}},\u0275\u0275nextContext:D,\u0275\u0275namespaceHTML:function MM(){!function DM(){He.lFrame.currentNamespace=null}()},\u0275\u0275namespaceMathML:function EM(){He.lFrame.currentNamespace="math"},\u0275\u0275namespaceSVG:lc,\u0275\u0275enableBindings:function eh(){He.bindingsEnabled=!0},\u0275\u0275disableBindings:function Ka(){He.bindingsEnabled=!1},\u0275\u0275elementStart:V,\u0275\u0275elementEnd:j,\u0275\u0275element:$,\u0275\u0275elementContainerStart:Qt,\u0275\u0275elementContainerEnd:Zt,\u0275\u0275elementContainer:function rR(n,e,t){return Qt(n,e,t),Zt(),rR},\u0275\u0275pureFunction0:function B8(n,e,t){const o=Io()+n,r=U();return r[o]===qe?ha(r,o,t?e.call(t):e()):mv(r,o)},\u0275\u0275pureFunction1:xc,\u0275\u0275pureFunction2:c2,\u0275\u0275pureFunction3:function U8(n,e,t,o,r,i){return h2(U(),Io(),n,e,t,o,r,i)},\u0275\u0275pureFunction4:u2,\u0275\u0275pureFunction5:function H8(n,e,t,o,r,i,s,a){const c=Io()+n,d=U(),f=Bi(d,c,t,o,r,i);return In(d,c+4,s)||f?ha(d,c+5,a?e.call(a,t,o,r,i,s):e(t,o,r,i,s)):mv(d,c+5)},\u0275\u0275pureFunction6:function j8(n,e,t,o,r,i,s,a,c){const d=Io()+n,f=U(),p=Bi(f,d,t,o,r,i);return hd(f,d+4,s,a)||p?ha(f,d+6,c?e.call(c,t,o,r,i,s,a):e(t,o,r,i,s,a)):mv(f,d+6)},\u0275\u0275pureFunction7:function $8(n,e,t,o,r,i,s,a,c,d){const f=Io()+n,p=U();let y=Bi(p,f,t,o,r,i);return _T(p,f+4,s,a,c)||y?ha(p,f+7,d?e.call(d,t,o,r,i,s,a,c):e(t,o,r,i,s,a,c)):mv(p,f+7)},\u0275\u0275pureFunction8:function G8(n,e,t,o,r,i,s,a,c,d,f){const p=Io()+n,y=U(),m=Bi(y,p,t,o,r,i);return Bi(y,p+4,s,a,c,d)||m?ha(y,p+8,f?e.call(f,t,o,r,i,s,a,c,d):e(t,o,r,i,s,a,c,d)):mv(y,p+8)},\u0275\u0275pureFunctionV:function z8(n,e,t,o){return p2(U(),Io(),n,e,t,o)},\u0275\u0275getCurrentView:pt,\u0275\u0275restoreView:_e,\u0275\u0275listener:Ie,\u0275\u0275projection:w1,\u0275\u0275syntheticHostProperty:function aR(n,e,t){const o=U();if(In(o,ar(),e)){const i=Le(),s=xt();Ur(i,s,o,n,e,wP(oh(i.data),s,o),t,!0)}return aR},\u0275\u0275syntheticHostListener:function AR(n,e){const t=tt(),o=U(),r=Le();return y1(r,o,wP(oh(r.data),t,o),t,n,e),AR},\u0275\u0275pipeBind1:Hi,\u0275\u0275pipeBind2:pi,\u0275\u0275pipeBind3:function q8(n,e,t,o,r){const i=n+26,s=U(),a=Ja(s,i);return xv(s,i)?h2(s,Io(),e,a.transform,t,o,r,a):a.transform(t,o,r)},\u0275\u0275pipeBind4:function Y8(n,e,t,o,r,i){const s=n+26,a=U(),c=Ja(a,s);return xv(a,s)?g2(a,Io(),e,c.transform,t,o,r,i,c):c.transform(t,o,r,i)},\u0275\u0275pipeBindV:function X8(n,e,t){const o=n+26,r=U(),i=Ja(r,o);return xv(r,o)?p2(r,Io(),e,i.transform,t,i):i.transform.apply(i,t)},\u0275\u0275projectionDef:b1,\u0275\u0275hostProperty:function sR(n,e,t){const o=U();if(In(o,ar(),e)){Ur(Le(),xt(),o,n,e,o[11],t,!0)}return sR},\u0275\u0275property:A,\u0275\u0275propertyInterpolate:function OR(n,e,t){return Ev(n,"",e,"",t),OR},\u0275\u0275propertyInterpolate1:Ev,\u0275\u0275propertyInterpolate2:function PR(n,e,t,o,r,i,s){const a=U(),c=Qh(a,e,t,o,r,i);if(c!==qe){Ur(Le(),xt(),a,n,c,a[11],s,!1)}return PR},\u0275\u0275propertyInterpolate3:function FR(n,e,t,o,r,i,s,a,c){const d=U(),f=Zh(d,e,t,o,r,i,s,a);if(f!==qe){Ur(Le(),xt(),d,n,f,d[11],c,!1)}return FR},\u0275\u0275propertyInterpolate4:function NR(n,e,t,o,r,i,s,a,c,d,f){const p=U(),y=Jh(p,e,t,o,r,i,s,a,c,d);if(y!==qe){Ur(Le(),xt(),p,n,y,p[11],f,!1)}return NR},\u0275\u0275propertyInterpolate5:function RR(n,e,t,o,r,i,s,a,c,d,f,p,y){const m=U(),b=Kh(m,e,t,o,r,i,s,a,c,d,f,p);if(b!==qe){Ur(Le(),xt(),m,n,b,m[11],y,!1)}return RR},\u0275\u0275propertyInterpolate6:function LR(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b){const T=U(),M=eg(T,e,t,o,r,i,s,a,c,d,f,p,y,m);if(M!==qe){Ur(Le(),xt(),T,n,M,T[11],b,!1)}return LR},\u0275\u0275propertyInterpolate7:function VR(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M){const O=U(),x=tg(O,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T);if(x!==qe){Ur(Le(),xt(),O,n,x,O[11],M,!1)}return VR},\u0275\u0275propertyInterpolate8:function BR(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M,O,x){const z=U(),ie=ng(z,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M,O);if(ie!==qe){Ur(Le(),xt(),z,n,ie,z[11],x,!1)}return BR},\u0275\u0275propertyInterpolateV:function UR(n,e,t){const o=U(),r=Yh(o,e);if(r!==qe){Ur(Le(),xt(),o,n,r,o[11],t,!1)}return UR},\u0275\u0275pipe:fn,\u0275\u0275queryRefresh:mr,\u0275\u0275queryAdvance:function v8(n=1){sc(n_()+n)},\u0275\u0275viewQuery:pr,\u0275\u0275viewQuerySignal:function _8(n,e,t,o){LF(n,kF(e,t,o))},\u0275\u0275loadQuery:_r,\u0275\u0275contentQuery:function p8(n,e,t,o){AF(n,e,t,o)},\u0275\u0275contentQuerySignal:function m8(n,e,t,o,r){LF(e,AF(n,t,o,r))},\u0275\u0275reference:Ui,\u0275\u0275classMap:qN,\u0275\u0275classMapInterpolate1:Go,\u0275\u0275classMapInterpolate2:function KG(n,e,t,o,r){bs(Pn,ga,Qh(U(),n,e,t,o,r),!0)},\u0275\u0275classMapInterpolate3:function e6(n,e,t,o,r,i,s){bs(Pn,ga,Zh(U(),n,e,t,o,r,i,s),!0)},\u0275\u0275classMapInterpolate4:function t6(n,e,t,o,r,i,s,a,c){bs(Pn,ga,Jh(U(),n,e,t,o,r,i,s,a,c),!0)},\u0275\u0275classMapInterpolate5:function n6(n,e,t,o,r,i,s,a,c,d,f){bs(Pn,ga,Kh(U(),n,e,t,o,r,i,s,a,c,d,f),!0)},\u0275\u0275classMapInterpolate6:function o6(n,e,t,o,r,i,s,a,c,d,f,p,y){bs(Pn,ga,eg(U(),n,e,t,o,r,i,s,a,c,d,f,p,y),!0)},\u0275\u0275classMapInterpolate7:function r6(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b){bs(Pn,ga,tg(U(),n,e,t,o,r,i,s,a,c,d,f,p,y,m,b),!0)},\u0275\u0275classMapInterpolate8:function i6(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M){bs(Pn,ga,ng(U(),n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M),!0)},\u0275\u0275classMapInterpolateV:function s6(n){bs(Pn,ga,Yh(U(),n),!0)},\u0275\u0275styleMap:vs,\u0275\u0275styleMapInterpolate1:function y8(n,e,t){vs(Xh(U(),n,e,t))},\u0275\u0275styleMapInterpolate2:function b8(n,e,t,o,r){vs(Qh(U(),n,e,t,o,r))},\u0275\u0275styleMapInterpolate3:function w8(n,e,t,o,r,i,s){vs(Zh(U(),n,e,t,o,r,i,s))},\u0275\u0275styleMapInterpolate4:function C8(n,e,t,o,r,i,s,a,c){vs(Jh(U(),n,e,t,o,r,i,s,a,c))},\u0275\u0275styleMapInterpolate5:function S8(n,e,t,o,r,i,s,a,c,d,f){vs(Kh(U(),n,e,t,o,r,i,s,a,c,d,f))},\u0275\u0275styleMapInterpolate6:function T8(n,e,t,o,r,i,s,a,c,d,f,p,y){vs(eg(U(),n,e,t,o,r,i,s,a,c,d,f,p,y))},\u0275\u0275styleMapInterpolate7:function I8(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b){vs(tg(U(),n,e,t,o,r,i,s,a,c,d,f,p,y,m,b))},\u0275\u0275styleMapInterpolate8:function E8(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M){vs(ng(U(),n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M))},\u0275\u0275styleMapInterpolateV:function M8(n){vs(Yh(U(),n))},\u0275\u0275styleProp:$o,\u0275\u0275stylePropInterpolate1:function HR(n,e,t,o,r){return ys(n,Xh(U(),e,t,o),r,!1),HR},\u0275\u0275stylePropInterpolate2:function jR(n,e,t,o,r,i,s){return ys(n,Qh(U(),e,t,o,r,i),s,!1),jR},\u0275\u0275stylePropInterpolate3:function $R(n,e,t,o,r,i,s,a,c){return ys(n,Zh(U(),e,t,o,r,i,s,a),c,!1),$R},\u0275\u0275stylePropInterpolate4:function GR(n,e,t,o,r,i,s,a,c,d,f){return ys(n,Jh(U(),e,t,o,r,i,s,a,c,d),f,!1),GR},\u0275\u0275stylePropInterpolate5:function zR(n,e,t,o,r,i,s,a,c,d,f,p,y){return ys(n,Kh(U(),e,t,o,r,i,s,a,c,d,f,p),y,!1),zR},\u0275\u0275stylePropInterpolate6:function WR(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b){return ys(n,eg(U(),e,t,o,r,i,s,a,c,d,f,p,y,m),b,!1),WR},\u0275\u0275stylePropInterpolate7:function qR(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M){return ys(n,tg(U(),e,t,o,r,i,s,a,c,d,f,p,y,m,b,T),M,!1),qR},\u0275\u0275stylePropInterpolate8:function YR(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M,O,x){return ys(n,ng(U(),e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M,O),x,!1),YR},\u0275\u0275stylePropInterpolateV:function XR(n,e,t){return ys(n,Yh(U(),e),t,!1),XR},\u0275\u0275classProp:Qe,\u0275\u0275advance:P,\u0275\u0275template:te,\u0275\u0275conditional:ge,\u0275\u0275defer:function cG(n,e,t,o,r,i,s,a,c,d){const f=U(),p=Le(),y=n+26,m=_v(f,p,n,null,0,0),b=f[9];if(p.firstCreatePass){ur("NgDefer");const ye={primaryTmplIndex:e,loadingTmplIndex:o??null,placeholderTmplIndex:r??null,errorTmplIndex:i??null,placeholderBlockConfig:null,loadingBlockConfig:null,dependencyResolverFn:t??null,loadingState:dn.NOT_STARTED,loadingPromise:null,providers:null,hydrateTriggers:null,debug:null,flags:d??0};c?.(p,ye,a,s),function OD(n,e,t){const o=rd(e);n.data[o]=t}(p,y,ye)}const T=f[y];IF(T,m,f);let M=null,O=null;if(T[6]?.length>0){const ye=T[6][0].data;O=ye.di??null,M=ye.s}const x=[null,il.Initial,null,null,null,null,O,M,null,null];!function AD(n,e,t){n[1],n[rd(e)]=t}(f,y,x);let z=null;null!==O&&(z=b.get(N),z.add(O,{lView:f,tNode:m,lContainer:T}));const ie=()=>{FS(x),null!==O&&z?.cleanup([O])};sl(0,x,()=>Zf(f,ie)),Qf(f,ie)},\u0275\u0275deferWhen:function uG(n){const e=U(),t=xt();if(!En(0,e,t))return;if(In(e,ar(),n)){const r=he(null);try{const i=!!n,a=Zn(e,t)[1];!1===i&&a===il.Initial?Gh(e,t):!0===i&&(a===il.Initial||a===It.Placeholder)&&md(0,e,t)}finally{he(r)}}},\u0275\u0275deferOnIdle:function gG(){En(0,U(),tt())&&SN(vT)},\u0275\u0275deferOnImmediate:function _G(){const n=U(),e=tt();En(0,n,e)&&(null===Tn(n[1],e).loadingTmplIndex&&Gh(n,e),md(0,n,e))},\u0275\u0275deferOnTimer:function bG(n){En(0,U(),tt())&&SN(bT(n))},\u0275\u0275deferOnHover:function SG(n,e){const t=U(),o=tt();En(0,t,o)&&(Gh(t,o),Sc(t,o,n,e,US,()=>md(0,t,o),0))},\u0275\u0275deferOnInteraction:function EG(n,e){const t=U(),o=tt();En(0,t,o)&&(Gh(t,o),Sc(t,o,n,e,BS,()=>md(0,t,o),0))},\u0275\u0275deferOnViewport:function xG(n,e){const t=U(),o=tt();En(0,t,o)&&(Gh(t,o),Sc(t,o,n,e,z_,()=>md(0,t,o),0))},\u0275\u0275deferPrefetchWhen:function dG(n){const e=U();if(!En(1,e,xt()))return;if(In(e,ar(),n)){const r=he(null);try{const i=!!n,s=e[1],a=xt(),c=Tn(s,a);!0===i&&c.loadingState===dn.NOT_STARTED&&yv(c,e,a)}finally{he(r)}}},\u0275\u0275deferPrefetchOnIdle:function pG(){En(1,U(),tt())&&TN(vT)},\u0275\u0275deferPrefetchOnImmediate:function vG(){const n=U(),e=tt();if(!En(1,n,e))return;const o=Tn(n[1],e);o.loadingState===dn.NOT_STARTED&&i1(o,n,e)},\u0275\u0275deferPrefetchOnTimer:function wG(n){En(1,U(),tt())&&TN(bT(n))},\u0275\u0275deferPrefetchOnHover:function TG(n,e){const t=U(),o=tt();if(!En(1,t,o))return;const i=Tn(t[1],o);i.loadingState===dn.NOT_STARTED&&Sc(t,o,n,e,US,()=>yv(i,t,o),1)},\u0275\u0275deferPrefetchOnInteraction:function MG(n,e){const t=U(),o=tt();if(!En(1,t,o))return;const i=Tn(t[1],o);i.loadingState===dn.NOT_STARTED&&Sc(t,o,n,e,BS,()=>yv(i,t,o),1)},\u0275\u0275deferPrefetchOnViewport:function kG(n,e){const t=U(),o=tt();if(!En(1,t,o))return;const i=Tn(t[1],o);i.loadingState===dn.NOT_STARTED&&Sc(t,o,n,e,z_,()=>yv(i,t,o),1)},\u0275\u0275deferHydrateWhen:function fG(n){const e=U(),t=xt();if(!En(2,e,t))return;const o=ar();if(Dc(Le(),t).set(6,null),In(e,o,n)){const s=e[9],a=he(null);try{if(!0==!!n){Mc(s,Zn(e,t)[6])}}finally{he(a)}}},\u0275\u0275deferHydrateNever:function hG(){const n=U(),e=tt();En(2,n,e)&&Dc(Le(),e).set(7,null)},\u0275\u0275deferHydrateOnIdle:function mG(){const n=U(),e=tt();En(2,n,e)&&(Dc(Le(),e).set(0,null),IN(vT,n,e))},\u0275\u0275deferHydrateOnImmediate:function yG(){const n=U(),e=tt();if(En(2,n,e)){Dc(Le(),e).set(1,null);Mc(n[9],Zn(n,e)[6])}},\u0275\u0275deferHydrateOnTimer:function CG(n){const e=U(),t=tt();En(2,e,t)&&(Dc(Le(),t).set(5,{delay:n}),IN(bT(n),e,t))},\u0275\u0275deferHydrateOnHover:function IG(){const n=U(),e=tt();En(2,n,e)&&Dc(Le(),e).set(4,null)},\u0275\u0275deferHydrateOnInteraction:function DG(){const n=U(),e=tt();En(2,n,e)&&Dc(Le(),e).set(3,null)},\u0275\u0275deferHydrateOnViewport:function AG(){const n=U(),e=tt();En(2,n,e)&&Dc(Le(),e).set(2,null)},\u0275\u0275deferEnableTimerScheduling:function l$(n,e,t,o){const r=n.consts;null!=t&&(e.placeholderBlockConfig=Bo(r,t)),null!=o&&(e.loadingBlockConfig=Bo(r,o)),null===e1&&(e1=a$)},\u0275\u0275repeater:Cs,\u0275\u0275repeaterCreate:ws,\u0275\u0275repeaterTrackByIndex:function d6(n){return n},\u0275\u0275repeaterTrackByIdentity:ig,\u0275\u0275componentInstance:function a6(){return U()[15][8]},\u0275\u0275text:Hn,\u0275\u0275textInterpolate:C1,\u0275\u0275textInterpolate1:ag,\u0275\u0275textInterpolate2:S1,\u0275\u0275textInterpolate3:function ZR(n,e,t,o,r,i,s){const a=U(),c=Zh(a,n,e,t,o,r,i,s);return c!==qe&&cl(a,Qn(),c),ZR},\u0275\u0275textInterpolate4:function JR(n,e,t,o,r,i,s,a,c){const d=U(),f=Jh(d,n,e,t,o,r,i,s,a,c);return f!==qe&&cl(d,Qn(),f),JR},\u0275\u0275textInterpolate5:function KR(n,e,t,o,r,i,s,a,c,d,f){const p=U(),y=Kh(p,n,e,t,o,r,i,s,a,c,d,f);return y!==qe&&cl(p,Qn(),y),KR},\u0275\u0275textInterpolate6:function e2(n,e,t,o,r,i,s,a,c,d,f,p,y){const m=U(),b=eg(m,n,e,t,o,r,i,s,a,c,d,f,p,y);return b!==qe&&cl(m,Qn(),b),e2},\u0275\u0275textInterpolate7:function t2(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b){const T=U(),M=tg(T,n,e,t,o,r,i,s,a,c,d,f,p,y,m,b);return M!==qe&&cl(T,Qn(),M),t2},\u0275\u0275textInterpolate8:function n2(n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M){const O=U(),x=ng(O,n,e,t,o,r,i,s,a,c,d,f,p,y,m,b,T,M);return x!==qe&&cl(O,Qn(),x),n2},\u0275\u0275textInterpolateV:function o2(n){const e=U(),t=Yh(e,n);return t!==qe&&cl(e,Qn(),t),o2},\u0275\u0275i18n:function a8(n,e,t){IR(n,e,t),ER()},\u0275\u0275i18nAttributes:function l8(n,e){const t=Le();!function G6(n,e,t){const r=tt().index,i=[];if(n.firstCreatePass&&null===n.data[e]){for(let s=0;s<t.length;s+=2){const a=t[s],c=t[s+1];if(""!==c){if(R6.test(c))throw new Error(`ICU expressions are not supported in attributes. Message: "${c}".`);Iv(i,c,r,a,z6(i),null)}}n.data[e]=i}}(t,n+26,Bo(t.consts,e))},\u0275\u0275i18nExp:function MR(n){return function x6(n){n&&(wv|=1<<Math.min(Cv,31)),Cv++}(In(U(),ar(),n)),MR},\u0275\u0275i18nStart:IR,\u0275\u0275i18nEnd:ER,\u0275\u0275i18nApply:function c8(n){!function k6(n,e,t){if(Cv>0){const o=n.data[t];hR(n,e,Array.isArray(o)?o:o.update,cs()-Cv-1,wv)}wv=0,Cv=0}(Le(),U(),n+26)},\u0275\u0275i18nPostprocess:function u8(n,e={}){return function s8(n,e={}){let t=n;if(K6.test(n)){const o={},r=[0];t=t.replace(e8,(i,s,a)=>{const c=s||a,d=o[c]||[];if(d.length||(c.split("|").forEach(T=>{const M=T.match(i8),O=M?parseInt(M[1],10):0,x=r8.test(T);d.push([O,x,T])}),o[c]=d),!d.length)throw new Error(`i18n postprocess: unmatched placeholder - ${c}`);const f=r[r.length-1];let p=0;for(let T=0;T<d.length;T++)if(d[T][0]===f){p=T;break}const[y,m,b]=d[p];return m?r.pop():f!==y&&r.push(y),d.splice(p,1),b})}return Object.keys(e).length&&(t=t.replace(t8,(o,r,i,s,a,c)=>e.hasOwnProperty(i)?`${r}${e[i]}${c}`:o),t=t.replace(n8,(o,r)=>e.hasOwnProperty(r)?e[r]:o),t=t.replace(o8,(o,r)=>{if(e.hasOwnProperty(r)){const i=e[r];if(!i.length)throw new Error(`i18n postprocess: unmatched ICU - ${o} with key: ${r}`);return i.shift()}return o})),t}(n,e)},\u0275\u0275resolveWindow:function jj(n){return n.ownerDocument.defaultView},\u0275\u0275resolveDocument:oP,\u0275\u0275resolveBody:rP,\u0275\u0275setComponentScope:function L8(n,e,t){const o=n.\u0275cmp;o.directiveDefs=pT(e,!1),o.pipeDefs=pT(t,!0)},\u0275\u0275setNgModuleScope:function V8(n,e){return Ti(()=>{const t=nr(n,!0);t.declarations=RT(e.declarations||vt),t.imports=RT(e.imports||vt),t.exports=RT(e.exports||vt),e.bootstrap&&(t.bootstrap=RT(e.bootstrap)),hv.registerNgModule(n,e)})},\u0275\u0275registerNgModuleType:WF,\u0275\u0275getComponentDepsFactory:function Z8(n,e){return()=>{try{return hv.getComponentDependencies(n,e).dependencies}catch(t){throw console.error(`Computing dependencies in local compilation mode for the component "${n.name}" failed with the exception:`,t),t}}},\u0275setClassDebugInfo:function J8(n,e){const t=nt(n);null!==t&&(t.debugInfo=e)},\u0275\u0275declareLet:Mv,\u0275\u0275storeLet:lg,\u0275\u0275readContextLet:mo,\u0275\u0275attachSourceLocations:function A8(n,e){const t=Le(),o=U(),r=o[11],i="data-ng-source-location";for(const[s,a,c,d]of e){li(t,s+26);const p=tc(s+26,o);if(!p.hasAttribute(i)){const y=`${n}@o:${a},l:${c},c:${d}`;r.setAttribute(p,i,y)}}},\u0275\u0275sanitizeHtml:XS,\u0275\u0275sanitizeStyle:function Ej(n){const e=X_();return e?e.sanitize(hi.STYLE,n)||"":ua(n,"Style")?fi(n):Ge(n)},\u0275\u0275sanitizeResourceUrl:JO,\u0275\u0275sanitizeScript:function Mj(n){const e=X_();if(e)return HO(e.sanitize(hi.SCRIPT,n)||"");if(ua(n,"Script"))return HO(fi(n));throw new J(905,!1)},\u0275\u0275sanitizeUrl:XD,\u0275\u0275sanitizeUrlOrResourceUrl:function Aj(n,e,t){return function kj(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?JO:XD}(e,t)(n)},\u0275\u0275trustConstantHtml:function Dj(n){return Oh(n[0])},\u0275\u0275trustConstantResourceUrl:function xj(n){return function Z3(n){return BO()?.createScriptURL(n)||n}(n[0])},\u0275\u0275validateIframeAttribute:function k4(n,e,t){const o=U(),r=xt(),i=uo(r,o);if(2===r.type&&"iframe"===e.toLowerCase()){const s=i;s.src="",s.srcdoc=Oh(""),Q_(o[11],s);throw new J(-910,!1)}return n},forwardRef:Mt,resolveForwardRef:Ue,\u0275\u0275twoWayProperty:function r2(n,e,t){Eo(e)&&(e=e());const o=U();if(In(o,ar(),e)){Ur(Le(),xt(),o,n,e,o[11],t,!1)}return r2},\u0275\u0275twoWayBindingSet:function k8(n,e){const t=Eo(n);return t&&n.set(e),t},\u0275\u0275twoWayListener:function i2(n,e){const t=U(),o=Le(),r=tt();return y1(o,t,t[11],r,n,e),i2},\u0275\u0275replaceMetadata:function ez(n,e,t,o,r=null,i=null){const s=nt(n);e.apply(null,[n,t,...o]);const{newDef:a,oldDef:c}=function tz(n,e){const t={...n};return{newDef:Object.assign(n,e,{directiveDefs:t.directiveDefs,pipeDefs:t.pipeDefs,setInput:t.setInput,type:t.type}),oldDef:t}}(s,nt(n));if(n[Ul]=a,c.tView){const d=function aD(){return Vr}().values();for(const f of d)as(f)&&null===f[3]&&LT(r,i,a,c,f)}},\u0275\u0275getReplaceMetadataURL:function K8(n,e,t){const o=`./@ng/component?c=${n}&t=${encodeURIComponent(e)}`;return new URL(o,t).href}};let cg=null;const kv=[];let D1=!1;function _2(n){return Array.isArray(n)?n.every(_2):!!Ue(n)}function uz(n,e={}){(function dz(n,e,t=!1){const o=On(e.declarations||vt);let r=null;Object.defineProperty(n,os,{configurable:!0,get:()=>(null===r&&(r=pn().compileNgModule(vr,`ng:///${n.name}/\u0275mod.js`,{type:n,bootstrap:On(e.bootstrap||vt).map(Ue),declarations:o.map(Ue),imports:On(e.imports||vt).map(Ue).map(C2),exports:On(e.exports||vt).map(Ue).map(C2),schemas:e.schemas?On(e.schemas):null,id:e.id||null}),r.schemas||(r.schemas=[])),r)});let i=null;Object.defineProperty(n,Dr,{get:()=>{if(null===i){const a=pn();i=a.compileFactory(vr,`ng:///${n.name}/\u0275fac.js`,{name:n.name,type:n,deps:uh(n),target:a.FactoryTarget.NgModule,typeArgumentCount:0})}return i},configurable:!1});let s=null;Object.defineProperty(n,gt,{get:()=>{if(null===s){const a={name:n.name,type:n,providers:e.providers||vt,imports:[(e.imports||vt).map(Ue),(e.exports||vt).map(Ue)]};s=pn().compileInjector(vr,`ng:///${n.name}/\u0275inj.js`,a)}return s},configurable:!1})})(n,e),void 0!==e.id&&WF(n,e.id),function lz(n,e){kv.push({moduleType:n,ngModule:e})}(n,e)}function gz(n,e){const t=On(e.declarations||vt),o=w2(n);t.forEach(r=>{if((r=Ue(r)).hasOwnProperty(Ul)){b2(nt(r),o)}else!r.hasOwnProperty(wm)&&!r.hasOwnProperty(Hl)&&(r.ngSelectorScope=n)})}function b2(n,e){n.directiveDefs=()=>Array.from(e.compilation.directives).map(t=>t.hasOwnProperty(Ul)?nt(t):Gt(t)).filter(t=>!!t),n.pipeDefs=()=>Array.from(e.compilation.pipes).map(t=>or(t)),n.schemas=e.schemas,n.tView=null}function w2(n){if(Hh(n)){const e=hv.getNgModuleScope(n);return{schemas:nr(n,!0).schemas||null,...e}}if(ql(n)){if(null!==(nt(n)||Gt(n)))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set([n]),pipes:new Set}};if(null!==or(n))return{schemas:null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set([n])}}}throw new Error(`${n.name} does not have a module def (\u0275mod property)`)}function C2(n){return Px(n)?n.ngModule:n}let A1=0;function pz(n,e){let t=null;(function T4(n,e){GF(e)&&($h.set(n,e),pv.add(n))})(n,e),I2(n,e),Object.defineProperty(n,Ul,{get:()=>{if(null===t){const o=pn();if(GF(e)){const d=[`Component '${n.name}' is not resolved:`];throw e.templateUrl&&d.push(` - templateUrl: ${e.templateUrl}`),e.styleUrls&&e.styleUrls.length&&d.push(` - styleUrls: ${JSON.stringify(e.styleUrls)}`),e.styleUrl&&d.push(` - styleUrl: ${e.styleUrl}`),d.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(d.join("\n"))}const r=function az(){return cg}();let i=e.preserveWhitespaces;void 0===i&&(i=null!==r&&void 0!==r.preserveWhitespaces&&r.preserveWhitespaces);let s=e.encapsulation;void 0===s&&(s=null!==r&&void 0!==r.defaultEncapsulation?r.defaultEncapsulation:Br.Emulated);const a=e.templateUrl||`ng:///${n.name}/template.html`,c={...E2(n,e),typeSourceSpan:o.createParseSourceSpan("Component",n.name,a),template:e.template||"",preserveWhitespaces:i,styles:"string"==typeof e.styles?[e.styles]:e.styles||vt,animations:e.animations,declarations:[],changeDetection:e.changeDetection,encapsulation:s,interpolation:e.interpolation,viewProviders:e.viewProviders||null};A1++;try{if(c.usesInheritance&&M2(n),t=o.compileComponent(vr,a,c),c.isStandalone){const d=On(e.imports||vt),{directiveDefs:f,pipeDefs:p}=function mz(n,e){return{directiveDefs:()=>fv(n)?[...hv.getStandaloneComponentScope(n,e).compilation.directives].map(i=>nt(i)||Gt(i)).filter(i=>null!==i):[],pipeDefs:()=>fv(n)?[...hv.getStandaloneComponentScope(n,e).compilation.pipes].map(i=>or(i)).filter(i=>null!==i):[]}}(n,d);t.directiveDefs=f,t.pipeDefs=p,t.dependencies=()=>d.map(Ue)}}finally{A1--}if(0===A1&&function cz(){if(!D1){D1=!0;try{for(let n=kv.length-1;n>=0;n--){const{moduleType:e,ngModule:t}=kv[n];t.declarations&&t.declarations.every(_2)&&(kv.splice(n,1),gz(e,t))}}finally{D1=!1}}}(),function _z(n){return void 0!==n.ngSelectorScope}(n)){const d=w2(n.ngSelectorScope);b2(t,d)}if(e.schemas){if(!c.isStandalone)throw new Error(`The 'schemas' was specified for the ${_t(n)} but is only valid on a component that is standalone.`);t.schemas=e.schemas}else c.isStandalone&&(t.schemas=[])}return t},set:o=>{t=o},configurable:!1})}function S2(n,e){let t=null;I2(n,e||{}),Object.defineProperty(n,wm,{get:()=>{if(null===t){const o=T2(n,e||{});t=pn().compileDirective(vr,o.sourceMapUrl,o.metadata)}return t},configurable:!1})}function T2(n,e){const t=n&&n.name,o=`ng:///${t}/\u0275dir.js`,r=pn(),i=E2(n,e);return i.typeSourceSpan=r.createParseSourceSpan("Directive",t,o),i.usesInheritance&&M2(n),{metadata:i,sourceMapUrl:o}}function I2(n,e){let t=null;Object.defineProperty(n,Dr,{get:()=>{if(null===t){const o=T2(n,e),r=pn();t=r.compileFactory(vr,`ng:///${n.name}/\u0275fac.js`,{name:o.metadata.name,type:o.metadata.type,typeArgumentCount:0,deps:uh(n),target:r.FactoryTarget.Directive})}return t},configurable:!1})}function vz(n){return Object.getPrototypeOf(n.prototype)===Object.prototype}function E2(n,e){const t=p_(),o=t.ownPropMetadata(n);return{name:n.name,type:n,selector:void 0!==e.selector?e.selector:null,host:e.host||ri,propMetadata:o,inputs:e.inputs||vt,outputs:e.outputs||vt,queries:D2(n,o,x2),lifecycle:{usesOnChanges:t.hasLifecycleHook(n,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!vz(n),exportAs:wz(e.exportAs),providers:e.providers||null,viewQueries:D2(n,o,k2),isStandalone:void 0===e.standalone||!!e.standalone,isSignal:!!e.signals,hostDirectives:e.hostDirectives?.map(r=>"function"==typeof r?{directive:r}:r)||null}}function M2(n){const e=Object.prototype;let t=Object.getPrototypeOf(n.prototype).constructor;for(;t&&t!==e;)!Gt(t)&&!nt(t)&&Sz(t)&&S2(t,null),t=Object.getPrototypeOf(t)}function yz(n){return"string"==typeof n?O2(n):Ue(n)}function bz(n,e){return{propertyName:n,predicate:yz(e.selector),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static,emitDistinctChangesOnly:!!e.emitDistinctChangesOnly,isSignal:!!e.isSignal}}function D2(n,e,t){const o=[];for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];i.forEach(s=>{if(t(s)){if(!s.selector)throw new Error(`Can't construct a query for the property "${r}" of "${_t(n)}" since the query selector wasn't defined.`);if(i.some(A2))throw new Error("Cannot combine @Input decorators with query decorators");o.push(bz(r,s))}})}return o}function wz(n){return void 0===n?null:O2(n)}function x2(n){const e=n.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function k2(n){const e=n.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function A2(n){return"Input"===n.ngMetadataName}function O2(n){return n.split(",").map(e=>e.trim())}const Cz=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Sz(n){const e=p_();if(Cz.some(o=>e.hasLifecycleHook(n,o)))return!0;const t=e.propMetadata(n);for(const o in t){const r=t[o];for(let i=0;i<r.length;i++){const s=r[i],a=s.ngMetadataName;if(A2(s)||x2(s)||k2(s)||"Output"===a||"HostBinding"===a||"HostListener"===a)return!0}}return!1}function P2(n,e){return{type:n,name:n.name,pipeName:e.name,pure:void 0===e.pure||e.pure,isStandalone:void 0===e.standalone||!!e.standalone}}const Iz=Vl("Directive",(n={})=>n,void 0,0,(n,e)=>S2(n,e));Vl("Component",(n={})=>({changeDetection:pc.Default,...n}),Iz,0,(n,e)=>pz(n,e)),Vl("Pipe",n=>({pure:!0,...n}),void 0,0,(n,e)=>function Tz(n,e){let t=null,o=null;Object.defineProperty(n,Dr,{get:()=>{if(null===o){const r=P2(n,e),i=pn(r.type);o=i.compileFactory(vr,`ng:///${r.name}/\u0275fac.js`,{name:r.name,type:r.type,typeArgumentCount:0,deps:uh(n),target:i.FactoryTarget.Pipe})}return o},configurable:!1}),Object.defineProperty(n,Hl,{get:()=>{if(null===t){const r=P2(n,e);t=pn(r.type).compilePipe(vr,`ng:///${r.name}/\u0275pipe.js`,r)}return t},configurable:!1})}(n,e)),Ii("Input",n=>n?"string"==typeof n?{alias:n}:n:{}),Ii("Output",n=>({alias:n})),Ii("HostBinding",n=>({hostPropertyName:n})),Ii("HostListener",(n,e)=>({eventName:n,args:e})),Vl("NgModule",n=>n,void 0,0,(n,e)=>uz(n,e));class O1{full;major;minor;patch;constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}new O1("19.2.15");class Ez{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}class BT{compileModuleSync(e){return new Xx(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const t=this.compileModuleSync(e),r=da(nr(e).declarations).reduce((i,s)=>{const a=nt(s);return a&&i.push(new gv(a)),i},[]);return new Ez(t,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(t){return new(t||BT)};static \u0275prov=F({token:BT,factory:BT.\u0275fac,providedIn:"root"})}new de("");class Av{zone=C(ft);changeDetectionScheduler=C(us);applicationRef=C(Jn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(t){return new(t||Av)};static \u0275prov=F({token:Av,factory:Av.\u0275fac,providedIn:"root"})}new de("",{factory:()=>!1});function P1({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ft({...F1(),scheduleInRootZone:t}),[{provide:ft,useFactory:n},{provide:Fn,multi:!0,useFactory:()=>{const o=C(Av,{optional:!0});return()=>o.initialize()}},{provide:Fn,multi:!0,useFactory:()=>{const o=C(Ov);return()=>{o.initialize()}}},!0===e?{provide:KC,useValue:!0}:[],{provide:__,useValue:t??ZC}]}function F1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}class Ov{subscription=new bn;initialized=!1;zone=C(ft);pendingTasks=C(Rr);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ft.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ft.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||Ov)};static \u0275prov=F({token:Ov,factory:Ov.\u0275fac,providedIn:"root"})}class ul{appRef=C(Jn);taskService=C(Rr);ngZone=C(ft);zonelessEnabled=C(Gu);tracing=C(_c,{optional:!0});disableScheduling=C(KC,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new bn;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(__,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof b_||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&5===e)return;let t=!1;switch(e){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 6:case 13:this.appRef.dirtyFlags|=2,t=!0;break;case 12:this.appRef.dirtyFlags|=16,t=!0;break;case 11:t=!0;break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(t))return;const o=this.useMicrotaskScheduler?v_:eS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>o(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(0===this.appRef.dirtyFlags)return void this.cleanup();!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(t){throw this.taskService.remove(e),t}finally{this.cleanup()}this.useMicrotaskScheduler=!0,v_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(t){return new(t||ul)};static \u0275prov=F({token:ul,factory:ul.\u0275fac,providedIn:"root"})}const kc=new de("",{providedIn:"root",factory:()=>C(kc,Ke.Optional|Ke.SkipSelf)||function kz(){return typeof $localize<"u"&&$localize.locale||OT}()});new de("",{providedIn:"root",factory:()=>"USD"}),new de(""),new de("");var L2;!function(n){n[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Ignore=2]="Ignore"}(L2||(L2={}));class UT{window=null;observer=null;options=C(Un);lcpImageUrl;start(){if(typeof PerformanceObserver>"u"||this.options?.disableImageSizeWarning&&this.options?.disableImageLazyLoadWarning)return;this.observer=this.initPerformanceObserver();const e=Ni(),t=e.defaultView;if(t){this.window=t;const o=()=>{setTimeout(this.scanImages.bind(this),200)},r=()=>{"complete"===e.readyState?o():this.window?.addEventListener("load",o,{once:!0})};typeof Zone<"u"?Zone.root.run(()=>r()):r()}}ngOnDestroy(){this.observer?.disconnect()}initPerformanceObserver(){if(typeof PerformanceObserver>"u")return null;const e=new PerformanceObserver(t=>{const o=t.getEntries();if(0===o.length)return;const i=o[o.length-1].element?.src??"";i.startsWith("data:")||i.startsWith("blob:")||(this.lcpImageUrl=i)});return e.observe({type:"largest-contentful-paint",buffered:!0}),e}scanImages(){const e=Ni().querySelectorAll("img");let t,o=!1;e.forEach(r=>{this.options?.disableImageSizeWarning||!r.getAttribute("ng-img")&&this.isOversized(r)&&function Fz(n){console.warn(ts(-913,`An image with src ${n} has intrinsic file dimensions much larger than its rendered size. This can negatively impact application loading performance. For more information about addressing or disabling this warning, see https://angular.dev/errors/NG0913`))}(r.src),!this.options?.disableImageLazyLoadWarning&&this.lcpImageUrl&&r.src===this.lcpImageUrl&&(t=!0,("lazy"!==r.loading||r.getAttribute("ng-img"))&&(o=!0))}),t&&!o&&this.lcpImageUrl&&!this.options?.disableImageLazyLoadWarning&&function Pz(n){console.warn(ts(-913,`An image with src ${n} is the Largest Contentful Paint (LCP) element but was given a "loading" value of "lazy", which can negatively impact application loading performance. This warning can be addressed by changing the loading value of the LCP image to "eager", or by using the NgOptimizedImage directive's prioritization utilities. For more information about addressing or disabling this warning, see https://angular.dev/errors/NG0913`))}(this.lcpImageUrl)}isOversized(e){if(!this.window)return!1;const o=(e.src||"").toLowerCase();if([".svg"].some(T=>o.endsWith(T)))return!1;const r=this.window.getComputedStyle(e);let i=parseFloat(r.getPropertyValue("width")),s=parseFloat(r.getPropertyValue("height"));const a=r.getPropertyValue("box-sizing");if("cover"===r.getPropertyValue("object-fit"))return!1;if("border-box"===a){const T=r.getPropertyValue("padding-top"),M=r.getPropertyValue("padding-right"),O=r.getPropertyValue("padding-bottom"),x=r.getPropertyValue("padding-left");i-=parseFloat(M)+parseFloat(x),s-=parseFloat(T)+parseFloat(O)}const d=e.naturalWidth,f=e.naturalHeight,p=this.window.devicePixelRatio*i,y=this.window.devicePixelRatio*s;return d-p>=1200||f-y>=1200}static \u0275fac=function(t){return new(t||UT)};static \u0275prov=F({token:UT,factory:UT.\u0275fac,providedIn:"root"})}const HT=new de(""),Nz=new de("");function Pv(n){return!n.moduleRef}function B2(n){const e=Pv(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ft);return t.run(()=>{Pv(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();const o=e.get(di,null);let r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i=>{o.handleError(i)}})}),Pv(n)){const i=()=>e.destroy(),s=n.platformInjector.get(HT);s.add(i),e.onDestroy(()=>{r.unsubscribe(),s.delete(i)})}else{const i=()=>n.moduleRef.destroy(),s=n.platformInjector.get(HT);s.add(i),n.moduleRef.onDestroy(()=>{DT(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(i)})}return function Lz(n,e,t){try{const o=t();return ET(o)?o.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):o}catch(o){throw e.runOutsideAngular(()=>n.handleError(o)),o}}(o,t,()=>{const i=e.get(qh);return i.runInitializers(),i.donePromise.then(()=>{if(function M6(n){"string"==typeof n&&(uR=n.toLowerCase().replace(/_/g,"-"))}(e.get(kc,OT)||OT),!e.get(Nz,!0))return Pv(n)?e.get(Jn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Pv(n)){const c=e.get(Jn);return void 0!==n.rootComponent&&c.bootstrap(n.rootComponent),c}return function Rz(n,e){const t=n.injector.get(Jn);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>t.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new J(-403,!1);n.instance.ngDoBootstrap(t)}e.push(n)}(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}class ug{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,t){const o=t?.scheduleInRootZone,i=t?.ignoreChangesOutsideZone,s=[P1({ngZoneFactory:()=>function tD(n="zone.js",e){return"noop"===n?new b_:"zone.js"===n?new ft(e):n}(t?.ngZone,{...F1({eventCoalescing:t?.ngZoneEventCoalescing,runCoalescing:t?.ngZoneRunCoalescing}),scheduleInRootZone:o}),ignoreChangesOutsideZone:i}),{provide:us,useExisting:ul}],a=function P4(n,e,t){return new Yx(n,e,t,!1)}(e.moduleType,this.injector,s);return B2({moduleRef:a,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,t=[]){const o=CN({},t);return function Dz(n,e,t){const o=new Xx(t);return Promise.resolve(o)}(this.injector,0,e).then(r=>this.bootstrapModuleFactory(r,o))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t());const e=this._injector.get(HT,null);e&&(e.forEach(t=>t()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(t){return new(t||ug)(L(We))};static \u0275prov=F({token:ug,factory:ug.\u0275fac,providedIn:"platform"})}let dg=null;function U2(n,e,t=[]){const o=`Platform: ${e}`,r=new de(o);return(i=[])=>{let s=jT();if(!s){const a=[...t,...i,{provide:r,useValue:!0}];s=n?.(a)??function Vz(n){if(jT())throw new J(400,!1);wN(),dg=n;const e=n.get(ug);return j2(n),e}(H2(a,o))}return function Bz(n){const e=jT();if(!e)throw new J(401,!1);return e}()}}function H2(n=[],e){return We.create({name:e,providers:[{provide:Am,useValue:"platform"},{provide:HT,useValue:new Set([()=>dg=null])},...n]})}function jT(){return dg?.get(ug)??null}function j2(n){const e=n.get(Ku,null);Xl(n,()=>{e?.forEach(t=>t())})}class Ac{static __NG_ELEMENT_ID__=jz}function jz(n){return function $z(n,e,t){if(To(n)&&!t){const o=fo(n.index,e);return new nv(o,o)}if(175&n.type){const o=e[15];return new nv(o,e)}return null}(tt(),U(),!(16&~n))}class q2{constructor(){}supports(e){return mT(e)}create(e){return new Yz(e)}}const qz=(n,e)=>e;class Yz{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||qz}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,o=this._removalsHead,r=0,i=null;for(;t||o;){const s=!o||t&&t.currentIndex<X2(o,r,i)?t:o,a=X2(s,r,i),c=s.currentIndex;if(s===o)r--,o=o._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{i||(i=[]);const d=a-r,f=c-r;if(d!=f){for(let y=0;y<d;y++){const m=y<i.length?i[y]:i[y]=0,b=m+y;f<=b&&b<d&&(i[y]=m+1)}i[s.previousIndex]=f-d}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!mT(e))throw new J(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,i,s,t=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(o&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),o=!0),t=t._next}else r=0,function Z4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let o;for(;!(o=t.next()).done;)e(o.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(o&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),o=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,o,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(o,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new Xz(t,o),i,r),e}_verifyReinsertion(e,t,o,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,o),this._addToMoves(e,o),e}_moveAfter(e,t,o){return this._unlink(e),this._insertAfter(e,t,o),this._addToMoves(e,o),e}_addAfter(e,t,o){return this._insertAfter(e,t,o),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,o){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Y2),this._linkedRecords.put(e),e.currentIndex=o,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,o=e._next;return null===t?this._itHead=o:t._next=o,null===o?this._itTail=t:o._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Y2),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class Xz{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}}class Qz{_head=null;_tail=null;add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===t||t<=o.currentIndex)&&Object.is(o.trackById,e))return o;return null}remove(e){const t=e._prevDup,o=e._nextDup;return null===t?this._head=o:t._nextDup=o,null===o?this._tail=t:o._prevDup=t,null===this._head}}class Y2{map=new Map;put(e){const t=e.trackById;let o=this.map.get(t);o||(o=new Qz,this.map.set(t,o)),o.add(e)}get(e,t){const o=e,r=this.map.get(o);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function X2(n,e,t){const o=n.previousIndex;if(null===o)return o;let r=0;return t&&o<t.length&&(r=t[o]),o+e+r}class Q2{constructor(){}supports(e){return e instanceof Map||Jx(e)}create(){return new Zz}}class Zz{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Jx(e)))throw new J(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(o,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,o),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(r,o);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let o=t;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const o=e._prev;return t._next=e,t._prev=o,e._prev=t,o&&(o._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const i=r._prev,s=r._next;return i&&(i._next=s),s&&(s._prev=i),r._next=null,r._prev=null,r}const o=new Jz(e);return this._records.set(e,o),o.currentValue=t,this._addToAdditions(o),o}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(o=>t(e[o],o))}}class Jz{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}}function Z2(){return new dl([new q2])}class dl{factories;static \u0275prov=F({token:dl,providedIn:"root",factory:Z2});constructor(e){this.factories=e}static create(e,t){if(null!=t){const o=t.factories.slice();e=e.concat(o)}return new dl(e)}static extend(e){return{provide:dl,useFactory:t=>dl.create(e,t||Z2()),deps:[[dl,new Wl,new Of]]}}find(e){const t=this.factories.find(o=>o.supports(e));if(null!=t)return t;throw new J(901,!1)}}function J2(){return new pa([new Q2])}class pa{static \u0275prov=F({token:pa,providedIn:"root",factory:J2});factories;constructor(e){this.factories=e}static create(e,t){if(t){const o=t.factories.slice();e=e.concat(o)}return new pa(e)}static extend(e){return{provide:pa,useFactory:t=>pa.create(e,t||J2()),deps:[[pa,new Wl,new Of]]}}find(e){const t=this.factories.find(o=>o.supports(e));if(t)return t;throw new J(901,!1)}}const Kz=[new Q2],eW=[new q2],tW=(new dl(eW),new pa(Kz),U2(null,"core",[]));class zT{constructor(e){}static \u0275fac=function(t){return new(t||zT)(L(Jn))};static \u0275mod=gi({type:zT});static \u0275inj=Ro({})}function nW(n){const{rootComponent:e,appProviders:t,platformProviders:o,platformRef:r}=n;St(8);try{const i=r?.injector??function Uz(n=[]){if(dg)return dg;const e=H2(n);return dg=e,wN(),j2(e),e}(o),s=[P1({}),{provide:us,useExisting:ul},...t||[]];return B2({r3Injector:new YF({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{St(9)}}function U1(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function rn(n){return function vE(n){const e=he(null);try{return n()}finally{he(e)}}(n)}function G(n,e){return Gp(n,e?.equal)}class MW{[be];constructor(e){this[be]=e}destroy(){this[be].destroy()}}function Ve(n,e){!e?.injector&&xr();const t=e?.injector??C(We);let r,o=!0!==e?.manualCleanup?t.get(Bn):null;const i=t.get(Th,null,{optional:!0}),s=t.get(us);return null===i||e?.forceRoot?r=function AW(n,e,t){const o=Object.create(DW);return o.fn=n,o.scheduler=e,o.notifier=t,o.zone=typeof Zone<"u"?Zone.current:null,o.scheduler.schedule(o),o.notifier.notify(12),o}(n,t.get(IT),s):(r=function kW(n,e,t){const o=Object.create(xW);return o.view=n,o.zone=typeof Zone<"u"?Zone.current:null,o.notifier=e,o.fn=t,n[23]??=new Set,n[23].add(o),o.consumerMarkedDirty(o),o}(i.view,s,n),o instanceof JC&&o._lView===i.view&&(o=null)),r.injector=t,null!==o&&(r.onDestroyFn=o.onDestroy(()=>r.destroy())),new MW(r)}const fL={...Si,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:aa,run(){if(this.dirty=!1,this.hasRun&&!Ki(this))return;this.hasRun=!0;const n=o=>(this.cleanupFns??=[]).push(o),e=Jr(this),t=rc(!1);try{this.maybeCleanup(),this.fn(n)}finally{rc(t),Po(this,e)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}},DW={...fL,consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){Tr(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}},xW={...fL,consumerMarkedDirty(){this.view[2]|=8192,oa(this.view),this.notifier.notify(13)},destroy(){Tr(this),this.onDestroyFn(),this.maybeCleanup(),this.view[23]?.delete(this)}};var sn;!function(n){n[n.Idle=0]="Idle",n[n.Error=1]="Error",n[n.Loading=2]="Loading",n[n.Reloading=3]="Reloading",n[n.Resolved=4]="Resolved",n[n.Local=5]="Local"}(sn||(sn={}));const j1=Symbol("NOT_SET"),mL=new Set;new de("",{providedIn:"platform",factory:()=>null}),new de("",{providedIn:"platform",factory:()=>null}),new de("",{providedIn:"platform",factory:()=>null});const ZT={production:!0};var _L,kt,vL,Oc,yL,bL,wL,CL,SL;!function(n){n.External="External",n.MicrosoftImplicitFlow="MicrosoftImplicitFlow",n.MicrosoftCodeFlow="MicrosoftCodeFlow"}(_L||(_L={})),function(n){n.QA="qa",n.QA2="qa2",n.DEV="dev",n.DEV2="dev2",n.DEV3="dev3",n.DEV4="dev4",n.DEV5="dev5",n.DEV6="dev6",n.DEV7="dev7",n.STG="stg",n.STG_GLOBAL="stgGlobal",n.PROD="prod",n.PROD_GLOBAL="prodGlobal",n.LOCAL="local"}(kt||(kt={})),function(n){n.All="All",n.DisabledTooltip="DisabledTooltip",n.ChatButton="ChatButton",n.AutoRun="AutoRun",n.AppMobileMenu="AppMobileMenu",n.ChatHeader="ChatHeader",n.LiveChat="LiveChat",n.LocalTreeToggl="LocalTreeToggl",n.UserLanguage="UserLanguage",n.SplashScreen="SplashScreen",n.Feedback="Feedback",n.CustomSendBox="CustomSendBox",n.CustomDictationInterims="CustomDictationInterims",n.CustomMicrophoneButton="CustomMicrophoneButton",n.ResetButton="ResetButton",n.FeatureSkills="FeatureSkills",n.ProactiveSkills="ProactiveSkills",n.GDPR="GDPR",n.ResetDialog="ResetDialog",n.CustomSendButton="CustomSendButton",n.UserHistoryDialog="UserHistoryDialog",n.HistorySettingsButton="HistorySettingsButton",n.WeitConnecting="WeitConnecting",n.DropdownMenu="DropdownMenu",n.EnvironmentsSelector="EnvironmentsSelector",n.PersonaSelectorSimplified="PersonaSelectorSimplified",n.MemberFirmSelector="MemberFirmSelector",n.PersonaSelector="PersonaSelector",n.LocalTreeToggle="LocalTreeToggle",n.HeaderMenu="HeaderMenu",n.Gdrp="Gdrp",n.Alert="Alert",n.NoMemberFirm="NoMemberFirm",n.Accessibility="Accessibility",n.HXMBanner="HXMBanner",n.AiAgents="AiAgents"}(vL||(vL={})),function(n){n[n.Trained=1]="Trained",n[n.Uxt=2]="Uxt",n[n.Rc=3]="Rc",n[n.Traces=4]="Traces",n[n.Released=5]="Released",n[n.AdaptiveDialogTest=6]="AdaptiveDialogTest"}(Oc||(Oc={})),function(n){n.Active="Active",n.Suspended="Suspended"}(yL||(yL={})),function(n){n.TopLeft="Top-Left",n.TopRight="Top-Right",n.BottomLeft="Bottom-Left",n.BottomRight="Bottom-Right"}(bL||(bL={})),function(n){n.Left="left",n.Right="right"}(wL||(wL={})),function(n){n.Top="top",n.Bottom="bottom"}(CL||(CL={})),function(n){n.TopLeft="top-left",n.TopRight="top-right",n.BottomLeft="bottom-left",n.BottomRight="bottom-right"}(SL||(SL={}));const GW=[{id:kt.DEV,url:"https://d1.slate.deloitte.com",name:"DEV"},{id:kt.DEV2,url:"https://d2.slate.deloitte.com",name:"DEV2"},{id:kt.DEV3,url:"https://d3.slate.deloitte.com",name:"DEV3"},{id:kt.DEV4,url:"https://d4.slate.deloitte.com",name:"DEV4"},{id:kt.DEV5,url:"https://d5.slate.deloitte.com",name:"DEV5"},{id:kt.DEV6,url:"https://d6.slate.deloitte.com",name:"DEV6"},{id:kt.DEV7,url:"https://d7.slate.deloitte.com",name:"DEV7"},{id:kt.QA,url:"https://q1.slate.deloitte.com",name:"QA"},{id:kt.QA2,url:"https://q2.slate.deloitte.com",name:"QA2"},{id:kt.STG,url:"https://s1.slate.deloitte.com",name:"STG"},{id:kt.STG_GLOBAL,url:"https://sglobal.slate.deloitte.com",name:"STG_MIGRATION"},{id:kt.PROD,url:"https://slate.deloitte.com",name:"PROD"},{id:kt.LOCAL,url:"https://localhost:44398",name:"LOCAL"}],TL=[{id:kt.DEV,url:"https://d1-webchat.slate.deloitte.com",name:"DEV"},{id:kt.DEV2,url:"https://d2-webchat.slate.deloitte.com",name:"DEV2"},{id:kt.DEV3,url:"https://d3-webchat.slate.deloitte.com",name:"DEV3"},{id:kt.DEV4,url:"https://d4-webchat.slate.deloitte.com",name:"DEV4"},{id:kt.DEV5,url:"https://d5-webchat.slate.deloitte.com",name:"DEV5"},{id:kt.DEV6,url:"https://d6-webchat.slate.deloitte.com",name:"DEV6"},{id:kt.DEV7,url:"https://d7-webchat.slate.deloitte.com",name:"DEV7"},{id:kt.QA,url:"https://q1-webchat.slate.deloitte.com",name:"QA"},{id:kt.QA2,url:"https://q2-webchat.slate.deloitte.com",name:"QA2"},{id:kt.STG,url:"https://s1-webchat.slate.deloitte.com",name:"STAGE"},{id:kt.STG_GLOBAL,url:"https://sglobal-assistant.deloitte.com",name:"STAGE-GLOBAL"},{id:kt.PROD,url:"https://assistant.deloitte.com",name:"PROD"},{id:kt.PROD_GLOBAL,url:"https://global.assistant.deloitte.com",name:"PROD-GLOBAL"}],IL=[...TL,{id:kt.LOCAL,url:"https://localhost",name:"LOCAL"}];Oc.Trained,Oc.Uxt,Oc.Rc,Oc.Traces,Oc.Released,Oc.AdaptiveDialogTest;var eo;!function(n){n.WebSite="WebSite",n.Browser="Browser",n.Assistant="Assistant",n.Mobile="Mobile",n.Desktop="Desktop",n.SkypeForBusiness="SkypeForBusiness",n.MsTeams="MsTeams",n.AdaptiveDialogTest="AdaptiveDialogTest",n.Other="Other"}(eo||(eo={}));eo.WebSite,eo.Browser,eo.Assistant,eo.WebSite,eo.Browser,eo.Assistant,eo.Mobile,eo.Desktop,eo.SkypeForBusiness,eo.MsTeams,eo.Other;var EL,ML,DL,xL,kL,AL,Nv;!function(n){n.DAChatWidgetAPIReady="DAChatWidgetAPIReady"}(EL||(EL={})),function(n){n.Bot="bot",n.User="user"}(ML||(ML={})),function(n){n.Active="Active",n.Deactivated="Deactivated"}(DL||(DL={})),function(n){n.Ping="Ping",n.OpenEditor="OpenEditor"}(xL||(xL={})),function(n){n.Success="Success",n.Forbidden="Forbidden"}(kL||(kL={})),function(n){n[n.Production=1]="Production",n[n.Stage=2]="Stage",n[n.Dev=3]="Dev"}(AL||(AL={})),function(n){n.Plain="text/plain",n.JavaScript="text/javascript"}(Nv||(Nv={}));class fg{constructor(){this.scriptMap={}}loadScript(e,t){return new Promise((o,r)=>{if((!this.scriptMap[e.url]||e.force)&&(this.scriptMap[e.url]={loaded:!1,src:e.url,id:e.id}),this.scriptMap[e.url].loaded)return void o(!0);const i=e.document||window.document,s=i.createElement("script");t&&s.setAttribute("nonce",t),s.type=e.type||Nv.JavaScript,s.charset="utf-8",s.src=this.scriptMap[e.url].src,e.async&&(s.async=!0),e.id&&(s.id=e.id),e.attributes&&e.attributes.forEach((a,c)=>{s.setAttribute(c,a)}),s.readyState?s.onreadystatechange=()=>{("loaded"===s.readyState||"complete"===s.readyState)&&(s.onreadystatechange=null,this.scriptMap[e.url].loaded=!0,o(!0))}:s.onload=()=>{this.scriptMap[e.url].loaded=!0,o(!0)},s.onerror=a=>r(a),i.getElementsByTagName("head")[0].appendChild(s)})}removeScript(e,t){const r=(t||window.document).getElementById(e);if(!r)return!1;r.parentNode.removeChild(r);const i=Object.keys(this.scriptMap).find(s=>this.scriptMap[s].id===e);this.scriptMap[i].loaded=!1}}class WW{constructor(e){this.scriptUrl=e,this.isAsync=!0,this.attributesMap=new Map}get url(){return this.scriptUrl}get type(){return this.scriptType}set type(e){this.scriptType=e}set async(e){this.isAsync=e}get async(){return this.isAsync}set id(e){this.scriptId=e}get id(){return this.scriptId}set document(e){this.doc=e}get document(){return this.doc}set force(e){this.isForce=e}get force(){return this.isForce}get attributes(){return this.attributesMap}setAttribute(e,t){this.attributes.set(e,t)}}class hg{create(e){return new WW(e)}}const OL="glide-launch.bundle.js",qW=[...IL.map(n=>n.url),...GW.map(n=>n.url),"plugin.local",OL,"glide-standalone-app-script.bundle.js","delaney-widget.js"],$1=["style","script","iframe"];function JT(){const n=function YW(){const e=(new Error).stack;if(!e)return null;const t=e.split("\n").slice(1).reverse();for(let o=0;o<t.length;o++){const r=t[o].match(/(?:https?|file|blob|chrome-extension):\/\/[^\s)]+/);if(r)return r[0]}return""}();return!!n&&qW.some(e=>n.toLowerCase().includes(e.toLowerCase()))}const PL=()=>function XW(){const e=window.document.querySelector("meta[property='csp-nonce']");return e?e.getAttribute("content"):""}()||(()=>{const e=window.document.querySelector("meta[name='da-nonce']");return e?e.getAttribute("content"):""})()||(document.querySelector(`script[src*="${OL}"]`)?.nonce??""),KT=typeof window<"u"?window.document.createElement:null,e0=typeof Element<"u"?Element.prototype.setAttribute:null,KW=()=>{Element.prototype.setAttribute=function(n,e){if(!JT())return e0.call(this,n,e);"style"===n.toLowerCase()?e.split(";").forEach(t=>{let[o,r]=t.split(":").map(i=>i.trim());o&&r&&(this.style[o]=r)}):e0.call(this,n,e)}},e7=n=>{const e=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML");!e||!e.set||Object.defineProperty(Element.prototype,"innerHTML",{set:function(t){if(!JT())return e.set.call(this,t);"string"!=typeof t&&(t=String(t));const o=new Map;t=t.replace(/<([a-zA-Z0-9-]+)([^>]*)style=["']([^"']*)["']([^>]*)>/g,(s,a,c,d,f)=>{const p=Math.random().toString(36).substr(2,9);return o.set(p,d),`<${a} ${c} data-style-id="${p}" ${f}>`});const i=(new DOMParser).parseFromString(t,"text/html");for(i.querySelectorAll($1.join(", ")).forEach(s=>{s.setAttribute("nonce",n)}),i.querySelectorAll("[data-style-id]").forEach(s=>{const a=s.getAttribute("data-style-id");a&&o.has(a)&&s instanceof HTMLElement&&(s.style.cssText=o.get(a)||"",s.removeAttribute("data-style-id"))});this.firstChild;)this.removeChild(this.firstChild);Array.from(i.body.childNodes).forEach(s=>{this.appendChild(s.cloneNode(!0))})}})},t7=n=>{const e=Element.prototype.insertAdjacentHTML;Element.prototype.insertAdjacentHTML=function(t,o){if(!JT())return e.call(this,t,o);"string"!=typeof o&&(o=String(o));const r=new Map;o=o.replace(/<([a-zA-Z0-9-]+)([^>]*)style=["']([^"']*)["']([^>]*)>/g,(c,d,f,p,y)=>{const m=Math.random().toString(36).substr(2,9);return r.set(m,p),`<${d} ${f} data-style-id="${m}" ${y}>`});const s=(new DOMParser).parseFromString(o,"text/html");s.querySelectorAll($1.join(", ")).forEach(c=>{c.setAttribute("nonce",n)}),s.querySelectorAll("[data-style-id]").forEach(c=>{const d=c.getAttribute("data-style-id");d&&r.has(d)&&c instanceof HTMLElement&&(c.style.cssText=r.get(d)||"",c.removeAttribute("data-style-id"))});const a=document.createDocumentFragment();switch(Array.from(s.body.childNodes).forEach(c=>{a.appendChild(c.cloneNode(!0))}),t){case"beforebegin":this.parentNode?.insertBefore(a,this);break;case"afterbegin":this.insertBefore(a,this.firstChild);break;case"beforeend":this.appendChild(a);break;case"afterend":this.parentNode?.insertBefore(a,this.nextSibling)}}},n7=n=>{(n=>{window.document.createElement=function(e,t){if(!JT())return KT.call(window.document,e,t);const o=KT.call(window.document,e,t);return $1.includes(e.toLowerCase())&&o.setAttribute("nonce",n),o}})(n),KW(),e7(n),t7(n)},{getCspNonce:Use,cleanUpCspPatching:Hse}=(()=>{if(typeof window>"u")return{getCspNonce:()=>"",cleanUpCspPatching:()=>{}};const e=window;let t="";return"function"!=typeof e.DA?.getCspNonce&&(t=PL(),e.DA=e.DA||{},e.DA.getCspNonce=PL,t&&n7(t)),{getCspNonce:()=>t,cleanUpCspPatching:()=>{KT&&(window.document.createElement=KT),e0&&(Element.prototype.setAttribute=e0)}}})();function FL(n){return"string"==typeof n&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)}function t0(n){try{const t=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),o=decodeURIComponent(atob(t).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(o)}catch{return null}}function Rv(n){const{token:e}=n,t=t0(e);if("number"==typeof t?.exp)return t.exp;return Date.now()/1e3+3600}function NL(n){const{accessToken:e,expiredAccessTokenProlongedLifetimeMins:t,expiredAccessTokenMaxLifetimeMins:o}=n,r=Rv({token:e}),i=Date.now();return i/1e3-r>=60*o?null:new Date(i+60*t*1e3).getTime()/1e3}function r7(n){const{token:e}=n,t=t0(e);if(!t)return null;const{email:o,upn:r,preferred_username:i}=t;return[o,r,i].find(FL)??null}class gg{constructor(){this.defaults={iframeId:"daAuthFrame",authTimeoutMs:4e3,keepIframeOnFailed:!1,isPrevTokenFallback:!1,expiredAccessTokenProlongedLifetimeMins:30,expiredAccessTokenMaxLifetimeMins:120},this.iframeStyleElementId="daIframeStyle",this.prevTokenExpirationThresholdInMins=5}authorizeSilentlyWithIframe(e){var t=this;return g(function*(){const o={...t.defaults,...e};return yield t.getAccessToken(o)})()}createAuthIframe(e){return g(function*(){const{iframeId:t,iframeUrl:o}=e;return new Promise((r,i)=>{const s=document.getElementById(t);s&&s.remove();const a=document.createElement("iframe");a.id=t,a.style.display="none",a.src=o,a.onload=()=>{setTimeout(()=>{r(a)},500)},a.onerror=i,document.body.appendChild(a)})})()}getAccessToken(e){var t=this;return g(function*(){const{iframeUrl:o,keepIframeOnFailed:r,authTimeoutMs:i,iframeId:s,isPrevTokenFallback:a,expiredAccessTokenProlongedLifetimeMins:c,expiredAccessTokenMaxLifetimeMins:d}=e;return new Promise(function(){var f=g(function*(p,y){let m=yield t.createAuthIframe({iframeId:s,iframeUrl:o});const b=a?yield t.getPrevAccessToken({iframe:m}):null;if(b&&!t.isAccessTokenExpired({accessToken:b,thresholdInMins:t.prevTokenExpirationThresholdInMins}))return p({accessToken:b,iframe:m,expiresOn:Rv({token:b})});const T=setTimeout(g(function*(){if(a&&b){const x=NL({accessToken:b,expiredAccessTokenProlongedLifetimeMins:c,expiredAccessTokenMaxLifetimeMins:d});if("number"==typeof x){const z={iframe:m,accessToken:b,expiresOn:x};return t.setPrevAccessToken(z),p({...z,iframe:null})}}r?(m=yield t.createAuthIframe({iframeId:s,iframeUrl:o}),m.style.display="block",t.createIframeStylings(s)):y()}),i),M=x=>{const z=x.data.daAccessToken;let ie=!1;if(typeof z<"u"&&(!z&&r?(m.style.display="block",t.createIframeStylings(s)):m&&(ie=!0,setTimeout(()=>{m.remove()},2e3)),z))return clearTimeout(T),t.setPrevAccessToken({iframe:m,accessToken:null,expiresOn:-1}),window.removeEventListener("message",M),p({accessToken:z,iframe:ie?null:m,expiresOn:Rv({token:z})})};window.addEventListener("message",M);const O={action:a?"daGetCurrentOrPrevoiusAccessToken":"daGetAccessToken"};t.postMessage({iframe:m,message:O})});return function(p,y){return f.apply(this,arguments)}}())})()}getNonceFromMetaTag(){const t=window.document.querySelector("meta[name='da-nonce']");return t?t.getAttribute("content"):""}createIframeStylings(e){const t=this.iframeStyleElementId;if(document.getElementById(t))return;const r=document.createElement("style");r.id=t;const i=this.getNonceFromMetaTag();i&&(r.nonce=i);const s=`\n            #${e} {\n                width: 100px;\n                position: fixed;\n                top: 30%;\n                right: 10px;\n                z-index: 10000;\n                min-height: 210px;\n                border-radius: 5px;\n                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2)\n            }`;r.appendChild(document.createTextNode(s)),document.head.appendChild(r)}getPrevAccessToken(e){var t=this;const{iframe:o}=e;return new Promise(function(){var r=g(function*(i){const s=a=>{const c=a.data.daPreviousAccessToken;if(typeof c<"u")return window.removeEventListener("message",s),i(c)};window.addEventListener("message",s),t.postMessage({iframe:o,message:{action:"daGetPreviousAccessToken"}})});return function(i){return r.apply(this,arguments)}}())}setPrevAccessToken(e){const{iframe:t,accessToken:o,expiresOn:r}=e,i={action:"daSetPreviousAccessToken",payload:{accessToken:o,expiresOn:r}};this.postMessage({iframe:t,message:i})}postMessage(e){const{iframe:t,message:o}=e;t.contentWindow.postMessage(o,"*")}isAccessTokenExpired(e){const{accessToken:t,thresholdInMins:o}=e,s=1e3*t0(t).exp;return Date.now()+60*o*1e3>=s}}var n0;!function(n){n.Analytics="optanon-category-2",n.Functional="optanon-category-3"}(n0||(n0={}));var Y;!function(n){n[n.AssistantName=0]="AssistantName",n[n.Environment=1]="Environment",n[n.Privacy=2]="Privacy",n[n.TermsOfUse=3]="TermsOfUse",n[n.Logout=4]="Logout",n[n.AskMe=5]="AskMe",n[n.SearchLanguagePlaceholder=6]="SearchLanguagePlaceholder",n[n.SearchLanguageTitle=7]="SearchLanguageTitle",n[n.ChatWellcomeTitle=8]="ChatWellcomeTitle",n[n.ChatWellcomeSubTitle=9]="ChatWellcomeSubTitle",n[n.SendboxPlaceholder=10]="SendboxPlaceholder",n[n.VoiceInputPlaceholder=11]="VoiceInputPlaceholder",n[n.FeedbackTitle=12]="FeedbackTitle",n[n.FeedbackLikeQuestion=13]="FeedbackLikeQuestion",n[n.FeedbackProblemsQuestion=14]="FeedbackProblemsQuestion",n[n.FeedbackProblem1=15]="FeedbackProblem1",n[n.FeedbackProblem2=16]="FeedbackProblem2",n[n.FeedbackProblem3=17]="FeedbackProblem3",n[n.FeedbackCommentTitle=18]="FeedbackCommentTitle",n[n.FeedbackCommentsPlaceholder=19]="FeedbackCommentsPlaceholder",n[n.FeedbackSaveTitle=20]="FeedbackSaveTitle",n[n.FeedbackSaveThanks=21]="FeedbackSaveThanks",n[n.ResetConversationHeader=22]="ResetConversationHeader",n[n.ResetConversationDescription=23]="ResetConversationDescription",n[n.ResetConversationClearButton=24]="ResetConversationClearButton",n[n.ResetConversationKeepContentButton=25]="ResetConversationKeepContentButton",n[n.ResetConversationSuccess=26]="ResetConversationSuccess",n[n.ChatLoadingSpinner=27]="ChatLoadingSpinner",n[n.AssistantIsTyping=28]="AssistantIsTyping",n[n.PluginName=29]="PluginName",n[n.LiveAgentUnavailable=30]="LiveAgentUnavailable",n[n.LiveAgentUnavailableWitEmptyConversation=31]="LiveAgentUnavailableWitEmptyConversation",n[n.LiveAgentUnavailableWithPublicSource=32]="LiveAgentUnavailableWithPublicSource",n[n.ChatTabLabel=33]="ChatTabLabel",n[n.PersonaSelectorSimplified=34]="PersonaSelectorSimplified",n[n.PersonaSelectorPlaceholder=35]="PersonaSelectorPlaceholder",n[n.MemberFirmSelector=36]="MemberFirmSelector",n[n.MemberFirmSelectorPlaceholder=37]="MemberFirmSelectorPlaceholder",n[n.PersonaDefaultTitle=38]="PersonaDefaultTitle",n[n.LiveChatTabLabel=39]="LiveChatTabLabel",n[n.EnvironmentTitleSelector=40]="EnvironmentTitleSelector",n[n.CookieSettings=41]="CookieSettings",n[n.Sorry=42]="Sorry",n[n.NoMemberFirm=43]="NoMemberFirm",n[n.NoMemberFirmFullscreen=44]="NoMemberFirmFullscreen",n[n.NoMemberFirmEmergency=45]="NoMemberFirmEmergency",n[n.LoadingLiveAgent=46]="LoadingLiveAgent",n[n.Loading=47]="Loading",n[n.ProactiveSkillsCollapsed=48]="ProactiveSkillsCollapsed",n[n.DeloitteSource=49]="DeloitteSource",n[n.PublicSource=50]="PublicSource",n[n.ExpandWidget=51]="ExpandWidget",n[n.CollapseWidget=52]="CollapseWidget",n[n.AssistantDescription=53]="AssistantDescription",n[n.Agents=54]="Agents",n[n.SwitchAssistant=55]="SwitchAssistant",n[n.SwitchAssistantCancelButton=56]="SwitchAssistantCancelButton",n[n.SwitchAssistantConfirmButton=57]="SwitchAssistantConfirmButton",n[n.SwitchAssistantResetButton=58]="SwitchAssistantResetButton",n[n.Cookies=59]="Cookies",n[n.SearchShortLanguageTitle=60]="SearchShortLanguageTitle"}(Y||(Y={}));Y[Y.AssistantName],Y[Y.Environment],Y[Y.Privacy],Y[Y.TermsOfUse],Y[Y.Logout],Y[Y.AskMe],Y[Y.SearchLanguagePlaceholder],Y[Y.SearchLanguageTitle],Y[Y.ChatWellcomeTitle],Y[Y.ChatWellcomeSubTitle],Y[Y.SendboxPlaceholder],Y[Y.VoiceInputPlaceholder],Y[Y.FeedbackTitle],Y[Y.FeedbackLikeQuestion],Y[Y.FeedbackProblemsQuestion],Y[Y.FeedbackProblem1],Y[Y.FeedbackProblem2],Y[Y.FeedbackProblem3],Y[Y.FeedbackCommentTitle],Y[Y.FeedbackCommentsPlaceholder],Y[Y.FeedbackSaveTitle],Y[Y.FeedbackSaveThanks],Y[Y.ResetConversationHeader],Y[Y.ResetConversationDescription],Y[Y.ResetConversationClearButton],Y[Y.ResetConversationKeepContentButton],Y[Y.ResetConversationSuccess],Y[Y.ChatLoadingSpinner],Y[Y.AssistantIsTyping],Y[Y.PluginName],Y[Y.LiveAgentUnavailable],Y[Y.LiveAgentUnavailableWithPublicSource],Y[Y.LiveAgentUnavailableWitEmptyConversation],Y[Y.ChatTabLabel],Y[Y.LiveChatTabLabel],Y[Y.PersonaSelectorSimplified],Y[Y.PersonaSelectorPlaceholder],Y[Y.MemberFirmSelector],Y[Y.MemberFirmSelectorPlaceholder],Y[Y.PersonaDefaultTitle],Y[Y.EnvironmentTitleSelector],Y[Y.CookieSettings],Y[Y.NoMemberFirm],Y[Y.NoMemberFirmFullscreen],Y[Y.NoMemberFirmEmergency],Y[Y.LoadingLiveAgent],Y[Y.Loading],Y[Y.ProactiveSkillsCollapsed],Y[Y.DeloitteSource],Y[Y.PublicSource],Y[Y.ExpandWidget],Y[Y.CollapseWidget],Y[Y.AssistantDescription],Y[Y.Agents],Y[Y.SwitchAssistant],Y[Y.SwitchAssistantCancelButton],Y[Y.SwitchAssistantConfirmButton],Y[Y.SwitchAssistantResetButton],Y[Y.Cookies],Y[Y.SearchShortLanguageTitle];const Jt={environments:TL,defaultEnvironment:kt.PROD,configUpdateIntervalMs:36e5,onNavigationDebounceMs:4e3,onUrlFragmentNavigationPageLoadWaitMs:1e3,useHostSiteIframeSilentAuth:!0,authProviderPathMask:"{{envOrigin}}/assets/auth-provider",usePrevisousAccessTokenFallback:!0,expiredAccessTokenMaxLifetimeMins:120,expiredAccessTokenProlongedLifetimeMins:30,tokenExpirationThresholdMins:4,urls:{config:"/api/settings/browser-extension",glideConfig:"systems/urls",serverVariables:"/api/settings/server-variables",systemsFlowVersion:"/api/systems/flow-version"},checkUrlInInteractiveAuthIntervalMs:10,checkUrlInSilentAuthTimeoutMs:3e3,checkIframeUrlInSilentAuthTimeoutMs:9e3,authPopupWidthPx:700,defaulCurrentWindowWidthPx:1200,glideEmulatorExtensionId:"igiiohlikfbknhhkfgcdbinbhcnpeogf",targetFrames:[{name:"SharePoint Exel",url:"https://excel.officeapps.live.com"},{name:"SharePoint Word",url:"https://usc-word-edit.officeapps.live.com"},{name:"SharePoint Power Point",url:"https://usc-powerpoint.officeapps.live.com"},{name:"SharePoint One Note",url:"https://usc-onenote.officeapps.live.com"},{name:"SharePoint Visio",url:"https://usc-visio.officeapps.live.com"}],liveReload:{websocketUrl:"ws://localhost:8090",timeoutMs:1e4,retryDelayMs:500,reloadMessageBody:"reload"}};var q,LL,to;!function(n){n.TokenResult="tokenResult",n.GetToken="getToken",n.RefreshToken="refreshToken",n.AuthError="authError",n.ConfigReady="configReady",n.SiteConfigReady="siteConfigReady",n.UrlMatches="urlMatches",n.EnvChanged="envChanged",n.ClearCache="clearCache",n.NoUrlMatches="noUrlMatches",n.CheckHasExtensionWidget="checkHasExtensionWidget",n.GetAccessToken="GetAccessToken",n.RunAuth="RunAuth",n.AuthorizeSilentlyWithIframe="authorizeSilentlyWithIframe",n.DefaultPopupAuthRequest="defaultPopupAuthRequest",n.DefaultPopupAuthResult="defaultPopupAuthResult",n.AuthRedirectUrlChanged="AuthRedirectUrlChanged",n.SystemUrlChanged="SystemUrlChanged",n.KeepingLifeOfBackgroundPing="KeepingLifeOfBackgroundPing",n.ResetWaiterForProcessingFlow="ResetWaiterForProcessingFlow",n.PageLoadingCompleted="PageLoadingCompleted",n.PingOpenedEditor="PingOpenedEditor",n.PingGlideContentScript="PingGlideContentScript",n.PingRuntimeLoaded="PingRuntimeLoaded",n.InjectAdminContentScript="InjectAdminContentScript",n.InjectUserContentScript="InjectUserContentScript",n.StartStepSelectionFlow="StartStepSelectionFlow",n.StartStepRenderingFlow="StartStepRenderingFlow",n.ModifyStepFlow="ModifyStepFlow",n.CancelSelection="CancelSelection",n.GlideSelectorInvalid="GlideSelectorInvalid",n.GlideSelectorValid="GlideSelectorValid",n.RenderMenu="RenderMenu",n.ModifyMenu="ModifyMenu",n.DestroyMenu="DestroyMenu",n.RenderAIHelper="RenderAIHelper",n.ModifyAIHelper="ModifyAIHelper",n.DestroyAIHelper="DestroyAIHelper",n.RenderSmartNudge="RenderSmartNudge",n.ModifySmartNudge="ModifySmartNudge",n.DestroySmartNudge="DestroySmartNudge",n.RenderButton="RenderButton",n.ModifyButton="ModifyButton",n.DestroyButton="DestroyButton",n.AdminRunTourFromButton="AdminRunTourFromButton",n.RenderToast="RenderToast",n.ModifyToast="ModifyToast",n.DestroyToast="DestroyToast",n.StartProcessingFlows="StartProcessingFlows",n.StopProcessingFlows="StopProcessingFlows",n.StoreFlowsIfManualNavigation="StoreFlowsIfManualNavigation",n.PublishOnLoadTrigger="PublishOnLoadTrigger",n.UpdateVisibilityFlows="UpdateVisibilityFlows",n.ManualRunFlow="ManualRunFlow",n.ManualStopFlow="ManualStopFlow",n.RenderPopUp="RenderPopUp",n.ModifyPopUp="ModifyPopUp",n.DestroyPopUp="DestroyPopUp",n.RenderResource="RenderResource",n.ModifyResource="ModifyResource",n.DestroyResource="DestroyResource",n.RenderSurvey="RenderSurvey",n.ModifySurvey="ModifySurvey",n.DestroySurvey="DestroySurvey",n.StopProcessingUserFlowsOnConnection="StopProcessingUserFlowsOnConnection",n.FlowEnded="FlowEnded",n.RunningStepId="RunningStepId",n.Trigger="Trigger",n.Event="Event",n.OpenAdminEditorStateChange="OpenAdminEditorStateChange",n.UrlChange="UrlChange",n.StopAllExtensionProcesses="StopAllExtensionProcesses",n.SendAnalyticsEvent="SendAnalyticsEvent",n.SendAlertEvent="SendAlertEvent",n.GetVisitedPopUpsIds="GetVisitedPopUpsIds",n.GetSubmittedSurveysIds="GetSubmittedSurveysIds",n.GetEnhancedText="GetEnhancedText",n.SubmitSurvey="SubmitSurvey",n.GetBrowserCtx="GetBrowserCtx",n.GetApplicationCtx="GetApplicationCtx",n.GetElementByXpath="GetElementByXpath",n.GetElementVisibilityByXPath="GetElementVisibilityByXPath",n.GetElementCount="GetElementCount",n.GetElementValue="GetElementValue",n.GetElementValueMap="GetElementValueMap",n.GetElementType="GetElementType",n.EvaluateConditionsForCurrentTab="EvaluateConditionsForCurrentTab",n.GetCurrentCustomClasses="GetCurrentCustomClasses",n.PageLoadComplete="PageLoadComplete",n.HandleClientSideEvent="HandleClientSideEvent",n.StopProcessingFlowsByType="StopProcessingFlowsByType",n.SetNextGuidedTourFlowItem="SetNextGuidedTourFlowItem",n.StartFlowById="StartFlowById",n.StartFlowByGuid="StartFlowByGuid",n.StartGuidedTourByName="StartGuidedTourByName",n.UpdateClientSideState="UpdateClientSideState",n.UpdateClientSideActiveTour="UpdateClientSideActiveTour",n.SetDataForContinueInNewTabToExtensionStore="SetDataForContinueInNewTabToExtensionStore",n.NavigateTo="NavigateTo",n.CancelSelectionAllFrames="CancelSelectionAllFrames",n.IframeLoadComplete="IframeLoadComplete",n.MenuInProgress="MenuInProgress",n.RequestToggleMenu="RequestToggleMenu",n.SetMenuState="SetMenuState",n.UpdateClientSideMenuExpandedState="UpdateClientSideMenuExpandedState",n.ExecuteToggleMenu="ExecuteToggleMenu",n.ChangeMenuPlacement="ChangeMenuPlacement",n.ValidateXPathFormat="ValidateXPathFormat",n.ApplyTheme="ApplyTheme",n.SetThemeToPersistentState="SetThemeToPersistentState",n.SetGlideVariable="SetGlideVariable",n.EmulateUserInteraction="EmulateUserInteraction",n.OnExtensionInstalled="OnExtensionInstalled",n.BlockSnippetScript="BlockSnippetScript",n.RunFlowEffect="RunFlowEffect",n.LogByType="LogByType",n.ReplaceTagsInText="ReplaceTagsInText",n.ApplyNewWindowSize="ApplyNewWindowSize",n.ShowContentBasedOnCondition="ShowContentBasedOnCondition",n.RequestDownloadPdf="RequestDownloadPdf",n.GetBlobUrlByFileName="GetBlobUrlByFileName",n.GetLang="GetLang",n.SetLang="SetLang",n.GetAuthEmail="GetAuthEmail"}(q||(q={})),function(n){n.AuthCompleted="AuthCompleted",n.AuthFailed="AuthFailed",n.AuthUpdateFailed="AuthUpdateFailed",n.SetAccessToken="SetAccessToken",n.UrlMatches="UrlMatches",n.RunAuth="RunAuth",n.DAChatWidgetReady="DAChatWidgetReady"}(LL||(LL={})),function(n){n.error="error",n.errorDescription="error_description",n.accessToken="access_token",n.idToken="id_token",n.expiresIn="expires_in",n.code="code",n.refreshToken="refresh_token"}(to||(to={}));const l7={MuralIndexedDBEmailProvider:n=>{const e=n[0];if(!e)return null;const t=e?.clientState?.queries;if(!Array.isArray(t)||0===t.length)return null;const o=t.find(r=>{const i=r.queryKey;return!!Array.isArray(i)&&"mrl-user"===i[0]});return o?o.state?.data?.email??null:null}};var VL,Ft,BL,Pc,UL,HL,jL,$L,GL;!function(n){n.External="External",n.MicrosoftImplicitFlow="MicrosoftImplicitFlow",n.MicrosoftCodeFlow="MicrosoftCodeFlow"}(VL||(VL={})),function(n){n.QA="qa",n.QA2="qa2",n.DEV="dev",n.DEV2="dev2",n.DEV3="dev3",n.DEV4="dev4",n.DEV5="dev5",n.DEV6="dev6",n.DEV7="dev7",n.STG="stg",n.STG_GLOBAL="stgGlobal",n.PROD="prod",n.PROD_GLOBAL="prodGlobal",n.LOCAL="local"}(Ft||(Ft={})),function(n){n.All="All",n.DisabledTooltip="DisabledTooltip",n.ChatButton="ChatButton",n.AutoRun="AutoRun",n.AppMobileMenu="AppMobileMenu",n.ChatHeader="ChatHeader",n.LiveChat="LiveChat",n.LocalTreeToggl="LocalTreeToggl",n.UserLanguage="UserLanguage",n.SplashScreen="SplashScreen",n.Feedback="Feedback",n.CustomSendBox="CustomSendBox",n.CustomDictationInterims="CustomDictationInterims",n.CustomMicrophoneButton="CustomMicrophoneButton",n.ResetButton="ResetButton",n.FeatureSkills="FeatureSkills",n.ProactiveSkills="ProactiveSkills",n.GDPR="GDPR",n.ResetDialog="ResetDialog",n.CustomSendButton="CustomSendButton",n.UserHistoryDialog="UserHistoryDialog",n.HistorySettingsButton="HistorySettingsButton",n.WeitConnecting="WeitConnecting",n.DropdownMenu="DropdownMenu",n.EnvironmentsSelector="EnvironmentsSelector",n.PersonaSelectorSimplified="PersonaSelectorSimplified",n.MemberFirmSelector="MemberFirmSelector",n.PersonaSelector="PersonaSelector",n.LocalTreeToggle="LocalTreeToggle",n.HeaderMenu="HeaderMenu",n.Gdrp="Gdrp",n.Alert="Alert",n.NoMemberFirm="NoMemberFirm",n.Accessibility="Accessibility",n.HXMBanner="HXMBanner",n.AiAgents="AiAgents"}(BL||(BL={})),function(n){n[n.Trained=1]="Trained",n[n.Uxt=2]="Uxt",n[n.Rc=3]="Rc",n[n.Traces=4]="Traces",n[n.Released=5]="Released",n[n.AdaptiveDialogTest=6]="AdaptiveDialogTest"}(Pc||(Pc={})),function(n){n.Active="Active",n.Suspended="Suspended"}(UL||(UL={})),function(n){n.TopLeft="Top-Left",n.TopRight="Top-Right",n.BottomLeft="Bottom-Left",n.BottomRight="Bottom-Right"}(HL||(HL={})),function(n){n.Left="left",n.Right="right"}(jL||(jL={})),function(n){n.Top="top",n.Bottom="bottom"}($L||($L={})),function(n){n.TopLeft="top-left",n.TopRight="top-right",n.BottomLeft="bottom-left",n.BottomRight="bottom-right"}(GL||(GL={}));const u7=[{id:Ft.DEV,url:"https://d1.slate.deloitte.com",name:"DEV"},{id:Ft.DEV2,url:"https://d2.slate.deloitte.com",name:"DEV2"},{id:Ft.DEV3,url:"https://d3.slate.deloitte.com",name:"DEV3"},{id:Ft.DEV4,url:"https://d4.slate.deloitte.com",name:"DEV4"},{id:Ft.DEV5,url:"https://d5.slate.deloitte.com",name:"DEV5"},{id:Ft.DEV6,url:"https://d6.slate.deloitte.com",name:"DEV6"},{id:Ft.DEV7,url:"https://d7.slate.deloitte.com",name:"DEV7"},{id:Ft.QA,url:"https://q1.slate.deloitte.com",name:"QA"},{id:Ft.QA2,url:"https://q2.slate.deloitte.com",name:"QA2"},{id:Ft.STG,url:"https://s1.slate.deloitte.com",name:"STG"},{id:Ft.STG_GLOBAL,url:"https://sglobal.slate.deloitte.com",name:"STG_MIGRATION"},{id:Ft.PROD,url:"https://slate.deloitte.com",name:"PROD"},{id:Ft.LOCAL,url:"https://localhost:44398",name:"LOCAL"}],zL=[{id:Ft.DEV,url:"https://d1-webchat.slate.deloitte.com",name:"DEV"},{id:Ft.DEV2,url:"https://d2-webchat.slate.deloitte.com",name:"DEV2"},{id:Ft.DEV3,url:"https://d3-webchat.slate.deloitte.com",name:"DEV3"},{id:Ft.DEV4,url:"https://d4-webchat.slate.deloitte.com",name:"DEV4"},{id:Ft.DEV5,url:"https://d5-webchat.slate.deloitte.com",name:"DEV5"},{id:Ft.DEV6,url:"https://d6-webchat.slate.deloitte.com",name:"DEV6"},{id:Ft.DEV7,url:"https://d7-webchat.slate.deloitte.com",name:"DEV7"},{id:Ft.QA,url:"https://q1-webchat.slate.deloitte.com",name:"QA"},{id:Ft.QA2,url:"https://q2-webchat.slate.deloitte.com",name:"QA2"},{id:Ft.STG,url:"https://s1-webchat.slate.deloitte.com",name:"STAGE"},{id:Ft.STG_GLOBAL,url:"https://sglobal-assistant.deloitte.com",name:"STAGE-GLOBAL"},{id:Ft.PROD,url:"https://assistant.deloitte.com",name:"PROD"},{id:Ft.PROD_GLOBAL,url:"https://global.assistant.deloitte.com",name:"PROD-GLOBAL"}],d7=[...zL,{id:Ft.LOCAL,url:"https://localhost",name:"LOCAL"}];Pc.Trained,Pc.Uxt,Pc.Rc,Pc.Traces,Pc.Released,Pc.AdaptiveDialogTest;var mi;!function(n){n.WebSite="WebSite",n.Browser="Browser",n.Assistant="Assistant",n.Mobile="Mobile",n.Desktop="Desktop",n.SkypeForBusiness="SkypeForBusiness",n.MsTeams="MsTeams",n.AdaptiveDialogTest="AdaptiveDialogTest",n.Other="Other"}(mi||(mi={}));mi.WebSite,mi.Browser,mi.Assistant,mi.WebSite,mi.Browser,mi.Assistant,mi.Mobile,mi.Desktop,mi.SkypeForBusiness,mi.MsTeams,mi.Other;var WL,qL,YL,XL,QL,ZL,JL;!function(n){n.DAChatWidgetAPIReady="DAChatWidgetAPIReady"}(WL||(WL={})),function(n){n.Bot="bot",n.User="user"}(qL||(qL={})),function(n){n.Active="Active",n.Deactivated="Deactivated"}(YL||(YL={})),function(n){n.Ping="Ping",n.OpenEditor="OpenEditor"}(XL||(XL={})),function(n){n.Success="Success",n.Forbidden="Forbidden"}(QL||(QL={})),function(n){n[n.Production=1]="Production",n[n.Stage=2]="Stage",n[n.Dev=3]="Dev"}(ZL||(ZL={})),function(n){n.Plain="text/plain",n.JavaScript="text/javascript"}(JL||(JL={}));const KL="glide-launch.bundle.js",f7=[...d7.map(n=>n.url),...u7.map(n=>n.url),"plugin.local",KL,"glide-standalone-app-script.bundle.js","delaney-widget.js"],G1=["style","script","iframe"];function o0(){const n=function h7(){const e=(new Error).stack;if(!e)return null;const t=e.split("\n").slice(1).reverse();for(let o=0;o<t.length;o++){const r=t[o].match(/(?:https?|file|blob|chrome-extension):\/\/[^\s)]+/);if(r)return r[0]}return""}();return!!n&&f7.some(e=>n.toLowerCase().includes(e.toLowerCase()))}const eV=()=>function g7(){const e=window.document.querySelector("meta[property='csp-nonce']");return e?e.getAttribute("content"):""}()||(()=>{const e=window.document.querySelector("meta[name='da-nonce']");return e?e.getAttribute("content"):""})()||(document.querySelector(`script[src*="${KL}"]`)?.nonce??""),r0=typeof window<"u"?window.document.createElement:null,i0=typeof Element<"u"?Element.prototype.setAttribute:null,v7=()=>{Element.prototype.setAttribute=function(n,e){if(!o0())return i0.call(this,n,e);"style"===n.toLowerCase()?e.split(";").forEach(t=>{let[o,r]=t.split(":").map(i=>i.trim());o&&r&&(this.style[o]=r)}):i0.call(this,n,e)}},y7=n=>{const e=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML");!e||!e.set||Object.defineProperty(Element.prototype,"innerHTML",{set:function(t){if(!o0())return e.set.call(this,t);"string"!=typeof t&&(t=String(t));const o=new Map;t=t.replace(/<([a-zA-Z0-9-]+)([^>]*)style=["']([^"']*)["']([^>]*)>/g,(s,a,c,d,f)=>{const p=Math.random().toString(36).substr(2,9);return o.set(p,d),`<${a} ${c} data-style-id="${p}" ${f}>`});const i=(new DOMParser).parseFromString(t,"text/html");for(i.querySelectorAll(G1.join(", ")).forEach(s=>{s.setAttribute("nonce",n)}),i.querySelectorAll("[data-style-id]").forEach(s=>{const a=s.getAttribute("data-style-id");a&&o.has(a)&&s instanceof HTMLElement&&(s.style.cssText=o.get(a)||"",s.removeAttribute("data-style-id"))});this.firstChild;)this.removeChild(this.firstChild);Array.from(i.body.childNodes).forEach(s=>{this.appendChild(s.cloneNode(!0))})}})},b7=n=>{const e=Element.prototype.insertAdjacentHTML;Element.prototype.insertAdjacentHTML=function(t,o){if(!o0())return e.call(this,t,o);"string"!=typeof o&&(o=String(o));const r=new Map;o=o.replace(/<([a-zA-Z0-9-]+)([^>]*)style=["']([^"']*)["']([^>]*)>/g,(c,d,f,p,y)=>{const m=Math.random().toString(36).substr(2,9);return r.set(m,p),`<${d} ${f} data-style-id="${m}" ${y}>`});const s=(new DOMParser).parseFromString(o,"text/html");s.querySelectorAll(G1.join(", ")).forEach(c=>{c.setAttribute("nonce",n)}),s.querySelectorAll("[data-style-id]").forEach(c=>{const d=c.getAttribute("data-style-id");d&&r.has(d)&&c instanceof HTMLElement&&(c.style.cssText=r.get(d)||"",c.removeAttribute("data-style-id"))});const a=document.createDocumentFragment();switch(Array.from(s.body.childNodes).forEach(c=>{a.appendChild(c.cloneNode(!0))}),t){case"beforebegin":this.parentNode?.insertBefore(a,this);break;case"afterbegin":this.insertBefore(a,this.firstChild);break;case"beforeend":this.appendChild(a);break;case"afterend":this.parentNode?.insertBefore(a,this.nextSibling)}}},w7=n=>{(n=>{window.document.createElement=function(e,t){if(!o0())return r0.call(window.document,e,t);const o=r0.call(window.document,e,t);return G1.includes(e.toLowerCase())&&o.setAttribute("nonce",n),o}})(n),v7(),y7(n),b7(n)},{getCspNonce:oae,cleanUpCspPatching:rae}=(()=>{if(typeof window>"u")return{getCspNonce:()=>"",cleanUpCspPatching:()=>{}};const e=window;let t="";return"function"!=typeof e.DA?.getCspNonce&&(t=eV(),e.DA=e.DA||{},e.DA.getCspNonce=eV,t&&w7(t)),{getCspNonce:()=>t,cleanUpCspPatching:()=>{r0&&(window.document.createElement=r0),i0&&(Element.prototype.setAttribute=i0)}}})();var tV;!function(n){n.Analytics="optanon-category-2",n.Functional="optanon-category-3"}(tV||(tV={}));var X;!function(n){n[n.AssistantName=0]="AssistantName",n[n.Environment=1]="Environment",n[n.Privacy=2]="Privacy",n[n.TermsOfUse=3]="TermsOfUse",n[n.Logout=4]="Logout",n[n.AskMe=5]="AskMe",n[n.SearchLanguagePlaceholder=6]="SearchLanguagePlaceholder",n[n.SearchLanguageTitle=7]="SearchLanguageTitle",n[n.ChatWellcomeTitle=8]="ChatWellcomeTitle",n[n.ChatWellcomeSubTitle=9]="ChatWellcomeSubTitle",n[n.SendboxPlaceholder=10]="SendboxPlaceholder",n[n.VoiceInputPlaceholder=11]="VoiceInputPlaceholder",n[n.FeedbackTitle=12]="FeedbackTitle",n[n.FeedbackLikeQuestion=13]="FeedbackLikeQuestion",n[n.FeedbackProblemsQuestion=14]="FeedbackProblemsQuestion",n[n.FeedbackProblem1=15]="FeedbackProblem1",n[n.FeedbackProblem2=16]="FeedbackProblem2",n[n.FeedbackProblem3=17]="FeedbackProblem3",n[n.FeedbackCommentTitle=18]="FeedbackCommentTitle",n[n.FeedbackCommentsPlaceholder=19]="FeedbackCommentsPlaceholder",n[n.FeedbackSaveTitle=20]="FeedbackSaveTitle",n[n.FeedbackSaveThanks=21]="FeedbackSaveThanks",n[n.ResetConversationHeader=22]="ResetConversationHeader",n[n.ResetConversationDescription=23]="ResetConversationDescription",n[n.ResetConversationClearButton=24]="ResetConversationClearButton",n[n.ResetConversationKeepContentButton=25]="ResetConversationKeepContentButton",n[n.ResetConversationSuccess=26]="ResetConversationSuccess",n[n.ChatLoadingSpinner=27]="ChatLoadingSpinner",n[n.AssistantIsTyping=28]="AssistantIsTyping",n[n.PluginName=29]="PluginName",n[n.LiveAgentUnavailable=30]="LiveAgentUnavailable",n[n.LiveAgentUnavailableWitEmptyConversation=31]="LiveAgentUnavailableWitEmptyConversation",n[n.LiveAgentUnavailableWithPublicSource=32]="LiveAgentUnavailableWithPublicSource",n[n.ChatTabLabel=33]="ChatTabLabel",n[n.PersonaSelectorSimplified=34]="PersonaSelectorSimplified",n[n.PersonaSelectorPlaceholder=35]="PersonaSelectorPlaceholder",n[n.MemberFirmSelector=36]="MemberFirmSelector",n[n.MemberFirmSelectorPlaceholder=37]="MemberFirmSelectorPlaceholder",n[n.PersonaDefaultTitle=38]="PersonaDefaultTitle",n[n.LiveChatTabLabel=39]="LiveChatTabLabel",n[n.EnvironmentTitleSelector=40]="EnvironmentTitleSelector",n[n.CookieSettings=41]="CookieSettings",n[n.Sorry=42]="Sorry",n[n.NoMemberFirm=43]="NoMemberFirm",n[n.NoMemberFirmFullscreen=44]="NoMemberFirmFullscreen",n[n.NoMemberFirmEmergency=45]="NoMemberFirmEmergency",n[n.LoadingLiveAgent=46]="LoadingLiveAgent",n[n.Loading=47]="Loading",n[n.ProactiveSkillsCollapsed=48]="ProactiveSkillsCollapsed",n[n.DeloitteSource=49]="DeloitteSource",n[n.PublicSource=50]="PublicSource",n[n.ExpandWidget=51]="ExpandWidget",n[n.CollapseWidget=52]="CollapseWidget",n[n.AssistantDescription=53]="AssistantDescription",n[n.Agents=54]="Agents",n[n.SwitchAssistant=55]="SwitchAssistant",n[n.SwitchAssistantCancelButton=56]="SwitchAssistantCancelButton",n[n.SwitchAssistantConfirmButton=57]="SwitchAssistantConfirmButton",n[n.SwitchAssistantResetButton=58]="SwitchAssistantResetButton",n[n.Cookies=59]="Cookies",n[n.SearchShortLanguageTitle=60]="SearchShortLanguageTitle"}(X||(X={}));X[X.AssistantName],X[X.Environment],X[X.Privacy],X[X.TermsOfUse],X[X.Logout],X[X.AskMe],X[X.SearchLanguagePlaceholder],X[X.SearchLanguageTitle],X[X.ChatWellcomeTitle],X[X.ChatWellcomeSubTitle],X[X.SendboxPlaceholder],X[X.VoiceInputPlaceholder],X[X.FeedbackTitle],X[X.FeedbackLikeQuestion],X[X.FeedbackProblemsQuestion],X[X.FeedbackProblem1],X[X.FeedbackProblem2],X[X.FeedbackProblem3],X[X.FeedbackCommentTitle],X[X.FeedbackCommentsPlaceholder],X[X.FeedbackSaveTitle],X[X.FeedbackSaveThanks],X[X.ResetConversationHeader],X[X.ResetConversationDescription],X[X.ResetConversationClearButton],X[X.ResetConversationKeepContentButton],X[X.ResetConversationSuccess],X[X.ChatLoadingSpinner],X[X.AssistantIsTyping],X[X.PluginName],X[X.LiveAgentUnavailable],X[X.LiveAgentUnavailableWithPublicSource],X[X.LiveAgentUnavailableWitEmptyConversation],X[X.ChatTabLabel],X[X.LiveChatTabLabel],X[X.PersonaSelectorSimplified],X[X.PersonaSelectorPlaceholder],X[X.MemberFirmSelector],X[X.MemberFirmSelectorPlaceholder],X[X.PersonaDefaultTitle],X[X.EnvironmentTitleSelector],X[X.CookieSettings],X[X.NoMemberFirm],X[X.NoMemberFirmFullscreen],X[X.NoMemberFirmEmergency],X[X.LoadingLiveAgent],X[X.Loading],X[X.ProactiveSkillsCollapsed],X[X.DeloitteSource],X[X.PublicSource],X[X.ExpandWidget],X[X.CollapseWidget],X[X.AssistantDescription],X[X.Agents],X[X.SwitchAssistant],X[X.SwitchAssistantCancelButton],X[X.SwitchAssistantConfirmButton],X[X.SwitchAssistantResetButton],X[X.Cookies],X[X.SearchShortLanguageTitle];var nV,Te,oV;!function(n){n.ScriptPing="ScriptPing",n.NoUrlMatches="NoUrlMatches"}(nV||(nV={})),function(n){n.GuidedTour="GuidedTour",n.Launcher="Launcher",n.ShoutOutClassic="ShoutOutClassic",n.SmartTipsSet="SmartTipsSet",n.Button="Button",n.Tooltip="Tooltip",n.Menu="Menu",n.AiHelper="AiHelper",n.SmartNudges="SmartNudge"}(Te||(Te={})),function(n){n.Ruleset="Ruleset"}(oV||(oV={}));Te.GuidedTour,Te.Button,Te.Menu,Te.AiHelper,Te.SmartNudges;var s0,_i;!function(n){n.Left="left",n.Center="center",n.Right="right"}(s0||(s0={})),function(n){n.GreenAndWhite="GreenAndWhite",n.WhiteAndGreen="WhiteAndGreen",n.WhiteAndBlue="WhiteAndBlue",n.BlackAndGreen="BlackAndGreen",n.BlackAndBlue="BlackAndBlue"}(_i||(_i={}));const a0={name:_i.GreenAndWhite,configuration:{buttonTextPosition:s0.Left,notes:""}};var rV;!function(n){n.Templates="templates",n.Themes="themes",n.Flows="flows"}(rV||(rV={}));_i.GreenAndWhite,_i.WhiteAndGreen,_i.WhiteAndBlue,_i.BlackAndGreen,_i.BlackAndBlue;var iV;!function(n){n.Ascending="Ascending",n.Descending="Descending"}(iV||(iV={}));class yae{static{this.AllPagesSize=1e3}constructor(e={}){this.pageNumber=1,this.pageSize=10,this.patternName="",this.sortDirection=1,this.flowTypes=[],this.isPublished=null,this.environment=null,this.guids=[],this.creators=[],typeof e.pageNumber<"u"&&(this.pageNumber=e.pageNumber),typeof e.pageSize<"u"&&(this.pageSize=e.pageSize),typeof e.patternName<"u"&&(this.patternName=e.patternName),typeof e.sortDirection<"u"&&(this.sortDirection=e.sortDirection),typeof e.flowTypes<"u"&&(this.flowTypes=e.flowTypes),typeof e.pinnedSystemId<"u"&&(this.pinnedSystemId=e.pinnedSystemId),typeof e.isPublished<"u"&&(this.isPublished=e.isPublished),typeof e.environment<"u"&&(this.environment=e.environment),typeof e.guids<"u"&&(this.guids=e.guids),typeof e.creators<"u"&&(this.creators=e.creators)}}var yr,me,Lv,ce,an,Ss,Vv,bd,Dn,sV,aV,ji,$i,Nt,l0,Bv,Uv,lV,cV,Gi,zi,uV,dV,At,st,u0,d0;function c0(n,e){return n.data.kind===e}!function(n){n.XPath="XPath"}(yr||(yr={})),function(n){n.LeftTop="LeftTop",n.LeftBottom="LeftBottom",n.RightTop="RightTop",n.RightBottom="RightBottom",n.TopLeft="TopLeft",n.TopRight="TopRight",n.BottomLeft="BottomLeft",n.BottomRight="BottomRight",n.Top="Top",n.Right="Right",n.Bottom="Bottom",n.Left="Left",n.Center="Center"}(me||(me={})),function(n){n.TopLeft="TopLeft",n.TopCenter="TopCenter",n.TopRight="TopRight",n.CenterLeft="CenterLeft",n.Center="Center",n.CenterRight="CenterRight",n.BottomLeft="BottomLeft",n.BottomCenter="BottomCenter",n.BottomRight="BottomRight"}(Lv||(Lv={})),function(n){n.Top0="Top0",n.Top1="Top1",n.Top2="Top2",n.Top3="Top3",n.Left0="Left0",n.Left1="Left1",n.Left2="Left2",n.Left3="Left3",n.Right0="Right0",n.Right1="Right1",n.Right2="Right2",n.Right3="Right3",n.Bottom0="Bottom0",n.Bottom1="Bottom1",n.Bottom2="Bottom2",n.Bottom3="Bottom3"}(ce||(ce={})),function(n){n.Always="Always",n.Once="Once",n.OnceADay="OnceADay",n.OnceAWeek="OnceAWeek",n.OnceAMonth="OnceAMonth"}(an||(an={})),function(n){n.Always="Always",n.Custom="Custom"}(Ss||(Ss={})),function(n){n.Seconds="Seconds",n.Hours="Hours",n.Days="Days"}(Vv||(Vv={})),function(n){n.PX="PX",n.PERCENT="PERCENT"}(bd||(bd={})),function(n){n.LeftTop="left-top",n.LeftBottom="left-bottom",n.RightTop="right-top",n.RightBottom="right-bottom",n.TopLeft="top-left",n.TopRight="top-right",n.BottomLeft="bottom-left",n.BottomRight="bottom-right"}(Dn||(Dn={})),function(n){n.Highlight="Highlight",n.Click="Click",n.Redirect="Redirect"}(sV||(sV={})),function(n){n.Button="Button",n.Highlight="Highlight",n.Menu="Menu",n.PopUp="Pop-up",n.ClearHighlights="ClearHighlights",n.ClearAllGuidedTourSteps="ClearAllGuidedTourSteps",n.ClearAll="ClearAll"}(aV||(aV={})),function(n){n.Load="Load"}(ji||(ji={})),function(n){n.AutoPlay="AutoPlay"}($i||($i={})),function(n){n.Next="GuidedTourEventNext",n.Back="GuidedTourEventBack",n.Close="GuidedTourEventClose",n.Failed="GuidedTourEventFailed",n.RunTour="GuidedTourEventRunTour",n.RunTourByGuid="GuidedTourEventRunTourByGuid"}(Nt||(Nt={})),function(n){n.Select="MenuEventSelect"}(l0||(l0={})),function(n){n.Confirm="PopUpEventConfirm",n.Cancel="PopUpEventCancel"}(Bv||(Bv={})),function(n){n.Close="SurveyEventClose",n.Cancel="SurveyEventCancel",n.Submit="SurveyEventSubmit"}(Uv||(Uv={})),function(n){n.Failed="SmartNudgeEventFailed"}(lV||(lV={})),function(n){n.RunTour="RunTour",n.RunTourByGuid="GuidedTourEventRunTourByGuid"}(cV||(cV={})),function(n){n.LauncherLink="LauncherLink",n.Button="Button",n.Menu="Menu",n.AttachTo="AttachTo",n.Trigger="Trigger"}(Gi||(Gi={})),function(n){n.RunFlow="RunFlow",n.RunFlowByGuid="RunFlowByGuid",n.OpenUrl="OpenUrl",n.TriggerActivation="TriggerActivation",n.ShowUnpublishWarningToaster="ShowUnpublishWarningToaster"}(zi||(zi={})),function(n){n.Trigger="SupportPlayModeTrigger",n.Event="SupportPlayModeEvent"}(uV||(uV={})),function(n){n.DISCONNECTED="Disconnected",n.CONNECTED="Connected",n.CONNECTING="Connecting..."}(dV||(dV={})),function(n){n[n.Step=1]="Step",n[n.Navigation=2]="Navigation",n[n.PopUp=3]="PopUp",n[n.Survey=4]="Survey",n[n.WaitForTime=5]="WaitForTime",n[n.WaitForRule=6]="WaitForRule",n[n.Branching=7]="Branching",n[n.AttachTo=8]="AttachTo",n[n.AutoRunTrigger=9]="AutoRunTrigger",n[n.Resource=10]="Resource",n[n.Toast=11]="Toast"}(At||(At={})),function(n){n[n.Close=1]="Close",n[n.NextButton=2]="NextButton",n[n.Visited=3]="Visited",n[n.Enhance=4]="Enhance",n[n.AutoStart=5]="AutoStart",n[n.Start=6]="Start",n[n.End=7]="End",n[n.Apply=8]="Apply",n[n.Select=9]="Select",n[n.Inactive=10]="Inactive",n[n.Failed=11]="Failed",n[n.UrlAction=12]="UrlAction"}(st||(st={})),function(n){n[n.Incomplete=0]="Incomplete",n[n.Complete=1]="Complete"}(u0||(u0={})),function(n){n[n.Unknown=0]="Unknown",n[n.Extension=1]="Extension",n[n.Snippet=2]="Snippet"}(d0||(d0={}));const z1={extension:d0.Extension,snippet:d0.Snippet};var Ts;!function(n){n[n.Unknown=1]="Unknown",n[n.Link=2]="Link",n[n.Button=3]="Button",n[n.Menu=4]="Menu",n[n.AttachTo=5]="AttachTo",n[n.Trigger=6]="Trigger"}(Ts||(Ts={}));const fV={[Gi.LauncherLink]:Ts.Link,[Gi.Button]:Ts.Button,[Gi.Menu]:Ts.Menu,[Gi.AttachTo]:Ts.AttachTo,[Gi.Trigger]:Ts.Trigger};var hV,gV,mV,ko;!function(n){n[n.Step=0]="Step",n[n.AiHelper=1]="AiHelper",n[n.SmartNudges=2]="SmartNudges",n[n.OutsideElement=3]="OutsideElement",n[n.InsideElement=4]="InsideElement",n[n.Menu=5]="Menu",n[n.OutsideMenuElement=6]="OutsideMenuElement"}(hV||(hV={})),function(n){n.Button="Button",n.GuidedTour="GuidedTour",n.SmartNudge="SmartNudge"}(gV||(gV={}));class pV extends Error{constructor(e,t,o){super(e),this.status=t,this.response=o}}!function(n){n[n.Step=1]="Step",n[n.PopUp=2]="PopUp"}(mV||(mV={})),function(n){n[n.XPathNotFound=1]="XPathNotFound",n[n.HiddenDueToResolution=2]="HiddenDueToResolution",n[n.AttachedLinkContentIsUnavailable=3]="AttachedLinkContentIsUnavailable"}(ko||(ko={}));const I7=At,W1_validation={maxLength:{title:50,footer:50,tabName:50,accordionName:50,resourceName:50,resourcePopupButton:50,stepName:100,stepDescription:284,surveyQuestion:500,surveyPlaceholder:500,stepContentBody:2e3,stepContentHeader:500,surveyCategory:500,surveyContentAnnotation:2e3,glideVariableName:50,flowContentCounter:20,surveyAnswer:2e3,aiHelperPrompt:2e3,buttonText:100,menuSearchPlaceholder:50,guidedTourName:100,counterSeparator:20,noteTitle:20,errorMessagesForEndUser:300},maxValue:{zIndex:2147483647,glideVariableDurationDays:730,glideVariableDurationHours:17520,glideVariableDurationSeconds:63072e3,surveyAnswerTextLines:20,resourcePopupWidth:100,resourcePopupHeight:100,surveyAnswerLimit:20},minValue:{zIndex:-2147483647,glideVariableDuration:1,surveyAnswerTextLines:1,resourcePopupWidth:0,resourcePopupHeight:0,surveyAnswerLimit:1}},wd="mainTrigger",br=(an.Always,an.Once,an.OnceADay,an.OnceAWeek,an.OnceAMonth,an.Always,an.Once,Ss.Always,Ss.Custom,1e3),Cd={Millisecond:1,Second:br,Minute:6e4,Hour:36e5,Day:864e5},x7=new Map([[Vv.Seconds,Cd.Second],[Vv.Hours,Cd.Hour],[Vv.Days,Cd.Day]]),k7_Space="32",vV="Sorry, we couldn't find the next step, so the tour has ended early.",yV="Content is unavailable.",bV="Help content isn't available at this screen size. Please use a larger device or adjust your window.",P7=zL.map(n=>n.url),fl={onIframeCSInjectionDebounceMs:4e3,onTabNavigationDebounceMs:2e3,configUpdateIntervalMs:Cd.Hour,refreshAccessTokenIntervalMs:12e5,rippleAnimationPlayTimeMs:4e3,restrictedIframesUrls:["about:blank","youtube.com/embed/","player.vimeo.com/video/","dailymotion.com/embed/video/","facebook.com/plugins/video.php","instagram.com/p/","tiktok.com/embed/","player.twitch.tv/","fast.wistia.net/embed/iframe/","players.brightcove.net/","content.jwplatform.com/players/","cdnapi.kaltura.com/","panopto.com/Panopto/Pages/Embed.aspx","drive.google.com/file/d/","dropbox.com/s/","onedrive.live.com/embed?",...P7],navigationDebounceMsConfigs:[{mask:"mysource1.deloitte.com",debounceMs:500},{mask:"applications.deloitte.com",debounceMs:3e3},{mask:"stg2.archiveit.us.deloitte.com",debounceMs:3e3}],noAuthPaths:["/config.json","/settings/browser-extension","/systems/urls","/systemflows/assigned","/systemflows/languages"],siteAuthConfigs:[{emailExtractionStrategy:"IndexedDB",urls:["https://app.mural.co"],metadata:{dbName:"keyval-store",storeName:"keyval",emailProviderKey:"MuralIndexedDBEmailProvider"}},{emailExtractionStrategy:"SiteStorage",urls:["https://*dstart.deloitte.com"],metadata:{storageType:"sessionStorage",storageProp:"loggedInUser",jsonProp:"personalEmail"}}]};function CV(n){return n&&at(n.schedule)}function q1(n){return n[n.length-1]}function Y1(n){return at(q1(n))?n.pop():void 0}function pg(n){return CV(q1(n))?n.pop():void 0}function SV(n,e,t,o){var s,r=arguments.length,i=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(n,e,t,o);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(i=(r<3?s(i):r>3?s(e,t,i):s(e,t))||i);return r>3&&i&&Object.defineProperty(e,t,i),i}function TV(n,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(n,e)}function IV(n,e,t,o){return new(t||(t=Promise))(function(i,s){function a(f){try{d(o.next(f))}catch(p){s(p)}}function c(f){try{d(o.throw(f))}catch(p){s(p)}}function d(f){f.done?i(f.value):function r(i){return i instanceof t?i:new t(function(s){s(i)})}(f.value).then(a,c)}d((o=o.apply(n,e||[])).next())})}Object.create;function J1(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fc(n){return this instanceof Fc?(this.v=n,this):new Fc(n)}function MV(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=t.apply(n,e||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(m){return function(b){return Promise.resolve(b).then(m,p)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(m,b){o[m]&&(r[m]=function(T){return new Promise(function(M,O){i.push([m,T,M,O])>1||c(m,T)})},b&&(r[m]=b(r[m])))}function c(m,b){try{!function d(m){m.value instanceof Fc?Promise.resolve(m.value.v).then(f,p):y(i[0][2],m)}(o[m](b))}catch(T){y(i[0][3],T)}}function f(m){c("next",m)}function p(m){c("throw",m)}function y(m,b){m(b),i.shift(),i.length&&c(i[0][0],i[0][1])}}function DV(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=J1(n),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(i){t[i]=n[i]&&function(s){return new Promise(function(a,c){(function r(i,s,a,c){Promise.resolve(c).then(function(d){i({value:d,done:a})},s)})(a,c,(s=n[i](s)).done,s.value)})}}}Object.create;"function"==typeof SuppressedError&&SuppressedError;const ek=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function xV(n){return at(n?.then)}function kV(n){return at(n[_u])}function AV(n){return Symbol.asyncIterator&&at(n?.[Symbol.asyncIterator])}function OV(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const PV=function iq(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function FV(n){return at(n?.[PV])}function NV(n){return MV(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:o,done:r}=yield Fc(t.read());if(r)return yield Fc(void 0);yield yield Fc(o)}}finally{t.releaseLock()}})}function RV(n){return at(n?.getReader)}function zo(n){if(n instanceof ht)return n;if(null!=n){if(kV(n))return function sq(n){return new ht(e=>{const t=n[_u]();if(at(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ek(n))return function aq(n){return new ht(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(xV(n))return function lq(n){return new ht(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,yf)})}(n);if(AV(n))return LV(n);if(FV(n))return function cq(n){return new ht(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(RV(n))return function uq(n){return LV(NV(n))}(n)}throw OV(n)}function LV(n){return new ht(e=>{(function dq(n,e){var t,o,r,i;return IV(this,void 0,void 0,function*(){try{for(t=DV(n);!(o=yield t.next()).done;){const s=o.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(i=t.return)&&(yield i.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Is(n,e,t,o=0,r=!1){const i=e.schedule(function(){t(),r?n.add(this.schedule(null,o)):this.unsubscribe()},o);if(n.add(i),!r)return i}function tk(n,e=0){return kn((t,o)=>{t.subscribe(cn(o,r=>Is(o,n,()=>o.next(r),e),()=>Is(o,n,()=>o.complete(),e),r=>Is(o,n,()=>o.error(r),e)))})}function VV(n,e=0){return kn((t,o)=>{o.add(n.schedule(()=>t.subscribe(o),e))})}function BV(n,e){if(!n)throw new Error("Iterable cannot be null");return new ht(t=>{Is(t,e,()=>{const o=n[Symbol.asyncIterator]();Is(t,e,()=>{o.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function UV(n,e){if(null!=n){if(kV(n))return function fq(n,e){return zo(n).pipe(VV(e),tk(e))}(n,e);if(ek(n))return function gq(n,e){return new ht(t=>{let o=0;return e.schedule(function(){o===n.length?t.complete():(t.next(n[o++]),t.closed||this.schedule())})})}(n,e);if(xV(n))return function hq(n,e){return zo(n).pipe(VV(e),tk(e))}(n,e);if(AV(n))return BV(n,e);if(FV(n))return function pq(n,e){return new ht(t=>{let o;return Is(t,e,()=>{o=n[PV](),Is(t,e,()=>{let r,i;try{({value:r,done:i}=o.next())}catch(s){return void t.error(s)}i?t.complete():t.next(r)},0,!0)}),()=>at(o?.return)&&o.return()})}(n,e);if(RV(n))return function mq(n,e){return BV(NV(n),e)}(n,e)}throw OV(n)}function Wi(n,e){return e?UV(n,e):zo(n)}function ma(...n){return Wi(n,pg(n))}class HV{getConfiguredSystems(){return ma([])}getCachedConfig(){return this.cachedConfig}clearState(){return this.setCachedConfig(null)}initializePermittedUrls(){return g(function*(){})()}getEnvironmentByUrl(e){return this.getEnvironments().find(t=>t.url===e)}getEnvironments(){return Jt.environments}getEnvironmentById(e){return this.getEnvironments().find(t=>t.id===e)}setCachedConfig(e){this.cachedConfig=e}getSystemsFlowVersionUrl(e){return e+Jt.urls.systemsFlowVersion}getServerVariablesUrl(e){return e+Jt.urls.serverVariables}getSystemsFlowVersionFromServer(e){var t=this;return g(function*(){const o=t.getSystemsFlowVersionUrl(e);return fetch(o).then(r=>r.json())})()}getServerVariablesFromServer(e){var t=this;return g(function*(){const o=t.getServerVariablesUrl(e);return fetch(o).then(r=>r.json())})()}}class Be{constructor(){this.storage=C(Bk),this.logDomain=C(Uk),this.logStateProvider=C(N0)}log(...e){if(!this.isLoggingEnabled())return;const t=this.getStoreMessage({prms:e,type:"message"});this.storage.log(t)}warn(...e){if(!this.isLoggingEnabled())return;const t=this.getStoreMessage({prms:e,type:"warning"});this.storage.warn(t)}error(...e){if(!this.isLoggingEnabled())return;const t=this.getStoreMessage({prms:e,type:"error"});this.storage.error(t)}getStoreMessage(e){const{prms:t,type:o}=e,[r,...i]=t,{logDomain:s}=this;return{type:o,domain:s,content:`${this.serializeObject(r)} ${i.map(d=>this.serializeObject(d)).join(", ")}`,originalArgs:t}}serializeObject(e){if(e instanceof Error){const t=e.name,o=e.message,r=e.stack??"";let i=t;return o&&(i=`${i}, ${o}`),r&&(i=`${i}, Stack: ${r}`),i}if("object"==typeof e&&e)try{return JSON.stringify(e)}catch{}return String(e)}isLoggingEnabled(){return this.logStateProvider.isLoggingEnabled()}static{this.\u0275fac=function(t){return new(t||Be)}}static{this.\u0275prov=F({token:Be,factory:Be.\u0275fac,providedIn:"root"})}}class mg extends HV{constructor(){super(...arguments),this.envStorageKey="env",this.configUpdaterInterval=null,this.configuredSystemsSubj=new Hs([]),this.logger=C(Be)}init(){this.initializePermittedUrls(),this.startConfigUpdate()}getConfiguredSystems(){return this.configuredSystemsSubj.asObservable()}getOrigin(){var e=this;return g(function*(){const t=yield e.getStoredEnvOrDefault();return e.getEnvironmentById(t).url})()}getSystemGuid(){return g(function*(){return""})()}initializePermittedUrls(){var e=this;return g(function*(){const t=yield e.getUpdatedUrlMatches().catch(o=>e.logger.error("Err while getting glide extension config",o));t&&t.length?(e.logger.log("Glide configured systems:",t),e.configuredSystemsSubj.next(t)):e.logger.warn("Glide doesn't have configured systems.")})()}getServerVariables(){var e=this;return g(function*(t=!1){const o=e.getCachedConfig();if(!t&&o)return{config:o,prevConfig:o};const r=yield e.getStoredEnvOrDefault(),i=e.getEnvironmentById(r),s=yield e.getServerVariablesFromServer(i.url),a=yield e.getSystemsFlowVersionFromServer(i.url),c={...s,flowVersion:String(a?.version)};return e.setCachedConfig(c),{config:c,prevConfig:o}}).apply(this,arguments)}startConfigUpdate(){this.runConfigUpdater(),this.initUpdateConfigIfEnvChanged()}getAllSystemsUrls(e){return fetch(e).then(t=>t.json())}getUpdatedUrlMatches(){var e=this;return g(function*(t=!0){const{config:o}=yield e.getServerVariables(t),r=o.widgetOriginName+Jt.urls.glideConfig;return e.getAllSystemsUrls(r)}).apply(this,arguments)}getConfigUrl(e){return!ZT.production&&ZT.mockConfigUrl?ZT.mockConfigUrl:e+Jt.urls.config}getEnabledSystems(e){return e.filter(t=>t.isShowContent)}getStoredEnvOrDefault(){var e=this;return g(function*(t=Jt.defaultEnvironment){return e.getStoredEnv().then(o=>o||t)}).apply(this,arguments)}getStoredEnv(){return new Promise(e=>{chrome.storage.sync.get(this.envStorageKey,t=>{const o=t[this.envStorageKey];e(o)})})}runConfigUpdater(){this.configUpdaterInterval&&clearInterval(this.configUpdaterInterval),this.configUpdaterInterval=setInterval(()=>{this.initializePermittedUrls()},fl.configUpdateIntervalMs)}initUpdateConfigIfEnvChanged(){chrome.runtime.onConnect.addListener(e=>{e.onMessage.addListener(t=>{if(t.command===q.EnvChanged)this.initializePermittedUrls()})})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(mg)))(o||mg)}})()}static{this.\u0275prov=F({token:mg,factory:mg.\u0275fac})}}const _q=zp(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});class Nc{checkUrlMatchesAny(e,t){return t.some(o=>this.urlMatchesMask(e,o))}urlMatchesMask(e,t){const o=this.modifyMaskForRegExp(t);return new RegExp(o,"i").test(e)}wholeUrlMatchesMask(e,t){let o=this.modifyMaskForRegExp(t);return o=`^${o}/?$`,new RegExp(o,"i").test(e)}modifyMaskForRegExp(e){return e.replaceAll(".","\\.").replaceAll("?","\\?").replaceAll("*",".*")}static{this.\u0275fac=function(t){return new(t||Nc)}}static{this.\u0275prov=F({token:Nc,factory:Nc.\u0275fac,providedIn:"root"})}}function rk(){return rk=g(function*(){return new Promise(n=>{chrome.tabs.query({active:!0},e=>0===e.length?n(null):n(e[0]))})}),rk.apply(this,arguments)}function ik(){return ik=g(function*(){return new Promise(n=>{chrome.tabs.query({active:!0,currentWindow:!0},e=>0===e.length?n(null):n(e[0]))})}),ik.apply(this,arguments)}function jV(){return sk.apply(this,arguments)}function sk(){return sk=g(function*(){return new Promise(n=>{chrome.tabs.query({},n)})}),sk.apply(this,arguments)}function ak(){return ak=g(function*(){return new Promise(n=>{chrome.tabs.query({currentWindow:!0},n)})}),ak.apply(this,arguments)}class jv{constructor(){this.buildVersionHeaderName="X-Glide-Build-Version"}enrichHeadersWithBuildVersion(e={}){if(!this.getBuilVersion())return e;const o={[this.buildVersionHeaderName]:this.getBuilVersion()};return{...e,...o}}getBuilVersion(){return"2026.01.13.13"}static{this.\u0275fac=function(t){return new(t||jv)}}static{this.\u0275prov=F({token:jv,factory:jv.\u0275fac,providedIn:"root"})}}class _g{constructor(e){this.logger=e,this.CACHE_CONTAINER_NAME="glide-http-cache"}fetchWithCache(e,t){var o=this;return g(function*(){const r=yield caches.open(o.CACHE_CONTAINER_NAME),i=yield o.createCacheKey({resource:e,options:t});try{o.logger.log(`Trying request of ${e}`);const s=yield fetch(e,t);if(!s?.ok)throw new Error(`GL: HTTP ${s.status}`);const a=s.clone();return yield r.put(new Request(i),a),o.logger.log(`Cached data for ${e}`),s}catch{o.logger.warn(`Network request failed, checking cache by key: ${i}`);const a=yield r.match(new Request(i));return a?(o.logger.log("Cached response found",a),a):(o.logger.warn("Cached response not found"),null)}})()}sha256(e){return g(function*(){const o=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",o);return Array.from(new Uint8Array(r)).map(a=>a.toString(16).padStart(2,"0")).join("")})()}createCacheKey(e){var t=this;return g(function*(){const{method:o,body:r}=e.options,{resource:i}=e;if("GET"===o.toUpperCase())return i;let s;try{s="string"==typeof r?r:JSON.stringify(r||{})}catch{s=""}const a=`${i}|${s}`;return`${i}?__post_cache_key=${yield t.sha256(a)}`})()}static{this.\u0275fac=function(t){return new(t||_g)(L(Be))}}static{this.\u0275prov=F({token:_g,factory:_g.\u0275fac,providedIn:"root"})}}class vg{constructor(){this.commonService=C(Nc),this.logger=C(Be),this.injector=C(We)}provideAuthEmail(e){var t=this;return g(function*(){try{return yield t.getAuthEmail(e)}catch(o){return t.logger.error("Get site auth email error",o),null}})()}getAuthEmail(e){const{url:t,tabId:o,cfgs:r}=e,i=this.resolveProviderStrategy({url:t,cfgs:r});return i?this.applyProviderStrategy({strategy:i.emailExtractionStrategy,metadata:i.metadata,tabId:o}):null}resolveProviderStrategy(e){const{url:t,cfgs:o}=e;return o.find(i=>this.commonService.checkUrlMatchesAny(t,i.urls))??null}applyProviderStrategy(e){var t=this;return g(function*(){const{strategy:o}=e;switch(o){case"IndexedDB":case"SiteStorage":return t.provideEmailByStrategy(e);default:return null}})()}provideEmailByStrategy(e){var t=this;return g(function*(){return t.injector.get(Ao).getUserEmailFromHostSite(e)})()}static{this.\u0275fac=function(t){return new(t||vg)}}static{this.\u0275prov=F({token:vg,factory:vg.\u0275fac,providedIn:"root"})}}class $v{constructor(){this.configService=C(no),this.glideAuthService=C(Ay),this.requestService=C(jv),this.glideCommonService=C(Nc),this.cacheableFetchService=C(_g),this.siteAuthService=C(vg),this.noAuthUrl=fl.noAuthPaths}performFetch(e){var t=this;return g(function*(){const{caching:o}=e,{url:r,options:i}=yield t.getRequestParams(e);let s;return s=o?yield t.cacheableFetchService.fetchWithCache(r,i):yield fetch(r,i),s})()}getRequestParams(e){var t=this;return g(function*(){const{resource:o,tabId:r}=e;let i=e.options||{};const s=t.configService.getCachedConfig(),a=yield t.resolveTabId(r),c={"Flow-Version":s.flowVersion};if(t.isAuthProtectedResource({url:o}))try{const d=yield t.siteAuthService.provideAuthEmail({url:a.url,tabId:a.id,cfgs:fl.siteAuthConfigs});if(d)c["X-Glide-User-Email"]=d;else{const f=yield t.glideAuthService.getAccessTokenByConfig(s,!1,a.id);if(!f)throw new Error("Access token for the current user is not initialized");c.Authorization=`Bearer ${f}`}}catch(d){if(!e.authFailedAllowed)throw d}return i?i.headers={...i.headers,...c}:i={headers:{...c}},i={...i,headers:t.requestService.enrichHeadersWithBuildVersion(i.headers)},{url:o.toString(),options:i}})()}isAuthProtectedResource(e){const{url:t}=e,o=t.toString().split("api")[1];return t.toString().includes("api")&&!this.noAuthUrl.includes(o)}resolveTabId(e){var t=this;return g(function*(){if(e){const a=yield t.getTabById(e);if(!a)throw Error(`Tab not found - ${e}`);return a}const o=yield t.getPermittedURLs(),r=yield t.getActiveTabIfUrlMatches(o);if(r)return r;const i=yield t.getFirstMatchedTab(o);if(i)return i;const s=yield t.getExtensionTab();if(s)return s;throw Error("Tab not found")})()}getActiveTabIfUrlMatches(e){var t=this;return g(function*(){const o=yield function bq(){return ik.apply(this,arguments)}();return o&&o.url&&o.id&&t.urlMatches(o.url,e)?o:null})()}getActiveTabId(){return g(function*(){const e=yield function yq(){return rk.apply(this,arguments)}();return e&&e.url&&e.id?e:null})()}getFirstMatchedTab(e){var t=this;return g(function*(){return(yield function wq(){return ak.apply(this,arguments)}()).find(i=>i.url&&i.id&&t.urlMatches(i.url,e))??null})()}getTabById(e){return g(function*(){return(yield jV()).find(r=>r.url&&r.id===e)??null})()}getExtensionTab(){return g(function*(){const e=yield jV(),t=chrome.runtime.getURL("");return e.find(r=>r.url&&r.id&&r.url.includes(t))??null})()}urlMatches(e,t){return this.glideCommonService.checkUrlMatchesAny(e,t)}getPermittedURLs(){var e=this;return g(function*(){return(yield function vq(n,e){const t="object"==typeof e;return new Promise((o,r)=>{const i=new Pl({next:s=>{o(s),i.unsubscribe()},error:r,complete:()=>{t?o(e.defaultValue):r(new _q)}});n.subscribe(i)})}(e.configService.getConfiguredSystems())).map(t=>t.systemUrl)})()}static{this.\u0275fac=function(t){return new(t||$v)}}static{this.\u0275prov=F({token:$v,factory:$v.\u0275fac})}}function $V(){return lk.apply(this,arguments)}function lk(){return lk=g(function*(n=0){return new Promise(e=>setTimeout(e,n))}),lk.apply(this,arguments)}function Gv(n){return"function"==typeof n}function GV(n,e,t){return Math.min(t,Math.max(e,n))}function ck(n){return!isNaN(+String(n))}function zV(n){return n instanceof Error?n.message:String(n)}function Cq(n){return JSON.parse(n)}class zv{constructor(){this.logger=C(Be),this.checkUrlInInteractiveAuthInterval=null,this.checkUrlInInteractiveAuthIntervalMs=Jt.checkUrlInInteractiveAuthIntervalMs,this.checkUrlInSilentAuthTimeout=null,this.checkUrlInSilentAuthTimeoutMs=Jt.checkUrlInSilentAuthTimeoutMs,this.checkIframeUrlInSilentAuthTimeoutMs=Jt.checkIframeUrlInSilentAuthTimeoutMs,this.storeTokenPrefix="accessTokenInfo",this.interactiveAuthWindowTabId=null,this.silentAuthWindowTabId=null,this.getAccessTokenPromise=null,this.tokenExpirationThresholdMins=Jt.tokenExpirationThresholdMins,this.usePrevisousAccessTokenFallback=Jt.usePrevisousAccessTokenFallback,this.expiredAccessTokenMaxLifetimeMins=Jt.expiredAccessTokenMaxLifetimeMins,this.expiredAccessTokenProlongedLifetimeMins=Jt.expiredAccessTokenProlongedLifetimeMins,this.createOffscreenDocPromise=null,this.defaultAuthConfigProps={scope:"openid profile offline_access"},this.codeVerifier="",this.authCallbackListener=e=>{}}init(){return g(function*(){})()}cleanUp(){return g(function*(){})()}getAccessTokenByConfig(e,t,o){var r=this;return g(function*(){if(!e)return Promise.reject("Config not set");const i=r.createAuthConfig(e.instance,e.tenant,e.clientId,e.widgetAppId);return r.getAccessTokenPromise||(r.getAccessTokenPromise=r.getAndUpdateAccessToken(e.widgetAppId,i,t,o,e.widgetOriginName).then(s=>(r.getAccessTokenPromise=null,s)).catch(s=>{throw r.getAccessTokenPromise=null,s})),r.getAccessTokenPromise})()}clearState(){this.clearAllStoredAccessTokens(),this.clearInteractiveAuthState(),this.clearSilentAuthState()}getAndUpdateAccessToken(e,t,o,r,i){var s=this;return g(function*(){const a={...s.defaultAuthConfigProps,redirectUri:chrome.identity.getRedirectURL(),...t,resource:e},c=s.getStoreTokenKey(e,a.clientId),d=yield s.updateAndGetStoredAccessToken(c);if(d&&!d.isExpired)return d.accessToken;try{if(s.logger.log(`Auth: Access token Null or Expired. Start authorization process with interactive ${o}`,d),d&&d.isExpired&&d.refreshToken){s.logger.log("Auth: Trying to get new access token by refresh token");const b=yield s.getAndUpdateAccessTokenRefreshToken({clientId:a.clientId,instance:a.instance,tenant:a.tenant,refreshToken:d.refreshToken,scope:a.scope,tokenKey:c});if(b)return b}const f=yield s.authorize(a,o,r,i),p=s.validate(f);if(p.error)throw Error(p.error);const y=p.accessToken,m=p.refreshToken;return yield s.storeAccessToken(y,c,m),y}catch(f){if(s.logger.error("Auth: An error during get of new access token",f),!o&&s.usePrevisousAccessTokenFallback&&d){const p=NL({accessToken:d.accessToken,expiredAccessTokenProlongedLifetimeMins:s.expiredAccessTokenProlongedLifetimeMins,expiredAccessTokenMaxLifetimeMins:s.expiredAccessTokenMaxLifetimeMins});if(s.logger.warn("Auth: Prolong existing token for access token",p),!p)throw Error(`Expired token prolongation exceeded ${s.expiredAccessTokenMaxLifetimeMins} minutes, token: "${d.accessToken}"`);return yield s.storeAccessToken(d.accessToken,c,d.refreshToken,p),d.accessToken}throw Error(zV(f))}})()}createAuthConfig(e,t,o,r){return{instance:e,tenant:t,clientId:o,scope:`${this.defaultAuthConfigProps.scope} ${r}/.default`}}removeAuthCallbackUrlListener(){return chrome.runtime.onMessage.removeListener(this.authCallbackListener)}storeAccessToken(e,t,o,r){const s={accessToken:e,expiresOn:r||Rv({token:e}),refreshToken:o};return new Promise(a=>{const c=JSON.stringify(s);chrome.storage.sync.set({[t]:c},()=>{a(!0)})})}clearAllStoredAccessTokens(){chrome.storage.sync.get(null,e=>{Object.keys(e||{}).forEach(o=>{o.indexOf(this.storeTokenPrefix)>=0&&chrome.storage.sync.remove(o)})})}updateAndGetStoredAccessToken(e){const t=(new Date).getTime()/br;return new Promise(o=>{chrome.storage.sync.get(e,r=>{let i=null;const s=r[e];try{i=JSON.parse(s)}catch(f){this.logger.error("Failed to parse stored token:",f)}if(!i)return o(null);const c=(i.expiresOn-t)/60-this.tokenExpirationThresholdMins<=0,d={...i,isExpired:c};c?chrome.storage.sync.remove(e,()=>{o(d)}):o(d)})})}getStoreTokenKey(e,t){return`${this.storeTokenPrefix}_${e}_${t}`}getAccessTokenUrl(e){var t=this;return g(function*(){const{tenant:o,clientId:r,scope:i,instance:s}=e,c=`${s}${o}/oauth2/v2.0/authorize`,d=chrome.identity.getRedirectURL(),f=t.generateRandomString(),p=yield t.sha256Base64Url(f);return t.codeVerifier=f,`${c}?`+new URLSearchParams({response_type:"code",client_id:r,redirect_uri:d,scope:i,code_challenge:p,code_challenge_method:"S256",response_mode:"fragment"})})()}authorize(e,t,o,r){var i=this;return g(function*(){const s=yield i.getWindowIdFromTabId(o),c={url:yield i.getAccessTokenUrl(e),interactive:!1,tabId:o,windowId:s,widgetOriginName:r,authConfig:e};return i.launchWebAuthFlow(c).catch(d=>{if(i.logger.warn("Error on auth silently :>> ",d),!t)throw i.logger.warn("Interactive flow not allowed, auth failed"),Error("Silent auth failed and interactive flow not allowed");return i.launchWebAuthFlow({...c,interactive:!0})})})()}validate(e=""){const t={error:null,errorDescription:null,accessToken:null,expiresIn:0,code:null,refreshToken:null},o=this.deserialize(e);if(!o)return t.error="Cannot deserialize url "+e,t;if(o[to.accessToken]){if(t.accessToken=o[to.accessToken],o[to.expiresIn]){const r=parseInt(o[to.expiresIn],10);isNaN(r)||(t.expiresIn=r)}return o[to.refreshToken]&&(t.refreshToken=o[to.refreshToken]),t}return o[to.code]?(t.code=o[to.code],t):o[to.error]?(t.error=o[to.error],o[to.errorDescription]&&(t.errorDescription=o[to.errorDescription]),t):(t.error="Unknown error for url "+e,t)}launchWebAuthFlow(e){const{interactive:t,url:o,...r}=e;return t?this.launchWebAuthFlowInteractively(o):this.launchWebAuthFlowSilently({...r,url:o})}launchWebAuthFlowWithChromeIdentity(e){const{url:t,interactive:o}=e,r=o?"Interative auth glide":"Silent auth glide";this.logger.log(`${r}: trying to get token with chrome identity`);const i=this.getAuthRedirectUrlWithHttpsProtocol({url:t,withPrompt:o});return this.authorizeWithCodePkceFlowOAuth({url:i,interactive:o})}getAuthRedirectUrlWithHttpsProtocol(e){const{url:t,withPrompt:o}=e,r=new URL(t);return o||r.searchParams.set("prompt","none"),r.toString()}launchWebAuthFlowSilently(e){var t=this;return g(function*(){const{url:o}=e;return t.isEdgeOnMac()?yield t.launchWebAuthFlowSilentlyWithPopupOrIframe(e):yield t.launchWebAuthFlowWithChromeIdentity({url:o,interactive:!1}).catch(()=>t.launchWebAuthFlowSilentlyWithPopupOrIframe(e))})()}launchWebAuthFlowSilentlyWithPopupOrIframe(e){var t=this;return g(function*(){const{url:o,tabId:r,widgetOriginName:i}=e;yield t.clearSilentAuthState();const s="Silent auth";return t.logger.log(`${s}: trying to get token silently`),new Promise(function(){var a=g(function*(c,d){const f=function(){var m=g(function*(b){yield t.clearSilentAuthState(),c(b)});return function(T){return m.apply(this,arguments)}}(),p=function(){var m=g(function*(b){yield t.clearSilentAuthState(),d(b)});return function(T){return m.apply(this,arguments)}}(),y=Jt.useHostSiteIframeSilentAuth?t.checkIframeUrlInSilentAuthTimeoutMs:t.checkUrlInSilentAuthTimeoutMs;t.checkUrlInSilentAuthTimeout=setTimeout(()=>p(`${s}: timeout`),y);try{if(Jt.useHostSiteIframeSilentAuth){t.logger.log(`${s}: getting token using host site iframe`);const m=yield t.getAuthRedirectUrlWithHostSiteIframe(r,i);yield f(m)}else t.resolveAuthRedirectUrl(s).then(f).catch(p),t.supportsOffscreenDocs()?yield t.launchWebAuthFlowSilentlyWithOffscreenDocument(`auth.html?loginUrl=${encodeURIComponent(o)}`):yield t.launchWebAuthFlowSilentlyWithPopup(o)}catch(m){return p(zV(m))}});return function(c,d){return a.apply(this,arguments)}}())})()}supportsOffscreenDocs(){return!!(chrome.offscreen&&chrome.offscreen.createDocument&&chrome.runtime.getContexts)}getAuthRedirectUrlWithHostSiteIframe(e,t){return g(function*(){const o=t.replace("/api/",""),r=Jt.authProviderPathMask.replace("{{envOrigin}}",o),s=yield new Promise((a,c)=>{const d={command:q.AuthorizeSilentlyWithIframe,url:r};chrome.tabs.sendMessage(e,d,f=>chrome.runtime.lastError?c(chrome.runtime.lastError):f?void a(f):c("No token received from host site iframe"))});return`${chrome.runtime.getURL("/auth.html")}#${to.accessToken}=${s}`})()}launchWebAuthFlowSilentlyWithOffscreenDocument(e){var t=this;return g(function*(){const o=chrome.runtime.getURL(e);(yield chrome.runtime.getContexts({contextTypes:["OFFSCREEN_DOCUMENT"],documentUrls:[o]})).length>0||(t.createOffscreenDocPromise?yield t.createOffscreenDocPromise:(t.createOffscreenDocPromise=chrome.offscreen.createDocument({url:e,reasons:["DOM_SCRAPING"],justification:"reason for needing the document"}),yield t.createOffscreenDocPromise,t.createOffscreenDocPromise=null))})()}launchWebAuthFlowSilentlyWithPopup(e){var t=this;return g(function*(){return new Promise(function(){var o=g(function*(r,i){const s={url:e,type:"popup",state:"minimized"};chrome.windows.create(s,a=>{const c=a&&a.tabs&&a.tabs.length&&a.tabs[0].id;return c?(t.silentAuthWindowTabId=c,r()):i("Cannot get opened window tab url")})});return function(r,i){return o.apply(this,arguments)}}())})()}launchWebAuthFlowInteractively(e){var t=this;return g(function*(){t.clearInteractiveAuthState();const o="Interative auth";return t.logger.log(`${o}: try to get token interatively`),new Promise((r,i)=>{const s=c=>{t.clearInteractiveAuthState(),r(c)},a=c=>{t.clearInteractiveAuthState(),i(c)};chrome.windows.getLastFocused({populate:!1},c=>{const d=Jt.authPopupWidthPx,f={url:e,type:"popup",left:t.getAuthPopupLeftOffset(d,c),width:d};chrome.windows.create(f,p=>{const y=p&&p.tabs&&p.tabs.length&&p.tabs[0].id;if(!y)return a("Cannot get opened window tab url");t.interactiveAuthWindowTabId=y,t.checkUrlInInteractiveAuthInterval=setInterval(()=>{chrome.tabs.query({},function(){var m=g(function*(b){const T=b.find(O=>O.id===t.interactiveAuthWindowTabId);if(!T)return a(`${o}: user closed auth modal`);const M=T.url||"";if(t.isAuthCallback(M)){const O=t.validate(M);if(O.error)return a(O.error);t.clearInteractiveAuthState(),t.exchangeCodeForToken({authUrl:e,redirectUrlWithCode:M}).then(s).catch(a)}});return function(b){return m.apply(this,arguments)}}())},t.checkUrlInInteractiveAuthIntervalMs),t.resolveAuthRedirectUrl(o).then(s).catch(a)})})})})()}resolveAuthRedirectUrl(e){return new Promise((t,o)=>{this.authCallbackListener=r=>{if(r.command===q.AuthRedirectUrlChanged){const s=r.url;return"string"==typeof s&&this.isAuthCallback(s)?t(s):o(`${e}: wrong auth redirect URL - ${s}`)}},chrome.runtime.onMessage.addListener(this.authCallbackListener)})}clearInteractiveAuthState(){null!==this.checkUrlInInteractiveAuthInterval&&(clearInterval(this.checkUrlInInteractiveAuthInterval),this.checkUrlInInteractiveAuthInterval=null),null!==this.interactiveAuthWindowTabId&&this.closeTabIfExists(this.interactiveAuthWindowTabId).then(()=>this.interactiveAuthWindowTabId=null),this.removeAuthCallbackUrlListener()}clearSilentAuthState(){null!==this.checkUrlInSilentAuthTimeout&&(clearTimeout(this.checkUrlInSilentAuthTimeout),this.checkUrlInSilentAuthTimeout=null),null!==this.silentAuthWindowTabId&&this.closeTabIfExists(this.silentAuthWindowTabId).then(()=>this.silentAuthWindowTabId=null),this.removeAuthCallbackUrlListener()}getHashString(e){const t=e.indexOf("#");return-1===t?null:e.slice(t+1)}deserialize(e=""){const t=this.getHashString(e);if(!t)return null;const o=new URLSearchParams(t),r={};return o.forEach((i,s)=>{r[s]=i}),r}getAuthPopupLeftOffset(e,t){const o=t.width||Jt.defaulCurrentWindowWidthPx;if(o<=e)return 0;const r=t.left||0;return parseInt(String((o-e)/2),10)+r}closeTabIfExists(e){return new Promise(t=>{if("number"!=typeof e)return t(!0);chrome.tabs.query({},o=>{if(!o.find(i=>i.id===e))return t(!0);chrome.tabs.remove(e,()=>(chrome.runtime.lastError,t(!0)))})})}isAuthCallback(e){const t=this.deserialize(e);return!!t&&(t.hasOwnProperty(to.errorDescription)||t.hasOwnProperty(to.accessToken)||t.hasOwnProperty(to.idToken)||t.hasOwnProperty(to.code))}getWindowIdFromTabId(e){return new Promise((t,o)=>{chrome.tabs.get(e,r=>{chrome.runtime.lastError?o(new Error(chrome.runtime.lastError.message)):r&&r.windowId?t(r.windowId):o(new Error("Window ID not found for the given tab ID."))})})}isEdgeOnMac(){const e=navigator.userAgent.toLowerCase();return e.includes("edg")&&e.includes("mac")}authorizeWithCodePkceFlowOAuth(e){var t=this;return g(function*(){const{url:o,interactive:r}=e;return new Promise((i,s)=>{chrome.identity.launchWebAuthFlow({url:o,interactive:r},function(){var a=g(function*(c){if(chrome.runtime.lastError||!c){const f="Chrome identity auth failed";return t.logger.log(f,chrome.runtime.lastError,c),s(f)}const d=t.validate(c);if(d.error)return s(d.error);try{const f=yield t.exchangeCodeForToken({authUrl:o,redirectUrlWithCode:c});return i(f)}catch(f){return s(f)}});return function(c){return a.apply(this,arguments)}}())})})()}generateRandomString(e=64){const t=new Uint8Array(e);return crypto.getRandomValues(t),btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}sha256Base64Url(e){return g(function*(){const o=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",o);return btoa(String.fromCharCode(...new Uint8Array(r))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})()}exchangeCodeForToken(e){var t=this;return g(function*(){const{authUrl:o,redirectUrlWithCode:r}=e,i=new URL(o),s=i.searchParams.get("redirect_uri")||"",a=t.deserialize(r).code;if(!a){const T="Chrome identity pkce auth failed, no response code";throw t.logger.error(T,s),Error(T)}const c=i.searchParams.get("client_id"),d=`${i.origin}${i.pathname.replace("/authorize","/token")}`,{codeVerifier:f}=t,p=new URLSearchParams({grant_type:"authorization_code",client_id:c,code:a,redirect_uri:s,code_verifier:f}),y=yield fetch(d,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:p});if(!y.ok){const T="Token exchange failed";throw t.logger.error(T),Error(T)}const m=yield y.json();if(!m){const T="Token exchange data is empty";throw t.logger.error(T),Error(T)}const b=new URLSearchParams;for(const[T,M]of Object.entries(m))b.append(T,String(M));return`${s}#${b.toString()}`})()}getTokenInfoByRefreshToken(e){var t=this;return g(function*(){const{clientId:o,instance:r,tenant:i,refreshToken:s,scope:a}=e,d=`${r}${i}/oauth2/v2.0/token`,f=new URLSearchParams({grant_type:"refresh_token",client_id:o,refresh_token:s,scope:a}),p=yield fetch(d,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:f});if(!p.ok){const M="Get access token token by refresh token failed";throw t.logger.error(M),Error(M)}const y=yield p.json();if(!y){const M="Get access token token by refresh data is empty";throw t.logger.error(M),Error(M)}const{access_token:m,refresh_token:b}=y;return{accessToken:m,expiresOn:Rv({token:m}),refreshToken:b??null,isExpired:!1}})()}getAndUpdateAccessTokenRefreshToken(e){var t=this;return g(function*(){const{clientId:o,instance:r,tenant:i,refreshToken:s,scope:a,tokenKey:c}=e;try{const d=yield t.getTokenInfoByRefreshToken({clientId:o,instance:r,tenant:i,refreshToken:s,scope:a});return t.logger.log("Auth: refresh token info:",d),d?(yield t.storeAccessToken(d.accessToken,c,d.refreshToken),d.accessToken):null}catch(d){return t.logger.log("Auth: get token info by refresh token error:",d),null}})()}static{this.\u0275fac=function(t){return new(t||zv)}}static{this.\u0275prov=F({token:zv,factory:zv.\u0275fac})}}const WV=()=>({loadFromStorage:r=>new Promise(i=>chrome.storage.local.get(r).then(s=>{const a=s[r],c=a?JSON.parse(a):null;i(c)})),saveToStorage:(r=null,i)=>new Promise(s=>chrome.storage.local.set({[i]:JSON.stringify(r)}).then(a=>{s(a)})),deleteFromStorage:r=>chrome.storage.local.remove(r),loadAll:function(){var r=g(function*(){return yield chrome.storage.local.get(null)});return function(){return r.apply(this,arguments)}}()});class Tq extends bn{constructor(e,t){super()}schedule(e,t=0){return this}}const f0={setInterval(n,e,...t){const{delegate:o}=f0;return o?.setInterval?o.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=f0;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class h0 extends Tq{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var o;if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(o=this.id)&&void 0!==o?o:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,o=0){return f0.setInterval(e.flush.bind(e,this),o)}recycleAsyncId(e,t,o=0){if(null!=o&&this.delay===o&&!1===this.pending)return t;null!=t&&f0.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const o=this._execute(e,t);if(o)return o;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,o=!1;try{this.work(e)}catch(i){o=!0,r=i||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:o}=t;this.work=this.state=this.scheduler=null,this.pending=!1,pu(o,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}let uk,Iq=1;const g0={};function qV(n){return n in g0&&(delete g0[n],!0)}const Eq={setImmediate(n){const e=Iq++;return g0[e]=!0,uk||(uk=Promise.resolve()),uk.then(()=>qV(e)&&n()),e},clearImmediate(n){qV(n)}},{setImmediate:Mq,clearImmediate:Dq}=Eq,p0={setImmediate(...n){const{delegate:e}=p0;return(e?.setImmediate||Mq)(...n)},clearImmediate(n){const{delegate:e}=p0;return(e?.clearImmediate||Dq)(n)},delegate:void 0};const dk={now:()=>(dk.delegate||Date).now(),delegate:void 0};class Wv{constructor(e,t=Wv.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,o){return new this.schedulerActionCtor(this,e).schedule(o,t)}}Wv.now=dk.now;class m0 extends Wv{constructor(e,t=Wv.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let o;this._active=!0;do{if(o=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,o){for(;e=t.shift();)e.unsubscribe();throw o}}}const YV=new class kq extends m0{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let r;e=e||o.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=o[0])&&e.id===t&&o.shift());if(this._active=!1,r){for(;(e=o[0])&&e.id===t&&o.shift();)e.unsubscribe();throw r}}}(class xq extends h0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=p0.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,o=0){var r;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(e,t,o);const{actions:i}=e;null!=t&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(p0.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});class _0 extends gn{constructor(e=1/0,t=1/0,o=dk){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:o,_infiniteTimeWindow:r,_timestampProvider:i,_windowTime:s}=this;t||(o.push(e),!r&&o.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:r}=this,i=r.slice();for(let s=0;s<i.length&&!e.closed;s+=o?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:r}=this,i=(r?1:2)*e;if(e<1/0&&i<o.length&&o.splice(0,o.length-i),!r){const s=t.now();let a=0;for(let c=1;c<o.length&&o[c]<=s;c+=2)a=c;a&&o.splice(0,a+1)}}}function XV(n){return!!n&&(n instanceof ht||at(n.lift)&&at(n.subscribe))}const QV=new class Oq extends m0{}(class Aq extends h0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,o=0){return null!=o&&o>0||null==o&&this.delay>0?super.requestAsyncId(e,t,o):(e.flush(this),0)}}),qv=new ht(n=>n.complete());function ZV(n,e){const t=at(n)?n:()=>n,o=r=>r.error(t());return new ht(e?r=>e.schedule(o,0,r):o)}const{isArray:Fq}=Array,{getPrototypeOf:Nq,prototype:Rq,keys:Lq}=Object;function JV(n){if(1===n.length){const e=n[0];if(Fq(e))return{args:e,keys:null};if(function Vq(n){return n&&"object"==typeof n&&Nq(n)===Rq}(e)){const t=Lq(e);return{args:t.map(o=>e[o]),keys:t}}}return{args:n,keys:null}}const{isArray:Bq}=Array;function fk(n){return mt(e=>function Uq(n,e){return Bq(e)?n(...e):n(e)}(n,e))}function KV(n,e){return n.reduce((t,o,r)=>(t[o]=e[r],t),{})}function eB(...n){const e=pg(n),t=Y1(n),{args:o,keys:r}=JV(n);if(0===o.length)return Wi([],e);const i=new ht(function Hq(n,e,t=Na){return o=>{tB(e,()=>{const{length:r}=n,i=new Array(r);let s=r,a=r;for(let c=0;c<r;c++)tB(e,()=>{const d=Wi(n[c],e);let f=!1;d.subscribe(cn(o,p=>{i[c]=p,f||(f=!0,a--),a||o.next(t(i.slice()))},()=>{--s||o.complete()}))},o)},o)}}(o,e,r?s=>KV(r,s):Na));return t?i.pipe(fk(t)):i}function tB(n,e,t){n?Is(t,n,e):e()}function qi(n){return kn((e,t)=>{zo(n).subscribe(cn(t,()=>t.complete(),Pa)),!t.closed&&e.subscribe(t)})}function _a(n,e,t){const o=at(n)||e||t?{next:n,error:e,complete:t}:n;return o?kn((r,i)=>{var s;null===(s=o.subscribe)||void 0===s||s.call(o);let a=!0;r.subscribe(cn(i,c=>{var d;null===(d=o.next)||void 0===d||d.call(o,c),i.next(c)},()=>{var c;a=!1,null===(c=o.complete)||void 0===c||c.call(o),i.complete()},c=>{var d;a=!1,null===(d=o.error)||void 0===d||d.call(o,c),i.error(c)},()=>{var c,d;a&&(null===(c=o.unsubscribe)||void 0===c||c.call(o)),null===(d=o.finalize)||void 0===d||d.call(o)}))}):Na}function nB(...n){const e=Y1(n);return kn((t,o)=>{const r=n.length,i=new Array(r);let s=n.map(()=>!1),a=!1;for(let c=0;c<r;c++)zo(n[c]).subscribe(cn(o,d=>{i[c]=d,!a&&!s[c]&&(s[c]=!0,(a=s.every(Na))&&(s=null))},Pa));t.subscribe(cn(o,c=>{if(a){const d=[c,...i];o.next(e?e(...d):d)}}))})}function hk(n){return kn((e,t)=>{let i,o=null,r=!1;o=e.subscribe(cn(t,void 0,void 0,s=>{i=zo(n(s,hk(n)(e))),o?(o.unsubscribe(),o=null,i.subscribe(t)):r=!0})),r&&(o.unsubscribe(),o=null,i.subscribe(t))})}function Sd(n){return n<=0?()=>qv:kn((e,t)=>{let o=0;e.subscribe(cn(t,r=>{++o<=n&&(t.next(r),n<=o&&t.complete())}))})}function hl(n,e=Na){return n=n??jq,kn((t,o)=>{let r,i=!0;t.subscribe(cn(o,s=>{const a=e(s);(i||!n(r,a))&&(i=!1,r=a,o.next(s))}))})}function jq(n,e){return n===e}function v0(n={}){const{connector:e=()=>new gn,resetOnError:t=!0,resetOnComplete:o=!0,resetOnRefCountZero:r=!0}=n;return i=>{let s,a,c,d=0,f=!1,p=!1;const y=()=>{a?.unsubscribe(),a=void 0},m=()=>{y(),s=c=void 0,f=p=!1},b=()=>{const T=s;m(),T?.unsubscribe()};return kn((T,M)=>{d++,!p&&!f&&y();const O=c=c??e();M.add(()=>{d--,0===d&&!p&&!f&&(a=gk(b,r))}),O.subscribe(M),!s&&d>0&&(s=new Pl({next:x=>O.next(x),error:x=>{p=!0,y(),a=gk(m,t,x),O.error(x)},complete:()=>{f=!0,y(),a=gk(m,o),O.complete()}}),zo(T).subscribe(s))})(i)}}function gk(n,e,...t){if(!0===e)return void n();if(!1===e)return;const o=new Pl({next:()=>{o.unsubscribe(),n()}});return zo(e(...t)).subscribe(o)}function pk(n){n||(xr(),n=C(Bn));const e=new ht(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(qi(e))}function mk(n,e){!e?.injector&&xr();const t=e?.injector??C(We),o=new _0(1),r=Ve(()=>{let i;try{i=n()}catch(s){return void rn(()=>o.error(s))}rn(()=>o.next(i))},{injector:t,manualCleanup:!0});return t.get(Bn).onDestroy(()=>{r.destroy(),o.complete()}),o.asObservable()}function vn(n,e){const t=!e?.manualCleanup;t&&!e?.injector&&xr();const o=t?e?.injector?.get(Bn)??C(Bn):null,r=function zq(n=Object.is){return(e,t)=>1===e.kind&&1===t.kind&&n(e.value,t.value)}(e?.equal);let i,s;i=ue(e?.requireSync?{kind:0}:{kind:1,value:e?.initialValue},{equal:r});const a=n.subscribe({next:c=>i.set({kind:1,value:c}),error:c=>{if(e?.rejectErrors)throw c;i.set({kind:2,error:c})},complete:()=>{s?.()}});if(e?.requireSync&&0===i().kind)throw new J(601,!1);return s=o?.onDestroy(a.unsubscribe.bind(a)),G(()=>{const c=i();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new J(601,!1)}},{equal:e?.equal})}const Xq=new de("@ngrx/component-store Initial State");class Yv{constructor(e){this.destroySubject$=new _0(1),this.destroy$=this.destroySubject$.asObservable(),this.stateSubject$=new _0(1),this.isInitialized=!1,this.state$=this.select(t=>t),this.state=vn(this.stateSubject$.pipe(qi(this.destroy$)),{requireSync:!1,manualCleanup:!0}),this.\u0275hasProvider=!1,e&&this.initState(e),this.checkProviderForHooks()}ngOnDestroy(){this.stateSubject$.complete(),this.destroySubject$.next()}updater(e){return t=>{let r,o=!0;const s=(XV(t)?t:ma(t)).pipe(tk(QV),_a(()=>this.assertStateIsInitialized()),nB(this.stateSubject$),mt(([a,c])=>e(c,a)),_a(a=>this.stateSubject$.next(a)),hk(a=>o?(r=a,qv):ZV(a)),qi(this.destroy$)).subscribe();if(r)throw r;return o=!1,s}}initState(e){UV([e],QV).subscribe(t=>{this.isInitialized=!0,this.stateSubject$.next(t)})}setState(e){"function"!=typeof e?this.initState(e):this.updater(e)()}patchState(e){const t="function"==typeof e?e(this.get()):e;this.updater((o,r)=>({...o,...r}))(t)}get(e){let t;return this.assertStateIsInitialized(),this.stateSubject$.pipe(Sd(1)).subscribe(o=>{t=e?e(o):o}),t}select(...e){const{observablesOrSelectorsObject:t,projector:o,config:r}=function Qq(n){const e=Array.from(n);let o={debounce:!1,equal:(s,a)=>s===a};if(function Zq(n){const e=n;return typeof e.debounce<"u"||typeof e.equal<"u"}(e[e.length-1])&&(o={...o,...e.pop()}),1===e.length&&"function"!=typeof e[0])return{observablesOrSelectorsObject:e[0],projector:void 0,config:o};const r=e.pop();return{observablesOrSelectorsObject:e,projector:r,config:o}}(e);return(function Jq(n,e){return Array.isArray(n)&&0===n.length&&e}(t,o)?this.stateSubject$:eB(t)).pipe(r.debounce?function Yq(){return n=>new ht(e=>{let t,o;const r=new bn;return r.add(n.subscribe({complete:()=>{t&&e.next(o),e.complete()},error:i=>{e.error(i)},next:i=>{o=i,t||(t=YV.schedule(()=>{e.next(o),t=void 0}),r.add(t))}})),r})}():n=>n,o?mt(s=>t.length>0&&Array.isArray(s)?o(...s):o(s)):n=>n,hl(r.equal),function $q(n,e,t){let o,r=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):o=n??1/0,v0({connector:()=>new _0(o,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({refCount:!0,bufferSize:1}),qi(this.destroy$))}selectSignal(...e){const t=[...e],o="object"==typeof t[e.length-1]?t.pop():{},r=t.pop(),i=t;return G(0===i.length?()=>r(this.state()):()=>{const a=i.map(c=>c());return r(...a)},o)}effect(e){const t=new gn;return e(t).pipe(qi(this.destroy$)).subscribe(),o=>(XV(o)?o:ma(o)).pipe(qi(this.destroy$)).subscribe(i=>{t.next(i)})}checkProviderForHooks(){YV.schedule(()=>{0})}assertStateIsInitialized(){if(!this.isInitialized)throw new Error(`${this.constructor.name} has not been initialized yet. Please make sure it is initialized before updating/getting.`)}static{this.\u0275fac=function(t){return new(t||Yv)(L(Xq,8))}}static{this.\u0275prov=F({token:Yv,factory:Yv.\u0275fac})}}const va="glide-app-root";function jn(n,e){return kn((t,o)=>{let r=0;t.subscribe(cn(o,i=>n.call(e,i,r++)&&o.next(i)))})}const yk={activeFlows:[],activeToast:null,flowList:[],flowListNeedCheckVisibility:[],editingMenu:null,editingGuidedTourStep:null,editingPopUp:null,editingResource:null,editingSurvey:null,editingAIHelper:null,editingSmartNudge:null,editingButton:null,editingToast:null,triggerCancellations:[],visitedFlowItemsIds:[],submittedSurveysIds:[],activatedAutoTriggersByTours:[],menuInProgress:!1,activeTour:null,lastActiveTourVisualFlowItem:null,visibleFlowsIds:[],theme:null,flowExecutionStack:[],minimumSupportedWidth:1280,minimumSupportedHeight:600,isShowContentBasedOnCondition:null,isMenuExpanded:null,userSettings:null,userContext:null,systemId:null,environmentId:null,lang:null,langs:[],isErrorsOn:!0,messageResolution:bV,messageXPathNotFound:vV,messageContentUnavailable:yV};class xn extends Yv{constructor(){super(yk),this.state$=this.select(e=>e),this.activeFlows$=this.select(e=>e.activeFlows),this.activeToast$=this.select(e=>e.activeToast),this.editingMenu$=this.select(e=>e.editingMenu),this.editingGuidedTourStep$=this.select(e=>e.editingGuidedTourStep),this.editingPopUp$=this.select(e=>e.editingPopUp),this.editingSurvey$=this.select(e=>e.editingSurvey),this.editingAIHelper$=this.select(e=>e.editingAIHelper),this.editingSmartNudge$=this.select(e=>e.editingSmartNudge),this.editingButton$=this.select(e=>e.editingButton),this.editingToast$=this.select(e=>e.editingToast),this.visitedFlowItemsIds$=this.select(e=>e.visitedFlowItemsIds),this.submittedSurveysIds$=this.select(e=>e.submittedSurveysIds),this.menuInProgress$=this.select(e=>e.menuInProgress),this.activeTour$=this.select(e=>e.activeTour),this.visibleFlowsIds$=this.select(e=>e.visibleFlowsIds),this.isShowContentBasedOnCondition$=this.select(e=>e.isShowContentBasedOnCondition).pipe(jn(e=>null!==e)),this.isMenuExpanded$=this.select(e=>e.isMenuExpanded),this.userSettings$=this.select(e=>e.userSettings),this.lang$=this.select(e=>e.lang),this.langs$=this.select(e=>e.langs),this.editingResource$=this.select(e=>e.editingResource),this.getState=this.get,this.setActiveFlows=this.updater((e,t)=>({...e,activeFlows:t})),this.setActiveToast=this.updater((e,t)=>({...e,activeToast:t})),this.setFlowList=this.updater((e,t)=>({...e,flowList:t})),this.setEditingMenu=this.updater((e,t)=>({...e,editingMenu:t})),this.setEditingGuidedTourStep=this.updater((e,t)=>({...e,editingGuidedTourStep:t})),this.setEditingPopUp=this.updater((e,t)=>({...e,editingPopUp:{...e.editingPopUp,...t}})),this.setEditingResource=this.updater((e,t)=>({...e,editingResource:t})),this.destroyEditingResource=this.updater(e=>({...e,editingResource:null})),this.setEditingSurvey=this.updater((e,t)=>({...e,editingSurvey:t})),this.setEditingAIHelper=this.updater((e,t)=>({...e,editingAIHelper:t})),this.setEditingSmartNudge=this.updater((e,t)=>({...e,editingSmartNudge:t})),this.setEditingButton=this.updater((e,t)=>({...e,editingButton:t})),this.setEditingToast=this.updater((e,t)=>({...e,editingToast:t})),this.setVisitedFlowItemsIds=this.updater((e,t)=>({...e,visitedFlowItemsIds:t})),this.setMenuInProgress=this.updater((e,t)=>({...e,menuInProgress:t})),this.destroyEditingPopUp=this.updater(e=>({...e,editingPopUp:null})),this.setActiveTour=this.updater((e,t)=>({...e,activeTour:t})),this.setVisibleFlowsIds=this.updater((e,t)=>({...e,visibleFlowsIds:t})),this.setShouldShowContentBasedOnCondition=this.updater((e,t)=>({...e,isShowContentBasedOnCondition:t})),this.setMenuExpandedState=this.updater((e,t)=>({...e,isMenuExpanded:t})),this.setLang=this.updater((e,t)=>({...e,lang:t}))}updateState(e){var t=this;return g(function*(){const o=yield e;t.setState({...o})})()}updateClientSideState(e){var t=this;return g(function*(){const o=t.getState();t.setState({...o,...e})})()}stopFlowByType(e){const t=this.getState();this.setState({...t,activeFlows:t.activeFlows.filter(o=>-1===e.indexOf(o.flow.systemFlowType))})}getFlowById(e){return this.getState().flowList.find(o=>o.id===e.id)??null}getFlowByGuid(e){const{guid:t}=e;return this.getState().flowList.find(r=>r.guid===t)??null}getFlowsByType(e){return this.getState().flowList.filter(o=>o.systemFlowType===e)}getActiveTour(){return this.getState().activeTour}static{this.\u0275fac=function(t){return new(t||xn)}}static{this.\u0275prov=F({token:xn,factory:xn.\u0275fac,providedIn:"root"})}}class Xv{constructor(){this.fetchService=C(Gr),this.glideConfigService=C(no),this.logger=C(Be)}getCurrentUserVariables(e,t){var o=this;return g(function*(){const r=o.getBaseUrl();if(!r)return Promise.resolve([]);const s={resource:`${r}users/current/variables?domain=${e}`,options:{method:"GET",headers:{Accept:"application/json"}},tabId:t,caching:!0};return yield(yield o.fetchService.performFetch(s)).json()})()}addCurrentUserVariables(e,t){var o=this;return g(function*(){const r=o.getBaseUrl();if(!r)return;const a={resource:`${r}users/current/variables`,options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},tabId:t};yield o.fetchService.performFetch(a)})()}getBaseUrl(){const e=this.glideConfigService.getCachedConfig();let t;return e?t=e.widgetOriginName:(this.logger.warn("There are no current system config"),t=null),t}static{this.\u0275fac=function(t){return new(t||Xv)}}static{this.\u0275prov=F({token:Xv,factory:Xv.\u0275fac,providedIn:"root"})}}const rB={glideVariables:{}},iB=2147483647;class Td{constructor(){this.persistentStateService=C(_l),this.glideVariablesApiService=C(Xv),this.logger=C(Be),this.glVariablesTimeoutMap=new Map}init(){this.initListeners()}initListeners(){chrome.runtime.onMessage.addListener((e,t,o)=>{if(e?.command===q.GetApplicationCtx)return this.getApplicationContext(e.details.tabId).then(r=>o(r)).catch(r=>{this.logger.error("Application context: get context failed:",r),o(null)}),!0})}getApplicationContext(e){var t=this;return g(function*(){return yield t.persistentStateService.getAppCtxState(e)})()}updateApplicationContext(e){var t=this;return g(function*(){const{tabId:o,applicationContext:r}={...e};return yield t.persistentStateService.setAppCtxState(r,o)})()}updateGlideVariables(e,t){var o=this;return g(function*(){const{url:r,tabId:i}=e;yield o.addVariables(t,r,i),yield o.refreshApplicationContext({tabInfo:e})})()}refreshApplicationContext(e){var t=this;return g(function*(){const{tabInfo:o}=e,{tabId:r,url:i}=o,s=yield t.getCurrentUserVariables(i,r);yield t.refreshVariablesTimeout({glideVariables:s,tabInfo:o});const c={glideVariables:t.mapGlVariablesDTOToStorage(s)};yield t.updateApplicationContext({tabId:r,applicationContext:c})})()}mapGlVariablesDTOToStorage(e){return e.reduce((t,o)=>(t[o.key]=o.value,t),{})}refreshVariablesTimeout(e){var t=this;return g(function*(){const{glideVariables:o,tabInfo:r}=e,i=String(r?.tabId??0),s=t.glVariablesTimeoutMap.get(i);if(s&&(clearTimeout(s),t.glVariablesTimeoutMap.delete(i)),!o?.length)return;o.sort((f,p)=>f?.duration-p?.duration);const a=o[0].duration,c=a<iB?a:iB,d=setTimeout(g(function*(){yield t.refreshApplicationContext({tabInfo:r})}),c);t.glVariablesTimeoutMap.set(i,d)})()}getDomain(e){return e.match(/^(https:\/\/)(?:www\.)?([^\/]+)/)[0]}getCurrentUserVariables(e,t){var o=this;return g(function*(){const r=o.getDomain(e);return yield o.glideVariablesApiService.getCurrentUserVariables(r,t)})()}addVariables(e,t,o){var r=this;return g(function*(){const i=r.getDomain(t),s=e.map(a=>({...a,domain:i}));yield r.glideVariablesApiService.addCurrentUserVariables(s,o)})()}static{this.\u0275fac=function(t){return new(t||Td)}}static{this.\u0275prov=F({token:Td,factory:Td.\u0275fac,providedIn:"root"})}}class Qv{constructor(){this.STORAGE_STATE_ON_TAB_KEY="GL_STATE_ON_TAB",this.STORAGE_FOR_NEW_TAB_KEY="GL_DATA_FOR_CONTINUE_IN_NEW_TAB",this.STORAGE_APP_CTX_KEY="GL_APP_CTX_ON_TAB",this.STORAGE_TAB_LAST_URL="GL_TAB_LAST_URL",this.STORAGE_ANALYTICS_KEY="GL_ANALYTICS",this.STORAGE_USER_WINDOW_SETTINGS="GL_USER_WINDOW_SETTINGS",this.STORAGE_USER_SYSTEM_SETTINGS="GL_USER_SYSTEM_SETTINGS",this.storage=WV()}init(){var e=this;return g(function*(){return yield e.scheduleRemoveOutdatedState()})()}getStoredState(e){var t=this;return g(function*(){return yield t.getState(e)})()}updateClientSideFlows(e,t,o,r){var i=this;return g(function*(){const s=yield i.getState(t),{readyForRun:a,evaluateVisibility:c}=e;return yield i.setState({...s,flowList:a,flowListNeedCheckVisibility:c,activatedAutoTriggersByTours:o,visibleFlowsIds:[],userContext:r},t)})()}updateClientSideVisibilityFlowIds(e,t){var o=this;return g(function*(){const r=yield o.getState(t);return o.setState({...r,visibleFlowsIds:e},t)})()}setState(e,t){var o=this;return g(function*(){const r=o.getStorageKeyForTab({tabId:t,baseKey:o.STORAGE_STATE_ON_TAB_KEY});return o.storage.saveToStorage(e,r)})()}getState(e){var t=this;return g(function*(){const o=t.getStorageKeyForTab({tabId:e,baseKey:t.STORAGE_STATE_ON_TAB_KEY}),r=yield t.storage.loadFromStorage(o);return{...yk,...r}})()}setDataForContinueInNewTab(e){var t=this;return g(function*(){return t.storage.saveToStorage(e,t.STORAGE_FOR_NEW_TAB_KEY)})()}getDataForContinueInNewTab(){var e=this;return g(function*(){return(yield e.storage.loadFromStorage(e.STORAGE_FOR_NEW_TAB_KEY))||null})()}clearDataForContinueInNewTab(){var e=this;return g(function*(){return e.storage.deleteFromStorage(e.STORAGE_FOR_NEW_TAB_KEY)})()}removeState(e){var t=this;return g(function*(){const o=t.getStorageKeyForTab({tabId:e,baseKey:t.STORAGE_STATE_ON_TAB_KEY});return t.storage.deleteFromStorage(o)})()}setEndUserCurrentTheme(e){var t=this;return g(function*(){const{tabId:o,theme:r}=e,i=yield t.getState(o);return yield t.setState({...i,theme:r},o)})()}setEndUserViewOptions(e){var t=this;return g(function*(){const{tabId:o,options:r}=e,i=yield t.getState(o);return yield t.setState({...i,...r},o)})()}setEndUserErrorsOptions(e){var t=this;return g(function*(){const{tabId:o,options:r}=e,i=yield t.getState(o);return yield t.setState({...i,...r},o)})()}getEndUserCurrentTheme(e){var t=this;return g(function*(){return(yield t.getState(e)).theme||null})()}getEndUserShowContentCurrentSettings(e){var t=this;return g(function*(){const{minimumSupportedWidth:o,isShowContentBasedOnCondition:r,minimumSupportedHeight:i}=yield t.getState(e);return{minimumSupportedWidth:o,isShowContentBasedOnCondition:r,minimumSupportedHeight:i}})()}setAppCtxState(e,t){var o=this;return g(function*(){const r=o.getStorageKeyForTab({tabId:t,baseKey:o.STORAGE_APP_CTX_KEY});return o.storage.saveToStorage(e,r)})()}getAppCtxState(e){var t=this;return g(function*(){const o=t.getStorageKeyForTab({tabId:e,baseKey:t.STORAGE_APP_CTX_KEY});return(yield t.storage.loadFromStorage(o))??rB})()}getTabLastUrl(e){var t=this;return g(function*(){const o=t.getStorageKeyForTab({tabId:e,baseKey:t.STORAGE_TAB_LAST_URL});return(yield t.storage.loadFromStorage(o))??""})()}setTabLastUrl(e,t){var o=this;return g(function*(){const r=o.getStorageKeyForTab({tabId:t,baseKey:o.STORAGE_TAB_LAST_URL});return o.storage.saveToStorage(e,r)})()}removeTabLastUrl(e){var t=this;return g(function*(){const o=t.getStorageKeyForTab({tabId:e,baseKey:t.STORAGE_TAB_LAST_URL});return t.storage.deleteFromStorage(o)})()}getAnalyticsEventsState(){var e=this;return g(function*(){return(yield e.storage.loadFromStorage(e.STORAGE_ANALYTICS_KEY))??{}})()}setAnalyticsEventsState(e){var t=this;return g(function*(){return t.storage.saveToStorage(e,t.STORAGE_ANALYTICS_KEY)})()}scheduleRemoveOutdatedState(){var e=this;return g(function*(){const t="removeOutdatedTabState";chrome.alarms.create(t,{when:Date.now(),periodInMinutes:5}),chrome.alarms.onAlarm.addListener(function(){var r=g(function*(i){i.name===t&&(yield e.removeOutdatedState())});return function(i){return r.apply(this,arguments)}}())})()}removeOutdatedState(){var e=this;return g(function*(){try{const o=(yield chrome.tabs.query({})).map(a=>a.id),r=(yield e.storage.loadAll())??{},s=e.getStorageKeysToRemove({baseKeys:[e.STORAGE_STATE_ON_TAB_KEY,e.STORAGE_APP_CTX_KEY,e.STORAGE_TAB_LAST_URL],tabIdsToPreserve:o,storageItems:r}).map(a=>e.storage.deleteFromStorage(a));yield Promise.all(s)}catch{}})()}setIsShowContent(e){var t=this;return g(function*(){const{tabId:o,isShowContentBasedOnCondition:r}=e,i=yield t.getState(o);return t.setState({...i,isShowContentBasedOnCondition:r},o)})()}setUserWindowSettings(e){var t=this;return g(function*(){return t.storage.saveToStorage(e,t.STORAGE_USER_WINDOW_SETTINGS)})()}getUserWindowSettings(){var e=this;return g(function*(){return yield e.storage.loadFromStorage(e.STORAGE_USER_WINDOW_SETTINGS)})()}setUserSystemSettings(e){var t=this;return g(function*(){return t.storage.saveToStorage(e,t.STORAGE_USER_SYSTEM_SETTINGS)})()}getUserSystemSettings(){var e=this;return g(function*(){return yield e.storage.loadFromStorage(e.STORAGE_USER_SYSTEM_SETTINGS)})()}getStorageKeyForTab(e){const{tabId:t,baseKey:o}=e;return`${o}-${t}`}getStorageKeysToRemove(e){const{baseKeys:t,tabIdsToPreserve:o,storageItems:r}=e,i=t.flatMap(c=>o.map(d=>this.getStorageKeyForTab({tabId:d,baseKey:c})));return Object.keys(r).filter(c=>t.some(d=>c.startsWith(d))).filter(c=>!i.includes(c))}static{this.\u0275fac=function(t){return new(t||Qv)}}static{this.\u0275prov=F({token:Qv,factory:Qv.\u0275fac})}}function yg(n,e,t=1/0){return at(e)?yg((o,r)=>mt((i,s)=>e(o,i,r,s))(zo(n(o,r))),t):("number"==typeof e&&(t=e),kn((o,r)=>function tY(n,e,t,o,r,i,s,a){const c=[];let d=0,f=0,p=!1;const y=()=>{p&&!c.length&&!d&&e.complete()},m=T=>d<o?b(T):c.push(T),b=T=>{i&&e.next(T),d++;let M=!1;zo(t(T,f++)).subscribe(cn(e,O=>{r?.(O),i?m(O):e.next(O)},()=>{M=!0},void 0,()=>{if(M)try{for(d--;c.length&&d<o;){const O=c.shift();s?Is(e,s,()=>b(O)):b(O)}y()}catch(O){e.error(O)}}))};return n.subscribe(cn(e,m,()=>{p=!0,y()})),()=>{a?.()}}(o,r,n,t)))}function sB(n){return kn((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function vi(n,e){return kn((t,o)=>{let r=null,i=0,s=!1;const a=()=>s&&!r&&o.complete();t.subscribe(cn(o,c=>{r?.unsubscribe();let d=0;const f=i++;zo(n(c,f)).subscribe(r=cn(o,p=>o.next(e?e(c,p,f,d++):p),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function aB(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const o=t.indexOf("="),[r,i]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}const lB="browser";function cB(n){return"server"===n}class uB{}const _o=new de("");class y0{}class b0{}class Es{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const o=t.indexOf(":");if(o>0){const r=t.slice(0,o),i=t.slice(o+1).trim();this.addHeaderEntry(r,i)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,o)=>{this.addHeaderEntry(o,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,o])=>{this.setHeaderEntries(t,o)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Es?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Es;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Es?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let o=e.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...o),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}addHeaderEntry(e,t){const o=e.toLowerCase();this.maybeSetNormalizedName(e,o),this.headers.has(o)?this.headers.get(o).push(t):this.headers.set(o,[t])}setHeaderEntries(e,t){const o=(Array.isArray(t)?t:[t]).map(i=>i.toString()),r=e.toLowerCase();this.headers.set(r,o),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class iY{encodeKey(e){return dB(e)}encodeValue(e){return dB(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const aY=/%(\d[a-f0-9])/gi,lY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dB(n){return encodeURIComponent(n).replace(aY,(e,t)=>lY[t]??e)}function w0(n){return`${n}`}class Rc{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new iY,e.fromString){if(e.fromObject)throw new J(2805,!1);this.map=function sY(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const i=r.indexOf("="),[s,a]=-1==i?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,i)),e.decodeValue(r.slice(i+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const o=e.fromObject[t],r=Array.isArray(o)?o.map(w0):[w0(o)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(o=>{const r=e[o];Array.isArray(r)?r.forEach(i=>{t.push({param:o,value:i,op:"a"})}):t.push({param:o,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(o=>t+"="+this.encoder.encodeValue(o)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Rc({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(w0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let o=this.map.get(e.param)||[];const r=o.indexOf(w0(e.value));-1!==r&&o.splice(r,1),o.length>0?this.map.set(e.param,o):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class cY{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function fB(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function hB(n){return typeof Blob<"u"&&n instanceof Blob}function gB(n){return typeof FormData<"u"&&n instanceof FormData}const Zv="Content-Type",C0="Accept",bk="X-Request-URL",pB="text/plain",mB="application/json",_B=`${mB}, ${pB}, */*`;class Jv{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,o,r){let i;if(this.url=t,this.method=e.toUpperCase(),function uY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==o?o:null,i=r):i=o,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new Es,this.context??=new cY,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?"),c=-1===a?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}else this.params=new Rc,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||fB(this.body)||hB(this.body)||gB(this.body)||function dY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Rc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gB(this.body)?null:hB(this.body)?this.body.type||null:fB(this.body)?null:"string"==typeof this.body?pB:this.body instanceof Rc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?mB:null}clone(e={}){const t=e.method||this.method,o=e.url||this.url,r=e.responseType||this.responseType,i=e.transferCache??this.transferCache,s=void 0!==e.body?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress;let d=e.headers||this.headers,f=e.params||this.params;const p=e.context??this.context;return void 0!==e.setHeaders&&(d=Object.keys(e.setHeaders).reduce((y,m)=>y.set(m,e.setHeaders[m]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((y,m)=>y.set(m,e.setParams[m]),f)),new Jv(t,o,s,{params:f,headers:d,context:p,reportProgress:c,responseType:r,withCredentials:a,transferCache:i})}}var ya;!function(n){n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User"}(ya||(ya={}));class wk{headers;status;statusText;url;ok;type;constructor(e,t=200,o="OK"){this.headers=e.headers||new Es,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||o,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class S0 extends wk{constructor(e={}){super(e)}type=ya.ResponseHeader;clone(e={}){return new S0({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bg extends wk{body;constructor(e={}){super(e),this.body=void 0!==e.body?e.body:null}type=ya.Response;clone(e={}){return new bg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Lc extends wk{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}var Id;function Sk(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}!function(n){n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired"}(Id||(Id={}));class Vc{handler;constructor(e){this.handler=e}request(e,t,o={}){let r;if(e instanceof Jv)r=e;else{let a,c;a=o.headers instanceof Es?o.headers:new Es(o.headers),o.params&&(c=o.params instanceof Rc?o.params:new Rc({fromObject:o.params})),r=new Jv(e,t,void 0!==o.body?o.body:null,{headers:a,context:o.context,params:c,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const i=ma(r).pipe(function nY(n,e){return at(e)?yg(n,e,1):yg(n,1)}(a=>this.handler.handle(a)));if(e instanceof Jv||"events"===o.observe)return i;const s=i.pipe(jn(a=>a instanceof bg));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(mt(a=>{if(null!==a.body&&!(a.body instanceof ArrayBuffer))throw new J(2806,!1);return a.body}));case"blob":return s.pipe(mt(a=>{if(null!==a.body&&!(a.body instanceof Blob))throw new J(2807,!1);return a.body}));case"text":return s.pipe(mt(a=>{if(null!==a.body&&"string"!=typeof a.body)throw new J(2808,!1);return a.body}));default:return s.pipe(mt(a=>a.body))}case"response":return s;default:throw new J(2809,!1)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Rc).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,o={}){return this.request("PATCH",e,Sk(o,t))}post(e,t,o={}){return this.request("POST",e,Sk(o,t))}put(e,t,o={}){return this.request("PUT",e,Sk(o,t))}static \u0275fac=function(t){return new(t||Vc)(L(y0))};static \u0275prov=F({token:Vc,factory:Vc.\u0275fac})}const hY=/^\)\]\}',?\n/;function vB(n){if(n.url)return n.url;const e=bk.toLocaleLowerCase();return n.headers.get(e)}const yB=new de("");class Ed{fetchImpl=C(gY,{optional:!0})?.fetch??((...e)=>globalThis.fetch(...e));ngZone=C(ft);destroyRef=C(Bn);destroyed=!1;constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0})}handle(e){return new ht(t=>{const o=new AbortController;return this.doRequest(e,o.signal,t).then(Tk,r=>t.error(new Lc({error:r}))),()=>o.abort()})}doRequest(e,t,o){var r=this;return g(function*(){const i=r.createRequestInit(e);let s;try{const m=r.ngZone.runOutsideAngular(()=>r.fetchImpl(e.urlWithParams,{signal:t,...i}));(function pY(n){n.then(Tk,Tk)})(m),o.next({type:ya.Sent}),s=yield m}catch(m){return void o.error(new Lc({error:m,status:m.status??0,statusText:m.statusText,url:e.urlWithParams,headers:m.headers}))}const a=new Es(s.headers),c=s.statusText,d=vB(s)??e.urlWithParams;let f=s.status,p=null;if(e.reportProgress&&o.next(new S0({headers:a,status:f,statusText:c,url:d})),s.body){const m=s.headers.get("content-length"),b=[],T=s.body.getReader();let O,x,M=0;const z=typeof Zone<"u"&&Zone.current;let ie=!1;if(yield r.ngZone.runOutsideAngular(g(function*(){for(;;){if(r.destroyed){yield T.cancel(),ie=!0;break}const{done:Ze,value:Xe}=yield T.read();if(Ze)break;if(b.push(Xe),M+=Xe.length,e.reportProgress){x="text"===e.responseType?(x??"")+(O??=new TextDecoder).decode(Xe,{stream:!0}):void 0;const yn=()=>o.next({type:ya.DownloadProgress,total:m?+m:void 0,loaded:M,partialText:x});z?z.run(yn):yn()}}})),ie)return void o.complete();const ye=r.concatChunks(b,M);try{const Ze=s.headers.get(Zv)??"";p=r.parseBody(e,ye,Ze)}catch(Ze){return void o.error(new Lc({error:Ze,headers:new Es(s.headers),status:s.status,statusText:s.statusText,url:vB(s)??e.urlWithParams}))}}0===f&&(f=p?200:0),f>=200&&f<300?(o.next(new bg({body:p,headers:a,status:f,statusText:c,url:d})),o.complete()):o.error(new Lc({error:p,headers:a,status:f,statusText:c,url:d}))})()}parseBody(e,t,o){switch(e.responseType){case"json":const r=(new TextDecoder).decode(t).replace(hY,"");return""===r?null:JSON.parse(r);case"text":return(new TextDecoder).decode(t);case"blob":return new Blob([t],{type:o});case"arraybuffer":return t.buffer}}createRequestInit(e){const t={},o=e.withCredentials?"include":void 0;if(e.headers.forEach((r,i)=>t[r]=i.join(",")),e.headers.has(C0)||(t[C0]=_B),!e.headers.has(Zv)){const r=e.detectContentTypeHeader();null!==r&&(t[Zv]=r)}return{body:e.serializeBody(),method:e.method,headers:t,credentials:o}}concatChunks(e,t){const o=new Uint8Array(t);let r=0;for(const i of e)o.set(i,r),r+=i.length;return o}static \u0275fac=function(t){return new(t||Ed)};static \u0275prov=F({token:Ed,factory:Ed.\u0275fac})}class gY{}function Tk(){}function bB(n,e){return e(n)}function mY(n,e){return(t,o)=>e.intercept(t,{handle:r=>n(r,o)})}const wB=new de(""),Kv=new de(""),vY=new de(""),CB=new de("",{providedIn:"root",factory:()=>!0});function yY(){let n=null;return(e,t)=>{null===n&&(n=(C(wB,{optional:!0})??[]).reduceRight(mY,bB));const o=C(Rr);if(C(CB)){const i=o.add();return n(e,t).pipe(sB(()=>o.remove(i)))}return n(e,t)}}class wg extends y0{backend;injector;chain=null;pendingTasks=C(Rr);contributeToStability=C(CB);constructor(e,t){super(),this.backend=e,this.injector=t}handle(e){if(null===this.chain){const t=Array.from(new Set([...this.injector.get(Kv),...this.injector.get(vY,[])]));this.chain=t.reduceRight((o,r)=>function _Y(n,e,t){return(o,r)=>Xl(t,()=>e(o,i=>n(i,r)))}(o,r,this.injector),bB)}if(this.contributeToStability){const t=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(sB(()=>this.pendingTasks.remove(t)))}return this.chain(e,t=>this.backend.handle(t))}static \u0275fac=function(t){return new(t||wg)(L(b0),L(Co))};static \u0275prov=F({token:wg,factory:wg.\u0275fac})}let SB,bY=0;class TB{}function IY(){return"object"==typeof window?window:{}}class Cg{callbackMap;document;resolvedPromise=Promise.resolve();constructor(e,t){this.callbackMap=e,this.document=t}nextCallback(){return"ng_jsonp_callback_"+bY++}handle(e){if("JSONP"!==e.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==e.responseType)throw new Error("JSONP requests must use Json response type.");if(e.headers.keys().length>0)throw new Error("JSONP requests do not support headers.");return new ht(t=>{const o=this.nextCallback(),r=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${o}$1`),i=this.document.createElement("script");i.src=r;let s=null,a=!1;this.callbackMap[o]=p=>{delete this.callbackMap[o],s=p,a=!0};const c=()=>{i.removeEventListener("load",d),i.removeEventListener("error",f),i.remove(),delete this.callbackMap[o]},d=p=>{this.resolvedPromise.then(()=>{c(),a?(t.next(new bg({body:s,status:200,statusText:"OK",url:r})),t.complete()):t.error(new Lc({url:r,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})},f=p=>{c(),t.error(new Lc({error:p,status:0,statusText:"JSONP Error",url:r}))};return i.addEventListener("load",d),i.addEventListener("error",f),this.document.body.appendChild(i),t.next({type:ya.Sent}),()=>{a||this.removeListeners(i),c()}})}removeListeners(e){SB??=this.document.implementation.createHTMLDocument(),SB.adoptNode(e)}static \u0275fac=function(t){return new(t||Cg)(L(TB),L(_o))};static \u0275prov=F({token:Cg,factory:Cg.\u0275fac})}function IB(n,e){return"JSONP"===n.method?C(Cg).handle(n):e(n)}class T0{injector;constructor(e){this.injector=e}intercept(e,t){return Xl(this.injector,()=>IB(e,o=>t.handle(o)))}static \u0275fac=function(t){return new(t||T0)(L(Co))};static \u0275prov=F({token:T0,factory:T0.\u0275fac})}const EY=/^\)\]\}',?\n/,MY=RegExp(`^${bk}:`,"m");class Sg{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new J(-2800,!1);const t=this.xhrFactory;return(t.\u0275loadImpl?Wi(t.\u0275loadImpl()):ma(null)).pipe(vi(()=>new ht(r=>{const i=t.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((b,T)=>i.setRequestHeader(b,T.join(","))),e.headers.has(C0)||i.setRequestHeader(C0,_B),!e.headers.has(Zv)){const b=e.detectContentTypeHeader();null!==b&&i.setRequestHeader(Zv,b)}if(e.responseType){const b=e.responseType.toLowerCase();i.responseType="json"!==b?b:"text"}const s=e.serializeBody();let a=null;const c=()=>{if(null!==a)return a;const b=i.statusText||"OK",T=new Es(i.getAllResponseHeaders()),M=function DY(n){return"responseURL"in n&&n.responseURL?n.responseURL:MY.test(n.getAllResponseHeaders())?n.getResponseHeader(bk):null}(i)||e.url;return a=new S0({headers:T,status:i.status,statusText:b,url:M}),a},d=()=>{let{headers:b,status:T,statusText:M,url:O}=c(),x=null;204!==T&&(x=typeof i.response>"u"?i.responseText:i.response),0===T&&(T=x?200:0);let z=T>=200&&T<300;if("json"===e.responseType&&"string"==typeof x){const ie=x;x=x.replace(EY,"");try{x=""!==x?JSON.parse(x):null}catch(ye){x=ie,z&&(z=!1,x={error:ye,text:x})}}z?(r.next(new bg({body:x,headers:b,status:T,statusText:M,url:O||void 0})),r.complete()):r.error(new Lc({error:x,headers:b,status:T,statusText:M,url:O||void 0}))},f=b=>{const{url:T}=c(),M=new Lc({error:b,status:i.status||0,statusText:i.statusText||"Unknown Error",url:T||void 0});r.error(M)};let p=!1;const y=b=>{p||(r.next(c()),p=!0);let T={type:ya.DownloadProgress,loaded:b.loaded};b.lengthComputable&&(T.total=b.total),"text"===e.responseType&&i.responseText&&(T.partialText=i.responseText),r.next(T)},m=b=>{let T={type:ya.UploadProgress,loaded:b.loaded};b.lengthComputable&&(T.total=b.total),r.next(T)};return i.addEventListener("load",d),i.addEventListener("error",f),i.addEventListener("timeout",f),i.addEventListener("abort",f),e.reportProgress&&(i.addEventListener("progress",y),null!==s&&i.upload&&i.upload.addEventListener("progress",m)),i.send(s),r.next({type:ya.Sent}),()=>{i.removeEventListener("error",f),i.removeEventListener("abort",f),i.removeEventListener("load",d),i.removeEventListener("timeout",f),e.reportProgress&&(i.removeEventListener("progress",y),null!==s&&i.upload&&i.upload.removeEventListener("progress",m)),i.readyState!==i.DONE&&i.abort()}})))}static \u0275fac=function(t){return new(t||Sg)(L(uB))};static \u0275prov=F({token:Sg,factory:Sg.\u0275fac})}const I0=new de(""),EB="XSRF-TOKEN",MB=new de("",{providedIn:"root",factory:()=>EB}),DB="X-XSRF-TOKEN",xB=new de("",{providedIn:"root",factory:()=>DB});class Ik{}class Tg{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,t){this.doc=e,this.cookieName=t}getToken(){const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=aB(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(t){return new(t||Tg)(L(_o),L(MB))};static \u0275prov=F({token:Tg,factory:Tg.\u0275fac})}function kB(n,e){const t=n.url.toLowerCase();if(!C(I0)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const o=C(Ik).getToken(),r=C(xB);return null!=o&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,o)})),e(n)}class Ig{injector;constructor(e){this.injector=e}intercept(e,t){return Xl(this.injector,()=>kB(e,o=>t.handle(o)))}static \u0275fac=function(t){return new(t||Ig)(L(Co))};static \u0275prov=F({token:Ig,factory:Ig.\u0275fac})}var gl;function Md(n,e){return{\u0275kind:n,\u0275providers:e}}function xY(...n){const e=[Vc,Sg,wg,{provide:y0,useExisting:wg},{provide:b0,useFactory:()=>C(yB,{optional:!0})??C(Sg)},{provide:Kv,useValue:kB,multi:!0},{provide:I0,useValue:!0},{provide:Ik,useClass:Tg}];for(const t of n)e.push(...t.\u0275providers);return Xs(e)}!function(n){n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch"}(gl||(gl={}));const AB=new de("");function kY(){return Md(gl.LegacyInterceptors,[{provide:AB,useFactory:yY},{provide:Kv,useExisting:AB,multi:!0}])}function OB({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:MB,useValue:n}),void 0!==e&&t.push({provide:xB,useValue:e}),Md(gl.CustomXsrfConfiguration,t)}function OY(){return Md(gl.JsonpSupport,[Cg,{provide:TB,useFactory:IY},{provide:Kv,useValue:IB,multi:!0}])}class ey{static disable(){return{ngModule:ey,providers:[Md(gl.NoXsrfProtection,[{provide:I0,useValue:!1}]).\u0275providers]}}static withOptions(e={}){return{ngModule:ey,providers:OB(e).\u0275providers}}static \u0275fac=function(t){return new(t||ey)};static \u0275mod=gi({type:ey});static \u0275inj=Ro({providers:[Ig,{provide:wB,useExisting:Ig,multi:!0},{provide:Ik,useClass:Tg},OB({cookieName:EB,headerName:DB}).\u0275providers,{provide:I0,useValue:!0}]})}class Ek{static \u0275fac=function(t){return new(t||Ek)};static \u0275mod=gi({type:Ek});static \u0275inj=Ro({providers:[xY(kY())]})}class Mk{static \u0275fac=function(t){return new(t||Mk)};static \u0275mod=gi({type:Mk});static \u0275inj=Ro({providers:[OY().\u0275providers]})}const FB=new Error("enhance text is failed");class Eg{constructor(e,t){this.configService=e,this.fetchService=t}get config(){return this.configService.getCachedConfig()}get path(){return`${this.config.widgetOriginName}openai/ai-enhancement`}init(e){e?.skipListeners||this.initListeners()}getEnhancedText(e,t,o){var r=this;return g(function*(){if(!e||!t)return e;const i={resource:r.path,options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,prompt:t})},tabId:o},s=yield r.fetchService.performFetch(i);if(s?.status===Id.Ok){const c=(yield s.json())?.response;if(c)return c;throw new Error("There's no enhanced text in the response")}throw new Error("Enhance request is failed")})()}initListeners(){chrome.runtime.onMessage.addListener((e,t,o)=>{if(e?.command===q.GetEnhancedText){const{text:r,prompt:i}=e.details;return this.getEnhancedText(r,i,t.tab?.id).then(s=>o(s)).catch(()=>o("")),!0}})}static{this.\u0275fac=function(t){return new(t||Eg)(L(no),L(Gr))}}static{this.\u0275prov=F({token:Eg,factory:Eg.\u0275fac,providedIn:"root"})}}class ty{constructor(){this.logger=C(Be)}emitPageLoadComplete(e){chrome.tabs.sendMessage(e,{command:q.PageLoadComplete})}updateClientSideState(e,t,o){return g(function*(){const r={command:q.UpdateClientSideState,details:e.clientSideState},i=typeof o<"u"?{frameId:o}:void 0;return yield new Promise(s=>{chrome.tabs.sendMessage(t,r,i,()=>{chrome.runtime.lastError,s()})})})()}setMenuInProgress(e,t){const o={command:q.MenuInProgress,details:e.inProgress};chrome.tabs.sendMessage(t,o,()=>{chrome.runtime.lastError&&this.logger.error("Menu in progress has been failed",chrome.runtime.lastError)})}navigateTo(e,t){chrome.tabs.sendMessage(t,{command:q.NavigateTo,details:{url:e.url,refresh:e.refresh,openInNewTab:e.openInNewTab}})}updateVisibilityFlows(e,t){const o={command:q.UpdateVisibilityFlows,details:e.visibilityFlowItemIdPairs};chrome.tabs.sendMessage(t,o,()=>{chrome.runtime.lastError&&this.logger.error("Update of client side state with UpdateVisibilityFlows has been failed",chrome.runtime.lastError)})}updateActiveTour(e,t,o){const r=typeof o<"u"?{frameId:o}:void 0,i={command:q.UpdateClientSideActiveTour,details:e.clientSideState.activeTour};chrome.tabs.sendMessage(t,i,r,()=>{chrome.runtime.lastError&&this.logger.error("Update of client side active tour has been failed",chrome.runtime.lastError)})}handleClientSideInteraction(e){return g(function*(){const{flowItem:t,tabInfo:o}=e,r=t.data.interaction,i=t.data.selector,s=yield chrome.webNavigation.getAllFrames({tabId:o.tabId});return(yield Promise.allSettled(s.map(c=>chrome.tabs.sendMessage(o.tabId,{command:q.EmulateUserInteraction,details:{interaction:r,selector:i}},{frameId:c.frameId})))).some(c=>"fulfilled"===c.status&&!0===c.value)})()}applyThemeForIframe(e){return g(function*(){const{tabId:t,frameId:o,theme:r}=e,i=r?.name?r:a0;return chrome.tabs.sendMessage(t,{command:q.ApplyTheme,theme:i},{frameId:o})})()}applyTheme(e){return g(function*(){const{tabId:t,theme:o}=e,r=o?.name?o:a0,i=yield chrome.webNavigation.getAllFrames({tabId:t});let a;const c=function(){var d=g(function*(f,p){Date.now()-f>p||(a=yield Promise.all(i.map((T,M)=>a?.[M]?a[M]:chrome.tabs.sendMessage(t,{command:q.ApplyTheme,theme:r},{frameId:T.frameId}).catch(O=>!1))),a.every(T=>T))||setTimeout(g(function*(){yield c(f,p)}),100)});return function(p,y){return d.apply(this,arguments)}}();yield c(+Date.now(),6e3)})()}setShowContentBasedOnCondition(e,t){const o={command:q.ShowContentBasedOnCondition,details:e.isShowContentBasedOnCondition};chrome.tabs.sendMessage(t,o,()=>{chrome.runtime.lastError&&this.logger.error("Set show content based on condition has been failed",chrome.runtime.lastError)})}runEffect(e){return g(function*(){const{tabInfo:t,type:o,details:r}=e,i={command:q.RunFlowEffect,details:{type:o,details:r}};yield chrome.tabs.sendMessage(t.tabId,i)})()}logByType(e){const t={command:q.LogByType,details:{type:e.type,args:e.args}};chrome.tabs.sendMessage(e.tabId,t)}updateClientSideMenuExpandedState(e,t){return g(function*(){const o={command:q.UpdateClientSideMenuExpandedState,details:e.clientSideState.isMenuExpanded};return yield chrome.tabs.sendMessage(t,o)})()}resolveLang(e){return g(function*(){const{tabId:t,frameId:o,filterLangs:r}=e,i={command:q.GetLang,details:{langs:r}};return yield chrome.tabs.sendMessage(t,i,{frameId:o})})()}handleFlowEvent(e){return g(function*(){const t={command:q.HandleClientSideEvent,details:e.flowEvent};return new Promise((o,r)=>{chrome.runtime.sendMessage(t,()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):o()})})})()}stopProcessingFlowsByType(e){return g(function*(){const t={command:q.StopProcessingFlowsByType,details:e};return new Promise((o,r)=>{chrome.runtime.sendMessage(t,()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):o()})})})()}startUserGuidedTourById(e){const t={command:q.StartFlowById,details:e};chrome.runtime.sendMessage(t)}startUserGuidedTourByGuid(e){const t={command:q.StartFlowByGuid,details:e};chrome.runtime.sendMessage(t)}startUserGuidedTourByName(e){const t={command:q.StartGuidedTourByName,details:e};chrome.runtime.sendMessage(t)}emitSelectorValid(e){const t={command:q.GlideSelectorValid,details:{elementBoundingClientRect:e.elementBoundingClientRect}};chrome.runtime.sendMessage(t)}emitSelectorInvalid(){const e={command:q.GlideSelectorInvalid};chrome.runtime.sendMessage(e)}emitFlowStop(){try{chrome.runtime.sendMessage({command:q.FlowEnded})}catch(e){this.logger.warn("FlowEnded",e)}}sendAnalyticsEvent(e){const t={command:q.SendAnalyticsEvent,details:{event:e}};chrome.runtime.sendMessage(t)}sendAlertEvent(e){const t={command:q.SendAlertEvent,details:{event:e}};chrome.runtime.sendMessage(t)}submitSurvey(e,t){const o={command:q.SubmitSurvey,details:{event:e,answers:t}};chrome.runtime.sendMessage(o)}requestToggleMenu(){const e={command:q.RequestToggleMenu};chrome.runtime.sendMessage(e)}getEnhancedText(e,t){const o={command:q.GetEnhancedText,details:{text:e,prompt:t}};return new Promise((r,i)=>{const s=setTimeout(()=>i(new Error("Enhance text: timeout")),1e4);chrome.runtime.sendMessage(o,a=>{clearTimeout(s),chrome.runtime.lastError||!a?i(FB):r(a)})})}evaluateConditionsForCurrentTab(e){return g(function*(){const t={command:q.EvaluateConditionsForCurrentTab,details:e};return chrome.runtime.sendMessage(t)})()}replaceTagsInText(e){var t=this;return g(function*(){try{const o={command:q.ReplaceTagsInText,details:e};return(yield chrome.runtime.sendMessage(o))??e.text}catch(o){return t.logger.error("Replace tags in text has been failed:",o),e.text}})()}setMenuState(e){return g(function*(){const t={command:q.SetMenuState,details:e};return yield chrome.runtime.sendMessage(t)})()}changeMenuPlacement(e){return g(function*(){const t={command:q.ChangeMenuPlacement,details:e};return new Promise((o,r)=>{chrome.runtime.sendMessage(t,i=>{chrome.runtime.lastError?r(chrome.runtime.lastError):o(i)})})})()}changeLang(e){return g(function*(){const t={command:q.SetLang,details:e};yield chrome.runtime.sendMessage(t)})()}applyNewWindowSize(e){return g(function*(){const t={command:q.ApplyNewWindowSize,details:e};return new Promise((o,r)=>{chrome.runtime.sendMessage(t,()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):o()})})})()}getUserEmailFromHostSite(e){return g(function*(){const{tabId:t,...o}=e,r={command:q.GetAuthEmail,details:o};return(yield chrome.tabs.sendMessage(t,r)).email})()}emitCurrentExecutedStepId(e){const t={command:q.RunningStepId,details:{stepId:e}};chrome.runtime.sendMessage(t)}static{this.\u0275fac=function(t){return new(t||ty)}}static{this.\u0275prov=F({token:ty,factory:ty.\u0275fac})}}const E0=n=>"localStorage"===n?window.localStorage:window.sessionStorage,M0=n=>{if("localStorage"!==n&&"sessionStorage"!==n)throw Error(`Wrong browser storage type: ${n}`);return{loadFromStorage:r=>{try{return JSON.parse(E0(n).getItem(r))}catch{return null}},saveToStorage:(r=null,i)=>{try{E0(n).setItem(i,JSON.stringify(r))}catch{}},deleteFromStorage:r=>{try{E0(n).removeItem(r)}catch{}}}},PY=n=>{if("localStorage"!==n&&"sessionStorage"!==n)throw Error(`Wrong browser storage type: ${n}`);const e=M0(n);return{loadFromStorage:function(){var s=g(function*(a){return e.loadFromStorage(a)});return function(c){return s.apply(this,arguments)}}(),saveToStorage:function(){var s=g(function*(a=null,c){return e.saveToStorage(a,c)});return function(){return s.apply(this,arguments)}}(),deleteFromStorage:function(){var s=g(function*(a){return e.deleteFromStorage(a)});return function(c){return s.apply(this,arguments)}}(),loadAll:function(){var s=g(function*(){return{...E0(n)}});return function(){return s.apply(this,arguments)}}()}};class ny{constructor(){this.STORAGE_KEY="GLIDE_STATE",this.STORAGE_FOR_NEW_TAB_KEY="GL_DATA_FOR_CONTINUE_IN_NEW_TAB",this.STORAGE_APP_CTX_KEY="GL_APP_CTX_ON_TAB",this.STORAGE_TAB_LAST_URL="GL_TAB_LAST_URL",this.STORAGE_ANALYTICS_KEY="GL_ANALYTICS",this.STORAGE_USER_WINDOW_SETTINGS="GL_USER_WINDOW_SETTINGS",this.STORAGE_USER_SYSTEM_SETTINGS="GL_USER_SYSTEM_SETTINGS",this.storage=M0("sessionStorage"),this.localStorage=M0("localStorage")}getState(e){var t=this;return g(function*(){return{...yk,...t.storage.loadFromStorage(t.STORAGE_KEY)}})()}setState(e,t){var o=this;return g(function*(){o.storage.saveToStorage(e,o.STORAGE_KEY)})()}updateClientSideFlows(e,t,o,r){var i=this;return g(function*(){const s=yield i.getState(t),{readyForRun:a,evaluateVisibility:c}=e;return i.setState({...s,flowList:a,flowListNeedCheckVisibility:c,activatedAutoTriggersByTours:o,visibleFlowsIds:[],userContext:r},t)})()}updateClientSideVisibilityFlowIds(e,t){var o=this;return g(function*(){const r=yield o.getState(t);return o.setState({...r,visibleFlowsIds:e},t)})()}setDataForContinueInNewTab(e){var t=this;return g(function*(){return t.localStorage.saveToStorage(e,t.STORAGE_FOR_NEW_TAB_KEY)})()}getDataForContinueInNewTab(){var e=this;return g(function*(){return e.localStorage.loadFromStorage(e.STORAGE_FOR_NEW_TAB_KEY)})()}clearDataForContinueInNewTab(){var e=this;return g(function*(){return e.localStorage.deleteFromStorage(e.STORAGE_FOR_NEW_TAB_KEY)})()}removeState(e){return g(function*(){})()}getStoredState(e){var t=this;return g(function*(){return t.getState(e)})()}init(){return g(function*(){})()}setEndUserCurrentTheme(e){var t=this;return g(function*(){const{tabId:o,theme:r}=e,i=yield t.getState(o);return t.setState({...i,theme:r},o)})()}getEndUserCurrentTheme(e){var t=this;return g(function*(){return(yield t.getState(e)).theme||null})()}getEndUserShowContentCurrentSettings(e){var t=this;return g(function*(){const{minimumSupportedWidth:o,isShowContentBasedOnCondition:r,minimumSupportedHeight:i}=yield t.getState(e);return{minimumSupportedWidth:o,isShowContentBasedOnCondition:r,minimumSupportedHeight:i}})()}setEndUserViewOptions(e){var t=this;return g(function*(){const{tabId:o,options:r}=e,i=yield t.getState(o);return t.setState({...i,...r},o)})()}setEndUserErrorsOptions(e){var t=this;return g(function*(){const{tabId:o,options:r}=e,i=yield t.getState(o);return t.setState({...i,...r},o)})()}setAppCtxState(e,t){var o=this;return g(function*(){return o.storage.saveToStorage(e,o.STORAGE_APP_CTX_KEY)})()}getAppCtxState(e){var t=this;return g(function*(){return(yield t.storage.loadFromStorage(t.STORAGE_APP_CTX_KEY))??rB})()}getTabLastUrl(e){var t=this;return g(function*(){return yield t.storage.loadFromStorage(`${t.STORAGE_TAB_LAST_URL}`)})()}setTabLastUrl(e,t){var o=this;return g(function*(){return o.storage.saveToStorage(e,`${o.STORAGE_TAB_LAST_URL}`)})()}removeTabLastUrl(e){return g(function*(){})()}getAnalyticsEventsState(){var e=this;return g(function*(){return(yield e.storage.loadFromStorage(e.STORAGE_ANALYTICS_KEY))??{}})()}setAnalyticsEventsState(e){var t=this;return g(function*(){return t.storage.saveToStorage(e,t.STORAGE_ANALYTICS_KEY)})()}setIsShowContent(e){var t=this;return g(function*(){const{tabId:o,isShowContentBasedOnCondition:r}=e,i=yield t.getStoredState(o);return t.setState({...i,isShowContentBasedOnCondition:r},o)})()}setUserWindowSettings(e){var t=this;return g(function*(){return t.storage.saveToStorage(e,t.STORAGE_USER_WINDOW_SETTINGS)})()}getUserWindowSettings(){var e=this;return g(function*(){return yield e.storage.loadFromStorage(e.STORAGE_USER_WINDOW_SETTINGS)})()}setUserSystemSettings(e){var t=this;return g(function*(){return t.storage.saveToStorage(e,t.STORAGE_USER_SYSTEM_SETTINGS)})()}getUserSystemSettings(){var e=this;return g(function*(){return yield e.storage.loadFromStorage(e.STORAGE_USER_SYSTEM_SETTINGS)})()}static{this.\u0275fac=function(t){return new(t||ny)}}static{this.\u0275prov=F({token:ny,factory:ny.\u0275fac})}}function ba(n){var e,t,o,r=2;for(typeof Symbol<"u"&&(t=Symbol.asyncIterator,o=Symbol.iterator);r--;){if(t&&null!=(e=n[t]))return e.call(n);if(o&&null!=(e=n[o]))return new D0(e.call(n));t="@@asyncIterator",o="@@iterator"}throw new TypeError("Object is not async iterable")}function D0(n){function e(t){if(Object(t)!==t)return Promise.reject(new TypeError(t+" is not an object."));var o=t.done;return Promise.resolve(t.value).then(function(r){return{value:r,done:o}})}return(D0=function(o){this.s=o,this.n=o.next}).prototype={s:null,n:null,next:function(){return e(this.n.apply(this.s,arguments))},return:function(o){var r=this.s.return;return void 0===r?Promise.resolve({value:o,done:!0}):e(r.apply(this.s,arguments))},throw:function(o){var r=this.s.return;return void 0===r?Promise.reject(o):e(r.apply(this.s,arguments))}},new D0(n)}class oy{constructor(){this.configService=C(no),this.iframeAuthService=C(gg),this.logger=C(Be),this.accessTokenStorageKey="msal.token.glide",this.tokenExpirationThresholdMins=Jt.tokenExpirationThresholdMins,this.usePrevisousAccessTokenFallback=Jt.usePrevisousAccessTokenFallback,this.expiredAccessTokenProlongedLifetimeMins=Jt.expiredAccessTokenProlongedLifetimeMins,this.expiredAccessTokenMaxLifetimeMins=Jt.expiredAccessTokenMaxLifetimeMins,this.getAccessTokenPromise=null,this.sessionKeepAliveInterval=null,this.useAzureUserIdIdentification=!0,this.azureUserEmail=null,this.storage=M0("localStorage")}init(){var e=this;return g(function*(){yield e.tryFindAzureUserEmail()})()}cleanUp(){var e=this;return g(function*(){e.sessionKeepAliveInterval&&(clearInterval(e.sessionKeepAliveInterval),e.sessionKeepAliveInterval=null)})()}getAccessTokenByConfig(e){var t=this;return g(function*(){return t.azureUserEmail?t.azureUserEmail:e?(t.getAccessTokenPromise||(t.getAccessTokenPromise=t.getAndUpdateAccessToken()),t.getAccessTokenPromise):Promise.reject("Config not set")})()}clearState(){this.storage.deleteFromStorage(this.accessTokenStorageKey),this.getAccessTokenPromise=null}getAccessToken(){var e=this;return g(function*(){const t=Array.from({length:3},(c,d)=>d);var i,o=!1,r=!1;try{for(var a,s=ba(t);o=!(a=yield s.next()).done;o=!1){const c=a.value;try{return 0!==c&&e.logger.log("Get token failed. Attempt:",c+1),yield e.doGetAccessToken()}catch(d){if(e.logger.log("Get token error:",d),c===t.length-1)return null}}}catch(c){r=!0,i=c}finally{try{o&&null!=s.return&&(yield s.return())}finally{if(r)throw i}}})()}getAzureUserEmailFromMsalBrowserStorage(){return g(function*(){const e=[window.localStorage,window.sessionStorage];for(let o=0;o<e.length;o++){const r=e[o];for(const i in r)if(i.toLowerCase().includes("accesstoken"))try{const s=JSON.parse(r.getItem(i));if(s&&s.secret){const a=r7({token:s.secret});if(a)return a}}catch{}}return null})()}doGetAccessToken(){var e=this;return g(function*(){const t=yield e.getAuthProviderUrl(),o=yield e.iframeAuthService.authorizeSilentlyWithIframe({iframeUrl:t,authTimeoutMs:5e3,keepIframeOnFailed:!1,isPrevTokenFallback:e.usePrevisousAccessTokenFallback,expiredAccessTokenProlongedLifetimeMins:e.expiredAccessTokenProlongedLifetimeMins,expiredAccessTokenMaxLifetimeMins:e.expiredAccessTokenMaxLifetimeMins}),{accessToken:r,expiresOn:i}=o;return{accessToken:r,expiresOn:i,refreshToken:o.refreshToken??null}})()}getAndUpdateAccessToken(){var e=this;return g(function*(){const t=yield e.getStoredValidAccessToken();if(t)return t;const o=yield e.getAccessToken();return o?(o.accessToken&&e.storeAccessToken(o),e.getAccessTokenPromise=null,o.accessToken):(e.getAccessTokenPromise=null,null)})()}getStoredValidAccessToken(){var e=this;return g(function*(){const t=(new Date).getTime()/br,o=e.storage.loadFromStorage(e.accessTokenStorageKey);return o?(o.expiresOn-t)/60-e.tokenExpirationThresholdMins<=0?(e.storage.deleteFromStorage(e.accessTokenStorageKey),null):o.accessToken:null})()}storeAccessToken(e){this.storage.saveToStorage(e,this.accessTokenStorageKey)}getAuthProviderUrl(){var e=this;return g(function*(){const t=yield e.configService.getOrigin();return Jt.authProviderPathMask.replace("{{envOrigin}}",t)})()}tryFindAzureUserEmail(){var e=this;return g(function*(){e.useAzureUserIdIdentification&&(e.azureUserEmail=yield e.getAzureUserEmailFromMsalBrowserStorage())})()}static{this.\u0275fac=function(t){return new(t||oy)}}static{this.\u0275prov=F({token:oy,factory:oy.\u0275fac})}}function x0(){return window.location!==window.parent.location}function NB(n){const e=window.location.href;return function LY(n,e){if(!e.includes("*"))return!1;const t=e.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&");return new RegExp("^"+t.replace(/\*/g,".*")+"$").test(n)}(e,n)||function RY(n,e){const t=new URL(n),o=new URL(e);if(t.origin!==o.origin||t.pathname!==o.pathname)return!1;const r=new URLSearchParams(t.search),i=new URLSearchParams(o.search);return r.toString()===i.toString()}(e,n)}class Mg extends HV{init(){var e=this;return g(function*(){return yield e.getServerVariables(!0),!0})()}getServerVariables(){var e=this;return g(function*(t=!1){const o=e.getCachedConfig();if(!t&&o)return{config:o,prevConfig:o};if(!(yield e.getOrigin()))return{config:null,prevConfig:o};e.getSystemGuid();const r=e.getEnvironmentByUrl(e.origin),[i,s]=yield Promise.all([e.getServerVariablesFromServer(r.url),e.getSystemsFlowVersionFromServer(r.url)]),a={...i,flowVersion:String(s?.version)};return e.setCachedConfig(a),{config:a,prevConfig:o}}).apply(this,arguments)}getOrigin(){var e=this;return g(function*(){return e.origin||e.populateOrigin()})()}populateOrigin(){const e=function BY(){return _glideConfig?.apiOrigin??null}();return e?this.origin=e:null}getSystemGuid(){var e=this;return g(function*(){return e.systemGuid||e.populateSystemGuid()})()}populateSystemGuid(){const e=function UY(){return _glideConfig?.systemGuid??null}();return e?this.systemGuid=e:null}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Mg)))(o||Mg)}})()}static{this.\u0275prov=F({token:Mg,factory:Mg.\u0275fac})}}class ry{constructor(){this.configService=C(no),this.glideAuthService=C(Ay),this.cacheableFetchService=C(_g),this.siteAuthService=C(vg),this.noAuthUrl=fl.noAuthPaths,this.apiPrefix="api"}performFetch(e){var t=this;return g(function*(){const{isRetry:o,tabId:r,caching:i}=e,{url:s,options:a}=yield t.getRequestParams(e);let c;if(c=i?yield t.cacheableFetchService.fetchWithCache(s,a):yield fetch(s,a).catch(d=>null),!c?.ok){const d=c?.status;if(o)throw new pV(`HTTP Error: ${d}`,d,c);if(d===Id.Unauthorized)return t.glideAuthService.clearState(),t.performFetch({resource:s,options:a,isRetry:!0,tabId:r});throw new pV(`HTTP Error: ${d}`,d,c)}return c})()}getRequestParams(e){var t=this;return g(function*(){const{resource:o,options:r={}}=e,i=t.isAuthProtectedResource({url:o}),s={...r,headers:{...r.headers||{},"Flow-Version":"1"}};if(!i)return{url:o.toString(),options:s};const a=yield t.getAuthRequestOptions(s);return{url:o.toString(),options:a}})()}isAuthProtectedResource(e){const{url:t}=e,o=t.split(this.apiPrefix)[1]??"",r=this.noAuthUrl.includes(o);return this.isApiUrl(t)&&!r}isApiUrl(e){return e.includes(this.apiPrefix)}getAuthRequestOptions(e){var t=this;return g(function*(){const o=t.configService.getCachedConfig(),r={},i=yield t.siteAuthService.provideAuthEmail({url:window.location.href,cfgs:fl.siteAuthConfigs});if(i)r["X-Glide-User-Email"]=i;else{const s=yield t.glideAuthService.getAccessTokenByConfig(o,!1);if(!s)throw new Error("Access token for the current user is not initialized");t.isTokenAzureUserEmail(s)?r["X-Glide-User-Email"]=s:r.Authorization=`Bearer ${s}`}return{...e,headers:{...e.headers,...r}}})()}isTokenAzureUserEmail(e){return FL(e)}static{this.\u0275fac=function(t){return new(t||ry)}}static{this.\u0275prov=F({token:ry,factory:ry.\u0275fac})}}const wa_click="click",wa_hover="hover",wa_rightClick="rightClick",wa_openMenu="openMenu",wa_enterText="enterText",jY=["INPUT","TEXTAREA","SELECT","FORM"];class Rt{static getXPathForElement(e){if(""!==e.id)return`//*[@id="${e.id}"]`;if(e===document.body)return"/html/body";const t=[];let o=e;for(;null!==o&&o.nodeType===Node.ELEMENT_NODE;){let s,r=1,i=o.previousElementSibling;for(;i;)i.nodeName===o.nodeName&&r++,i=i.previousElementSibling;s=this.isSVGElement(o)||"svg"===o.nodeName.toLowerCase()?`*[name()="${o.nodeName.toLowerCase()}"][${r}]`:`${o.nodeName.toLowerCase()}[${r}]`,t.unshift(s),o=o.parentElement}return"/"+t.join("/")}static getElementByXPath(e){try{return document.evaluate(e,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}catch{return null}}static getInnerTextOrValueByXPath(e){try{const t=Rt.getElementByXPath(e);return t?this.isElementWithValue(t)?t.value:t.innerText:null}catch{return null}}static getInnerTextByXPath(e){try{const t=Rt.getElementByXPath(e);return t?t.innerText:null}catch{return null}}static getValueByXPath(e){try{const t=Rt.getElementByXPath(e);return t&&this.isElementWithValue(t)?t.value:null}catch{return null}}static getSelectedIndexByXpath(e){try{const t=Rt.getElementByXPath(e);return t&&this.isHTMLInputElement(t)?t.selectedIndex:null}catch{return null}}static getSelectCurrentOptionText(e){try{const t=Rt.getElementByXPath(e);if(t&&this.isHTMLSelectElement(t)){const o=t;return o.selectedIndex>-1?o.options[o.selectedIndex].text:null}return null}catch{return null}}static isElementVisibleByXPath(e,t){try{const o=Rt.getElementByXPath(e);if(!o)return!1;const r=window.getComputedStyle(o);if("hidden"===r.visibility||"none"===r.display)return!1;const i=o.getBoundingClientRect(),{height:s,width:a}=i;if(s<=0||a<=0)return!1;const{innerHeight:c,innerWidth:d}=window,{top:f,bottom:p,right:y,left:m}=i;let b=s,T=a;return"boolean"==typeof t?(b=t?s:0,T=t?a:0):"number"==typeof t?(b=s*GV(t,0,1),T=a*GV(t,0,1)):(b=0,T=0),f+b>0&&p-c<b&&m+T>0&&y-d<T}catch{return!1}}static getAllElementsByXPath(e){try{const t=document.evaluate(e,document,null,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),o=[];for(let r=0;r<t.snapshotLength;r++){const i=t.snapshotItem(r);i instanceof HTMLElement&&o.push(i)}return o}catch{return null}}static isXpathSelector(e){return e&&"string"==typeof e.value&&e.type===yr.XPath}static isValidXPathFormat(e){try{return document.createExpression(e),!0}catch{return!1}}static isSVGElement(e){return e instanceof SVGElement}static isElementWithValue(e){if(!e||!e.tagName)return!1;const{tagName:t}=e;return jY.some(o=>t===o)}static isHTMLInputElement(e){const t="string"==typeof e?Rt.getElementByXPath(e):e;return!(!t||!t.tagName)&&(t instanceof HTMLInputElement||"INPUT"===t.tagName)}static isHTMLSelectElement(e){const t="string"==typeof e?Rt.getElementByXPath(e):e;return!(!t||!t.tagName)&&(t instanceof HTMLSelectElement||"SELECT"===t.tagName)}static getElementType(e){const t=Rt.getElementByXPath(e);return t?this.isHTMLInputElement(t)?"input":this.isHTMLSelectElement(t)?"select":"general":null}static getXPath(e){if(e.id)return`//*[@id='${e.id}']`;const t=[];for(;e&&e.nodeType===Node.ELEMENT_NODE;){let o=1,r=e.previousSibling;for(;r;)r.nodeType===Node.ELEMENT_NODE&&r.nodeName===e.nodeName&&o++,r=r.previousSibling;const i=e.nodeName.toLowerCase(),s=o>1?`${i}[${o}]`:i;t.unshift(s),e=e.parentNode}return"/"+t.join("/")}}class Dg{constructor(){this.logger=C(Be)}scrollToElementToXpath(e){if(!e)return;const t=Rt.getElementByXPath(e.selector.value);t&&t.scrollIntoView({behavior:"auto",block:"center"})}scrollToElement(e){e&&e.scrollIntoView({behavior:"smooth",block:"center"})}scrollByPercentage(e,t){const o=Rt.isXpathSelector(e),r=o&&e.value?Rt.getElementByXPath(e.value):null,i=o?r:e,s=i||window;if(!Gv(s?.scrollBy))return void this.logger.warn("Target element can't be scrolled");const a=t.top||0,c=t.left||0,d=t.behavior||"smooth",f=s===window,b=(f?window.innerWidth:i.clientWidth)*(c/100),T=(f?window.innerHeight:i.clientHeight)*(a/100);s.scrollBy({left:b,top:T,behavior:d})}static{this.\u0275fac=function(t){return new(t||Dg)}}static{this.\u0275prov=F({token:Dg,factory:Dg.\u0275fac,providedIn:"root"})}}class Hr{constructor(){this.platform=C(Vk)}isSnippetPlatform(){return"snippet"===this.platform}isExtensionPlatform(){return"extension"===this.platform}getPlatform(){return this.platform}static{this.\u0275fac=function(t){return new(t||Hr)}}static{this.\u0275prov=F({token:Hr,factory:Hr.\u0275fac,providedIn:"root"})}}class jr{static{this.origin=null}static getFontsUrl(e){return"snippet"===e?`${jr.getOrigin()}/assets/glide/snippet/assets/fonts`:chrome.runtime.getURL("/assets/glide/fonts")}static getImagesUrl(e){return"snippet"===e?`${jr.getOrigin()}/assets/glide/snippet/assets/images`:chrome.runtime.getURL("/assets/glide/images")}static getOrigin(){if(jr.origin)return jr.origin;const e=function VY(){return _glideConfig?.assetsOrigin??null}();return jr.origin=e,jr.origin}}class Wo{transform(e,t){if(!e)return e;if(t)return x0()?null:e;const o=e,r=o.targetUrl||o.data?.targetUrl;return r?NB(r)?e:null:x0()?null:e}static{this.\u0275fac=function(t){return new(t||Wo)}}static{this.\u0275pipe=xo({name:"frameFilter",type:Wo,pure:!0})}static{this.\u0275prov=F({token:Wo,factory:Wo.\u0275fac})}}var pl;!function(n){n.Success="success",n.Error="error",n.Info="info",n.Warn="warning"}(pl||(pl={}));class $Y{constructor(e,t,o){this.type=e,this.timeout=o,this.id=crypto.randomUUID(),this.message=t.message,this.title=t?.title,this.dismissible=!0,this.action=t.actionButton,this.isCloseIcon=t.isCloseIcon}}class Dd{constructor(){this.toasts=ue([])}show(e,t,o){let r=null;return this.toasts.update(i=>t.preventDuplicates&&i.some(a=>a.message===t.message&&a.type===e)?i:(r=this.create(e,t,o),[...i,r])),r}success(e,t){return this.show(pl.Success,e,t)}error(e,t){return this.show(pl.Error,e,t)}info(e,t){return this.show(pl.Info,e,t)}warn(e,t){return this.show(pl.Warn,e,t)}close(e){this.toasts.update(t=>t.filter(o=>o.id!==e))}create(e,t,o=5e3){return new $Y(e,t,o)}static{this.\u0275fac=function(t){return new(t||Dd)}}static{this.\u0275prov=F({token:Dd,factory:Dd.\u0275fac,providedIn:"root"})}}function Dk(n){return(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement)&&("TEXTAREA"===n.tagName||/^(text|password|email|search|tel|url|number)$/.test(n.type))}class xg{constructor(){this.sasTokenProvider=C(L0),this.actionProtocol="glide",this.actionOrigin=this.actionProtocol,this.PLAY_VIDEO_ACTION="playVideo"}enrichContentWithSourceVideoUrl(e){var t=this;return g(function*(){const o=document.createElement("div");return o.innerHTML=e,yield t.processIframeTags(o),yield t.processVideoTags(o),o.innerHTML})()}processIframeTags(e){var t=this;return g(function*(){const o=Array.from(e.getElementsByTagName("iframe")).filter(r=>t.isVideoUrl(r.getAttribute("src")));for(const r of o)yield t.reBuildDownloadUrl(r)})()}processVideoTags(e){var t=this;return g(function*(){const o=Array.from(e.getElementsByTagName("video"));if(!o?.length)return;const r=[];o.forEach(i=>{r.push(...Array.from(i.getElementsByTagName("source")).filter(s=>t.isVideoUrl(s.getAttribute("src"))))});for(const i of r)yield t.reBuildDownloadUrl(i)})()}reBuildDownloadUrl(e){var t=this;return g(function*(){const o=e.getAttribute("src");if(!o)return;const[r,i]=o.split("?"),s=new URLSearchParams(i),a=s.get("name"),c=s.get("file");if(a===t.PLAY_VIDEO_ACTION){const d=yield t.sasTokenProvider.getBlobUrlWithToken(c);e.src=d}})()}isVideoUrl(e=""){return e.toLowerCase().startsWith(this.actionOrigin)}transformUrlToIframeOuterHTML(e){var t=this;return g(function*(){const{url:o,isExternal:r}=e;if(!o)return;const i=yield t.sasTokenProvider.getBlobUrlWithToken(o),s=document.createElement("iframe"),a=o.replace("watch?v=","embed/");return s.src=r?a:i,s.style.border="none",s.width="100%",s.height="100%",s.outerHTML})()}static{this.\u0275fac=function(t){return new(t||xg)}}static{this.\u0275prov=F({token:xg,factory:xg.\u0275fac,providedIn:"root"})}}class ml{constructor(){this.urlActionService=C(Hd),this.messageService=C(Ao),this.logger=C(Be),this.playVideoActionService=C(xg)}transformGuidedTourStepBodyContent(e){var t=this;return g(function*(){try{let o=e.content;return o=t.enrichDescriptionActionLinks({...e,content:o}),o=yield t.messageService.replaceTagsInText({text:o}),o=yield t.playVideoActionService.enrichContentWithSourceVideoUrl(o),o}catch(o){return t.logger.warn("Transform failed:",o),e.content}})()}transformGuidedTourPopupBodyContent(e){var t=this;return g(function*(){return t.transformGuidedTourStepBodyContent(e)})()}transformGuidedTourSurveyBodyContent(e){var t=this;return g(function*(){return t.transformGuidedTourStepBodyContent(e)})()}transformSmartNudgeDescription(e){var t=this;return g(function*(){try{let o=t.enrichDescriptionActionLinks(e);return o=yield t.playVideoActionService.enrichContentWithSourceVideoUrl(o),o}catch(o){return t.logger.warn("Transform smart nudge description failed:",o),e.content}})()}transformInteractionEnterText(e){var t=this;return g(function*(){try{return yield t.messageService.replaceTagsInText({text:e.content})}catch(o){return t.logger.warn("Transform interaction enter text failed:",o),e.content}})()}enrichDescriptionActionLinks(e){const{content:t,flowId:o,flowItemId:r}=e;if(!o)return t;const i={flowId:o.toString()};return r&&(i.flowItemId=r),this.urlActionService.enrichHtmlActionUrlsWithQueryParams(t,i)}static{this.\u0275fac=function(t){return new(t||ml)}}static{this.\u0275prov=F({token:ml,factory:ml.\u0275fac,providedIn:"root"})}}const xk_dataAttrPrefix="gl-hv",xk_dataHoverClass="gl-hover";class xd{constructor(){this.scrollService=C(Dg),this.glidePlatformService=C(Hr),this.frameFilter=C(Wo),this.toastrService=C(Dd),this.contentTransformerService=C(ml),this.eventService=C(Oo)}navigateTo(e){e.openInNewTab?window.open(e.url,"_blank"):(window.location.href=e.url,e.refresh&&window.location.reload())}dispatchUserEvent(e,t){var o=this;return g(function*(){const{type:r,rippleEffect:i,delay:s}=t,a=e.type===yr.XPath?Rt.getElementByXPath(e.value):null;if(!a&&r!==wa_openMenu)return!1;switch(i&&o.renderRippleEffect(a),r){case wa_click:e.type===yr.XPath&&o.scrollService.scrollToElementToXpath({selector:e});const c={view:window,bubbles:!0,cancelable:!0};setTimeout(()=>{a.dispatchEvent(new MouseEvent("mousedown",c)),a.dispatchEvent(new MouseEvent("mouseup",c)),a.dispatchEvent(new MouseEvent("click",c))},s*br);break;case wa_hover:e.type===yr.XPath&&o.scrollService.scrollToElementToXpath({selector:e}),o.simulateHoverCSS(a);const d=a.getBoundingClientRect(),f={view:window,bubbles:!0,cancelable:!0,clientX:d.x+1,clientY:d.y+1};a.dispatchEvent(new MouseEvent("mousemove",f)),a.dispatchEvent(new MouseEvent("mouseenter",f)),a.dispatchEvent(new MouseEvent("mouseover",f));break;case wa_rightClick:const p=a.getBoundingClientRect(),y=p.left+p.width/2,m=p.top+p.height/2;setTimeout(()=>{const O=new MouseEvent("contextmenu",{view:window,bubbles:!0,cancelable:!0,button:2,clientX:y,clientY:m});a.dispatchEvent(O)},s*br);break;case wa_enterText:if(!Dk(a))break;e.type===yr.XPath&&o.scrollService.scrollToElementToXpath({selector:e});const b=a;b.value=yield o.contentTransformerService.transformInteractionEnterText({content:t.textInput});const T=k7_Space,M=" ";b.dispatchEvent(new InputEvent("input",{view:window,bubbles:!0,cancelable:!0})),b.focus(),b.dispatchEvent(new KeyboardEvent("keydown",{key:M,code:T,view:window,cancelable:!0,bubbles:!0}))}return!0})()}scrollEffect(e){const t=e.details,{areaSelector:o,verticalScroll:r,horizontalScroll:i,targetUrl:s}=t,a=!o.value||!s;this.frameFilter.transform({targetUrl:s},a)&&this.scrollService.scrollByPercentage(o,{top:r,left:i})}warningEffect(e){const t=e.details;this.toastrService.warn({message:t.message},5e3)}renderRippleEffect(e){const o=`${jr.getImagesUrl(this.glidePlatformService.getPlatform())}/ripple_animation.gif`,r=document.createElement("img");r.src=o,Object.assign(r.style,{position:"absolute",top:"0",left:"0",width:"40px",height:"40px",pointerEvents:"none",zIndex:9999});const a=document.createElement("div");function c(){const y=e.getBoundingClientRect();a.style.top=`${window.scrollY+y.top}px`,a.style.left=`${window.scrollX+y.left}px`,r.style.top=`-${Math.max(20-y.height/2,0)}px`,r.style.left=`-${Math.max(20-y.width/2,0)}px`}Object.assign(a.style,{position:"absolute",top:"0",left:"0",width:"40px",height:"40px",pointerEvents:"none",zIndex:9999,overflow:"visible"}),document.body.appendChild(a),a.attachShadow({mode:"open"}).appendChild(r);let f=!0;c(),function p(){f&&(c(),requestAnimationFrame(p))}(),setTimeout(()=>{f=!1,a.remove()},fl.rippleAnimationPlayTimeMs)}simulateHoverCSS(e){const t=this.getHoverStyles(e);e.classList.add(xk_dataHoverClass);const o=document.createElement("style");let r="";t.forEach(([i,s])=>{r=r+i+" "+s+"\n"}),o.innerHTML=r,o.setAttribute(xk_dataAttrPrefix,""),document.head.insertBefore(o,document.head.firstChild)}getHoverStyles(e){const t=Array.from(document.styleSheets),o=[];return t.forEach(r=>{try{let i;try{i=r.cssRules||r.rules}catch{return}Array.from(i).forEach(s=>{if(s.selectorText&&s.selectorText.includes(":hover")){const a=/\:hover.*/g,c=s.selectorText.replaceAll(a,"").trim();let d=!1;try{d=e.matches(c)}catch{d=!1}if(d){const f=s.cssText.replace(s.selectorText,""),p=s.selectorText.replace(":hover",`.${xk_dataHoverClass}`);o.push([p,f])}}})}catch{}}),o}static{this.\u0275fac=function(t){return new(t||xd)}}static{this.\u0275prov=F({token:xd,factory:xd.\u0275fac,providedIn:"root"})}}class kd{constructor(){this.isPageLoadingComplete=new Hs(!1)}static{this.\u0275fac=function(t){return new(t||kd)}}static{this.\u0275prov=F({token:kd,factory:kd.\u0275fac,providedIn:"root"})}}function kk(n){return n.triggers?.filter(e=>e.type===ji.Load)}function Ad(n,e){return(n||[]).find(t=>t.id===e)}function Ak(n,e){return n.find(t=>t.guid===e)}function iy(n,e){return function XY(n){return(n||[]).filter(e=>function WY(n){return n.triggers}(e)?.some(t=>t.type===ji.Load))}(n).filter(t=>t.systemFlowType===e)}function RB(n){if(!n)return!0;const e=n.getBoundingClientRect();if(0===e.width&&0===e.height)return!0;const t=getComputedStyle(n);return"none"===t.display||"hidden"===t.visibility||"0"===t.opacity}var oe;!function(n){n.Step="Step",n.Navigation="Navigation",n.ForceScroll="ForceScroll",n.Click="Click",n.LoopForEach="LoopForEach",n.EndDialog="EndDialog",n.HandleAnIntent="HandleAnIntent",n.GoToNodeItem="GoToNodeItem",n.PopUp="Pop-up",n.Survey="Survey",n.Ruleset="Ruleset",n.WaitForTime="WaitForTime",n.Branching="SwitchCondition",n.WaitForRuleset="WaitForRuleset",n.AttachTo="AttachTo",n.GlideVariable="GlideVariable",n.Interaction="Interaction",n.Menu="Menu",n.SmartNudge="SmartNudge",n.ManualNavigation="ManualNavigation",n.IfCondition="IfCondition",n.ProcessingInNewTab="ProcessingInNewTab",n.Resource="Resource",n.Toast="Toast"}(oe||(oe={}));const LB=function(){var n=g(function*(e,t){const o=e.map(t),r=o.map(i=>new Promise((s,a)=>i.then(c=>!!c&&s(c),a)));return r.push(Promise.all(o).then(()=>null)),Promise.race(r)});return function(t,o){return n.apply(this,arguments)}}(),Lt="system";class Bc{constructor(){this.configService=C(no),this.fetchService=C(Gr),this.glidePlatformService=C(Hr),this.logger=C(Be),this.persistentState=C(_l)}init(e){e?.skipListeners||this.initListeners()}sendEvent(e,t){var o=this;return g(function*(){const r=yield o.persistentState.getState(t),i=yield o.persistentState.getAnalyticsEventsState(),s={...i};if(e.language=r.lang===Lt?null:r.lang,e.eventTypeId===st.Start)return s[e.systemFlowId]=e,void(yield o.persistentState.setAnalyticsEventsState(s));if(e.eventTypeId!==st.End){const a=i[e.systemFlowId];if(a){if(e.eventTypeId===st.Inactive)return;return yield o.sendBulkEvents([a,e]),delete s[a.systemFlowId],void(yield o.persistentState.setAnalyticsEventsState(s))}}else{const a=i[e.systemFlowId];if(a)return delete s[a.systemFlowId],void(yield o.persistentState.setAnalyticsEventsState(s))}try{const c={resource:`${o.config.widgetOriginName}systemflowevents`,options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o.getEventDto(e))},tabId:t};yield o.fetchService.performFetch(c)}catch{o.logger.warn("Error during send event",e)}})()}sendBulkEvents(e,t){var o=this;return g(function*(){try{const i={resource:`${o.config.widgetOriginName}systemflowevents/bulk`,options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.map(s=>o.getEventDto(s)))},tabId:t};yield o.fetchService.performFetch(i)}catch{o.logger.warn("Error during bulk events sending",e)}})()}getEventDto(e){return{...e,platform:z1[this.glidePlatformService.getPlatform()]}}get config(){return this.configService.getCachedConfig()}initListeners(){chrome.runtime.onMessage.addListener((e,t)=>{e?.command===q.SendAnalyticsEvent&&e?.details&&this.sendEvent(e.details?.event,t.tab?.id)})}static{this.\u0275fac=function(t){return new(t||Bc)}}static{this.\u0275prov=F({token:Bc,factory:Bc.\u0275fac,providedIn:"root"})}}function sy(n,e,t,o){if(!n)return null;const r={type:n};return e&&(r.flowGuid=e.guid,r.flowId=e.id,r.flowName=e.name,r.flowType=e.systemFlowType,void 0!==t&&(r.flowItemId=t,""!==t&&void 0!==o&&(r.flowItemType=o))),r}class k0{static createUnpublishWarningToaster(e){const{tabInfo:t,message:o}=e;return{tabInfo:t,type:"warning",details:{message:o||yV}}}static createScrollEffect(e){const{tabInfo:t,areaSelector:o,horizontalScroll:r,verticalScroll:i,targetUrl:s}=e;return{tabInfo:t,type:"scroll",details:{areaSelector:o,verticalScroll:i,horizontalScroll:r,targetUrl:s}}}static createToastEffect(e){const{tabInfo:t,title:o,text:r,translation:i}=e;return{tabInfo:t,type:"toast",details:{title:o,text:r,translation:i}}}}class ay{process(e){var t=this;return g(function*(){return yield t.parse(e)})()}restoreFlow(e){var t=this;return g(function*(){const{state:o}=e,r=t.getOwnTypeActiveFlows(o.activeFlows);return{...e.state,activeFlows:e.state.activeFlows.filter(i=>!r.some(s=>i.flow.id===s.flow.id)&&o.flowList.some(s=>s.id===i.flow.id))}})()}runFlow(e){return g(function*(){return{...e.state}})()}stopFlow(e){var t=this;return g(function*(){const{originator:o,state:r}=e,s=t.getOwnTypeActiveFlows(r.activeFlows).filter(a=>!o||a.originator===o);return{...r,activeFlows:[...r.activeFlows.filter(a=>!s.some(c=>c.flow.id===a.flow.id))]}})()}handleEvent(e){return g(function*(){return{...e.state}})()}parse(e){var t=this;return g(function*(){const o=JSON.parse(e.flowDto.dataFlow),{readyForRun:r,evaluateVisibility:i}=yield t.prepareDataFlow({rawDataFlow:o,ctx:e});return{readyForRun:{...e.flowDto,triggers:t.getFlowTriggers(e.flowDto),dataFlow:r},evaluateVisibility:i}})()}getFlowTriggers(e){return e?.triggers}getOwnTypeActiveFlows(e){if(!this.flowType)throw Error("flowType is not defined");return e.filter(t=>t.flow.systemFlowType===this.flowType)}getOwnActiveFlowById(e){const{flowId:t,state:o}=e;return this.getOwnTypeActiveFlows(o.activeFlows).find(i=>i.flow.id===t)||null}hasOwnTypeActiveFlows(e){return!!this.getOwnTypeActiveFlows(e)?.length}ensureFlowIsActive(e){const{flow:t,originator:o,state:r}=e,i=r.activeFlows.find(a=>a.flow.id===t.id);let s=r;return i||(s={...r,activeFlows:[...r.activeFlows,{flow:t,originator:o}]}),s.isMenuExpanded=null,s}cancelOwnTypeAutoPlay(e){return{...e,triggerCancellations:[...e.triggerCancellations||[],{id:crypto.randomUUID(),type:ji.Load,action:$i.AutoPlay,options:{flowType:this.flowType}}]}}runAsyncEffect(e){const{fn:t,timeoutMs:o}=e;setTimeout(t,o||0)}isValidDataFlow(e){return!(!e||!Array.isArray(e))&&e.every(t=>t?.data)}prepareFlowItemEvaluateCtx(e){let t=[],o=!1;return"ruleSet"in e&&(t=e.ruleSet.conditions),"constantlyMonitor"in e&&(o=e.constantlyMonitor),{flowItemId:String(e.id),flowType:this.flowType,conditions:t,constantlyMonitor:o}}}const Ok_FlowEnd="-1";var qo;!function(n){n.ClickOnButton="ClickOnButton",n.ClickOnElement="ClickOnElement",n.CustomTrigger="CustomTrigger"}(qo||(qo={}));qo.ClickOnButton,qo.ClickOnElement,qo.CustomTrigger;function Pk(n){const{obj:e,predicate:t,parentOrUndefined:o}=n,r=o||null;if(t(e))return{item:e,parent:r};for(const i in e){if(t(e[i]))return{item:e[i],parent:e};if(null!==e[i]&&"object"==typeof e[i]){const s=Pk({obj:e[i],predicate:t});if(s)return s}}return null}var VB,BB,kg;!function(n){n.OpenEditor="OpenEditorInternal"}(VB||(VB={})),function(n){n.Success="Success",n.Forbidden="Forbidden"}(BB||(BB={})),function(n){n.GlGetBrowserCtx="GlGetBrowserCtx",n.GlBrowserCtxResult="GlBrowserCtxResult",n.GlSetCookies="GlSetCookies",n.GlSetCookiesResult="GlSetCookiesResult"}(kg||(kg={}));class Ag{constructor(e,t){this.scriptService=e,this.scriptEntityFactory=t}loadScript(e){var t=this;return g(function*(){t.isScriptLoaded(e)||(yield t.doLoadScript(e))})()}performAction(e){var t=this;return g(function*(){const{scriptUrl:o,reqEvent:r,resEventType:i,timeoutMs:s}=e;o&&(yield t.loadScript(o));const a=t.eventToCustomEvent(r),c=s||Cd.Second;return new Promise((d,f)=>{let p=null;const y=m=>{const b=JSON.parse(m.detail);return clearTimeout(p),window.removeEventListener(i,y),d(b)};p=setTimeout(()=>(window.removeEventListener(i,y),clearTimeout(p),f(`Timeout of ${c}ms exceeded`)),c),window.addEventListener(i,y),window.dispatchEvent(a)})})()}doLoadScript(e){const t=this.scriptEntityFactory.create(e);return t.async=!1,this.scriptService.loadScript(t)}isScriptLoaded(e){const t=new URL(e);return!!document.querySelector(`[src*="${t.pathname}"]`)}eventToCustomEvent(e){const t="string"==typeof e.data?e.data:JSON.stringify(e.data);return new CustomEvent(e.type,{detail:t})}static{this.\u0275fac=function(t){return new(t||Ag)(L(fg),L(hg))}}static{this.\u0275prov=F({token:Ag,factory:Ag.\u0275fac,providedIn:"root"})}}class ly{saveCookie(e){document.cookie=e}getCookie(e){const t=document.cookie.split("; ").find(o=>o.startsWith(e+"="))?.split("=")[1];return"string"!=typeof t?null:t}getCookieAsJson(e){const t=this.getCookie(e);return this.decodeJsonCookieValue(t)}deleteCookie(e){const{key:t,path:o,domain:r}=e;let s=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=${o??"/"};`;r&&(s+=` domain=${r};`),document.cookie=s}getCookiesByPrefixByCookies(e){const{prefix:t,cookies:o}=e;return o.split("; ").map(r=>{const[i,s]=r.split("=");return i.startsWith(t)?{key:i,value:s}:null}).filter(Boolean)}getCookiesByPrefix(e){return this.getCookiesByPrefixByCookies({...e,cookies:document.cookie})}decodeJsonCookieValue(e){try{return JSON.parse(decodeURIComponent(e))}catch{return null}}getCookieAsString(e){const{key:t,value:o,ttlSec:r,currentTimestamp:i,domain:s,path:a}=e,c=this.resolveDomain({domain:s});return[`${t}=${o}`,c?`domain=${c}`:"",`path=${this.resolvePath({path:a})}`,`expires=${this.getExpirationDateUTCString({ttlSec:r,currentTimestamp:i})}`].filter(Boolean).join("; ")}resolveDomain(e){const{domain:t}=e;return t||""}resolvePath(e){const{path:t}=e;return t||"/"}getExpirationDateUTCString(e){const{ttlSec:t,currentTimestamp:o}=e;return new Date(o+t*br).toUTCString()}static{this.\u0275fac=function(t){return new(t||ly)}}static{this.\u0275prov=F({token:ly,factory:ly.\u0275fac,providedIn:"root"})}}class Og{constructor(){this.glideDataCookieService=C(ly),this.browserScriptInteractionService=C(Ag),this.glidePlatformService=C(Hr),this.scriptUrl="/assets/glide/js/glide-browser-ctx-manager.js",this.defaultStorage="cookie"}saveData(e){var t=this;return g(function*(){const{data:o,params:{storage:r,currentTimestamp:i}}=e,s=i??Date.now(),a=r??t.defaultStorage;if("cookie"!==a)throw Error(`Not implemenmted for storage: ${a}`);yield t.saveDataInCookie({data:o,params:{...e.params,currentTimestamp:s}})})()}getData(e){var t=this;return g(function*(){const{key:o}=e,s=(e.params??{storage:t.defaultStorage}).storage??t.defaultStorage;if("cookie"===s)return t.getDataFromCookie({key:o});throw Error(`Not implemenmted for storage: ${s}`)})()}deleteData(e){var t=this;return g(function*(){const{key:o}=e,r=e.params??{storage:t.defaultStorage},s=r.storage??t.defaultStorage,{path:a,domain:c}=r;if("cookie"===s)return t.glideDataCookieService.deleteCookie({key:o,path:a,domain:c});throw Error(`Not implemenmted for storage: ${s}`)})()}getDataItems(e){const{prefix:t,cookies:o}=e,r=t??"gl-";return this.glideDataCookieService.getCookiesByPrefixByCookies({prefix:r,cookies:o}).map(i=>({...i,value:this.glideDataCookieService.decodeJsonCookieValue(i.value)?.value??null}))}saveDataInCookie(e){var t=this;return g(function*(){const o=t.getCookieAsString(e),r={type:kg.GlSetCookies,data:o},i=t.glidePlatformService.isSnippetPlatform()?null:chrome.runtime.getURL(t.scriptUrl);yield t.browserScriptInteractionService.performAction({scriptUrl:i,reqEvent:r,resEventType:kg.GlSetCookiesResult})})()}getDataFromCookie(e){const{key:t}=e;return this.glideDataCookieService.getCookieAsJson(t)?.value}getCookieAsString(e){const{data:{value:t,...o},params:{ttl:r,...i}}=e,s={value:t};return this.glideDataCookieService.getCookieAsString({...o,...i,ttlSec:r,value:encodeURIComponent(JSON.stringify(s))})}static{this.\u0275fac=function(t){return new(t||Og)}}static{this.\u0275prov=F({token:Og,factory:Og.\u0275fac,providedIn:"root"})}}class Pg{constructor(){this.glidePlatformService=C(Hr),this.browserScriptInteractionService=C(Ag),this.glideDataService=C(Og),this.logger=C(Be),this.scriptUrl="/assets/glide/js/glide-browser-ctx-manager.js",this.globalVarScriptUrl="/assets/glide/js/glide-browser-global-variable.js"}getBrowserCtx(e){var t=this;return g(function*(){const{globalContextValues:o}=e,r={type:kg.GlGetBrowserCtx,data:o},i=t.glidePlatformService.isSnippetPlatform()?null:chrome.runtime.getURL(t.scriptUrl);return{...yield t.browserScriptInteractionService.performAction({scriptUrl:i,reqEvent:r,resEventType:kg.GlBrowserCtxResult})}})()}registerGlobalVariableScript(){var e=this;return g(function*(){if(e.glidePlatformService.isSnippetPlatform())return;const t=chrome.runtime.getURL(e.globalVarScriptUrl);return yield e.browserScriptInteractionService.loadScript(t)})()}createBrowserContext(e={}){return{location:{href:""},localStorageItems:{},sessionStorageItems:{},window:{},customData:{},...e}}getBrowserContextsInTab(e){var t=this;return g(function*(){const{tabId:o}=e,r=yield chrome.webNavigation.getAllFrames({tabId:o});return yield Promise.all(r.filter(i=>0===i.frameId||!function HY(n){return fl.restrictedIframesUrls.some(e=>n.includes(e))}(i.url)).map(({frameId:i})=>t.getBrowserContextInTabFrame({...e,frameId:i}).then(s=>({ctx:s,frameId:i}))))})()}getBrowserContextInTabFrame(e){var t=this;return g(function*(){const{frameId:o}=e;if(0!==o)return t.createBrowserContext();const{tabId:i,globalContextValues:s}=e,a={command:q.GetBrowserCtx,details:s};try{const c=yield new Promise(f=>{chrome.tabs.sendMessage(i,a,{frameId:o},p=>{chrome.runtime.lastError?f(null):f(p)})});return c?{...c,localStorageItems:t.parseStorageItems(c.localStorageItems),sessionStorageItems:t.parseStorageItems(c.sessionStorageItems)}:t.createBrowserContext()}catch(c){return t.logger.warn(`get tab browser ctx in iframe ${o} failed`,c),t.createBrowserContext()}})()}parseStorageItems(e){return Object.keys(e).reduce((t,o)=>(t[o]=this.safeParse(e[o]),t),{})}safeParse(e){try{return JSON.parse(e)}catch{return e}}cookiesToStorageItem(e){return this.glideDataService.getDataItems({prefix:"",cookies:e}).reduce((o,r)=>(o[r.key]=r.value,o),{})}static{this.\u0275fac=function(t){return new(t||Pg)}}static{this.\u0275prov=F({token:Pg,factory:Pg.\u0275fac,providedIn:"root"})}}class Uc{constructor(){this.browserContextService=C(Pg),this.applicationContextProvider=C(R0),this.persistentStateService=C(_l),this.logger=C(Be)}getUrlPredicateTypeOptions(){return[{id:"isExactly",name:"is exactly"},{id:"isNotExactly",name:"is not exactly"},{id:"contains",name:"contains"},{id:"isLike",name:"is like"},{id:"isNotLike",name:"is not like"}]}getVariablePredicateTypeOptions(){return[{id:"isExactly",name:"is exactly"},{id:"isNotExactly",name:"is not exactly"},{id:"exists",name:"exists"},{id:"doesNotExist",name:"does not exist"},{id:"isGreaterThan",name:"is greater than"},{id:"isLessThan",name:"is less than"},{id:"isLike",name:"is like"},{id:"isNotLike",name:"is not like"}]}getXPathElementPredicateTypeOptions(){return[{id:"exists",name:"exists"},{id:"doesNotExist",name:"does not exist"},{id:"isVisible",name:"is visible"},{id:"isNotVisible",name:"is not visible"},{id:"isExactly",name:"count is exactly"},{id:"isGreaterThan",name:"count is greater than"},{id:"isLessThan",name:"count is less than"},{id:"isEmpty",name:"is empty"},{id:"isNotEmpty",name:"is not empty"}]}getXPathValuePredicateTypeOptions(){return[{id:"isGreaterThanFloat",name:"is greater than"},{id:"isLessThanFloat",name:"is less than"}]}getXPathTextPredicateTypeOptions(){return[{id:"isExactly",name:"is exactly"},{id:"isLike",name:"is like"},{id:"isNotLike",name:"is not like"}]}getLogicalOperatorOptions(){return[{id:"and",name:"and"},{id:"or",name:"or"}]}getUrlTypeOptions(){return[{id:"current",name:"Current"}]}getVariableSourceOptions(){return[{id:"global",name:"Global context"},{id:"localStorage",name:"Local storage"},{id:"sessionStorage",name:"Session storage"},{id:"customData",name:"Glide variable"}]}getElementTypeOptions(){return[{id:"general",name:"general"},{id:"input",name:"input"},{id:"select",name:"select"}]}getElementSourceOptions(){return[{id:"element",name:"element"},{id:"value",name:"value"},{id:"text",name:"text"}]}getActiveActionOptions(){return[{id:"click",name:"Click"},{id:"mouseDown",name:"Mousedown"}]}getConditionTypesOptions(){return[{id:"url",name:"Current URL"},{id:"variable",name:"Variable"},{id:"xpath",name:"XPath"},{id:"deloitteData",name:"Deloitte Data"},{id:"activeAction",name:"Active action"}]}getDeloitteDataOptions(){return[{id:"isExactly",name:"Is exactly"},{id:"isNotExactly",name:"Is not exactly"}]}getDeloitteDataSourceOptions(){return[{id:"email",name:"Email"}]}resolveContext(e){var t=this;return g(function*(){const{tabId:o,globalContextValues:r,...i}=e;return"number"!=typeof o?yield t.resolveEvalContext({...i,globalContextValues:r}):yield t.resolveTabEvalContext({...i,tabId:o,globalContextValues:r})})()}resolveEvalContext(e){var t=this;return g(function*(){const{globalContextValues:o,waitingElementBySelectorTime:r,initCtxParams:i}=e,s=yield t.getBrowserContext({globalContextValues:o}),a=yield t.applicationContextProvider.getApplicationContext(0),{userContext:c}=yield t.persistentStateService.getState(0),d={...s,customData:a?.glideVariables};return t.resolveEvalContextByBrowserCtx({browserCtx:d,waitingElementBySelectorTime:r,initCtxParams:{userContext:c,...i}})})()}resolveTabEvalContext(e){var t=this;return g(function*(){const{tabId:o,globalContextValues:r,initCtxParams:i,waitingElementBySelectorTime:s}=e,a=yield t.browserContextService.getBrowserContextsInTab({tabId:o,globalContextValues:r}),c=yield t.applicationContextProvider.getApplicationContext(o),{userContext:d}=yield t.persistentStateService.getState(o),f=[...a].sort((p,y)=>p.frameId-y.frameId).map(p=>{const y={...p.ctx,customData:{...c?.glideVariables}},m={tabId:o,frameId:p.frameId,waitingElementBySelectorTime:s,browserCtx:y,initCtxParams:{userContext:d,...i}};return t.resolveEvalContextByBrowserCtx(m)});return yield t.mergeEvalContexts({evalCtxs:f,initCtxParams:i})})()}getBrowserContext(e){var t=this;return g(function*(){return t.browserContextService.getBrowserCtx(e)})()}getElementByXpath(e,t=()=>{}){t(!!Rt.getElementByXPath(e))}getElementVisibilityByXPath(e,t=()=>{}){t(Rt.isElementVisibleByXPath(e))}getElementCountByXpath(e,t=()=>{}){const o=Rt.getAllElementsByXPath(e);this.logger.log("Get Element Count By Xpath on client side",e,o),t(o?o.length:0)}getElementValueByXpath(e,t,o){if(!Gv(o))return void this.logger.warn("Invalid sendResponse");let r=null;r="adaptive"===t?Rt.getInnerTextOrValueByXPath(e):"input"===t&&Rt.isHTMLInputElement(e)?Rt.getValueByXPath(e):"select"===t&&Rt.isHTMLSelectElement(e)?Rt.getSelectCurrentOptionText(e):Rt.getInnerTextByXPath(e),this.logger.log("Get Element Value By Xpath on client side",e,t,r),o(r)}getElementValueMap(e,t=()=>{}){const o={};e.forEach(r=>{const i=Rt.getInnerTextByXPath(r);null!==i&&(o[r]=i),this.logger.log("Get Element Value By Xpath on client side:",r,i)}),t(o)}getContextApiMethods(e){const{tabId:t,frameId:o}=e;return{elementExists:r=>new Promise(i=>{if(t){const s={command:q.GetElementByXpath,details:{xPath:r}};chrome.tabs.sendMessage(t,s,{frameId:o},a=>chrome.runtime.lastError?(this.logger.error("Error response on extension during search GetElementByXpath",chrome.runtime.lastError.message),i(!1)):(this.logger.log("Get Element By Xpath response on extension",r,a),i(a)))}else{const s=a=>{i(a)};this.getElementByXpath(r,s)}}),elementIsVisible:r=>new Promise(i=>{if(t){const s={command:q.GetElementVisibilityByXPath,details:{xPath:r}};chrome.tabs.sendMessage(t,s,{frameId:o},a=>i(!chrome.runtime.lastError&&a))}else{const s=a=>i(a);this.getElementVisibilityByXPath(r,s)}}),elementCount:r=>new Promise(i=>{if(t){const s={command:q.GetElementCount,details:{xPath:r}};chrome.tabs.sendMessage(t,s,{frameId:o},a=>chrome.runtime.lastError?i(0):i(a))}else{const s=a=>{i(a)};this.getElementCountByXpath(r,s)}}),elementValue:(r,i="general")=>{const s=i??"general";return new Promise(a=>{if(t){const c={command:q.GetElementValue,details:{xPath:r,type:s}};chrome.tabs.sendMessage(t,c,{frameId:o},d=>chrome.runtime.lastError?a(null):a(d))}else{const c=d=>{a(d)};this.getElementValueByXpath(r,s,c)}})},elementValueMap:r=>new Promise(i=>{if(t){const s={command:q.GetElementValueMap,details:{xPaths:r}};chrome.tabs.sendMessage(t,s,{frameId:o},a=>chrome.runtime.lastError?i({}):i(a))}else{const s=a=>{i(a)};this.getElementValueMap(r,s)}})}}resolveEvalContextByBrowserCtx(e){const{browserCtx:t,initCtxParams:o,...r}=e;return{...t,...o,...this.getContextApiMethods(r)}}mergeEvalContexts(e){return g(function*(){const{evalCtxs:t,initCtxParams:o}=e;if(0===t.length)throw Error("No eval contexts provided");const[r,...i]=t,s={...r};var d,a=!1,c=!1;try{for(var p,f=ba(i);a=!(p=yield f.next()).done;a=!1){const y=p.value;{s.window={...y.window,...s.window},s.localStorageItems={...y.localStorageItems,...s.localStorageItems},s.sessionStorageItems={...y.sessionStorageItems,...s.sessionStorageItems};const m=s.elementCount.bind(s);s.elementCount=function(){var x=g(function*(z){return(yield m(z))+(yield y.elementCount(z))});return function(z){return x.apply(this,arguments)}}();const b=s.elementExists.bind(s);s.elementExists=function(){var x=g(function*(z){return!!(yield b(z))||(yield y.elementExists(z))});return function(z){return x.apply(this,arguments)}}();const T=s.elementValue.bind(s);s.elementValue=function(){var x=g(function*(z,ie){const ye=yield T(z,ie);return null!==ye?ye:yield y.elementValue(z,ie)});return function(z,ie){return x.apply(this,arguments)}}();const M=s.elementIsVisible.bind(s);s.elementIsVisible=function(){var x=g(function*(z){return!!(yield M(z))||(yield y.elementIsVisible(z))});return function(z){return x.apply(this,arguments)}}();const O=s.elementValueMap.bind(s);s.elementValueMap=function(){var x=g(function*(z){const ie=yield O(z);return{...yield y.elementValueMap(z),...ie}});return function(z){return x.apply(this,arguments)}}()}}}catch(y){c=!0,d=y}finally{try{a&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}return{...o,...s}})()}static{this.\u0275fac=function(t){return new(t||Uc)}}static{this.\u0275prov=F({token:Uc,factory:Uc.\u0275fac,providedIn:"root"})}}var UB=B(67376);const Fk=n=>typeof n?.values<"u";class cy{evaluate(e){var t=this;return g(function*(){const{conditions:o,ctx:r,prevResult:i}=e;t.validateContextOrThrowError(r);let s=i;typeof i>"u"&&(s=0===o.length||"and"===o[0].operator);var d,a=!1,c=!1;try{for(var p,f=ba(o);a=!(p=yield f.next()).done;a=!1){const y=p.value;s=yield t.evaluateCondition({condition:y,prevResult:s,ctx:r})}}catch(y){c=!0,d=y}finally{try{a&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}return s})()}evaluateConditionsSet(e){var t=this;return g(function*(){const{conditionsSet:o,ctx:r}=e;return Promise.all(o.map(i=>t.evaluate({conditions:i,ctx:r})))})()}evaluateCondition(e){var t=this;return g(function*(){const{condition:o,prevResult:r,ctx:i}=e;let s=!0;if("url"===o.type){let a="";"current"===o.subject.urlType&&(a=i.location.href);const{valueProvider:c,matchValues:d}=t.getUrlPredicateConfig({predicateType:o.predicate.type,evalValue:a,matchValues:o.predicate.values});s=yield t.evaluatePredicate({type:o.predicate.type,valueProvider:c,matchValues:t.applyFormattersForValues({values:d,formatters:[]})})}else if("variable"===o.type){let a="",c=o.subject.expression;("exists"===o.predicate.type||"doesNotExist"===o.predicate.type)&&(c=c.replace(/^['"]|['"]$/g,"")),"localStorage"===o.subject.source?a=t.parse({expr:c,ctx:i.localStorageItems}):"sessionStorage"===o.subject.source?a=t.parse({expr:c,ctx:i.sessionStorageItems}):"global"===o.subject.source?a=t.parse({expr:c,ctx:i.window}):"customData"===o.subject.source&&(a=t.parse({expr:c,ctx:i.customData}));const d=Fk(o.predicate)?o.predicate.values:[],{valueProvider:f,matchValues:p}=t.getVariablePredicateConfig({predicateType:o.predicate.type,evalValue:a,matchValues:d});s=yield t.evaluatePredicate({type:o.predicate.type,valueProvider:f,matchValues:p})}else if("xpath"===o.type){const a=o.subject.xPath,c=Fk(o.predicate)?o.predicate.values:[],{valueProvider:d,matchValues:f}=t.getXpathPredicateConfig({predicateType:o.predicate.type,subjectType:o.subject.type,subjectSource:o.subject.source,xPath:a,ctx:i,matchValues:c});s=yield t.evaluatePredicate({type:o.predicate.type,valueProvider:d,matchValues:f})}else if("activeAction"===o.type)s=!1;else if("deloitteData"===o.type){let a="";"email"===o.subject.source&&(a=i.userContext.email);const c=Fk(o.predicate)?o.predicate.values:[],{valueProvider:d,matchValues:f}=t.getDeloitteDataPredicateConfig({predicateType:o.predicate.type,evalValue:a,matchValues:c});s=yield t.evaluatePredicate({type:o.predicate.type,valueProvider:d,matchValues:f})}return o.conditions.length>0&&(s=yield t.evaluate({conditions:o.conditions,ctx:i,prevResult:s})),"and"===o.operator&&(s=r&&s),"or"===o.operator&&(s=r||s),s})()}evaluatePredicate(e){var t=this;return g(function*(){const{type:o,valueProvider:r,matchValues:i}=e,s=yield r();switch(o){case"isVariableExist":return t.evaluateIsVariablePredicate({value:s});case"isExactly":case"exists":case"doesNotExist":case"isVisible":case"isNotVisible":return t.evaluateIsPredicate({value:s,matchValues:i});case"isNotExactly":return t.evaluateIsNotPredicate({value:s,matchValues:i});case"isGreaterThan":return t.evaluateGreaterThanPredicate({value:s,matchValues:i});case"isLessThan":return t.evaluateLesserThanPredicate({value:s,matchValues:i});case"isGreaterThanFloat":return t.evaluateGreaterThanFloatPredicate({value:s,matchValues:i});case"isLessThanFloat":return t.evaluateLesserThanFloatPredicate({value:s,matchValues:i});case"isLike":return t.evaluateLikePredicate({value:s,matchValues:i});case"isNotLike":return t.evaluateNotLikePredicate({value:s,matchValues:i});case"contains":return t.evaluateContainsPredicate({value:s,matchValues:i});case"isEmpty":return t.evaluateIsEmptyPredicate({value:s,matchValues:i});case"isNotEmpty":return t.evaluateIsNotEmptyPredicate({value:s,matchValues:i});default:throw Error(`Wrong type: ${o}`)}})()}evaluateMatchPredicate(e){const{value:t,matchValues:o}=e,r=String(t),i=new RegExp(r,"i");return o.some(s=>i.test(s))}evaluateIsPredicate(e){const{value:t,matchValues:o}=e;return o.some(r=>t===r)}evaluateIsNotPredicate(e){const{value:t,matchValues:o}=e;return o.some(r=>t!==r)}evaluateIsVariablePredicate(e){return!!e.value}evaluateGreaterThanPredicate(e){const{value:t,matchValues:o}=e,r=this.toNumber(t);return o.some(i=>r>this.toNumber(i))}evaluateGreaterThanFloatPredicate(e){const{value:t,matchValues:o}=e,r=this.toFloatNumber(t);return o.some(i=>r>this.toFloatNumber(i))}evaluateLesserThanPredicate(e){const{value:t,matchValues:o}=e,r=this.toNumber(t);return o.some(i=>r<this.toNumber(i))}evaluateLesserThanFloatPredicate(e){const{value:t,matchValues:o}=e,r=this.toFloatNumber(t);return o.some(i=>r<this.toFloatNumber(i))}evaluateLikePredicate(e){const{value:t,matchValues:o}=e,r=this.createEvalOverride({matchValueToCompare:"*",resultOverride:!1}),i=(t||"").trim();return o.map(a=>this.maskToRegExpr(String(a))).some((a,c)=>{const d=r(o[c]);return"boolean"==typeof d?d:a.test(i)})}evaluateIsNotLikePredicate(e){const{value:t,matchValues:o}=e,r=(t||"").trim();return o.map(s=>this.maskToRegExpr(String(s))).some(s=>s&&!s.test(r))}evaluateNotLikePredicate(e){return this.evaluateIsNotLikePredicate({...e})}evaluateIsEmptyPredicate(e){const{value:t}=e;return""===t}evaluateIsNotEmptyPredicate(e){const{value:t}=e;return""!==t}createEvalOverride(e){const{matchValueToCompare:t,resultOverride:o}=e;return r=>r===t?o:null}evaluateContainsPredicate(e){const{value:t,matchValues:o}=e,r=(t||"").trim();return o.some(i=>r.includes(i))}maskToRegExpr(e){const t=(e||"").trim(),r=t.startsWith("*"),i=t.endsWith("*");let s=t.replace(new RegExp("\\*","gi"),"(.+)").replace(/\?/g,"\\?");return r||(s=`^${s}`),i||(s=`${s}$`),new RegExp(s,"i")}toNumber(e){return"number"==typeof e?e:parseInt(String(e))}toFloatNumber(e){return"number"==typeof e?e:/^[+-]?\d+(\.\d+)?$/.test(String(e).trim())?parseFloat(String(e)):NaN}createFormatterRemoveTrailingSlash(){return e=>e.endsWith("/")?e.slice(0,-1):e}createFormatterRemoveLocationProtocol(){const e=["https://","http://"];return t=>{for(let o=0;o<e.length;o++){const r=e[o];if(t.startsWith(r))return t.slice(r.length)}return t}}createFormatterAllToLowerCase(){return e=>e.toLowerCase()}stringifyFormatter(){return e=>{if(null==e)return"";if("object"==typeof e)try{return this.customStringify(e)}catch{return"[Object]"}return e.toString()}}customStringify(e){return"{"+Object.entries(e).map(([t,o])=>"object"==typeof o&&null!==o?`"${t}": {${Object.entries(o).map(([i,s])=>`"${i}": "${s}"`).join(" ")}}`:`"${t}": "${o}"`).join(" ")+"}"}plusRemoverFormatter(){return e=>"+"===e[0]?e.substring(1):e}parse(e){const{expr:t,ctx:o}=e,r=(t||"").trim(),i=o||{};return(0,UB.get)(i,r)}createValueProvider({value:e="",formatters:t=[]}){return()=>Promise.resolve(this.applyFormatters({value:e,formatters:t}))}applyFormatters({value:e,formatters:t}){return t.reduce((o,r)=>r(o),e)}applyFormattersForValues({values:e,formatters:t}){return e.map(o=>this.applyFormatters({value:o,formatters:t}))}createValueProviderElementExistsByXPath(e){const{xPath:t,ctx:o}=e;return()=>o.elementExists(t)}createValueProviderElementIsVisibleByXPath(e){const{xPath:t,ctx:o}=e;return()=>o.elementIsVisible(t)}createValueProviderElementsCountByXPath(e){const{xPath:t,ctx:o,formatters:r}=e;return()=>o.elementCount(t).then(i=>r?this.applyFormatters({value:i,formatters:r}):i)}createValueProviderElementsValueByXPath(e){const{xPath:t,type:o,ctx:r,formatters:i}=e;return()=>r.elementValue(t,o).then(s=>i?this.applyFormatters({value:s,formatters:i}):s)}getXpathPredicateConfig(e){const{predicateType:t,xPath:o,ctx:r,matchValues:i,subjectSource:s,subjectType:a}=e;switch(t){case"exists":return{valueProvider:this.createValueProviderElementExistsByXPath({xPath:o,ctx:r}),matchValues:[!0]};case"doesNotExist":return{valueProvider:this.createValueProviderElementExistsByXPath({xPath:o,ctx:r}),matchValues:[!1]};case"isVisible":return{valueProvider:this.createValueProviderElementIsVisibleByXPath({xPath:o,ctx:r}),matchValues:[!0]};case"isNotVisible":return{valueProvider:this.createValueProviderElementIsVisibleByXPath({xPath:o,ctx:r}),matchValues:[!1]};case"isEmpty":case"isNotEmpty":return{valueProvider:this.createValueProviderElementsValueByXPath({xPath:o,type:"adaptive",ctx:r,formatters:[this.stringifyFormatter()]}),matchValues:[]}}switch(s){case"element":switch(t){case"isGreaterThan":case"isLessThan":return{valueProvider:this.createValueProviderElementsCountByXPath({xPath:o,ctx:r}),matchValues:i};case"isExactly":return{valueProvider:this.createValueProviderElementsCountByXPath({xPath:o,ctx:r,formatters:[this.stringifyFormatter()]}),matchValues:i};default:throw Error(`Wrong type: ${t}`)}case"value":switch(t){case"isGreaterThanFloat":case"isLessThanFloat":return{valueProvider:this.createValueProviderElementsValueByXPath({xPath:o,type:a,ctx:r,formatters:[this.stringifyFormatter(),this.plusRemoverFormatter()]}),matchValues:i};default:throw Error(`Wrong type: ${t}`)}case"text":switch(t){case"isExactly":return{valueProvider:this.createValueProviderElementsValueByXPath({xPath:o,type:a,ctx:r,formatters:[this.stringifyFormatter(),this.createFormatterAllToLowerCase()]}),matchValues:i.map(c=>String(c).toLowerCase())};case"isLike":case"isNotLike":return{valueProvider:this.createValueProviderElementsValueByXPath({xPath:o,type:a,ctx:r,formatters:[this.stringifyFormatter()]}),matchValues:i};default:throw Error(`Wrong type: ${t}`)}}}getVariablePredicateConfig(e){const{predicateType:t,evalValue:o,matchValues:r}=e,i=[this.stringifyFormatter()];switch(t){case"exists":return{valueProvider:(s=g(function*(){return typeof o<"u"}),function(){return s.apply(this,arguments)}),matchValues:[!0]};case"doesNotExist":return{valueProvider:function(){var s=g(function*(){return typeof o>"u"});return function(){return s.apply(this,arguments)}}(),matchValues:[!0]};case"isGreaterThan":case"isLessThan":return{valueProvider:this.createValueProvider({value:o,formatters:[...i,this.plusRemoverFormatter()]}),matchValues:r};default:return{valueProvider:this.createValueProvider({value:o,formatters:i}),matchValues:r}}var s}getUrlPredicateConfig(e){const{predicateType:t,evalValue:o,matchValues:r}=e,i=["https://*","http://*"],s=[this.createFormatterRemoveTrailingSlash(),this.createFormatterAllToLowerCase(),this.createFormatterRemoveLocationProtocol()];let a;switch(t){case"isLike":case"isNotLike":a=r.filter(c=>!i.some(d=>String(c).toLowerCase()===d.toLowerCase()));break;default:a=r}return{valueProvider:this.createValueProvider({value:o,formatters:s}),matchValues:this.applyFormattersForValues({values:a,formatters:s})}}getDeloitteDataPredicateConfig(e){const{predicateType:t,evalValue:o,matchValues:r}=e,i=[this.stringifyFormatter(),this.createFormatterAllToLowerCase()];switch(t){case"isExactly":case"isNotExactly":return{valueProvider:this.createValueProvider({value:o,formatters:i}),matchValues:this.applyFormattersForValues({values:r,formatters:i})};default:throw Error(`Wrong type: ${t}`)}}validateContextOrThrowError(e){if("string"!=typeof e.location?.href)throw Error("Context location.href is not a string");if(!e.localStorageItems||"object"!=typeof e.localStorageItems)throw Error("Context localStorageItems is not a set");if(!e.sessionStorageItems||"object"!=typeof e.sessionStorageItems)throw Error("Context sessionStorageItems is not a set");if(!e.window||"object"!=typeof e.window)throw Error("Context window is not a set")}static{this.\u0275fac=function(t){return new(t||cy)}}static{this.\u0275prov=F({token:cy,factory:cy.\u0275fac,providedIn:"root"})}}class Od{constructor(){this.ruleEngineDataService=C(Uc),this.ruleEngineEvalService=C(cy),this.logger=C(Be)}evaluateConditions(e){var t=this;return g(function*(){const{conditions:o,waitingElementBySelectorTime:r,tabId:i,initCtxParams:s}=e;return o.length,"number"!=typeof i?yield t.evaluateConditionsWithCurrentContext({conditions:o,waitingElementBySelectorTime:r,initCtxParams:s}):yield t.evaluateConditionsForTabContext({...e,tabId:i})})()}evaluateConditionsSet(e){var t=this;return g(function*(){const{tabId:o,conditionsSet:r,waitingElementBySelectorTime:i,initCtxParams:s}=e;return 0===r.length?[]:"number"!=typeof o?yield t.evaluateConditionsSetWithCurrentContext({conditionsSet:r,waitingElementBySelectorTime:i,initCtxParams:s}):yield t.evaluateConditionsSetForTabContext({...e,tabId:o})})()}evaluateConditionsSetForTabContext(e){var t=this;return g(function*(){const{conditionsSet:o,...r}=e,i=yield t.ruleEngineDataService.resolveTabEvalContext({...r,globalContextValues:t.getBulkGlobalContextValues({conditionsSet:o})});return yield t.ruleEngineEvalService.evaluateConditionsSet({conditionsSet:o,ctx:i})})()}evaluateConditionsSetWithCurrentContext(e){var t=this;return g(function*(){const{conditionsSet:o,...r}=e,i=yield t.ruleEngineDataService.resolveEvalContext({...r,globalContextValues:t.getBulkGlobalContextValues({conditionsSet:o})});return yield t.ruleEngineEvalService.evaluateConditionsSet({conditionsSet:o,ctx:i})})()}getFirstConditionsIndexEvaluatedToTrue(e){var t=this;return g(function*(){const o=yield t.getFirstConditionsEvaluatedToTrue(e);return o?.length?e.conditionsSet.indexOf(o):-1})()}evaluateConditionsWithCurrentContext(e){var t=this;return g(function*(){const{conditions:o,waitingElementBySelectorTime:r,initCtxParams:i}=e,s=yield t.ruleEngineDataService.resolveEvalContext({globalContextValues:t.getGlobalContextValues({conditions:o}),waitingElementBySelectorTime:r,initCtxParams:i});return yield t.ruleEngineEvalService.evaluate({conditions:o,ctx:s})})()}evaluateConditionsForTabContext(e){var t=this;return g(function*(){const{conditions:o,...r}=e,i=yield t.ruleEngineDataService.resolveTabEvalContext({...r,globalContextValues:t.getGlobalContextValues({conditions:o})});return yield t.ruleEngineEvalService.evaluate({conditions:o,ctx:i})})()}getFirstConditionsEvaluatedToTrue(e){var t=this;return g(function*(){const{tabId:o,conditionsSet:r,...i}=e,s=yield t.ruleEngineDataService.resolveContext({...i,tabId:o,globalContextValues:t.getBulkGlobalContextValues({conditionsSet:r})});var d,a=!1,c=!1;try{for(var p,f=ba(r);a=!(p=yield f.next()).done;a=!1){const y=p.value;if(yield t.ruleEngineEvalService.evaluate({conditions:y,ctx:s}))return y}}catch(y){c=!0,d=y}finally{try{a&&null!=f.return&&(yield f.return())}finally{if(c)throw d}}return null})()}getGlobalContextValues(e){const{conditions:t}=e,o=[];return this.extractGlobalContextValues({conditions:t,values:o}),o}extractGlobalContextValues(e){const{conditions:t,values:o}=e;t.forEach(r=>{"variable"===r.type&&r.subject?.expression?.length&&o.push(r.subject.expression),r.conditions?.length&&this.extractGlobalContextValues({conditions:t,values:o})})}getBulkGlobalContextValues(e){const{conditionsSet:t}=e,o=[];return this.extractBulkGlobalContextValues({conditionsSet:t,values:o}),o}extractBulkGlobalContextValues(e){const{conditionsSet:t,values:o}=e;t.forEach(r=>{this.extractGlobalContextValues({conditions:r,values:o})})}static{this.\u0275fac=function(t){return new(t||Od)}}static{this.\u0275prov=F({token:Od,factory:Od.\u0275fac,providedIn:"root"})}}class Pd{constructor(e,t,o){this.persistentStateService=e,this.messageService=t,this.logger=o}updateClientSideState(e,t){var o=this;return g(function*(r,i,s=!0,a){s&&(yield o.updatePersistentState(r,i)),o.logger.log("client side state update:",i),yield o.messageService.updateClientSideState({clientSideState:i},r,a)}).apply(this,arguments)}setMenuInProgress(e,t){var o=this;return g(function*(){o.messageService.setMenuInProgress({inProgress:t},e)})()}updateVisibilityFlowsState(e,t){var o=this;return g(function*(r,i,s=!0){const c=(yield o.persistentStateService.getState(r))?.visibleFlowsIds??[],d=c.filter(y=>!i.some(m=>m.flowItemId===y.flowItemId)),f=[...i,...d];s&&(yield o.persistentStateService.updateClientSideVisibilityFlowIds(f,r)),JSON.stringify(c)!==JSON.stringify(f||[])&&o.messageService.updateVisibilityFlows({visibilityFlowItemIdPairs:f},r)}).apply(this,arguments)}updateActiveTour(e,t){var o=this;return g(function*(r,i,s=!0,a){s&&(yield o.updatePersistentState(r,i)),o.messageService.updateActiveTour({clientSideState:i},r,a)}).apply(this,arguments)}setIsShowContentBasedOnCondition(e,t){var o=this;return g(function*(){yield o.persistentStateService.setIsShowContent({tabId:e,isShowContentBasedOnCondition:t}),o.messageService.setShowContentBasedOnCondition({isShowContentBasedOnCondition:t},e)})()}updateClientSideMenuExpandedState(e,t){var o=this;return g(function*(r,i,s=!0){const c={...yield o.persistentStateService.getState(r),isMenuExpanded:i};return s&&(yield o.updatePersistentState(r,c)),o.messageService.updateClientSideMenuExpandedState({clientSideState:c},r),c}).apply(this,arguments)}updatePersistentState(e,t){var o=this;return g(function*(){return o.persistentStateService.setState(t,e)})()}runEffect(e){var t=this;return g(function*(){return yield t.messageService.runEffect(e)})()}resolveLang(e){var t=this;return g(function*(){const{tabId:o,filterLangs:r,state:i}=e,s=yield t.getLang({tabId:o,filterLangs:r});yield t.updatePersistentState(o,{...i,lang:s})})()}getLang(e){var t=this;return g(function*(){return yield t.messageService.resolveLang(e)})()}static{this.\u0275fac=function(t){return new(t||Pd)(L(_l),L(Ao),L(Be))}}static{this.\u0275prov=F({token:Pd,factory:Pd.\u0275fac,providedIn:"root"})}}class Fg{constructor(e,t,o){this.configService=e,this.fetchService=t,this.logger=o}get config(){return this.configService.getCachedConfig()}get path(){return`${this.config.widgetOriginName}systemflowevents/list/flow`}init(e){e?.skipListeners||this.initListeners()}getVisitedPopUpsIds(e,t,o){var r=this;return g(function*(){return r.getIds({siteUrl:t,systemFlowId:e,systemFlowActionKindId:At.PopUp,eventTypeId:st.Visited},o)})()}getSubmittedSurveysIds(e,t,o){var r=this;return g(function*(){return r.getIds({siteUrl:t,systemFlowId:e,systemFlowActionKindId:At.Survey,eventTypeId:st.NextButton},o)})()}initListeners(){chrome.runtime.onMessage.addListener((e,t,o)=>{const r=t.url||window?.location.href;switch(e?.command){case q.GetVisitedPopUpsIds:return this.getVisitedPopUpsIds(e.details?.flowId,r,t.tab?.id).then(i=>o(i)).catch(()=>o([])),!0;case q.GetSubmittedSurveysIds:return this.getSubmittedSurveysIds(e.details?.flowId,r,t.tab?.id).then(i=>o(i)).catch(()=>o([])),!0}})}getIds(e,t){var o=this;return g(function*(){try{const r={resource:o.path,options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},tabId:t,caching:!0},i=yield o.fetchService.performFetch(r);return i.status===Id.Ok?i?.json():[]}catch{return o.logger.warn("Error during receiving Ids of showed items. Proceed with empty."),[]}})()}static{this.\u0275fac=function(t){return new(t||Fg)(L(no),L(Gr),L(Be))}}static{this.\u0275prov=F({token:Fg,factory:Fg.\u0275fac,providedIn:"root"})}}class Hc{constructor(){this.opts=[{name:"Published",value:!0},{name:"Unpublished",value:!1}]}isPublished(e){const{entity:t}=e;return this.isPublishedByState({state:t.isPublished})}filterPublished(e){const{entities:t}=e;return t.filter(o=>this.isPublished({entity:o}))}filterUnPublished(e){const{entities:t}=e;return t.filter(o=>!this.isPublished({entity:o}))}getStatusName(e){const{state:t}=e;return this.opts.find(o=>o.value===t)?.name??""}isPublishedByState(e){const{state:t}=e;return"boolean"!=typeof t||t}static{this.\u0275fac=function(t){return new(t||Hc)}}static{this.\u0275prov=F({token:Hc,factory:Hc.\u0275fac,providedIn:"root"})}}class uy extends ay{constructor(e,t,o,r,i,s){super(),this.ruleEngineService=e,this.clientSideOrchestratorService=t,this.flowStatusProvider=o,this.messageService=r,this.logger=i,this.statusService=s,this.flowType=Te.GuidedTour,this.analyticsService=C(Bc),this.applicationContextProvider=C(R0)}prepareDataFlow(e){var t=this;return g(function*(){const o=e.rawDataFlow;return{readyForRun:{priority:null,translation:o.translation,items:t.prepareDataFlowActions({actions:o.actions})},evaluateVisibility:null}})()}restoreFlow(e){var t=()=>super.restoreFlow,o=this;return g(function*(){const{state:r,tabInfo:i,api:s}=e,{activeTour:a,lastActiveTourVisualFlowItem:c}=r,d="admin"===a?.originator||r.flowList.some(T=>T.id===a.flow.id)?a:null;if(!d)return yield t().call(o,e);const{flow:f,flowItem:p,originator:y}=d;if(!p)return yield t().call(o,e);const m=o.cancelOwnTypeAutoPlay(r);let b=null;switch(p.data.kind){case oe.Navigation:return b=yield o.getNextFlowItem({flowItems:f.dataFlow.items,currentFlowItem:p,tabInfo:i,state:r}),b?yield o.handleStep({flow:f,flowItem:b,originator:y,state:m,tabInfo:i,api:s}):o.handleStop({state:m,flowComplete:!0,tabInfo:i,api:s});case oe.ManualNavigation:case oe.ProcessingInNewTab:if(b=c,p.data.kind===oe.ProcessingInNewTab&&c?.data.kind===oe.Interaction&&(b=yield o.getNextFlowItem({flowItems:f.dataFlow.items,currentFlowItem:c,tabInfo:i,state:r})),b)return yield o.handleStep({flow:f,flowItem:b,originator:y,state:m,tabInfo:i,api:s})}return yield o.handleStep({flow:f,flowItem:p,originator:y,state:m,tabInfo:i,api:s})})()}runFlow(e){var t=this;return g(function*(){const o=e.flow,r=e.flowItem,{originator:i,state:s,tabInfo:a,api:c,keepExecutionStack:d,analyticsInfo:f}=e,p=s.activeTour,y=t.getFlowItem(e,r);let m=t.ensureFlowIsActive({flow:o,originator:i,state:s});return d||(m=t.trackAnalyticsEndAndClearExecutionStack({state:m,tabInfo:a,originator:i,lastFlowComplete:!1})),y?(f.restore||(yield t.trackAnalyticsStart({flow:o,originator:i,state:m,tabInfo:a,prevActiveTour:p,prevComplete:f.fromLastFlowItem,initiator:f.initiator})),yield t.handleStep({flow:o,flowItem:y,originator:i,state:m,tabInfo:a,api:c})):o?.runFlowTriggerType===Gi.LauncherLink?s:t.handleStop({state:m,flowComplete:!0,tabInfo:a,api:c})})()}ensureFlowIsActive(e){const{flow:t,originator:o,state:r}=e;let s=r;return r.activeTour?.flow?.id===t.id||(s={...r,activeTour:{flow:t,originator:o}}),s}prepareTourFlowItemEvaluateCtx(e){const{item:t,precondition:o,isConstantlyMonitor:r}=e,i=o?.ruleSet?.conditions;return{flowItemId:String(t.id),flowType:this.flowType,conditions:i,constantlyMonitor:r}}getToursEvalCtx(e){var t=this;return g(function*(){return e.reduce((o,r)=>{const s=(r?.triggers||[]).find(({action:c})=>c===$i.AutoPlay)?.precondition,a=s?.constantlyMonitor;if(a){const c=t.prepareTourFlowItemEvaluateCtx({item:r,precondition:s,isConstantlyMonitor:a});o.push(c)}return o},[])})()}runFlowWithStateUpdate(e){var t=this;return g(function*(){e.keepExecutionStack=!0,setTimeout(g(function*(){t.clientSideOrchestratorService.updateActiveTour(e.tabInfo.tabId,yield t.runFlow(e))}),50)})()}getFlowItem(e,t){const o=e.flow;if(t)return t;if(!o.dataFlow.items?.length)return null;if(o?.startFromStepId){if(o?.startFromStepId===Ok_FlowEnd)return null;const r=this.findStepInTreeByID({obj:o.dataFlow.items,stepId:o.startFromStepId});if(r)return r}return o.dataFlow?.items?.[0]}handleEvent(e){var t=this;return g(function*(){const{event:o,state:r,tabInfo:i,api:s}=e;switch(o.type){case Nt.Close:return t.handleCloseEvent({event:o,state:r,tabInfo:i,api:s});case Nt.Failed:return t.handleFailedEvent({event:o,state:r,tabInfo:i,api:s});case Nt.Next:return yield t.handleNextEvent({event:o,state:r,tabInfo:i,api:s});case Nt.RunTour:return yield t.handleRunTourEvent({event:o,state:r,tabInfo:i,api:s});case Nt.RunTourByGuid:return yield t.handleRunTourEventByGuid({event:o,state:r,tabInfo:i,api:s});case Nt.Back:default:return{...r}}})()}stopFlow(e){return g(function*(){const{originator:t,state:o}=e;return t&&o?.activeTour?.originator!==t?o:{...o,activeTour:null}})()}setCurrentStepIndicator(e){const{flowItem:t,tabInfo:o,originator:r}=e;if("admin"===r){const{data:i}=t;let s="unknown";s="title"in i?i.title:i.kind||i.id,this.messageService.emitCurrentExecutedStepId(i.id),this.messageService.logByType({tabId:o.tabId,args:[`\u2139\ufe0f Current tour step: ${s}`],type:"log"})}}handleStep(e){var t=this;return g(function*(){const{flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c}=e;if(!e.flowItem?.data)return{...s};switch(t.setCurrentStepIndicator({flowItem:r,originator:i,tabInfo:a}),r.data.kind){case oe.Navigation:const{navigateTo:d,refreshPageIfUrlIsIdentical:f,openInNewTab:p}=r.data;return yield t.navigateTo({flow:o,flowItem:r,originator:i,url:d,refreshPageIfUrlIsIdentical:f,openInNewTab:p,state:s,tabInfo:a,api:c});case oe.Step:return yield t.handleStepTriggers({flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c});case oe.PopUp:case oe.Resource:if(yield t.checkVisitedOrSubmittedItems(o,r,s,i,a),t.hidePopUp(r,s,i))return t.goToNext({flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c});break;case oe.IfCondition:return t.handleIfCondition({flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c});case oe.Branching:return t.handleSwitchCondition({flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c});case oe.AttachTo:return yield t.handleAttachTo({flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c});case oe.Interaction:return yield t.handleInteraction({flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c});case oe.GlideVariable:return yield t.handleGLideVariable({flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c});case oe.ForceScroll:return t.handleForceScroll({...e,flowItem:r});case oe.Toast:return t.handleToast({...e,flowItem:r});case oe.Survey:if(yield t.checkVisitedOrSubmittedItems(o,r,s,i,a),t.isSkipSurvey(r,s,i))return yield t.goToNext({flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c})}return{...s,activeTour:{flow:o,flowItem:r,originator:i,inProgress:!0},lastActiveTourVisualFlowItem:{...r}}})()}navigateTo(e){var t=this;return g(function*(){const{flow:o,flowItem:r,originator:i,refreshPageIfUrlIsIdentical:s,openInNewTab:a,state:c,tabInfo:d,api:f}=e;let{url:p}=e;const y=/^(https?:\/\/)\*(\/.*)?$/.test(p),m=d?.url||window.location.href;if(y){const M=/^(https:\/\/)(?:www\.)?([^\/]+)/,O=m.match(M)[0];p=p.replace(M,O)}if(a||!(m===p||m===`${p}/`)||s){const M=()=>{const O=s&&p.includes("#");t.messageService.navigateTo({url:p,refresh:O,openInNewTab:a},d.tabId)};if(t.runAsyncEffect({fn:M,timeoutMs:500}),!a)return{...c,activeTour:{flow:o,flowItem:r,originator:i,inProgress:!0}}}return yield t.goToNext({flow:o,flowItem:r,originator:i,state:c,tabInfo:d,api:f})})()}handleIfCondition(e){var t=this;return g(function*(){return yield t.goToNext(e)})()}handleSwitchCondition(e){var t=this;return g(function*(){return yield t.goToNext(e)})()}handleNextEvent(e){var t=this;return g(function*(){const{event:o,state:r,tabInfo:i,api:s}=e,{activeTour:a}=r;if(!a)return r;const{flow:c,flowItem:d,originator:f}=a;let p;if(o.action){const{payload:m}=o.action;if(o.action.type!==zi.TriggerActivation)return t.logger.warn("Event action type is not matched. Event",o),r;{const b=m;b?.flowStepId===d?.data?.id&&d?.data?.kind===oe.Step?(d.data.activatedTrigger={...b},p=b?.isContinueInNewTab):t.logger.warn("Trigger item is not actual",m,d)}}if(d?.data.kind===oe.ManualNavigation)return r;const y=yield t.goToNext({flow:c,originator:f,flowItem:d,state:r,tabInfo:i,api:s});return p?(s.continueInNewTab({tabInfo:i,state:y}),{...r,activeTour:null}):y})()}handleRunTourEvent(e){var t=this;return g(function*(){const{event:{action:o,flowId:r,flowItemId:i,flowItemType:s},state:a,tabInfo:c,api:d}=e,{flowId:f,startFromStepId:p,runFlowTriggerType:y,fromLastFlowItem:m}=o.payload;if(!f)return t.logger.warn(new Error(`No Flow id "${f}" was not found`)),{...a};const b=Ad(a.flowList,f);if(!b)return t.logger.warn(new Error(`Flow with id "${f}" was not found`)),{...a};const T=sy(fV[y],Ad(a.flowList,r),i,s);return d.runFlow({flow:{...b,startFromStepId:p,runFlowTriggerType:y},originator:"user",state:a,api:d,tabInfo:c,analyticsInfo:{fromLastFlowItem:m,initiator:T}})})()}handleRunTourEventByGuid(e){var t=this;return g(function*(){const{event:{action:o,flowId:r,flowItemId:i,flowItemType:s},state:a,tabInfo:c,api:d}=e,{flowGuid:f,startFromStepId:p,fromLastFlowItem:y,runFlowTriggerType:m}=o.payload;if(!f)return t.logger.warn(new Error(`No Flow guid "${f}" was not found`)),{...a};const b=Ak(a.flowList,f);if(!b)return t.logger.warn(new Error(`Published flow with guid "${f}" was not found`)),{...a};const T=a.activeTour?.originator||"user",M=sy(fV[m],Ad(a.flowList,r),i,s);return d.runFlow({flow:{...b,startFromStepId:p},originator:T,state:a,api:d,tabInfo:c,analyticsInfo:{fromLastFlowItem:y,initiator:M}})})()}handleAttachTo(e){var t=this;return g(function*(){const{flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c}=e,d=Ak(s.flowList,r.data.attachTo.guideTourId);if(!d)return yield t.goToNext(e);if(!t.statusService.isPublished({entity:d})&&"user"===i)return yield t.goToNext(e);r.data.attachTo.stepId&&(d.startFromStepId=r.data.attachTo.stepId);const p=yield t.getNextFlowItem({flowItems:o.dataFlow.items,currentFlowItem:r,tabInfo:a,state:s}),y=[...s.flowExecutionStack];let m={...s};yield t.trackAttachToAnalyticEvent({flow:o,flowItem:r,tabInfo:a,details:{...r.data.attachTo}}),r.data.continueOriginalTour?(y.push({flowId:o.id,startFromStepId:p?.data?.id??Ok_FlowEnd}),m={...m,flowExecutionStack:y}):(t.trackAnalyticsEnd({state:s,tabInfo:a,complete:!0}),m=t.trackAnalyticsEndAndClearExecutionStack({state:m,tabInfo:a,originator:i,lastFlowComplete:!0})),m={...m,activeTour:null};const b=sy(Ts.AttachTo,o,r.data.id,At.AttachTo);return t.runFlowWithStateUpdate({flow:d,originator:i,state:m,api:c,tabInfo:a,analyticsInfo:{initiator:b}}),m})()}handleForceScroll(e){var t=this;return g(function*(){const{flowItem:o,tabInfo:r,api:i}=e,{notes:a,...c}=o.data.forceScroll;return i.runEffect(k0.createScrollEffect({tabInfo:r,...c})),yield $V(100),t.goToNext(e)})()}handleToast(e){var t=this;return g(function*(){const{flow:r,flowItem:i,tabInfo:s,api:a,originator:c}=e,{name:d,systemFlowType:f}=r,p=r.id,{title:y,text:m,translation:b}=i.data,T=i.data.id;return"user"===c&&t.analyticsService.sendEvent({siteUrl:s?.url||window?.location?.href,systemFlowId:p,systemFlowName:d,systemFlowType:f,systemFlowActionKindId:At.Toast,systemFlowActionInternalId:T,title:y||oe.Toast,eventTypeId:st.Visited,details:null},s?.tabId),a.runEffect(k0.createToastEffect({tabInfo:s,title:y,text:m,translation:b})),yield $V(100),t.goToNext(e)})()}handleInteraction(e){var t=this;return g(function*(){const{flowItem:r,tabInfo:i,api:s,state:a,flow:c,originator:d}=e;let f,p=a;var m;m=r.data.interaction?.type,["openMenu"].includes(m)?(p=yield t.clientSideOrchestratorService.updateClientSideMenuExpandedState(i.tabId,!0),f=!!p):f=yield t.messageService.handleClientSideInteraction({flowItem:r,tabInfo:i});const y=r.data?.continueInNewTab&&"click"===r.data.interaction.type;return f&&y?(s.continueInNewTab({tabInfo:i,state:{...p,activeTour:{flow:c,flowItem:r,originator:d}}}),{...p,activeTour:null}):yield t.goToNext({...e,state:p})})()}goToNext(e){var t=this;return g(function*(){const{flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c}=e,d=yield t.getNextFlowItem({flowItems:o.dataFlow.items,currentFlowItem:r,tabInfo:a,state:s});return d?yield t.handleStep({flow:o,flowItem:d,originator:i,state:s,tabInfo:a,api:c}):(t.logger.warn("GL: Next Flow Item not found",d),t.handleStop({state:s,flowComplete:!0,tabInfo:a,api:c}))})()}getNextFlowItem(e){var t=this;return g(function*(){const{flowItems:o,currentFlowItem:r,tabInfo:i,state:s}=e;return yield t.getNextFlowItemFromData({flowItems:o,currentDataElement:r,direction:"down",tabInfo:i,state:s})})()}getNextFlowItemFromData(e){var t=this;return g(function*(){t.logger.log("Start search next flow item",e);const{flowItems:o,currentDataElement:r,direction:i,tabInfo:s,state:a}=e;let c=null;if("data"in r&&(c=t.findStepInTreeByID({obj:o,stepId:r.data.connectedItemId})),"down"===i){if("data"in r)if(c0(r,oe.IfCondition)){const f=yield t.getIfConditionNextFlowItem({currentFlowItem:r,tabInfo:s});if(f)return f}else if(c0(r,oe.Branching)){const f=c||(yield t.getSwitchConditionNextFlowItem({currentFlowItem:r,tabInfo:s,state:a}));if(f)return t.logger.log("Proceed with connected or conditional flow item",f),f;if(!1===f)return null}else if("activatedTrigger"in r.data){const{activatedTrigger:f}=r.data;delete r.data.activatedTrigger;const p=yield t.getNextFlowItemByTrigger({currentFlowItem:r,activatedTrigger:f,connectedItem:c,tabInfo:s});if(p)return t.logger.log("Proceed with flow item from trigger",p),p;if(f.triggerId!==wd)return null}if(c)return t.logger.log("Proceed with connectedItem flow item",c),c}if("up"===i&&"triggerType"in r)return null;const d=yield t.getNextFlowItemInCurrentElementOrParents({flowItems:o,currentDataElement:r,tabInfo:s,state:a});return t.logger.log("Proceed with regular flow item",d),d})()}getNextFlowItemInCurrentElementOrParents(e){var t=this;return g(function*(){const{flowItems:o,currentDataElement:r,tabInfo:i,state:s}=e,a=d=>{const f=JSON.stringify(d)===JSON.stringify(r);let y=!1;return"data"in r&&(d&&"object"==typeof d&&"data"in d)&&(y=r?.data?.id&&d?.data?.id===r?.data?.id),f||y},c=Pk({obj:o,predicate:a});if(!c)throw Error("Item not found");if(!c.parent)return null;if(t.isValidDataFlow(c.parent)){const d=c.parent.indexOf(c.item),f=c.parent[d+1];if(f)return f}else if("kind"in c.parent&&c.parent.kind===oe.Branching){const{parent:d}=c;if(!a(d.default))return null}return yield t.getNextFlowItemFromData({flowItems:o,currentDataElement:c.parent,direction:"up",tabInfo:i,state:s})})()}getIfConditionNextFlowItem(e){var t=this;return g(function*(){const{currentFlowItem:o,tabInfo:r}=e;return o.data.precondition&&((yield t.ruleEngineService.evaluateConditions({conditions:o.data.precondition.ruleSet.conditions,tabId:r?.tabId}))?o.data.actions[0]:o.data.elseActions[0])||null})()}getSwitchConditionNextFlowItem(e){var t=this;return g(function*(){const{currentFlowItem:o,tabInfo:r,state:i}=e;if(o.data.cases?.length){const s=yield t.getMatchedCaseByRuleset(o.data.cases,r,i);if(s)return s.actions?.[0]||!1}return o.data.default?.length?o.data.default[0]:null})()}hidePopUp(e,t,o){const r=t.visitedFlowItemsIds?.includes(e.data.id),i=e.data.precondition?.frequency.type;return"user"===o&&(i===an.Once&&r)}handleStop(e){const{state:t,flowComplete:o,tabInfo:r,api:i}=e;this.trackAnalyticsEnd({state:t,tabInfo:r,complete:o});const s=t.activeTour?.originator,a="admin"===s||!s,c=[...t.flowExecutionStack];let d={...t,activeTour:null};const f=c.length>0;if(o)if(f){const p=c.pop(),y=Ad(t.flowList,p.flowId);if(d={...t,flowExecutionStack:c},y){const m={...y};m.startFromStepId=p.startFromStepId,this.runFlowWithStateUpdate({flow:m,originator:s,state:{...d},api:i,tabInfo:r,analyticsInfo:{restore:!0}})}else a&&this.broadcastFlowEndedCommand()}else a&&this.broadcastFlowEndedCommand();else d=this.trackAnalyticsEndAndClearExecutionStack({state:d,tabInfo:r,originator:s??"admin",lastFlowComplete:!1}),a&&this.broadcastFlowEndedCommand();return{...d}}broadcastFlowEndedCommand(){this.messageService.emitFlowStop()}trackAnalyticsEndAndClearExecutionStack(e){const{state:t,tabInfo:o,originator:r,lastFlowComplete:i}=e,{flowExecutionStack:s}=t;for(let a=s.length-1;a>=0;a--){const c=s[a],d=Ad(t.flowList,c.flowId);if(d){const f=!!i&&c.startFromStepId===Ok_FlowEnd;this.trackAnalyticsEnd({state:{...t,activeTour:{flow:d,originator:r}},tabInfo:o,complete:f})}}return{...t,flowExecutionStack:[]}}handleCloseEvent(e){const{event:t,state:o,tabInfo:r,api:i}=e;return t?.action?o:this.handleStop({state:o,flowComplete:!1,tabInfo:r,api:i})}handleFailedEvent(e){const{event:{action:t},state:o,tabInfo:r,api:i}=e;return t?(t.type===zi.ShowUnpublishWarningToaster&&o.isErrorsOn&&i.runEffect(k0.createUnpublishWarningToaster({tabInfo:r,message:o.messageContentUnavailable})),o):this.handleStop({state:o,flowComplete:!1,tabInfo:r,api:i})}prepareDataFlowActions(e){const{actions:t}=e;return(t||[]).map(o=>o.kind===oe.Navigation?{data:{id:o.id||crypto.randomUUID(),kind:o.kind,...o.metaData,connectedItemId:o.connectedItemId}}:o.kind===oe.IfCondition?{data:{id:o.id||crypto.randomUUID(),kind:o.kind,actions:this.prepareDataFlowActions({actions:o.actions}),precondition:o.precondition,elseActions:this.prepareDataFlowActions({actions:o.elseActions||[]})}}:o.kind===oe.Branching?{data:{id:o.id||crypto.randomUUID(),kind:o.kind,cases:(o.cases||[]).map(r=>({...r,actions:this.prepareDataFlowActions({actions:r.actions}),elseActions:this.prepareDataFlowActions({actions:r.elseActions})})),default:this.prepareDataFlowActions({actions:o.default||[]}),connectedItemId:o.connectedItemId}}:o.kind===oe.PopUp||o.kind===oe.Resource?{data:{id:o.id||crypto.randomUUID(),kind:o.kind,title:o.customTitle,...o.metaData,connectedItemId:o.connectedItemId,translation:o.translation||{}}}:o.kind===oe.Survey?{data:{id:o.id,kind:o.kind,title:o.customTitle,description:o.metaData.surveyDescription,category:o.metaData.surveyCategory,annotation:o.metaData.surveyAnnotation,questions:o.metaData.surveyQuestions,connectedItemId:o.connectedItemId,styles:o.metaData.styles,isAllowOpenSubmittedSurvey:o.metaData?.isAllowOpenSubmittedSurvey??!0,translation:o.translation||{}}}:o.kind===oe.WaitForTime?{data:{id:o.id||crypto.randomUUID(),kind:o.kind,duration:o.duration,isInvalidNode:o.isInvalidNode,connectedItemId:o.connectedItemId}}:o.kind===oe.WaitForRuleset?{data:{id:o.id||crypto.randomUUID(),kind:o.kind,title:o.customTitle,...o.metaData,connectedItemId:o.connectedItemId}}:o.kind===oe.AttachTo?{data:{id:o.id||crypto.randomUUID(),kind:o.kind,continueOriginalTour:o.continueOriginalTour,...o.metaData}}:o.kind===oe.ForceScroll?{data:{id:o.id,kind:o.kind,...o.metaData,connectedItemId:o.connectedItemId}}:o.kind===oe.Interaction?{data:{id:o.id||crypto.randomUUID(),kind:o.kind,title:o.customTitle,selector:{type:yr.XPath,value:o.metaData.elementSelector},interaction:o.metaData.interaction,targetUrl:o.metaData.targetUrl,connectedItemId:o.connectedItemId,continueInNewTab:o.metaData.continueInNewTab}}:o.kind===oe.GlideVariable?{data:{id:o.id||crypto.randomUUID(),kind:o.kind,variableName:o.customTitle,...o.metaData.glideVariable,connectedItemId:o.connectedItemId}}:o.kind===oe.Toast?{data:{id:o.id,kind:o.kind,toastName:o.customTitle,...o.metaData.toast,translation:o.translation||{},connectedItemId:o.connectedItemId}}:o.kind===oe.Step?{data:{id:o.id||crypto.randomUUID(),kind:o.kind,selector:{type:yr.XPath,value:o.metaData.elementSelector},title:o.customTitle,description:o.metaData.description,overlayOpacity:0,position:o.metaData.position,nextBehavior:o.metaData.nextTriggerOption||qo.ClickOnButton,mainTrigger:o.metaData.mainTrigger?{...o.metaData.mainTrigger,actions:this.prepareDataFlowActions({actions:o.metaData.mainTrigger.actions}),id:wd}:null,styles:o.metaData.styles,overlay:o.metaData.overlay,stepContent:o.metaData.stepContent,cases:(o.metaData.cases||[]).filter(r=>r.uid!==o.metaData.mainTrigger?.uid).map(r=>({...r,actions:this.prepareDataFlowActions({actions:r.actions})})),connectedItemId:o.connectedItemId,targetUrl:o.metaData.targetUrl,continueInNewTab:o.metaData.continueInNewTab,zIndex:o.metaData.zIndex,nextActionType:o.metaData.nextActionType,attachedToHostElement:o.metaData.attachedToHostElement,translation:o.translation||{}}}:void 0)}handleStepTriggers(e){var t=this;return g(function*(){const{flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c}=e,{mainTrigger:d,cases:f,connectedItemId:p}=r.data,y=f?.filter(b=>b.triggerType!==qo.ClickOnElement),m=d?.triggerType===qo.CustomTrigger?[d,...y]:y;if(m?.length){const b=yield t.getMatchedCaseByRuleset(m,a,s);let T;if(b){if(p)return T=t.findStepInTreeByID({obj:o.dataFlow.items,stepId:p}),T?yield t.handleStep({flow:o,flowItem:T,originator:i,state:s,tabInfo:a,api:c}):null;const{id:M,actions:O}=b;if(String(M)===wd)return yield t.goToNext({flow:o,flowItem:r,originator:i,state:s,tabInfo:a,api:c});if(T=O[0]||null,T)return yield t.handleStep({flow:o,flowItem:T,originator:i,state:s,tabInfo:a,api:c})}}return{...s,activeTour:{flow:o,flowItem:r,originator:i,inProgress:!0},lastActiveTourVisualFlowItem:{...r}}})()}getNextFlowItemByTrigger(e){var t=this;return g(function*(){const{currentFlowItem:o,activatedTrigger:r,connectedItem:i,tabInfo:s}=e,{data:{cases:a,mainTrigger:c}}=o;if(r?.triggerId===wd&&r?.triggerType!==qo.CustomTrigger)return i||null;let d;switch(!0){case r?.isPassive:d=yield t.getMatchedCaseByRuleset([c,...a],s),d&&(r.triggerId=String(d.id));break;case r?.triggerId===wd:d=c;break;default:d=a?.find(f=>String(f.id)===r.triggerId)}if(d){const{actions:f,precondition:p}=d;if(r?.isPassive)return i||r.triggerId!==wd?f?.[0]:null;if(d.triggerType===qo.CustomTrigger){const y=p?.ruleSet?.conditions?.filter(b=>"activeAction"!==b.type);return!y.length||(yield t.ruleEngineService.evaluateConditions({conditions:y,waitingElementBySelectorTime:0,tabId:s.tabId}))?i||r.triggerId!==wd?f?.[0]:null:o}return i||f?.[0]||null}return o})()}getMatchedCaseByRuleset(e,t,o){var r=this;return g(function*(){const i=yield r.ruleEngineService.getFirstConditionsIndexEvaluatedToTrue({tabId:t.tabId,initCtxParams:{userContext:o?.userContext},conditionsSet:e.map(s=>s.precondition.ruleSet?.conditions).filter(Boolean)});return e[i]})()}findStepInTreeByID(e){const{obj:t,stepId:o}=e;return o?Pk({obj:t,predicate:s=>s?.data?.id===o})?.item:null}checkVisitedOrSubmittedItems(e,t,o,r,i){var s=this;return g(function*(){!c0(t,oe.PopUp)||s.hidePopUp(t,o,r)||t.data.precondition.frequency.type!==an.Once?!c0(t,oe.Survey)||t.data.isAllowOpenSubmittedSurvey||s.isSkipSurvey(t,o,r)||(o.submittedSurveysIds=yield s.flowStatusProvider.getSubmittedSurveysIds(e.id,i.url)):o.visitedFlowItemsIds=yield s.flowStatusProvider.getVisitedPopUpsIds(e.id,i.url)})()}handleGLideVariable(e){var t=this;return g(function*(){const{flowItem:o,tabInfo:r}=e,{data:{variableName:i,duration:s,value:a,measurementUnit:c}}=o;if(o?.data?.variableName){const f={data:{key:i,value:a},params:{storage:"backend",ttl:x7.get(c)*s}};yield t.applicationContextProvider.setGlideVariable(r,f)}return yield t.goToNext(e)})()}trackAnalyticsStart(e){var t=this;return g(function*(){const{flow:o,tabInfo:r,originator:i,state:s,prevActiveTour:a,initiator:c}=e;if("user"!==i)return;if(a){if(a.flow.id===o.id)return;const m=yield t.getNextFlowItem({flowItems:a.flow.dataFlow.items,currentFlowItem:a.flowItem,tabInfo:r,state:s});t.trackAnalyticsEnd({state:{...s,activeTour:a},tabInfo:r,complete:!m})}const{id:d,name:f,systemFlowType:p}=o,y=t.getStartGuidedTourDetails(c);yield t.analyticsService.sendEvent({siteUrl:r?.url||window?.location?.href,systemFlowId:d,systemFlowName:f,systemFlowType:p,systemFlowActionKindId:null,systemFlowActionInternalId:null,title:"GuidedTour",eventTypeId:st.Start,details:JSON.stringify(y)},r?.tabId)})()}trackAnalyticsEnd(e){const{state:t,tabInfo:o,complete:r}=e;if(!t.activeTour)return;const{flow:i,originator:s}=t.activeTour;if("user"!==s)return;const{id:a,name:c,systemFlowType:d}=i,f=this.getEndGuidedTourDetails(r);this.analyticsService.sendEvent({siteUrl:o?.url||window?.location?.href,systemFlowId:a,systemFlowName:c,systemFlowType:d,systemFlowActionKindId:null,systemFlowActionInternalId:null,title:"GuidedTour",eventTypeId:st.End,details:JSON.stringify(f)},o?.tabId)}getEndGuidedTourDetails(e){return{type:"endGuidedTour",status:e?u0.Complete:u0.Incomplete}}trackAttachToAnalyticEvent(e){var t=this;return g(function*(){const{tabInfo:o,flow:r,flowItem:i,details:s}=e;yield t.analyticsService.sendEvent({siteUrl:o?.url,systemFlowId:r.id,systemFlowName:r.name,systemFlowType:Te.GuidedTour,systemFlowActionKindId:At.AttachTo,systemFlowActionInternalId:i.data?.id,title:oe.AttachTo,eventTypeId:st.Visited,details:JSON.stringify(s)},o?.tabId)})()}getStartGuidedTourDetails(e){return{type:"startGuidedTour",initiator:e||{type:Ts.Unknown}}}isSkipSurvey(e,t,o){const r=t.submittedSurveysIds?.includes(e.data.id),i=!e.data?.isAllowOpenSubmittedSurvey;return"user"===o&&(i&&r)}static{this.\u0275fac=function(t){return new(t||uy)(L(Od),L(Pd),L(Fg),L(Ao),L(Be),L(Hc))}}static{this.\u0275prov=F({token:uy,factory:uy.\u0275fac,providedIn:"root"})}}var vo,jB,Fd;!function(n){n.GuideTour="GuideTour",n.Title="Title",n.Accordion="Accordion"}(vo||(vo={})),function(n){n.Button="Button",n.Menu="Menu",n.Content="Content",n.Styling="CSS editor"}(jB||(jB={})),function(n){n.None="None",n.FloatingButton="FloatingButton",n.StickyButton="StickyButton"}(Fd||(Fd={}));var Nk;!function(n){n.First="First",n.Second="Second",n.Third="Third"}(Nk||(Nk={}));const Rk="arrange_horizontally__s__stroke";class dy{constructor(){this.configService=C(no),this.fetchService=C(Gr)}getLanguageList(e){var t=this;return g(function*(){const{tabId:o}=e,r=yield t.getConfig();return(yield t.fetchService.performFetch({resource:`${r.widgetOriginName}systemflows/languages`,tabId:o})).json()})()}update(e){var t=this;return g(function*(){const o=yield t.getConfig();yield t.fetchService.performFetch({resource:`${o.widgetOriginName}systemflows/translations`,options:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}})})()}updateSystemLanguages(e){var t=this;return g(function*(){const{systemId:o,body:r}=e,i=yield t.getConfig();yield t.fetchService.performFetch({resource:`${i.widgetOriginName}systems/${o}/languages`,options:{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(r)}})})()}getConfig(){var e=this;return g(function*(){return e.configService.getCachedConfig()||(yield e.configService.getServerVariables(!0)).config})()}static{this.\u0275fac=function(t){return new(t||dy)}}static{this.\u0275prov=F({token:dy,factory:dy.\u0275fac,providedIn:"root"})}}class fy{sendMessageTabs(e,t,o){return Gv(o)?chrome.tabs.sendMessage(e,t,o):chrome.tabs.sendMessage(e,t)}sendMessageRuntime(e,t){return Gv(t)?chrome.runtime.sendMessage(e,t):chrome.runtime.sendMessage(e)}addOnMessageListener(e){chrome.runtime.onMessage.addListener(e)}hasOnMessageListener(e){return chrome.runtime.onMessage.hasListener(e)}removeOnMessageListener(e){chrome.runtime.onMessage.removeListener(e)}getActiveTab(){return g(function*(){return(yield chrome.tabs.query({active:!0}))[0]??null})()}static{this.\u0275fac=function(t){return new(t||fy)}}static{this.\u0275prov=F({token:fy,factory:fy.\u0275fac,providedIn:"root"})}}class $r{constructor(){this.translationApiService=C(dy),this.glidePlatformService=C(Hr),this.chromeService=C(fy),this.configService=C(no),this.languages=ue([]),this.languagesWithDefault=G(()=>[{code:Lt,name:"Default"},...this.languages()])}static{this.langStorageKey="glLang"}getLanguageList(){return this.languages()}getLanguagesByCodes(e){const{langCodes:t,withDefault:o}=e,r=this.languages(),i=t.map(s=>r.find(a=>a.code===s)).filter(Boolean);return o?[this.languagesWithDefault()[0],...i]:i}getLanguagesWithStateByCodes(e){const{langCodes:t,withDefault:o}=e,r=this.languages(),i=t.map(s=>{const a=r.find(c=>c.code===s.code);return a?{...s,name:a.name}:null}).filter(Boolean);return o?[{...this.languagesWithDefault()[0],isActive:!0},...i]:i}loadLanguageList(){var e=this;return g(function*(){const t=yield e.getLanguageListForTab();e.languages.set(t)})()}watchEnvAndLoadLanguageList(){var e=this;this.configService.getConfiguredSystems().pipe(mt(()=>this.configService.getCachedConfig()),hl((t,o)=>o&&o.widgetOriginName===t?.widgetOriginName),jn(Boolean),vi(g(function*(){try{return yield e.getLanguageListForTab()}catch{return[]}}))).subscribe(t=>{this.languages.set(t)})}getSurveyQuestionSectionKey(e){const{section:t,questionId:o}=e;return["surveyQuestion",o,t].join("__")}getSurveySelectionAnswersSectionKey(e){const{section:t,answerId:o}=e;return["surveyQuestionSelectionAnswer",o,t].join("__")}getMenuTabSectionKey(e){const{section:t,tabId:o}=e;return["menuTab",o,t].join("__")}getMenuTabAccordionSectionKey(e){const{section:t,menuItemId:o}=e;return["menuTabAccordion",o,t].join("__")}getMenuTabTitleSectionKey(e){const{section:t,menuItemId:o}=e;return["menuTabTitle",o,t].join("__")}getMenuTabTourSectionKey(e){const{section:t,menuItemId:o}=e;return["menuTabTour",o,t].join("__")}getAllTabSectionKeys(e){const{tab:t}=e;return[...["name","emptyState"].map(s=>this.getMenuTabSectionKey({section:s,tabId:t.guid})),...this.getMenuContentSectionKeys({items:t.items??[],result:[]})]}createMenuTabIdToSectionsMap(e){const{sections:t,tabs:o}=e;return o.reduce((r,i)=>{const s=t.reduce((a,c)=>(a[c]=this.getMenuTabSectionKey({section:c,tabId:i.guid}),a),{});return r[i.guid]=s,r},{})}createMenuTabItemIdToSectionsMap(e){const{sections:t,tabs:o}=e,r=o.flatMap(s=>s.items),i=r.flatMap(s=>s?.entity?.items??[]).filter(Boolean);return r.push(...i),r.reduce((s,a)=>{const c=t.reduce((d,f)=>{let p="";switch(a.type){case vo.Accordion:p=this.getMenuTabAccordionSectionKey({section:f,menuItemId:a.guid});break;case vo.Title:p=this.getMenuTabTitleSectionKey({section:f,menuItemId:a.guid});break;case vo.GuideTour:p=this.getMenuTabTourSectionKey({section:f,menuItemId:a.guid})}return d[f]=p,d},{});return s[a.guid]=c,s},{})}static saveLangToStorage(e){window.sessionStorage.setItem(this.langStorageKey,e)}static getLangFromStorage(e){return window.sessionStorage.getItem(this.langStorageKey)||e||null}static removeLangFromStorage(){return window.sessionStorage.removeItem(this.langStorageKey)}getLanguageListForTab(){var e=this;return g(function*(){const t=yield e.resolveTabId();return yield e.translationApiService.getLanguageList({tabId:t})})()}getMenuContentSectionKeys(e){const{items:t,result:o}=e;return t.forEach(r=>{if(r.type===vo.Title){const i=this.getMenuTabTitleSectionKey({section:"name",menuItemId:r.guid});o.push(i)}else if(r.type===vo.Accordion){const s=["name","emptyState"].map(a=>this.getMenuTabAccordionSectionKey({section:a,menuItemId:r.guid}));o.push(...s),r.entity?.items?.length>0&&this.getMenuContentSectionKeys({items:r.entity.items,result:o})}}),o}resolveTabId(){var e=this;return g(function*(){return e.glidePlatformService.isSnippetPlatform()?null:(yield e.chromeService.getActiveTab())?.id??null})()}static{this.\u0275fac=function(t){return new(t||$r)}}static{this.\u0275prov=F({token:$r,factory:$r.\u0275fac,providedIn:"root"})}}class Ng extends ay{constructor(){super(...arguments),this.logger=C(Be),this.flowType=Te.Menu,this.statusService=C(Hc),this.translationDataService=C($r)}prepareDataFlow(e){var t=this;return g(function*(){const o=e.rawDataFlow,r=e.ctx,{contentItems:i}=o,s={...o},a=[...i??[]].map(z=>({...z,type:vo.GuideTour,hierarchyLevel:z.hierarchyLevel||Nk.First,linkedGuideTourId:z.guid,iconClassName:z.iconClassName||Rk})),c=o.buttonData,f=[...a,...t.getAllTabItems(o)],{readyForRun:p,evaluateVisibility:y}=t.prepareDataFlowItems(f,r.flowDtoList),m={name:"Help Tours",items:p.map(z=>z.data),emptyState:"There are currently no relevant tours for you.",guid:""};if(s.content){let z=t.filterTabContent(s.content.tabs,p);0===z.length&&(z=[m]),s.content={...s.content,tabs:z??[]}}else s.content={...s.content,tabs:[m]};const M={priority:null,items:[{data:{...o,contentItems:p.map(z=>z.data),content:s.content,translation:{...o.translation,...t.getTourNameTranslation({flows:r.flowDtoList,tabs:o.content?.tabs??[]})}}}]},O=t.getMenuButtonEvaluateCtx(c,r);O&&y.push(O);return{readyForRun:M,evaluateVisibility:y.length?y:null}})()}runFlow(e){var t=this;return g(function*(){const{flow:o,originator:r,state:i}=e,s=t.ensureFlowIsActive({flow:o,state:i,originator:r});let a=e.flowItem;return a||(a=o.dataFlow?.items?.[0]),a?(e.flowItem=a,t.renderMenuStep({...e,state:s})):i})()}handleEvent(e){var t=this;return g(function*(){const{event:o,state:r,api:i,tabInfo:s}=e,{flowId:a}=o,c=t.getOwnActiveFlowById({flowId:a,state:r});if(!c)return{...r};if(o.type===l0.Select){const{action:d}=o;return t.handleSelectEvent({action:d,originator:c.originator,state:r,api:i,tabInfo:s})}return{...r}})()}getAllTabItemsByTabs(e){return e.flatMap(r=>r.items).flatMap(r=>r.type===vo.Accordion&&r.entity.items.length?[r,...r.entity.items]:[r])}getTourNameTranslation(e){const{flows:t,tabs:o}=e;return this.getAllTabItemsByTabs(o).filter(i=>i.type===vo.GuideTour).reduce((i,s)=>{try{const a=t.find(p=>p.guid===s.linkedGuideTourId);if(!a)return i;const d=JSON.parse(a.dataFlow).translation||{};return i[this.translationDataService.getMenuTabTourSectionKey({section:"name",menuItemId:s.guid})]=d.name,i}catch{}return i},{})}getFlowTriggers(e){return[{type:ji.Load,action:$i.AutoPlay,precondition:{ruleSet:{conditions:[]}}}]}handleSelectEvent(e){return g(function*(){const{action:t,originator:o,state:r,api:i,tabInfo:s}=e;return t?.type===zi.RunFlow?yield i.runFlow({flow:Ad(r.flowList,t.payload.flowId),originator:o,state:r,api:i,tabInfo:s,analyticsInfo:{}}):{...r}})()}getAllTabItems(e){return e.content?.tabs?this.getAllTabItemsByTabs(e.content.tabs):[]}renderMenuStep(e){const{flow:t,flowItem:o,originator:r,state:i}=e;return o?.data?{...i,activeFlows:[...i.activeFlows.filter(s=>s.flow.id!==t.id),{flow:t,flowItem:o,originator:r}]}:{...i}}prepareDataFlowItems(e,t){if(!e?.length||!t?.length)return this.logger.warn("Menu doesn't contains items"),{readyForRun:[],evaluateVisibility:[]};const o=t.map(c=>c.guid),r=e.filter(c=>c?.type&&c.type===vo.Accordion).map(c=>c.entity.items).flat();return[...this.getPublishedFlowsMenuItems([...e,...r],t).filter(c=>o.indexOf(c.linkedGuideTourId?.toString()||c.guid)>-1),...e.filter(c=>c?.type&&c.type!==vo.GuideTour)].reduce((c,d)=>{const f=t?.find(b=>b.guid===d.linkedGuideTourId),p=!!d?.ruleSet?.conditions?.length,y={...d,name:f?.name||d.name},m={data:y};return p?c.evaluateVisibility.push(this.prepareFlowItemEvaluateCtx({...y})):y.isVisible=!0,c.readyForRun.push(m),c},{readyForRun:[],evaluateVisibility:[]})}prepareFlowItemEvaluateCtx(e){return{flowItemId:e.guid,flowType:this.flowType,conditions:e.ruleSet.conditions,constantlyMonitor:e.constantlyMonitor}}getPublishedFlowsMenuItems(e,t){const o=["guid","menuItemType","name"];return e.map(r=>({...t.find(i=>i.guid===r.linkedGuideTourId),guid:r.guid,menuItemType:r.type,name:r.name})).filter(r=>{if(r.menuItemType===vo.Accordion||r.menuItemType===vo.Title)return!0;const i=r&&Object.keys(r).length>o.length,s=this.statusService.isPublished({entity:r});return i&&s}).map(r=>({...e.find(i=>r.guid===i.guid),name:r.name}))}getMenuButtonEvaluateCtx(e,t){const o=e?.visibility,r=e?.visibility?.ruleSet?.conditions;return r?.length?{flowItemId:String(t.flowDto.guid),flowType:this.flowType,conditions:r,constantlyMonitor:o.constantlyMonitor}:null}filterTabContent(e,t){return e?e.map(o=>{const r=this.filterTabItemsByReadyForRun(o.items,t);return r.forEach(i=>{i.entity?.items&&(i.entity.items=this.filterTabItemsByReadyForRun(i.entity.items,t))}),{...o,items:r}}):[]}filterTabItemsByReadyForRun(e,t){return e.reduce((o,r)=>{const i=t.find(s=>s.data.guid===r.guid);return i&&o.push(i.data),o},[])}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Ng)))(o||Ng)}})()}static{this.\u0275prov=F({token:Ng,factory:Ng.\u0275fac,providedIn:"root"})}}class Rg extends ay{constructor(){super(...arguments),this.flowType=Te.AiHelper}prepareDataFlow(e){var t=this;return g(function*(){const{rawDataFlow:o,ctx:{parseOnly:r}}=e,{readyForRun:i,evaluateVisibility:s}=t.prepareDataFlowItems({rawDataFlow:o,parseOnly:r});return{readyForRun:{priority:null,items:i},evaluateVisibility:s.length?s:null}})()}runFlow(e){var t=this;return g(function*(){const{flow:o,originator:r,state:i}=e,s=t.ensureFlowIsActive({flow:o,state:i,originator:r});return t.renderFlow({...e,state:s})})()}getFlowTriggers(e){return[{type:ji.Load,action:$i.AutoPlay,precondition:{ruleSet:{conditions:[]}}}]}prepareDataFlowItems(e){const{rawDataFlow:t,parseOnly:o}=e;return t?.length?t.reduce((i,s)=>{const a={data:{...s,selector:{type:yr.XPath,value:s.selector},translation:s.translation||{}}};return o?(i.readyForRun.push(a),i):(a?.data?.ruleSet?.conditions?.length?i.evaluateVisibility.push(this.prepareFlowItemEvaluateCtx(s)):i.readyForRun.push(a),i)},{readyForRun:[],evaluateVisibility:[]}):{readyForRun:[],evaluateVisibility:[]}}renderFlow(e){const{flow:t,originator:o,state:r}=e;return{...r,activeFlows:[...r.activeFlows.filter(i=>i.flow.id!==t.id),{flow:t,originator:o}]}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Rg)))(o||Rg)}})()}static{this.\u0275prov=F({token:Rg,factory:Rg.\u0275fac,providedIn:"root"})}}class Lg extends ay{constructor(){super(...arguments),this.flowType=Te.SmartNudges}prepareDataFlow(e){var t=this;return g(function*(){const{rawDataFlow:o,ctx:{parseOnly:r}}=e,{readyForRun:i,evaluateVisibility:s}=t.prepareDataFlowItems({rawDataFlow:o,parseOnly:r});return{readyForRun:{priority:null,items:i},evaluateVisibility:s.length?s:null}})()}runFlow(e){var t=this;return g(function*(){const{flow:o,originator:r,state:i}=e,s=t.ensureFlowIsActive({flow:o,state:i,originator:r});return t.renderFlow({...e,state:s})})()}getFlowTriggers(e){return[{type:ji.Load,action:$i.AutoPlay,precondition:{ruleSet:{conditions:[]}}}]}prepareDataFlowItems(e){const{rawDataFlow:t,parseOnly:o}=e;return t?.length?t.reduce((i,s)=>{const a={data:{...s,selector:{type:yr.XPath,value:s.selector},translation:s.translation||{}}};return o?(i.readyForRun.push(a),i):(a?.data?.ruleSet?.conditions?.length?i.evaluateVisibility.push(this.prepareFlowItemEvaluateCtx(s)):a.isVisible=!0,i.readyForRun.push(a),i)},{readyForRun:[],evaluateVisibility:[]}):{readyForRun:[],evaluateVisibility:[]}}renderFlow(e){const{flow:t,originator:o,state:r}=e;return{...r,activeFlows:[...r.activeFlows.filter(i=>i.flow.id!==t.id),{flow:t,originator:o}]}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Lg)))(o||Lg)}})()}static{this.\u0275prov=F({token:Lg,factory:Lg.\u0275fac,providedIn:"root"})}}var $B,Vg,hy,GB;!function(n){n[n.List=0]="List",n[n.Item=1]="Item"}($B||($B={})),function(n){n.Outer="Outer",n.Inner="Inner"}(Vg||(Vg={})),function(n){n.Menu="Menu",n.GuideTour="GuideTour"}(hy||(hy={})),function(n){n.Configuration="Configuration",n.Styling="CSS editor"}(GB||(GB={}));class Bg extends ay{constructor(){super(...arguments),this.flowType=Te.Button,this.logger=C(Be),this.statusService=C(Hc)}prepareDataFlow(e){var t=this;return g(function*(){const{rawDataFlow:o,ctx:{flowDtoList:r,parseOnly:i}}=e,{readyForRun:s,evaluateVisibility:a}=t.prepareDataFlowItems({rawDataFlow:o,flowList:r,parseOnly:i});return{readyForRun:{priority:null,items:s},evaluateVisibility:a.length?a:null}})()}runFlow(e){var t=this;return g(function*(){const{flow:o,originator:r,state:i}=e,s=t.ensureFlowIsActive({flow:o,state:i,originator:r});return t.renderFlow({...e,state:s})})()}getFlowTriggers(e){return[{type:ji.Load,action:$i.AutoPlay,precondition:{ruleSet:{conditions:[]}}}]}prepareDataFlowItems(e){const{rawDataFlow:t,flowList:o,parseOnly:r}=e;return t?.length?t.reduce((i,s)=>{const a={data:{...s,selector:{type:yr.XPath,value:s.selector},translation:s.translation||{}}};return r?(a.isVisible=!0,i.readyForRun.push(a),i):this.runsUnpublishedGuidedTour({action:s.action,flowList:o})?(a.isVisible=!1,i):(a?.data?.ruleSet?.conditions?.length?i.evaluateVisibility.push(this.prepareFlowItemEvaluateCtx(s)):a.isVisible=!0,i.readyForRun.push(a),i)},{readyForRun:[],evaluateVisibility:[]}):{readyForRun:[],evaluateVisibility:[]}}renderFlow(e){const{flow:t,originator:o,state:r}=e;return{...r,activeFlows:[...r.activeFlows.filter(i=>i.flow.id!==t.id),{flow:t,originator:o}]}}runsUnpublishedGuidedTour(e){const{action:t,flowList:o}=e;if(t?.type!==hy.GuideTour)return!1;const{guideTourId:r}=t,i=Ak(o,r);return!i||!this.statusService.isPublished({entity:i})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Bg)))(o||Bg)}})()}static{this.\u0275prov=F({token:Bg,factory:Bg.\u0275fac,providedIn:"root"})}}class gy{constructor(e,t,o,r,i,s,a,c,d){this.guidedTourFlowService=e,this.menuFlowService=t,this.aiHelperService=o,this.smartNudgeFlowService=r,this.buttonFlowService=i,this.ruleEngineService=s,this.analyticService=a,this.logger=c,this.statusService=d,this.serviceMap=new Map}registerDefaultServices(){var e=this;return g(function*(){yield e.register({type:Te.GuidedTour,serv:e.guidedTourFlowService}),yield e.register({type:Te.Menu,serv:e.menuFlowService}),yield e.register({type:Te.AiHelper,serv:e.aiHelperService}),yield e.register({type:Te.SmartNudges,serv:e.smartNudgeFlowService}),yield e.register({type:Te.Button,serv:e.buttonFlowService})})()}register(e){const{type:t,serv:o}=e;this.serviceMap.has(t)||this.serviceMap.set(t,o)}process(){var e=this;return g(function*(t=[],o=!1){const r=yield Promise.all((t||[]).map(i=>e.getServOrThrowError(i.systemFlowType).process({flowDto:i,flowDtoList:t,parseOnly:o})));return yield e.convertAndFilterToListsFlows(r)}).apply(this,arguments)}handleEvent(e){var t=this;return g(function*(){let o={...e.state};var s,r=!1,i=!1;try{for(var c,a=ba(t.serviceMap);r=!(c=yield a.next()).done;r=!1){const[d,f]=c.value;o=yield f.handleEvent({...e,state:o})}}catch(d){i=!0,s=d}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(i)throw s}}return o})()}runFlow(e){var t=this;return g(function*(){const{canProceed:o,effects:r}=yield t.validateRunFlow(e);return o?yield t.getServOrThrowError(e.flow.systemFlowType).runFlow(e):(yield t.runEffects({api:e.api,effects:r}),e.state)})()}stopAllFlows(e){var t=this;return g(function*(){let o=e.state;var s,r=!1,i=!1;try{for(var c,a=ba(t.serviceMap);r=!(c=yield a.next()).done;r=!1){const[f,p]=c.value;o=yield p.stopFlow({...e,state:o})}}catch(f){i=!0,s=f}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(i)throw s}}const d=o.activeFlows.length>0?o.flowList:[];return{...e.state,flowList:d,activeFlows:o.activeFlows,activeTour:o.activeTour}})()}stopFlowsByType(e,t){var o=this;return g(function*(){let r=e.state;var a,i=!1,s=!1;try{for(var d,c=ba(o.serviceMap);i=!(d=yield c.next()).done;i=!1){const[f,p]=d.value;t.indexOf(f)>-1&&(r=yield p.stopFlow({...e,state:r}))}}catch(f){s=!0,a=f}finally{try{i&&null!=c.return&&(yield c.return())}finally{if(s)throw a}}return{...e.state,activeFlows:r.activeFlows,activeTour:r.activeTour}})()}handlePageLoad(e){var t=this;return g(function*(){const o=yield t.getRestoredState(e);return t.isAdminActiveFlow(o)?o:t.handleOnLoadTrigger({...e,state:o})})()}handleAutoPlayTrigger(e){var t=this;return g(function*(){const{evalResult:o,state:r,api:i,tabInfo:s}=e,{activatedAutoTriggersByTours:a,flowList:c}=r;if(r.activeTour)return null;const d=o.filter(b=>b.isVisible).map(b=>b.flowItemId);if(!d.length)return null;const f=c.filter(b=>d.includes(String(b.id))),p=t.getFilteredFlowsWithActivatedAutoTriggers(f,a)[0];if(!p)return null;const y=kk(p)?.[0],m=yield t.runFlow({flow:p,state:r,originator:"user",api:i,tabInfo:s,analyticsInfo:{initiator:sy(Ts.Trigger)}});if(p.systemFlowType===Te.GuidedTour){const b=yield t.handleActivatedAutoTrigger({flow:p,trigger:y,tabInfo:s,state:m});b&&(m.flowListNeedCheckVisibility=b)}return m})()}resetClientSideState(e){return{...e,activeFlows:[],activeTour:null}}noChangeClientSideState(e){return{...e}}isAdminActiveFlow(e){const o=e.activeFlows.filter(r=>"admin"===r.originator);return"admin"===e.activeTour?.originator&&o.push(e.activeTour),!!o?.length}getRestoredState(e){var t=this;return g(function*(){const{state:o}=e,r=[...o.activeFlows];if(o.activeTour&&r.push(o.activeTour),!r||0===r?.length)return t.resetClientSideState(e.state);let i=e.state;var c,s=!1,a=!1;try{for(var f,d=ba(r);s=!(f=yield d.next()).done;s=!1){const p=f.value;i=yield t.getServOrThrowError(p.flow.systemFlowType).restoreFlow({...e,state:o})}}catch(p){a=!0,c=p}finally{try{s&&null!=d.return&&(yield d.return())}finally{if(a)throw c}}return i})()}handleOnLoadTrigger(e){var t=this;return g(function*(){const{state:o,tabInfo:r}=e;let i=null,s=null;const a=iy(o.flowList,Te.GuidedTour),c=iy(o.flowList,Te.Menu),d=iy(o.flowList,Te.AiHelper),f=iy(o.flowList,Te.SmartNudges),p=iy(o.flowList,Te.Button),y=o.activatedAutoTriggersByTours,m=t.getFilteredFlowsWithActivatedAutoTriggers(a,y),b=yield t.guidedTourFlowService.getToursEvalCtx(m);o.flowListNeedCheckVisibility=[...o.flowListNeedCheckVisibility,...b];const T=t.getRunGuidedTourByUrl(o.flowList,r);T?(o.activeTour=void 0,o.triggerCancellations=[],i=T):i=yield t.getFlowAllowedForRun(m,r.tabId,o),c?.length&&(s=c[0]);const M=[i,s,...d,...f,...p].filter(O=>!!O);return M?.length||o.activeTour?t.handleOnLoadFlows(M,e):t.resetClientSideState(e.state)})()}getFilteredFlowsWithActivatedAutoTriggers(e,t){const r=6048e5,s=2629746e3,a=(f,p)=>Date.now()-new Date(f+"Z").getTime()<=p;return e.filter(f=>{const y=f.triggers.find(ie=>ie.action===$i.AutoPlay)?.precondition?.frequency;if(!y)return!0;y?.period||(y.period=Ss.Always);const{type:m,period:b,range:T}=y;if(m===an.Always&&b===Ss.Always)return!0;const M=kk(f)[0].internalUUID,O=t?.find(ie=>ie.systemFlowId===f.id)?.events.filter(ie=>ie.internalId===M)||[],x=!O.length;if(m===an.Once&&b===Ss.Always)return x;if(m===an.OnceADay&&b===Ss.Always)return x||!O.some(ie=>a(ie.timeStamp,864e5));if(m===an.OnceAWeek&&b===Ss.Always)return x||!O.some(ie=>a(ie.timeStamp,r));if(m===an.OnceAMonth&&b===Ss.Always)return x||!O.some(ie=>a(ie.timeStamp,s));if(b===Ss.Custom&&T?.length>=2){const[ie,ye]=T.map(Xe=>new Date(Xe).getTime());if(!(f=>{const[p,y]=f.map(b=>new Date(b).getTime()),m=Date.now();return m>=p&&m<=y})(T))return!1;if(m===an.Always)return!0;if(m===an.Once)return x||!O.some(Xe=>((f,p,y)=>{const m=new Date(f+"Z").getTime();return m>=p&&m<=y})(Xe.timeStamp,ie,ye));if(m===an.OnceADay)return x||!O.some(Xe=>a(Xe.timeStamp,864e5));if(m===an.OnceAWeek)return x||!O.some(Xe=>a(Xe.timeStamp,r));if(m===an.OnceAMonth)return x||!O.some(Xe=>a(Xe.timeStamp,s))}return!0})}handleEvaluateFlowsItemsVisibility(e,t,o){var r=this;return g(function*(){const i=yield r.evaluateFlowsItemsVisibility(e,t.flowListNeedCheckVisibility,t.userContext);return r.mapRuleSetsEvalResultToVisibilityMonitorResult(i)})()}evaluateFlowsItemsVisibility(e,t,o){var r=this;return g(function*(){const i=t.map(a=>a.conditions);return(yield r.ruleEngineService.evaluateConditionsSet({tabId:e.tabId,conditionsSet:i,initCtxParams:{userContext:o}})).map((a,c)=>({evalResult:a,flowItemId:t[c].flowItemId,flowType:t[c].flowType}))})()}getFlowAllowedForRun(e,t,o){var r=this;return g(function*(){return LB(e,s=>new Promise(a=>r.getAllowedTrigger(s.triggers,t,o).then(c=>a(c?s:null))))})()}getRunGuidedTourByUrl(e,t){const o=new URL(t.url),r="runGuidedTour"===o.searchParams.get("glideAction"),i=o.searchParams.get("guidedTourId"),s=o.searchParams.get("guidedTourStepId");if(r&&i){const a=e.find(c=>c.guid===i);if(a)return{...a,triggers:[{type:ji.Load,action:$i.AutoPlay,precondition:{}}],startFromStepId:s??a.startFromStepId}}return null}getAllowedTrigger(e,t,o){var r=this;return g(function*(){return yield LB(e,s=>new Promise(a=>r.ruleEngineService.evaluateConditions({conditions:s.precondition?.ruleSet?.conditions,waitingElementBySelectorTime:2e3,initCtxParams:{userContext:o.userContext},tabId:t}).then(c=>a(c?s:null))))})()}handleOnLoadFlows(e,t){var o=this;return g(function*(){let r=t.state;o.logger.log("OnLoad or AutoPlay Flows",e);var a,i=!1,s=!1;try{for(var d,c=ba(e);i=!(d=yield c.next()).done;i=!1){const f=d.value;r=yield o.handleOnLoadFlow(f,{...t,state:r})}}catch(f){s=!0,a=f}finally{try{i&&null!=c.return&&(yield c.return())}finally{if(s)throw a}}return r})()}handleOnLoadFlow(e,t){var o=this;return g(function*(){const{state:r,originator:i,api:s,tabInfo:a}=t,c=kk(e)?.[0];if(!c||o.shouldCancelTrigger({trigger:c,state:r,flow:e}))return o.noChangeClientSideState(r);if(e.systemFlowType===Te.GuidedTour){const d=yield o.handleActivatedAutoTrigger({flow:e,trigger:c,tabInfo:a,state:r});d&&(r.flowListNeedCheckVisibility=d)}return c.action===$i.AutoPlay?yield o.runFlow({flow:e,state:r,originator:i,api:s,tabInfo:a,analyticsInfo:{initiator:sy(Ts.Trigger)}}):o.noChangeClientSideState(r)})()}getServOrThrowError(e){const t=this.serviceMap.get(e);if(!t)throw Error(`No service registered to handle type: ${e}`);return t}shouldCancelTrigger({trigger:e,state:t,flow:o}){return this.shouldCancelTriggerAll(e,t)||this.shouldCancelTriggerByFlow(o,e,t)}shouldCancelTriggerAll(e,t){const o=t.triggerCancellations?.filter(r=>r.type===e.type&&r.action===e.action);return o?.length&&o.every(r=>!r.options||!Object.keys(r.options).length)}shouldCancelTriggerByFlow(e,t,o){if(!e)return!1;const r=o.triggerCancellations?.filter(i=>i.type===t.type&&i.action===t.action);return r?.some(i=>i.options?.flowType===e.systemFlowType)||r?.some(i=>i.options?.flowId===e.id)}convertAndFilterToListsFlows(){return g(function*(e=[]){return e.reduce((t,o)=>(o.readyForRun&&t.readyForRun.push(o.readyForRun),o.evaluateVisibility?.length&&(t.evaluateVisibility=[...t.evaluateVisibility,...o.evaluateVisibility]),t),{readyForRun:[],evaluateVisibility:[]})}).apply(this,arguments)}handlerSendingActivatedAutoTrigger(e){const{flow:t,trigger:o,tabInfo:r}=e,i=o.internalUUID;this.analyticService.sendEvent({title:t.name||Te.GuidedTour,siteUrl:r.url,eventTypeId:st.AutoStart,systemFlowId:t.id,systemFlowName:t.name,systemFlowType:t.systemFlowType,systemFlowActionInternalId:i,systemFlowActionKindId:At.AutoRunTrigger},r?.tabId)}validateRunFlow(e){var t=this;return g(function*(){const o=yield t.getRunFlowValidationResults(e);return{canProceed:o.every(i=>i.canProceed),effects:o.map(i=>i.effects).flat()}})()}getRunFlowValidationResults(e){var t=this;return g(function*(){const r=[];return"admin"===e.originator||t.statusService.isPublished({entity:e.flow})||r.push({canProceed:!1,effects:e.flow.systemFlowType===Te.GuidedTour&&e.state.isErrorsOn?[k0.createUnpublishWarningToaster({tabInfo:e.tabInfo,message:e.state.messageContentUnavailable})]:[]}),r})()}runEffects(e){return g(function*(){const{api:t,effects:o}=e;var s,r=!1,i=!1;try{for(var c,a=ba(o);r=!(c=yield a.next()).done;r=!1){const d=c.value;yield t.runEffect(d)}}catch(d){i=!0,s=d}finally{try{r&&null!=a.return&&(yield a.return())}finally{if(i)throw s}}})()}prepareFlowForContinueInNewTab(e){return g(function*(){return e.flowItem={data:{kind:oe.ProcessingInNewTab}},e})()}mapRuleSetsEvalResultToVisibilityMonitorResult(e){return g(function*(){return e.reduce((t,o)=>{const r={flowItemId:o.flowItemId,isVisible:o.evalResult};return o.flowType!==Te.GuidedTour?t.staticFlows.push(r):t.dynamicFlows.push(r),t},{staticFlows:[],dynamicFlows:[]})})()}excludeItemFromMonitorVisibility(e,t){return g(function*(){return e.filter(o=>o.flowItemId!==t)})()}handleActivatedAutoTrigger(e){var t=this;return g(function*(){const{flow:o,trigger:r,tabInfo:i,state:s}=e,{precondition:{frequency:a}}=r;return a?.type===an.Once||a?.type===an.OnceADay||a?.type===an.OnceAWeek||a?.type===an.OnceAMonth?(t.handlerSendingActivatedAutoTrigger({flow:o,trigger:r,tabInfo:i}),yield t.excludeItemFromMonitorVisibility(s.flowListNeedCheckVisibility,String(o.id))):null})()}static{this.\u0275fac=function(t){return new(t||gy)(L(uy),L(Ng),L(Rg),L(Lg),L(Bg),L(Od),L(Bc),L(Be),L(Hc))}}static{this.\u0275prov=F({token:gy,factory:gy.\u0275fac,providedIn:"root"})}}class Nd{set isOpenEditor(e){this._isOpenEditor=e}constructor(e,t,o,r){this.flowFacadeService=e,this.persistentStateService=t,this.clientSideOrchestratorService=o,this.logger=r,this.runFlowFn=i=>this.flowFacadeService.runFlow(i),this.runEffectFn=i=>this.runFlowEffect(i),this.continueInNewTabFn=i=>this.setFlowForContinueInNewTab(i),this.flowAPI={runFlow:this.runFlowFn,runEffect:this.runEffectFn,continueInNewTab:this.continueInNewTabFn},this.intervalVisibilityCheckConstantly=new Map,this._isOpenEditor=!1,this.flowFacadeService.registerDefaultServices()}startProcessingFlows(e){var t=this;return g(function*(o,r=[],i=[],s){const a=r?.length?yield t.flowFacadeService.process(r):{readyForRun:[],evaluateVisibility:[]};return t.persistentStateService.updateClientSideFlows(a,o.tabId,i,s)}).apply(this,arguments)}startProcessingFlowsFromCurrentState(e,t){var o=this;return g(function*(){const r=yield o.getState(t);o.clientSideOrchestratorService.updateClientSideState(t,r,!1,e)})()}storeFlowsIfNavigation(e){var t=this;return g(function*(){yield t.handlerManualNavigation(e)})()}stopProcessingFlows(e,t){var o=this;return g(function*(){const{originator:r}=t,s={originator:r,state:yield o.getState(e.tabId),api:o.flowAPI};o.clearIntervalVisibilityCheckConstantly(String(e.tabId));const a=yield o.flowFacadeService.stopAllFlows(s);return yield o.clientSideOrchestratorService.updateClientSideState(e.tabId,a)})()}stopProcessingFlowsByType(e,t){var o=this;return g(function*(){const{originator:r,flowTypes:i}=t,a={originator:r,state:yield o.getState(e),api:o.flowAPI},c=yield o.flowFacadeService.stopFlowsByType(a,i);return 1===i?.length&&i[0]===Te.GuidedTour?yield o.clientSideOrchestratorService.updateActiveTour(e,c):void o.clientSideOrchestratorService.updateClientSideState(e,c)})()}handleTrigger(e,t){var o=this;return g(function*(){if(t&&t.type===ji.Load)return o.handleLoadTrigger(e)})()}handleEvent(e,t){var o=this;return g(function*(){if(!t)return;const{type:r}=t,i=yield o.getState(e.tabId),s=yield o.flowFacadeService.handleEvent({event:t,state:i,api:o.flowAPI,tabInfo:e});if(Object.values(Nt).includes(r)){const c=i.activeTour?.flowItem?.data?.id,d=s.activeTour?.flowItem?.data?.id;return r===Nt.Next&&c===d?void 0:yield o.clientSideOrchestratorService.updateActiveTour(e.tabId,s)}return yield o.clientSideOrchestratorService.updateClientSideState(e.tabId,s)})()}runEndUserGuidedTourById(e,t){var o=this;return g(function*(){return yield o.runEndUserFlowById(e,t,Te.GuidedTour)})()}runEndUserGuidedTourByGuid(e,t){var o=this;return g(function*(){return yield o.runEndUserFlowByGuid(e,t,Te.GuidedTour)})()}runEndUserGuidedTourByName(e,t){var o=this;return g(function*(){return yield o.runEndUserFlowByName(e,t,Te.GuidedTour)})()}setFlowForContinueInNewTab(e){var t=this;return g(function*(){const{tabInfo:o,state:r}=e,{activeTour:i}=r;if(i){const s={...i.flowItem},a=yield t.flowFacadeService.prepareFlowForContinueInNewTab(i);yield t.persistentStateService.setDataForContinueInNewTab({flow:a,openerTabId:o.tabId,lastActiveTourVisualFlowItem:s})}})()}changeLang(e){var t=this;return g(function*(){const{tabInfo:{tabId:o},lang:r}=e,i=yield t.getState(o);return t.clientSideOrchestratorService.updateClientSideState(o,{...i,lang:r})})()}runEndUserFlowById(e,t,o){var r=this;return g(function*(){yield r.stopEndUserFlowByType({tabInfo:e,systemFlowType:o});const i=yield r.getState(e.tabId),s=Ad(i.flowList.filter(c=>c.systemFlowType===o),t);if(!s)return void r.logger.warn("Flow cannot be find. Id:",t);const a=yield r.flowFacadeService.runFlow({flow:s,originator:"user",state:i,api:r.flowAPI,tabInfo:e,analyticsInfo:{}});return o===Te.GuidedTour?yield r.clientSideOrchestratorService.updateActiveTour(e.tabId,a):yield r.clientSideOrchestratorService.updateClientSideState(e.tabId,a)})()}runEndUserFlowByGuid(e,t,o){var r=this;return g(function*(){const i=yield r.getState(e.tabId),s=function YY(n,e){return function qY(n,e){return n.filter(t=>t.guid===e)}(n,e).find(t=>t.isPublished)}(i.flowList,t);if(!s)return yield r.stopEndUserFlowByType({tabInfo:e,systemFlowType:o}),void r.logger.warn("Published flow cannot be find. Guid:",t);const a=yield r.flowFacadeService.runFlow({flow:s,originator:"user",state:i,api:r.flowAPI,tabInfo:e,analyticsInfo:{}});return o===Te.GuidedTour?yield r.clientSideOrchestratorService.updateActiveTour(e.tabId,a):yield r.clientSideOrchestratorService.updateClientSideState(e.tabId,a)})()}runEndUserFlowByName(e,t,o){var r=this;return g(function*(){yield r.stopEndUserFlowByType({tabInfo:e,systemFlowType:o});const i=yield r.getState(e.tabId),s=i.flowList.filter(c=>c.systemFlowType===o).find(c=>c.name===t);if(!s)return void r.logger.warn("Flow cannot be find. Name:",t);const a=yield r.flowFacadeService.runFlow({flow:s,originator:"user",state:i,api:r.flowAPI,tabInfo:e,analyticsInfo:{}});return o===Te.GuidedTour?yield r.clientSideOrchestratorService.updateActiveTour(e.tabId,a):yield r.clientSideOrchestratorService.updateClientSideState(e.tabId,a)})()}stopEndUserFlowByType(e){var t=this;return g(function*(){const{tabInfo:o,systemFlowType:r}=e;yield t.stopProcessingFlowsByType(o.tabId,{originator:"user",flowTypes:[r]})})()}runFlow(e,t){var o=this;return g(function*(){const{systemFlow:r,originator:i,systemFlows:s,userContext:a,lang:c}=t;if(s){const y=s.map(m=>({...m,systemId:0}));yield o.startProcessingFlows(e,y,[],a)}const d=yield o.getState(e.tabId);yield o.clientSideOrchestratorService.updateClientSideState(e.tabId,d,!1),yield o.stopProcessingFlows(e,{originator:null});const{readyForRun:[f]}=yield o.flowFacadeService.process([r]),p=yield o.flowFacadeService.runFlow({flow:f,originator:i,state:{...d,lang:c},api:o.flowAPI,tabInfo:e,analyticsInfo:{}});return f.systemFlowType===Te.GuidedTour?void o.clientSideOrchestratorService.updateActiveTour(e.tabId,p):void o.clientSideOrchestratorService.updateClientSideState(e.tabId,p)})()}clearIntervalVisibilityCheckConstantly(e){const t=this.intervalVisibilityCheckConstantly.get(e);t&&(clearInterval(t),this.intervalVisibilityCheckConstantly.delete(e))}getCurrentThemeFromState(e){var t=this;return g(function*(){return yield t.persistentStateService.getEndUserCurrentTheme(e)})()}newWindowSizeHandler(e){var t=this;return g(function*(){const{minimumSupportedWidth:o,isShowContentBasedOnCondition:r,minimumSupportedHeight:i}=yield t.persistentStateService.getEndUserShowContentCurrentSettings(e.tabId),s=t._isOpenEditor||o<=e.width&&i<=e.height;s!==r&&(yield t.clientSideOrchestratorService.setIsShowContentBasedOnCondition(e.tabId,s))})()}toggleMenu(e){var t=this;return g(function*(){const{isMenuExpanded:o}=yield t.getState(e);yield t.clientSideOrchestratorService.updateClientSideMenuExpandedState(e,!o)})()}setMenuState(e,t){var o=this;return g(function*(){yield o.clientSideOrchestratorService.updateClientSideMenuExpandedState(e,t)})()}handleLoadTrigger(e){var t=this;return g(function*(){const o=yield t.getState(e.tabId),r=yield t.persistentStateService.getDataForContinueInNewTab();r&&(null===r.openerTabId||r.openerTabId!==e.tabId)&&(o.activeTour=r.flow,o.lastActiveTourVisualFlowItem=r.lastActiveTourVisualFlowItem,yield t.persistentStateService.clearDataForContinueInNewTab());const s=yield t.flowFacadeService.handlePageLoad({originator:"user",state:{...o,triggerCancellations:[]},api:t.flowAPI,tabInfo:e});yield t.clientSideOrchestratorService.updateClientSideState(e.tabId,s),yield t.visibilityFlowsProcessing(e),yield t.preSetupConstantlyMonitorsRules(e.tabId),yield t.visibilityCheckConstantly(e)})()}visibilityFlowsProcessing(e){var t=this;return g(function*(){const o=yield t.getState(e.tabId);if(!o?.flowListNeedCheckVisibility?.length)return;const r=yield t.flowFacadeService.handleEvaluateFlowsItemsVisibility(e,o),{staticFlows:i}=r;yield t.clientSideOrchestratorService.updateVisibilityFlowsState(e.tabId,i)})()}getState(e){var t=this;return g(function*(){return yield t.persistentStateService.getState(e)})()}preSetupConstantlyMonitorsRules(e){var t=this;return g(function*(){const o=yield t.getState(e),{flowListNeedCheckVisibility:r}=o,i=r.filter(s=>s.constantlyMonitor);return t.persistentStateService.setState({...o,flowListNeedCheckVisibility:i},e)})()}visibilityCheckConstantly(e){var t=this;return g(function*(){const o=String(e.tabId);t.clearIntervalVisibilityCheckConstantly(o);const r=setInterval(g(function*(){const i=yield t.getState(e.tabId),{flowListNeedCheckVisibility:s}=i;if(!s.length)return void t.clearIntervalVisibilityCheckConstantly(o);const a=yield t.flowFacadeService.handleEvaluateFlowsItemsVisibility(e,i,!0),{staticFlows:c,dynamicFlows:d}=a;if(!d.length)return void t.clientSideOrchestratorService.updateVisibilityFlowsState(e.tabId,c);const f=yield t.flowFacadeService.handleAutoPlayTrigger({evalResult:d,state:{...i,visibleFlowsIds:c},api:t.flowAPI,tabInfo:e});f?yield t.clientSideOrchestratorService.updateClientSideState(e.tabId,f):t.clientSideOrchestratorService.updateVisibilityFlowsState(e.tabId,c)}),1500);t.intervalVisibilityCheckConstantly.set(o,r)})()}handlerManualNavigation(e){var t=this;return g(function*(){const o=yield t.persistentStateService.getStoredState(e.tabId),r=o.activeTour;if(0!==o.flowList.length&&(!r||r?.flowItem.data.kind!==oe.ManualNavigation)&&(yield t.stopProcessingFlows(e,{originator:null}),r)){const s=yield t.getState(e.tabId),a=function(){var d=g(function*(){const f=yield new Promise(p=>{p({...s,activeTour:r})});yield t.clientSideOrchestratorService.updateClientSideState(e.tabId,f)});return function(){return d.apply(this,arguments)}}();if(r.flowItem.data.kind===oe.Navigation)return void(yield a());r.flowItem.data.kind!==oe.ManualNavigation&&(r.flowItem={data:{id:"",kind:oe.ManualNavigation}}),yield a()}})()}runFlowEffect(e){var t=this;return g(function*(){yield t.clientSideOrchestratorService.runEffect(e)})()}static{this.\u0275fac=function(t){return new(t||Nd)(L(gy),L(_l),L(Pd),L(Be))}}static{this.\u0275prov=F({token:Nd,factory:Nd.\u0275fac,providedIn:"root"})}}function Ug(n){if(!n)return"";let e="",t=!1;for(const o of n)"<"===o?t=!0:">"===o?t=!1:t||(e+=o);return e=e.replace(/&nbsp;|&amp;|&lt;|&gt;|&quot;|&#39;/gi,o=>{switch(o.toLowerCase()){case"&nbsp;":return" ";case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"';case"&#39;":return"'";default:return o}}),e.replace(/\s+/g," ").trim()}class Hg{constructor(){this.configService=C(no),this.fetchService=C(Gr),this.glidePlatformService=C(Hr),this.logger=C(Be)}get config(){return this.configService.getCachedConfig()}init(e){e?.skipListeners||this.initListeners()}submit(e,t,o){var r=this;return g(function*(){const i=`${r.config.widgetOriginName}systemflowevents/survey`;e.title=Ug(e.title);const s=t.map(c=>({...c,questionText:Ug(c.questionText)})),a={resource:i,options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({surveys:s,event:r.getEventDto(e)})},tabId:o};yield r.fetchService.performFetch(a)})()}getEventDto(e){return{...e,platform:z1[this.glidePlatformService.getPlatform()]}}initListeners(){chrome.runtime.onMessage.addListener((e,t)=>{if(e?.command===q.SubmitSurvey)if(e?.details){const{event:o,answers:r}=e.details;this.submit(o,r,t.tab?.id)}else this.logger.warn("Survey: there is no details. Answers have no been submitted")})}static{this.\u0275fac=function(t){return new(t||Hg)}}static{this.\u0275prov=F({token:Hg,factory:Hg.\u0275fac,providedIn:"root"})}}const nX={[_i.GreenAndWhite]:{"--gl-step-background-primary":"#26890D","--gl-step-color-primary":"#ffffff","--gl-step-background-on-primary":"#ffffff","--gl-step-color-on-contrast":"#000","--gl-step-color-border":"#26890D","--gl-step-rte-link":"#ffffff","--gl-step-rte-link-btn-color":"#ffffff","--gl-step-rte-link-btn-bg":"#26890D","--gl-step-rte-link-btn-border":"#ffffff","--gl-step-color-line":"transparent","--gl-step-background-note":"#1D680A","--gl-step-note-icon":"#FFFFFF","--gl-step-hover-overlay":"16%","--gl-step-active-overlay":"24%","--gl-step-transparent-hover-overlay":"rgba(0, 0, 0, 0.16)","--gl-step-transparent-active-overlay":"rgba(0, 0, 0, 0.24)","--gl-gradient-visibility":"visible","--gl-arrow-gradient-from":"#046A38","--gl-arrow-gradient-to":"#26890D","--gl-main-content-border":"transparent","--gl-rte-link":"#26890D","--gl-rte-link-btn-color":"#ffffff","--gl-rte-link-btn-bg":"#26890D","--gl-rte-link-btn-border":"#ffffff","--gl-background-primary":"#ffffff","--gl-color":"#000000","--gl-color-border":"#26890D","--gl-color-line":"#D0D0CE","--gl-input-border-hover":"color-mix(in srgb, black 16%, var(--gl-color-line))","--gl-input-border-active":"#000000","--gl-color-second-label":"#53565A","--gl-color-placeholder":"#63666A","--gl-color-placeholder-hover":"color-mix(in srgb, black 32%, var(--gl-color-placeholder))","--gl-background-on-primary":"#26890D","--gl-color-on-primary":"#ffffff","--gl-background-on-primary-hover-light":"#a8d09d","--gl-color-error":"#DA291C","--gl-input-error-border-hover":"color-mix(in srgb, black 32%, var(--gl-color-error))","--gl-background-empty":"#F5F5F5","--gl-background-note":"#F5F5F5","--gl-note-icon":"#53565A","--gl-search-highlight":"#0DF200","--gl-color-annotation":"#757575","--gl-hover-overlay":"16%","--gl-active-overlay":"24%","--gl-transparent-hover-overlay":"rgba(0, 0, 0, 0.08)","--gl-transparent-active-overlay":"rgba(0, 0, 0, 0.12)","--gl-background-helper-section":"linear-gradient(0deg, rgba(187, 188, 188, 0.15), rgba(187, 188, 188, 0.15)), linear-gradient(0deg, rgba(255, 255, 255, 0.24), rgba(255, 255, 255, 0.24))","--gl-menu-empty-img":"no-search-result-menu.svg"},[_i.WhiteAndGreen]:{"--gl-step-background-primary":"#ffffff","--gl-step-color-primary":"#000000","--gl-step-background-on-primary":"#26890D","--gl-step-color-on-contrast":"#ffffff","--gl-step-color-border":"#26890D","--gl-step-rte-link":"#26890D","--gl-step-rte-link-btn-color":"#ffffff","--gl-step-rte-link-btn-bg":"#26890D","--gl-step-rte-link-btn-border":"#ffffff","--gl-step-color-line":"#D0D0CE","--gl-step-background-note":"#F5F5F5","--gl-step-note-icon":"#53565A","--gl-step-hover-overlay":"16%","--gl-step-active-overlay":"24%","--gl-step-transparent-hover-overlay":"rgba(0, 0, 0, 0.08)","--gl-step-transparent-active-overlay":"rgba(0, 0, 0, 0.12)","--gl-gradient-visibility":"hidden","--gl-arrow-gradient-from":"#046A38","--gl-arrow-gradient-to":"#26890D","--gl-main-content-border":"transparent","--gl-rte-link":"#26890D","--gl-rte-link-btn-color":"#ffffff","--gl-rte-link-btn-bg":"#26890D","--gl-rte-link-btn-border":"#ffffff","--gl-background-primary":"#ffffff","--gl-color":"#000000","--gl-color-border":"#26890D","--gl-color-line":"#D0D0CE","--gl-input-border-hover":"color-mix(in srgb, black 16%, var(--gl-color-line))","--gl-input-border-active":"#000000","--gl-color-second-label":"#53565A","--gl-color-placeholder":"#63666A","--gl-color-placeholder-hover":"color-mix(in srgb, black 32%, var(--gl-color-placeholder))","--gl-background-on-primary":"#26890D","--gl-color-on-primary":"#ffffff","--gl-background-on-primary-hover-light":"#a8d09d","--gl-color-error":"#DA291C","--gl-input-error-border-hover":"color-mix(in srgb, black 32%, var(--gl-color-error))","--gl-background-empty":"#F5F5F5","--gl-background-note":"#F5F5F5","--gl-note-icon":"#53565A","--gl-search-highlight":"#0DF200","--gl-color-annotation":"#757575","--gl-hover-overlay":"16%","--gl-active-overlay":"24%","--gl-transparent-hover-overlay":"rgba(0, 0, 0, 0.08)","--gl-transparent-active-overlay":"rgba(0, 0, 0, 0.12)","--gl-background-helper-section":"linear-gradient(0deg, rgba(187, 188, 188, 0.15), rgba(187, 188, 188, 0.15)), linear-gradient(0deg, rgba(255, 255, 255, 0.24), rgba(255, 255, 255, 0.24))","--gl-menu-empty-img":"no-search-result-menu.svg"},[_i.WhiteAndBlue]:{"--gl-step-background-primary":"#ffffff","--gl-step-color-primary":"#000000","--gl-step-background-on-primary":"#007CB0","--gl-step-color-on-contrast":"#ffffff","--gl-step-color-border":"#007CB0","--gl-step-rte-link":"#007CB0","--gl-step-rte-link-btn-color":"#ffffff","--gl-step-rte-link-btn-bg":"#007CB0","--gl-step-rte-link-btn-border":"#ffffff","--gl-step-color-line":"#D0D0CE","--gl-step-background-note":"#F5F5F5","--gl-step-note-icon":"#53565A","--gl-step-hover-overlay":"16%","--gl-step-active-overlay":"24%","--gl-step-transparent-hover-overlay":"rgba(0, 0, 0, 0.08)","--gl-step-transparent-active-overlay":"rgba(0, 0, 0, 0.12)","--gl-gradient-visibility":"hidden","--gl-arrow-gradient-from":"#005587","--gl-arrow-gradient-to":"#007CB0","--gl-main-content-border":"transparent","--gl-rte-link":"#007CB0","--gl-rte-link-btn-color":"#ffffff","--gl-rte-link-btn-bg":"#007CB0","--gl-rte-link-btn-border":"#ffffff","--gl-background-primary":"#ffffff","--gl-color":"#000000","--gl-color-border":"#007CB0","--gl-color-line":"#D0D0CE","--gl-input-border-hover":"color-mix(in srgb, black 16%, var(--gl-color-line))","--gl-input-border-active":"#000000","--gl-color-second-label":"#53565A","--gl-color-placeholder":"#63666A","--gl-color-placeholder-hover":"color-mix(in srgb, black 32%, var(--gl-color-placeholder))","--gl-background-on-primary":"#007CB0","--gl-color-on-primary":"#ffffff","--gl-background-on-primary-hover-light":"#91c3de","--gl-color-error":"#DA291C","--gl-input-error-border-hover":"color-mix(in srgb, black 32%, var(--gl-color-error))","--gl-background-empty":"#F5F5F5","--gl-background-note":"#F5F5F5","--gl-note-icon":"#53565A","--gl-search-highlight":"#35f0fd","--gl-color-annotation":"#757575","--gl-hover-overlay":"16%","--gl-active-overlay":"24%","--gl-transparent-hover-overlay":"rgba(0, 0, 0, 0.08)","--gl-transparent-active-overlay":"rgba(0, 0, 0, 0.12)","--gl-background-helper-section":"linear-gradient(0deg, rgba(187, 188, 188, 0.15), rgba(187, 188, 188, 0.15)), linear-gradient(0deg, rgba(255, 255, 255, 0.24), rgba(255, 255, 255, 0.24))","--gl-menu-empty-img":"no-search-result-menu.svg"},[_i.BlackAndGreen]:{"--gl-step-background-primary":"#000000","--gl-step-color-primary":"#ffffff","--gl-step-background-on-primary":"#26890D","--gl-step-color-on-contrast":"#ffffff","--gl-step-color-border":"#26890D","--gl-step-rte-link":"#26890D","--gl-step-rte-link-btn-color":"#ffffff","--gl-step-rte-link-btn-bg":"#26890D","--gl-step-rte-link-btn-border":"#26890D","--gl-step-color-line":"#53565A","--gl-step-background-note":"#151515","--gl-step-note-icon":"#D0D0CE","--gl-step-hover-overlay":"16%","--gl-step-active-overlay":"24%","--gl-step-transparent-hover-overlay":"rgba(255, 255, 255, 0.16)","--gl-step-transparent-active-overlay":"rgba(255, 255, 255, 0.24)","--gl-gradient-visibility":"hidden","--gl-arrow-gradient-from":"#046A38","--gl-arrow-gradient-to":"#26890D","--gl-main-content-border":"#53565A","--gl-rte-link":"#26890D","--gl-rte-link-btn-color":"#ffffff","--gl-rte-link-btn-bg":"#26890D","--gl-rte-link-btn-border":"#26890D","--gl-background-primary":"#000000","--gl-color":"#ffffff","--gl-color-border":"#26890D","--gl-color-line":"#53565A","--gl-input-border-hover":"color-mix(in srgb, white 32%, var(--gl-color-line))","--gl-input-border-active":"#ffffff","--gl-color-placeholder":"#97999B","--gl-color-placeholder-hover":"color-mix(in srgb, white 16%, var(--gl-color-placeholder))","--gl-color-second-label":"#D0D0CE","--gl-background-on-primary":"#26890D","--gl-color-on-primary":"#ffffff","--gl-background-on-primary-hover-light":"#a8d09d","--gl-color-error":"#DA291C","--gl-input-error-border-hover":"color-mix(in srgb, white 32%, var(--gl-color-error))","--gl-background-empty":"#3D3D3D","--gl-background-note":"#151515","--gl-note-icon":"#D0D0CE","--gl-search-highlight":"#0DF200","--gl-color-annotation":"#ffffff","--gl-hover-overlay":"16%","--gl-active-overlay":"24%","--gl-transparent-hover-overlay":"rgba(255, 255, 255, 0.16)","--gl-transparent-active-overlay":"rgba(255, 255, 255, 0.24)","--gl-background-helper-section":"linear-gradient(0deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.08)), linear-gradient(0deg, #000000, #000000)","--gl-menu-empty-img":"no-search-result-menu-dark-theme.svg"},[_i.BlackAndBlue]:{"--gl-step-background-primary":"#000000","--gl-step-color-primary":"#ffffff","--gl-step-background-on-primary":"#007CB0","--gl-step-color-on-contrast":"#ffffff","--gl-step-color-border":"#007CB0","--gl-step-rte-link":"#ffffff","--gl-step-rte-link-btn-color":"#ffffff","--gl-step-rte-link-btn-bg":"#007CB0","--gl-step-rte-link-btn-border":"#007CB0","--gl-step-color-line":"#53565A","--gl-step-background-note":"#151515","--gl-step-note-icon":"#D0D0CE","--gl-step-hover-overlay":"16%","--gl-step-active-overlay":"24%","--gl-step-transparent-hover-overlay":"rgba(255, 255, 255, 0.16)","--gl-step-transparent-active-overlay":"rgba(255, 255, 255, 0.24)","--gl-gradient-visibility":"hidden","--gl-arrow-gradient-from":"#005587","--gl-arrow-gradient-to":"#007CB0","--gl-main-content-border":"#53565A","--gl-rte-link":"#ffffff","--gl-rte-link-btn-color":"#ffffff","--gl-rte-link-btn-bg":"#007CB0","--gl-rte-link-btn-border":"#007CB0","--gl-background-primary":"#000000","--gl-color":"#ffffff","--gl-color-border":"#007CB0","--gl-color-line":"#53565A","--gl-input-border-hover":"color-mix(in srgb, white 32%, var(--gl-color-line))","--gl-input-border-active":"#ffffff","--gl-color-second-label":"#D0D0CE","--gl-color-placeholder":"#97999B","--gl-color-placeholder-hover":"color-mix(in srgb, white 16%, var(--gl-color-placeholder))","--gl-background-on-primary":"#007CB0","--gl-color-on-primary":"#ffffff","--gl-background-on-primary-hover-light":"#91c3de","--gl-color-error":"#DA291C","--gl-input-error-border-hover":"color-mix(in srgb, white 32%, var(--gl-color-error))","--gl-background-empty":"#3D3D3D","--gl-background-note":"#151515","--gl-note-icon":"#D0D0CE","--gl-search-highlight":"#35f0fd","--gl-color-annotation":"#ffffff","--gl-hover-overlay":"16%","--gl-active-overlay":"24%","--gl-transparent-hover-overlay":"rgba(255, 255, 255, 0.16)","--gl-transparent-active-overlay":"rgba(255, 255, 255, 0.24)","--gl-background-helper-section":"linear-gradient(0deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.08)), linear-gradient(0deg, #000000, #000000)","--gl-menu-empty-img":"no-search-result-menu-dark-theme.svg"}};class Rd{constructor(){this.activeTheme$=new Hs(null)}isThemeSet(e){return this.activeTheme$.next(e),this.setRootElThemeVars(e,document.documentElement),this.activeTheme$.value?.name===e?.name}setRootElThemeVars(e,t){Object.entries(nX[e.name]).forEach(([o,r])=>{t.style.setProperty(o,r)}),t.style.setProperty("--gl-button-text-align",e.configuration?.buttonTextPosition??s0.Left)}static{this.\u0275fac=function(t){return new(t||Rd)}}static{this.\u0275prov=F({token:Rd,factory:Rd.\u0275fac,providedIn:"root"})}}const rX=["xpath","var"];class jg{getAllCustomTagsEntries(e,t,o=!1){const r=new RegExp(`\\[${t}].*?\\[\\/${t}]`,"gs"),s=[...(e||"").matchAll(r)].map(a=>a[0]);return o?[...new Set(s)]:s}replaceCustomTagEntryWithText(e,t,o){return e&&this.isValidCustomTagEntry(t)&&t!==o?e.replaceAll(t,o):e}unwrapCustomTagEntry(e,t){if(!e||!this.isValidCustomTagEntry(t))return e;const o=t.match(/\[[^\]]+](.*?)\[\/[^\]]+]/s);return o?e.replaceAll(t,o[1]):e}getCustomTagEntryContent(e){if(!this.isValidCustomTagEntry(e))return null;const t=e.match(/\[[^\]]+](.*?)\[\/[^\]]+]/s);return t?t[1]:null}isValidCustomTagEntry(e){if(!e)return!1;const t=e.match(/^\[([\w-]+)]([\s\S]*?)\[\/([\w-]+)]$/);if(!t)return!1;const r=t[1],s=r===t[3],a=rX.includes(r);return s&&a}static{this.\u0275fac=function(t){return new(t||jg)}}static{this.\u0275prov=F({token:jg,factory:jg.\u0275fac,providedIn:"root"})}}class py{constructor(){this.customTagService=C(jg),this.logger=C(Be)}replaceXpathTagWithInnerText(e,t){var o=this;return g(function*(){try{const r=o.customTagService.getAllCustomTagsEntries(e,"xpath",!0);let i=e;const s=r.map(c=>({tagEntry:c,content:o.customTagService.getCustomTagEntryContent(c)}));return(yield o.populateTagDataList(s,t)).forEach(({tagEntry:c,value:d})=>{i=null===d?o.customTagService.unwrapCustomTagEntry(i,c):o.customTagService.replaceCustomTagEntryWithText(i,c,d)}),i}catch(r){return o.logger.error("The replacement of the xpath tags has been failed:",r),e}})()}prepareXpathList(e){try{return this.customTagService.getAllCustomTagsEntries(e,"xpath",!0).map(o=>this.customTagService.getCustomTagEntryContent(o))}catch(t){return this.logger.error("Preparing the xpath list by tags in text is failed:",t),[]}}populateTagDataList(e,t){return g(function*(){const o=e.map(i=>i.content),r=yield t.elementValueMap(o);return e.map(i=>({...i,value:r[i.content]??null}))})()}static{this.\u0275fac=function(t){return new(t||py)}}static{this.\u0275prov=F({token:py,factory:py.\u0275fac,providedIn:"root"})}}var $g,iX=B(26681),sX=B.n(iX);class my{constructor(){this.customTagService=C(jg),this.logger=C(Be)}replaceVarTagWithValues(e,t){var o=this;return g(function*(){try{const r=o.customTagService.getAllCustomTagsEntries(e,"var",!0);let i=e;const s=r.map(c=>({tagEntry:c,content:o.customTagService.getCustomTagEntryContent(c)}));return(yield o.populateTagDataList(s,t)).forEach(({tagEntry:c,value:d})=>{i=null===d?o.customTagService.unwrapCustomTagEntry(i,c):o.customTagService.replaceCustomTagEntryWithText(i,c,d)}),i}catch(r){return o.logger.error("The replacement of the var tags has been failed:",r),e}})()}prepareGlobalContextValues(e){try{return this.customTagService.getAllCustomTagsEntries(e,"var",!0).map(o=>this.customTagService.getCustomTagEntryContent(o))}catch(t){return this.logger.error("Preparing the variables list by tags in text is failed:",t),[]}}populateTagDataList(e,t){var o=this;return g(function*(){return e?.length?e.map(r=>({...r,value:o.getValue(r.content,t)})):[]})()}getValue(e,t){if(!t)return null;const o=(e||"").trim();let r=null;const i=s=>{const a=sX()(s,o);return null==a?null:String(a)};return r=i(t.window),null!==r||(r=i(t.sessionStorageItems),null!==r)||(r=i(t.localStorageItems),null!==r)||(r=i(t.customData)),r}static{this.\u0275fac=function(t){return new(t||my)}}static{this.\u0275prov=F({token:my,factory:my.\u0275fac,providedIn:"root"})}}class _y{constructor(){this.ruleEngineDataService=C(Uc),this.xpathTagService=C(py),this.varTagService=C(my),this.logger=C(Be)}replace(e,t){var o=this;return g(function*(){try{const r=yield o.getContext(e,t);if(!r)return e;let i=e;return i=yield o.xpathTagService.replaceXpathTagWithInnerText(i,r),i=yield o.varTagService.replaceVarTagWithValues(i,r),i}catch(r){return o.logger.warn("Replace failed:",r),e}})()}getContext(e,t){var o=this;return g(function*(){const{tabId:r}=t,i=o.varTagService.prepareGlobalContextValues(e),s=o.xpathTagService.prepareXpathList(e);return i.length||s.length?yield o.ruleEngineDataService.resolveContext({tabId:r,globalContextValues:i,waitingElementBySelectorTime:0}):null})()}static{this.\u0275fac=function(t){return new(t||_y)}}static{this.\u0275prov=F({token:_y,factory:_y.\u0275fac,providedIn:"root"})}}!function(n){n.Yes="yes",n.No="",n.NoLoader="NoLoader",n.InterceptorSkip="InterceptorSkip",n.RemoveContentType="RemoveContentType"}($g||($g={}));class A0{static assignParamsToUrl(e,t){return t?e.replace(/{(\w+)}/g,(o,r)=>t[r]??o):e}constructor(e){this.providers=e,this.nativeFetch=!1}get(){return this.methodValue="GET",this}post(){return this.methodValue="POST",this}put(){return this.methodValue="PUT",this}delete(){return this.methodValue="DELETE",this}api(e,t){return this.isApiUrl=!0,this.urlPathValue=e,this.urlPathParamsValue=t,this}url(e,t){return this.fullUrlValue=e,this.urlPathParamsValue=t,this}body(e,t){return!1===t||(this.bodyValue=e),this}headers(e,t){return!1===t||(this.ensureHeaders(),Object.assign(this.headersValue,e)),this}query(e,t){return!1===t||(this.ensureQuery(),Object.assign(this.queryValue,e)),this}responseType(e,t){return!1===t||(this.responseTypeValue=e),this}noLoader(e){return this.headers({[$g.NoLoader]:$g.Yes},e)}noContentType(e){return this.headers({[$g.RemoveContentType]:$g.Yes},e)}native(){return this.nativeFetch=!0,this}call(){return this.providers.createRequest(this.prepareRequestDefinition())}prepareUrl(){if(this.fullUrlValue)return A0.assignParamsToUrl(this.fullUrlValue,this.urlPathParamsValue);if(this.isApiUrl){return`${this.providers.apiUrlBase||""}/${A0.assignParamsToUrl(this.urlPathValue,this.urlPathParamsValue)}`}}prepareRequestDefinition(){const e={method:this.methodValue,url:this.prepareUrl()};return void 0!==this.bodyValue&&(e.body=this.bodyValue),void 0!==this.headersValue&&(e.headers=this.headersValue),void 0!==this.queryValue&&(e.query=this.queryValue),void 0!==this.responseTypeValue&&(e.responseType=this.responseTypeValue),this.nativeFetch&&(e.fetch=!0),e}ensureHeaders(){this.headersValue||(this.headersValue={})}ensureQuery(){this.queryValue||(this.queryValue={})}}class vy{constructor(){this.logger=C(Be),this.catchAndHandleWith=(e=[])=>hk(t=>this.handle(t,e)),this.log=(e,t)=>{this.logger.error("Error DTO",e,t)}}handle(e,t=[]){let o={kind:"Exception",sub:"Unknown"};for(const r of t){const i=r(e.error,{fullHttpError:e,log:this.log});if(i){o=i;break}}return ZV(()=>o)}static{this.\u0275fac=function(t){return new(t||vy)}}static{this.\u0275prov=F({token:vy,factory:vy.\u0275fac,providedIn:"root"})}}class Ld{constructor(){this.logger=C(Be),this._authDetails=new Hs(null),this.refreshAccessTokenInterval=null}get authDetailsValue(){return this._authDetails.value}get apiUrl(){return this._authDetails.value?.config.widgetOriginName}getAuthDetails(){return this._authDetails.asObservable().pipe(vi(e=>e?ma(e):this.getNewAuthDetails()))}getAuthDetailsValue(){return this._authDetails.getValue()}destroy(){this.stopRefreshingToken()}getNewAuthDetails(){return new ht(e=>{chrome.runtime.sendMessage({command:q.GetToken},t=>{t?e.next(t):e.error(new Error("Auth details was not provided"))})}).pipe(_a(e=>{this._authDetails.next(e),this.stopRefreshingToken(),this.initRefreshTokenMessageInterval()}))}refreshAuthToken(){chrome.runtime.sendMessage({command:q.RefreshToken},e=>{chrome.runtime.lastError&&this.logger.error("Refreshed token not provided"),e&&this._authDetails.next({...this._authDetails.value,accessToken:e.accessToken})})}initRefreshTokenMessageInterval(){this.refreshAccessTokenInterval=setInterval(()=>{this.refreshAuthToken()},fl.refreshAccessTokenIntervalMs)}stopRefreshingToken(){this.refreshAccessTokenInterval&&clearInterval(this.refreshAccessTokenInterval)}static{this.\u0275fac=function(t){return new(t||Ld)}}static{this.\u0275prov=F({token:Ld,factory:Ld.\u0275fac,providedIn:"root"})}}class yy{constructor(e,t,o){this.error=e,this.httpClient=t,this.coreInitializationService=o}request(){return new A0({apiUrlBase:this.coreInitializationService.getAuthDetailsValue().config.widgetOriginName,createRequest:e=>this.createRequest(e)})}createRequest(e){return e.fetch?this.createFetchRequest(e):this.createHttpClientRequest(e)}createHttpClientRequest(e){return this.httpClient.request(e.method,e.url,{body:e.body,headers:e.headers,params:e.query,responseType:e.responseType})}createFetchRequest(e){return new ht(t=>{fetch(e.url,{method:e.method,body:JSON.stringify(e.body),headers:e.headers}).then(function(){var o=g(function*(r){if(!r.ok)throw r;let i;try{i=yield r.json()}catch{}t.next(i),t.complete()});return function(r){return o.apply(this,arguments)}}()).catch(o=>{t.error(o)})})}static{this.\u0275fac=function(t){return new(t||yy)(L(vy),L(Vc),L(Ld))}}static{this.\u0275prov=F({token:yy,factory:yy.\u0275fac,providedIn:"root"})}}class O0{constructor(e){this.api=e}user(){return this.api.request().get().api("users/current").call()}static{this.\u0275fac=function(t){return new(t||O0)(L(yy))}}static{this.\u0275prov=F({token:O0,factory:O0.\u0275fac,providedIn:"root"})}}class P0{constructor(){this.http=C(Vc),this.coreService=C(Ld),this.baseUrl=this.coreService.apiUrl,this.baseSystemFlowsUrl=`${this.baseUrl}systemflows`}create(e){return this.http.post(`${this.baseSystemFlowsUrl}`,e)}get(e){return this.http.get(`${this.baseSystemFlowsUrl}/${e}`)}update(e,t){return this.http.put(`${this.baseSystemFlowsUrl}/${e}`,t)}delete(e){return this.http.delete(`${this.baseSystemFlowsUrl}/${e}`)}deleteSystemFlowEvents(e){return this.http.delete(`${this.baseUrl}/systemflowevents`,{body:e})}list(e,t){return this.http.post(`${this.baseSystemFlowsUrl}/list/${e}`,t)}basicList(e,t){return this.http.post(`${this.baseSystemFlowsUrl}/basiclist/${e}`,t)}getTourConnections(e){return this.http.post(`${this.baseSystemFlowsUrl}/guided-tour-usage`,e)}creators(){return this.http.get(`${this.baseSystemFlowsUrl}/creators`)}static{this.\u0275fac=function(t){return new(t||P0)}}static{this.\u0275prov=F({token:P0,factory:P0.\u0275fac,providedIn:"root"})}}class F0{constructor(){this.http=C(Vc),this.coreService=C(Ld),this.baseUrl=this.coreService.apiUrl,this.baseRulesetTemplatesUrl=`${this.baseUrl}rulesettemplates`}create(e){return this.http.post(`${this.baseRulesetTemplatesUrl}`,e)}get(e){return this.http.get(`${this.baseRulesetTemplatesUrl}/${e}`)}update(e,t){return this.http.put(`${this.baseRulesetTemplatesUrl}/${e}`,t)}delete(e){return this.http.delete(`${this.baseRulesetTemplatesUrl}/${e}`)}list(e,t){return this.http.post(`${this.baseRulesetTemplatesUrl}/list/${e}`,t)}static{this.\u0275fac=function(t){return new(t||F0)}}static{this.\u0275prov=F({token:F0,factory:F0.\u0275fac,providedIn:"root"})}}const aX={mainMenuConfiguration:null};class by{constructor(){this.fetchService=C(Gr),this.glideConfigService=C(no),this.logger=C(Be)}setUserConfiguration(e){var t=this;return g(function*(){const o=t.getBaseUrl();if(!o)return;const s={resource:`${o}users/current/configuration`,options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}};yield t.fetchService.performFetch(s)})()}getUserConfiguration(e){var t=this;return g(function*(){const o=t.getBaseUrl();if(!o)return;const i=new URLSearchParams;Object.entries(e).forEach(([c,d])=>{i.set(c,String(d))});const s={resource:`${o}users/current/configuration?${i.toString()}`,options:{method:"GET",headers:{Accept:"application/json"}},caching:!0},a=yield t.fetchService.performFetch(s);if(a?.status===Id.Ok){const c=yield a.json(),d=JSON.parse(c);return Object.entries(aX).reduce((f,[p,y])=>{const m=p;return f[m]=d[m]??y,f},{})}return null})()}getUserContext(e){var t=this;return g(function*(){const o=t.getBaseUrl(),r=new URLSearchParams;if(!o)return;Object.entries(e).forEach(([c,d])=>{r.set(c,String(d))});const s={resource:`${o}users/current/context?${r.toString()}`,options:{method:"GET",headers:{Accept:"application/json"}},caching:!0},a=yield t.fetchService.performFetch(s);return a?.status===Id.Ok?yield a.json():null})()}getBaseUrl(){const e=this.glideConfigService.getCachedConfig();let t;return e?t=e.widgetOriginName:(this.logger.warn("There are no current system config"),t=null),t}static{this.\u0275fac=function(t){return new(t||by)}}static{this.\u0275prov=F({token:by,factory:by.\u0275fac,providedIn:"root"})}}class Gg{constructor(){this.userSettingsApiService=C(by),this.clientSideOrchestratorService=C(Pd),this.persistentStateService=C(_l),this.logger=C(Be)}changeMenuPlacement(e,t){var o=this;return g(function*(){const{tabId:r}=e,i=yield o.persistentStateService.getState(r),{environmentId:s,systemId:a,userSettings:c}=i,{mainMenuUserConfig:d,isUpdateOnBackend:f}=t,p={...c,mainMenuConfiguration:d?{...c?.mainMenuConfiguration,...d}:null};return f&&o.userSettingsApiService.setUserConfiguration({environmentId:s,systemId:a,configuration:JSON.stringify(p)}),yield o.clientSideOrchestratorService.updateClientSideState(r,{...i,userSettings:p})})()}getUserSettings(e,t){var o=this;return g(function*(){return yield o.userSettingsApiService.getUserConfiguration({systemId:e,environmentId:t})})()}setUserWindowSettings(e){var t=this;return g(function*(){t.persistentStateService.setUserWindowSettings(e).then(()=>{}).catch(o=>{t.logger.error("Failed to save window settings",o)})})()}getUserWindowSettings(){var e=this;return g(function*(){return yield e.persistentStateService.getUserWindowSettings()})()}setUserSystemSettings(e){var t=this;return g(function*(){t.persistentStateService.setUserSystemSettings(e).then(()=>{}).catch(o=>{t.logger.error("Failed to save system settings",o)})})()}getUserSystemSettings(){var e=this;return g(function*(){return yield e.persistentStateService.getUserSystemSettings()})()}updateUserSystemSettings(e){var t=this;return g(function*(){const o=yield t.getUserSystemSettings();t.setUserSystemSettings({...o,...e})})()}getUserContext(e,t){var o=this;return g(function*(){return yield o.userSettingsApiService.getUserContext({systemId:e,environmentId:t})})()}static{this.\u0275fac=function(t){return new(t||Gg)}}static{this.\u0275prov=F({token:Gg,factory:Gg.\u0275fac,providedIn:"root"})}}class Vd{constructor(){this.defaultStrategies=["documentLang","HTMLBodyLang"]}detectLang(e){var t=this;return g(function*(){const{strategies:o,filterLanguages:r}=e,i=o??t.defaultStrategies;for(let s=0;s<i.length;s++){const a=i[s],c=t.applyStrategy({strategy:a});if(c){return t.getFilteredLang({langCode:c,filterLanguages:r})||Lt}}return Lt})()}getLangChangeSignal(e){const{strategy:t}=e;return"HTMLBodyLang"!==t?{value:ue(null),unsub:()=>{}}:this.getLangChangeHTMLBodyLangSignal()}applyStrategy(e){const{strategy:t}=e;switch(t){case"documentLang":return this.detectLangByDocumentLang();case"HTMLBodyLang":return this.detectLangByHTMLBodyLang()}}detectLangByDocumentLang(){return this.toLangCode({lang:document.documentElement.lang})}detectLangByHTMLBodyLang(){const e=document.querySelector("[lang]");if(!e)return null;const t=e.getAttribute("lang")||null;return t?this.toLangCode({lang:t}):null}getLangChangeHTMLBodyLangSignal(){const e="lang",t=document.documentElement,r=ue(t.getAttribute(e)??null),i=new MutationObserver(a=>{for(const c of a)if("attributes"===c.type&&c.attributeName===e){const d=t.lang;if(r()===d)return;r.set(d??null)}}),s={attributes:!0,attributeFilter:[e]};return i.observe(t,s),{value:r.asReadonly(),unsub:()=>i.disconnect()}}getFilteredLang(e){const{langCode:t,filterLanguages:o}=e;return o.find(r=>r===t)??null}toLangCode(e){const{lang:t}=e;if(!t)return null;const o=t.trim().split(/[-_]/),r=o[0]?.toLowerCase()||"",i=o[1]?.toUpperCase();return i?this.concatLangAndRegion({language:r,region:i}):r}concatLangAndRegion(e){const{language:t,region:o}=e;return`${t}-${o}`}static{this.\u0275fac=function(t){return new(t||Vd)}}static{this.\u0275prov=F({token:Vd,factory:Vd.\u0275fac,providedIn:"root"})}}class Bd{constructor(){this.contentSideStoreService=C(xn),this.timeout=null}show(e,t=5e3){this.resetTimeout(),this.contentSideStoreService.setActiveToast(e),this.timeout=setTimeout(()=>{this.contentSideStoreService.setActiveToast(null),this.timeout=null},t)}hide(){this.resetTimeout(),this.contentSideStoreService.setActiveToast(null)}resetTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}static{this.\u0275fac=function(t){return new(t||Bd)}}static{this.\u0275prov=F({token:Bd,factory:Bd.\u0275fac,providedIn:"root"})}}class zg{constructor(){this.configService=C(no),this.fetchService=C(Gr),this.logger=C(Be),this.glidePlatformService=C(Hr)}init(e){e?.skipListeners||this.initListeners()}sendAlert(e){var t=this;return g(function*(){try{const o=`${t.config.widgetOriginName}systemflowevents/error`,r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.getEventDto(e))};yield t.fetchService.performFetch({resource:o,options:r})}catch{t.logger.warn("Error during send alert",e)}})()}getEventDto(e){return{...e,platform:z1[this.glidePlatformService.getPlatform()]}}get config(){return this.configService.getCachedConfig()}initListeners(){chrome.runtime.onMessage.addListener(e=>{e?.command===q.SendAlertEvent&&e?.details&&this.sendAlert(e.details?.event)})}static{this.\u0275fac=function(t){return new(t||zg)}}static{this.\u0275prov=F({token:zg,factory:zg.\u0275fac,providedIn:"root"})}}class Wg{constructor(){this.logger=C(Be),this.siteAuthEmailProviderMap=l7}extractAuthEmail(e){var t=this;return g(function*(){try{return yield t.applyExtractorStrategy(e)}catch(o){return t.logger.error("Extract site auth email error",o),{email:null}}})()}applyExtractorStrategy(e){var t=this;return g(function*(){const{strategy:o,metadata:r}=e;let i=null;switch(o){case"IndexedDB":const s=r,{emailProviderKey:a}=s,c=t.siteAuthEmailProviderMap[a];i=yield t.extractEmailByIndexedDb({metadata:s,emailProvider:c});break;case"SiteStorage":i=yield t.extractEmailBySiteStorage({metadata:r})}return{email:i}})()}extractEmailByIndexedDb(e){var t=this;return g(function*(){const{metadata:o,emailProvider:r}=e,{dbName:i,storeName:s}=o;return new Promise((a,c)=>{const d=indexedDB.open(i);d.onsuccess=f=>{try{const p=f.target.result;let y;try{y=p.transaction(s,"readonly")}catch(T){return c(T)}const b=y.objectStore(s).getAll();b.onsuccess=T=>{const O=T.target.result,x=r(O);return a(x)},b.onerror=T=>{const M=T.target;return c(M.error)}}catch(p){return c(p)}},d.onerror=f=>{const p=f.target;return t.logger.error("Cannot get Indexed DB data",p.error),c(p.error)}})})()}extractEmailBySiteStorage(e){return g(function*(){const{metadata:{storageType:t,storageProp:o,jsonProp:r}}=e,i="localStorage"===t?window.localStorage:window.sessionStorage;if(!r)return i.getItem(o)??null;let a=null;try{a=JSON.parse(i.getItem(o))[r]??null}catch{}return a})()}static{this.\u0275fac=function(t){return new(t||Wg)}}static{this.\u0275prov=F({token:Wg,factory:Wg.\u0275fac,providedIn:"root"})}}class wy{constructor(){this.injector=C(We),this.contentSideStoreService=C(xn),this.pageLoadCompleteProvider=C(kd),this.analyticsService=C(Bc),this.submitSurveyService=C(Hg),this.aiHelperProvider=C(Eg),this.clientSideThemeService=C(Rd),this.ruleEngineService=C(Od),this.tagReplacerService=C(_y),this.logger=C(Be),this.languageDetectionService=C(Vd),this.toastService=C(Bd),this.siteAuthProviderService=C(Wg),this.alertTrackerService=C(zg)}get playModeService(){return this.injector.get(Nd)}get pageInteractionService(){return this.injector.get(xd)}get userSettingsService(){return this.injector.get(Gg)}emitPageLoadComplete(){this.pageLoadCompleteProvider.isPageLoadingComplete.next(!0)}updateClientSideState(e){this.contentSideStoreService.updateClientSideState(e.clientSideState)}setMenuInProgress(e){this.contentSideStoreService.setMenuInProgress(e.inProgress)}navigateTo(e){this.pageInteractionService.navigateTo(e)}updateVisibilityFlows(e){this.contentSideStoreService.setVisibleFlowsIds(e.visibilityFlowItemIdPairs)}updateActiveTour(e){this.contentSideStoreService.setActiveTour(e.clientSideState.activeTour)}handleClientSideInteraction(e){var t=this;return g(function*(){const{flowItem:o}=e,r=o.data.interaction,i=o.data.selector;return t.pageInteractionService.dispatchUserEvent(i,r)})()}applyTheme(e){var t=this;return g(function*(){const{theme:o}=e,r=o?.name?o:a0;t.clientSideThemeService.isThemeSet(r)})()}runEffect(e){var t=this;return g(function*(){const{type:o,details:r}=e;switch(o){case"scroll":t.pageInteractionService.scrollEffect({type:o,details:r});break;case"warning":t.pageInteractionService.warningEffect({type:o,details:r});break;case"toast":t.toastService.show(r)}})()}logByType(e){const{args:t,type:o}=e;this.logger[o](...t)}updateClientSideMenuExpandedState(e){const t=e.clientSideState.isMenuExpanded;this.contentSideStoreService.setMenuExpandedState(t)}resolveLang(e){var t=this;return g(function*(){const{filterLangs:o}=e;return t.languageDetectionService.detectLang({filterLanguages:o})})()}handleFlowEvent(e){var t=this;return g(function*(){return yield t.playModeService.handleEvent({tabId:null,frameId:null,url:null},e.flowEvent)})()}stopProcessingFlowsByType(e){var t=this;return g(function*(){return yield t.playModeService.stopProcessingFlowsByType(null,e)})()}startUserGuidedTourById(e){this.playModeService.runEndUserGuidedTourById({tabId:null,frameId:null,url:null},e.flowId)}startUserGuidedTourByGuid(e){this.playModeService.runEndUserGuidedTourByGuid({tabId:null,frameId:null,url:null},e.flowGuid)}startUserGuidedTourByName(e){this.playModeService.runEndUserGuidedTourByName({tabId:null,frameId:null,url:null},e.name)}emitSelectorValid(){}emitSelectorInvalid(){}emitFlowStop(){}sendAnalyticsEvent(e){this.analyticsService.sendEvent(e)}sendAlertEvent(e){this.alertTrackerService.sendAlert(e)}submitSurvey(e,t){this.submitSurveyService.submit(e,t)}requestToggleMenu(){this.playModeService.toggleMenu(null)}getEnhancedText(e,t){return this.aiHelperProvider.getEnhancedText(e,t)}evaluateConditionsForCurrentTab(e){var t=this;return g(function*(){return t.ruleEngineService.evaluateConditions(e)})()}applyThemeForIframe(e){return g(function*(){})()}replaceTagsInText(e){var t=this;return g(function*(){const o={tabId:null,frameId:null,url:null};return t.tagReplacerService.replace(e.text,{tabId:o.tabId})})()}setShowContentBasedOnCondition(e){this.contentSideStoreService.setShouldShowContentBasedOnCondition(e.isShowContentBasedOnCondition)}setMenuState(e){var t=this;return g(function*(){return yield t.playModeService.setMenuState(null,e)})()}changeMenuPlacement(e){var t=this;return g(function*(){const o={tabId:null,frameId:null,url:null};return yield t.userSettingsService.changeMenuPlacement(o,e)})()}changeLang(e){var t=this;return g(function*(){const{lang:o}=e;yield t.playModeService.changeLang({tabInfo:{tabId:null,frameId:null,url:null},lang:o})})()}applyNewWindowSize(e){var t=this;return g(function*(){t.playModeService.newWindowSizeHandler({...e,tabId:null})})()}getUserEmailFromHostSite(e){var t=this;return g(function*(){return(yield t.siteAuthProviderService.extractAuthEmail(e)).email})()}emitCurrentExecutedStepId(e){}static{this.\u0275fac=function(t){return new(t||wy)}}static{this.\u0275prov=F({token:wy,factory:wy.\u0275fac})}}class zB{log(e){console.log(...this.getPrintMessage(e))}warn(e){console.warn(...this.getPrintMessage(e))}error(e){console.error(...this.getPrintMessage(e))}getPrintMessage(e){const{domain:t,originalArgs:o}=e;return[`${t}:`,...o]}}class WB{constructor(){this.storageKey="glideLoggingEnabled",this.isLoggingEnabledByDefault=!0}setIsLoggingEnabledByDefault(e){this.isLoggingEnabledByDefault=e}isLoggingEnabled(){const e=window.localStorage.getItem(this.storageKey);return["true","false"].includes(e)?"true"===e:this.isLoggingEnabledByDefault}setLoggingEnabled(e){window.localStorage.setItem(this.storageKey,String(e))}}class cX{constructor(){this.storageKey="glideLoggingEnabled",this.isLoggingEnabledByDefault=!0,this.currentState=this.isLoggingEnabledByDefault,this.loadStateFromStorage(),chrome.storage.onChanged.addListener((e,t)=>{if("local"===t&&e[this.storageKey]){const o=e[this.storageKey]?.newValue;this.updateState(o)}})}setIsLoggingEnabledByDefault(e){this.isLoggingEnabledByDefault=e}isLoggingEnabled(){return this.currentState}setLoggingEnabled(e){chrome.storage.local.set({[this.storageKey]:e})}loadStateFromStorage(){var e=this;return g(function*(){const o=(yield chrome.storage.local.get(e.storageKey))[e.storageKey];"boolean"==typeof o?e.updateState(o):e.updateState(e.isLoggingEnabledByDefault)})()}updateState(e){this.currentState=e}}class Cy{constructor(){this.applicationContextService=C(Td)}setGlideVariable(e,t){var o=this;return g(function*(){const r={key:t.data.key,value:t.data.value.toString(),duration:t.params.ttl};return o.applicationContextService.updateGlideVariables(e,[r])})()}getApplicationContext(e){var t=this;return g(function*(){return typeof window>"u"?t.applicationContextService.getApplicationContext(e):new Promise((r,i)=>{const s={command:q.GetApplicationCtx,details:{tabId:e}};chrome.runtime.sendMessage(s,a=>{chrome.runtime.lastError?i(chrome.runtime.lastError):r(a)})})})()}static{this.\u0275fac=function(t){return new(t||Cy)}}static{this.\u0275prov=F({token:Cy,factory:Cy.\u0275fac})}}class Sy{constructor(){this.applicationContextService=C(Td)}setGlideVariable(e,t){var o=this;return g(function*(){const r={key:t.data.key,value:t.data.value.toString(),duration:t.params.ttl};return o.applicationContextService.updateGlideVariables(function uX(){return{tabId:0,frameId:null,url:window.location.href}}(),[r])})()}getApplicationContext(e){var t=this;return g(function*(){return t.applicationContextService.getApplicationContext(e)})()}static{this.\u0275fac=function(t){return new(t||Sy)}}static{this.\u0275prov=F({token:Sy,factory:Sy.\u0275fac})}}class qg{constructor(e,t,o){this.configService=e,this.fetchService=t,this.logger=o}getBlobUrlByFileName(e,t){var o=this;return g(function*(){try{const i={resource:`${o.config.widgetOriginName}blobs/url`,options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({file:e})},tabId:t},c=(yield(yield o.fetchService.performFetch(i)).json())?.token;return o.buildBlobDownloadURL(c)}catch{o.logger.warn("Error during getting blob URL with sas token")}return null})()}get config(){return this.configService.getCachedConfig()}buildBlobDownloadURL(e){return`${this.config.widgetOriginName}blobs/download/${e}`}static{this.\u0275fac=function(t){return new(t||qg)(L(no),L(Gr),L(Be))}}static{this.\u0275prov=F({token:qg,factory:qg.\u0275fac,providedIn:"root"})}}class Ty{constructor(e){this.blobUrlProviderApiService=e}getDownloadFileUrl(e,t){var o=this;return g(function*(){return o.blobUrlProviderApiService.getBlobUrlByFileName(e,t)})()}static{this.\u0275fac=function(t){return new(t||Ty)(L(qg))}}static{this.\u0275prov=F({token:Ty,factory:Ty.\u0275fac,providedIn:"root"})}}class Yg{previewPdf(e){window.open(e,"_blank")}static{this.\u0275fac=function(t){return new(t||Yg)}}static{this.\u0275prov=F({token:Yg,factory:Yg.\u0275fac,providedIn:"root"})}}class Iy{constructor(){this.fileDownloadService=C(Ty),this.fileRenderingService=C(Yg)}requestDownloadPdf(e){var t=this;return g(function*(){const o=yield t.fileDownloadService.getDownloadFileUrl(e?.file);t.fileRenderingService.previewPdf(o)})()}static{this.\u0275fac=function(t){return new(t||Iy)}}static{this.\u0275prov=F({token:Iy,factory:Iy.\u0275fac})}}class Ey{constructor(){this.fileRenderingService=C(Yg),this.logger=C(Be)}requestDownloadPdf(e){var t=this;return g(function*(){const o={command:q.RequestDownloadPdf,details:e.file};chrome.runtime.sendMessage(o,r=>{chrome.runtime.lastError?t.logger.error(chrome.runtime.lastError.message):t.fileRenderingService.previewPdf(r)})})()}static{this.\u0275fac=function(t){return new(t||Ey)}}static{this.\u0275prov=F({token:Ey,factory:Ey.\u0275fac})}}class My{getBlobUrlWithToken(e){return g(function*(){const t={command:q.GetBlobUrlByFileName,details:e};return chrome.runtime.sendMessage(t)})()}static{this.\u0275fac=function(t){return new(t||My)}}static{this.\u0275prov=F({token:My,factory:My.\u0275fac})}}class Dy{constructor(){this.blobUrlProviderApiService=C(qg)}getBlobUrlWithToken(e){var t=this;return g(function*(){return t.blobUrlProviderApiService.getBlobUrlByFileName(e)})()}static{this.\u0275fac=function(t){return new(t||Dy)}}static{this.\u0275prov=F({token:Dy,factory:Dy.\u0275fac})}}class xy{constructor(){this.configuredUrls=["potentiallitigationsurvey"]}observe(e,t={}){return new ht(o=>{const r=new MutationObserver(i=>{o.next(i)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,...t}),()=>r.disconnect()}).pipe(jn(o=>this.filterMutations(o)))}isTargetedService(e){return!!this.configuredUrls.find(t=>e.includes(t))}filterMutations(e){return!(2===e.length&&e.some(r=>"childList"===r.type&&r.target.classList.contains("ng-star-inserted")))}static{this.\u0275fac=function(t){return new(t||xy)}}static{this.\u0275prov=F({token:xy,factory:xy.\u0275fac,providedIn:"root"})}}class ky{observe(e,t={}){return new ht(o=>{const r=new MutationObserver(i=>{o.next(i)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,...t}),()=>r.disconnect()})}isTargetedService(e){return!0}static{this.\u0275fac=function(t){return new(t||ky)}}static{this.\u0275prov=F({token:ky,factory:ky.\u0275fac,providedIn:"root"})}}class Xg{constructor(e,t){this.ogcDomMutationService=e,this.domMutationService=t,this._services=[e,t]}getService(e){return this._services.find(t=>t.isTargetedService(e))}static{this.\u0275fac=function(t){return new(t||Xg)(L(xy),L(ky))}}static{this.\u0275prov=F({token:Xg,factory:Xg.\u0275fac,providedIn:"root"})}}const qB=n=>{const e=window.location.hostname;return n.getService(e)},Lk={childList:!0,subtree:!0,attributes:!0},dX=[{urls:["econ.","econ2.","econ-eu."],options:{...Lk,attributeFilter:["popper-placement"]}},{urls:["matglobal.","matglobalame.","matglobalema.","matglobalapa."],options:{...Lk,attributes:!1}}],YB=n=>{let e=Lk;return dX.forEach(t=>{t.urls.some(o=>-1!==n.indexOf(o))&&(e=t.options)}),e},_l=new de("PERSISTENT_STATE_SERVICE"),Ao=new de("MESSAGE_SERVICE"),no=new de("CONFIG_SERVICE"),Ay=new de("GLIDE_AUTH_SERVICE"),Gr=new de("FETCH_SERVICE"),Vk=new de("GLIDE_PLATFORM"),Bk=new de("LOGGER_STORAGE"),Uk=new de("LOG_DOMAIN"),N0=new de("LOG_STATE_PROVIDER"),R0=new de("APP_CONTEXT_PROVIDER"),Hk=new de("FILE_DOWNLOAD_SERVICE"),L0=new de("BLOB_URL_SAS_TOKEN_PROVIDER"),jk=new de("DomMutationService"),$k=new de("DomMutationOptions"),V0=new de("HOST"),B0=new de("PLATFORM_STORAGE"),XB=[{provide:_l,useClass:Qv},{provide:Ao,useClass:ty},{provide:no,useClass:mg},{provide:Ay,useClass:zv},{provide:Gr,useClass:$v},{provide:Vk,useFactory:()=>"extension"},{provide:Uk,useFactory:()=>"Glide extension"},{provide:Bk,useClass:zB},{provide:R0,useClass:Cy},{provide:Hk,useClass:Ey},{provide:L0,useClass:My},{provide:B0,useFactory:()=>WV()}],fX=[...XB,{provide:N0,useFactory:()=>{const n=new WB;return n.setIsLoggingEnabledByDefault(!1),n}},{provide:jk,useFactory:qB,deps:[Xg]},{provide:V0,useFactory:()=>window?.location?.host},{provide:$k,useFactory:YB,deps:[V0]}],hX=[{provide:_l,useClass:ny},{provide:Ao,useClass:wy},{provide:no,useClass:Mg},{provide:Ay,useClass:oy},{provide:Gr,useClass:ry},{provide:Vk,useFactory:()=>"snippet"},{provide:Uk,useFactory:()=>"Glide snippet"},{provide:Bk,useClass:zB},{provide:N0,useFactory:()=>{const n=new WB;return n.setIsLoggingEnabledByDefault(!1),n}},{provide:R0,useClass:Sy},{provide:Hk,useClass:Iy},{provide:L0,useClass:Dy},{provide:V0,useFactory:()=>window?.location?.host},{provide:$k,useFactory:YB,deps:[V0]},{provide:jk,useFactory:qB,deps:[Xg]},{provide:B0,useFactory:()=>PY("localStorage")}];class Oo{constructor(){this.messageService=C(Ao)}handleEvent(e){var t=this;return g(function*(){yield t.messageService.handleFlowEvent({flowEvent:e})})()}stopProcessingFlowsByType(e){var t=this;return g(function*(){yield t.messageService.stopProcessingFlowsByType(e)})()}startUserGuidedTourById(e){this.messageService.startUserGuidedTourById(e)}startUserGuidedTourByName(e){this.messageService.startUserGuidedTourByName(e)}toggleMenu(){this.messageService.requestToggleMenu()}startUserGuidedTourByGuid(e){this.messageService.startUserGuidedTourByGuid(e)}setMenuState(e){var t=this;return g(function*(){return yield t.messageService.setMenuState(e)})()}changeMenuPlacement(e){var t=this;return g(function*(){return yield t.messageService.changeMenuPlacement(e)})()}changeLang(e){var t=this;return g(function*(){return t.messageService.changeLang(e)})()}static{this.\u0275fac=function(t){return new(t||Oo)}}static{this.\u0275prov=F({token:Oo,factory:Oo.\u0275fac,providedIn:"root"})}}class zr{constructor(){this.contentSideStoreService=C(xn),this.messageService=C(Ao),this.logger=C(Be)}sendAnalyticEvent(e){const{flowId:t,flowItemInternalId:o,analyticsEventType:r,systemFlowActionKindId:i,analyticsTitle:s,details:a,flow:c,originator:d,tabInfo:f}=e;(r!==st.AutoStart?eB([this.contentSideStoreService.activeFlows$,this.contentSideStoreService.activeTour$]).pipe(Sd(1),vi(([y,m])=>{const T=[...y,m].filter(Boolean).find(x=>x.flow?.id===t),M=T?.flow,O=T?.originator;return ma({flow:M,originator:O})})):ma({flow:c,originator:d})).pipe(Sd(1)).subscribe(({flow:y,originator:m})=>{!y||"user"!==m||this.messageService.sendAnalyticsEvent(this.createAnalyticEvent({flow:y,flowItemInternalId:o,analyticsEventType:r,systemFlowActionKindId:i,analyticsTitle:s,details:a,siteUrl:f?.url}))})}createAnalyticEvent(e){const{flow:t,flowItemInternalId:o,analyticsEventType:r,systemFlowActionKindId:i,analyticsTitle:s,details:a,siteUrl:c}=e,{id:d,name:f,systemFlowType:p}=t;return{siteUrl:c||window.location.href,systemFlowId:d,systemFlowName:f,systemFlowType:p,systemFlowActionKindId:i,systemFlowActionInternalId:o,title:s,eventTypeId:r,details:this.prepareDetails({details:a})}}prepareDetails(e){if(!e.details)return null;try{const t=this.populateDetails(e);return JSON.stringify(t)}catch(t){return this.logger.warn(t),null}}populateDetails(e){const{details:t}=e;if("runFlow"===t.type){const o=this.contentSideStoreService.getFlowById({id:t.flowId});if(o)return{...t,flowName:o.name,flowType:o.systemFlowType}}else if("toggleMenu"===t.type){const o=this.contentSideStoreService.getFlowsByType(Te.Menu)[0];if(o)return{...t,flowId:o.id,flowName:o.name,flowType:o.systemFlowType,flowItemId:null}}else if("visitButton"===t.type){const o=t.action.type===hy.Menu,r=o?this.contentSideStoreService.getFlowsByType(Te.Menu)[0]:this.contentSideStoreService.getFlowByGuid({guid:t.action.guideTourId});if(r)return{...t,type:o?"toggleMenu":"runFlow",flowId:r.id,flowName:r.name,flowType:r.systemFlowType,flowItemId:o?null:t.action.guideTourStepId}}return t}static{this.\u0275fac=function(t){return new(t||zr)}}static{this.\u0275prov=F({token:zr,factory:zr.\u0275fac,providedIn:"root"})}}const gX={[oe.HandleAnIntent]:{title:"Skill",titleEditMode:"Build skill from here",titleViewMode:"Dialog starts here"},[oe.Step]:{title:"Step"},[oe.Navigation]:{title:"Navigation"},[oe.PopUp]:{title:oe.PopUp},[oe.Survey]:{title:oe.Survey},[oe.Ruleset]:{title:oe.Ruleset},[oe.WaitForTime]:{title:"Time delay"},[oe.Branching]:{title:"Branching"},[oe.WaitForRuleset]:{title:"Time delay for Ruleset"},[oe.AttachTo]:{title:"Attach to"},[oe.ForceScroll]:{title:"Force scroll"},[oe.Interaction]:{title:"Interaction"},[oe.GlideVariable]:{title:"Glide variable"},[oe.LoopForEach]:{title:"For each",content:{labels:{items:"Items property"}}},[oe.Resource]:{title:oe.Resource},[oe.Toast]:{title:"Toast"}};class Oy{constructor(){this.logger=C(Be)}getAllStepsFromGTAsOptions(e){if(!e.dataFlow)return[];try{const o=JSON.parse(e.dataFlow)?.actions||[],r=[],i=(s,a=!1)=>{s.forEach(c=>{const d=c.customTitle||gX[c.kind]?.title;if(r.push({id:c.id,name:Ug(d),isChild:a}),c.kind===oe.Step&&(c.metaData.cases||[]).forEach(p=>{p?.actions&&p.actions.length>0&&i(p.actions,!0)}),c.kind===oe.Branching){const f=c.cases||[];c?.default&&c.default.length>0&&i(c.default,!0),f.forEach(p=>{p?.actions&&p.actions.length>0&&i(p.actions,!0)})}})};return i(o,!1),r}catch(t){return this.logger.error("Failed to parse dataFlow:",t),[]}}getAllStepsIdsFromGuideTour(e){if(!e?.length)return[];try{const t=[],o=r=>{r.forEach(i=>{const s=i.data;if(t.push(s.id),s.kind===oe.Step&&(s.cases||[]).forEach(c=>{c?.actions&&c.actions.length>0&&o(c.actions)}),s.kind===oe.Branching){const a=s.cases||[];s?.default&&s.default.length>0&&o(s.default),a.forEach(c=>{c?.actions&&c.actions.length>0&&o(c.actions)})}})};return o(e),t}catch(t){return this.logger.error("Failed to get Ids from DataFlowItem:",t),[]}}static{this.\u0275fac=function(t){return new(t||Oy)}}static{this.\u0275prov=F({token:Oy,factory:Oy.\u0275fac,providedIn:"root"})}}function _X(n,e){const t=n.dataFlow.items.find(o=>o.data?.id===e);if(t)return function mX(n){switch(n){case oe.Step:return At.Step;case oe.Navigation:case oe.ManualNavigation:return At.Navigation;case oe.PopUp:return At.PopUp;case oe.Survey:return At.Survey;case oe.WaitForTime:return At.WaitForTime;case oe.WaitForRuleset:return At.WaitForRule;case oe.Branching:case oe.IfCondition:return At.Branching;case oe.AttachTo:return At.AttachTo;case oe.Resource:return At.Resource;case oe.Toast:return At.Toast;default:return}}(t.data.kind)}const vX=5*Cd.Second,yX={[ko.XPathNotFound]:{defaultMessage:vV,stateMessageKey:"messageXPathNotFound"},[ko.HiddenDueToResolution]:{defaultMessage:bV,stateMessageKey:"messageResolution"}};class Ud{constructor(){this.messageService=C(Ao),this.toastrService=C(Dd),this.contentSideStoreService=C(xn)}get state(){return this.contentSideStoreService.getState()}notifyXPathNotFound(e){this.showToast(ko.XPathNotFound,pl.Warn),this.prepareAndSendAlert(ko.XPathNotFound,e)}notifyHiddenDueToResolution(){this.showToast(ko.HiddenDueToResolution,pl.Warn),this.prepareAndSendAlert(ko.HiddenDueToResolution)}notifyAttachedLinkContentIsUnavailable(e){this.prepareAndSendAlert(ko.AttachedLinkContentIsUnavailable,e)}showToast(e,t=pl.Warn){const o=this.contentSideStoreService.getState();if(!o.isErrorsOn)return;const r=yX[e];if(!r)return;const s={message:o[r.stateMessageKey]??r.defaultMessage,isCloseIcon:!0,preventDuplicates:!0};this.toastrService.show(t,s,vX)}prepareAndSendAlert(e,t){const o=this.prepareEvent(e,t);this.messageService.sendAlertEvent(o)}prepareEvent(e,t){let o={siteUrl:window.location.href,environmentId:this.state.environmentId,systemId:this.state.systemId,errorType:null,systemFlowId:null,systemFlowName:null,systemFlowType:null,systemFlowActionKindId:null,systemFlowActionInternalId:null,details:null};if(e===ko.XPathNotFound||e===ko.AttachedLinkContentIsUnavailable){const{flowId:r,flowItemId:i,flowItemType:s}=t,a=this.contentSideStoreService.getActiveTour(),c=a?.flow?.id===r?a.flow:this.contentSideStoreService.getFlowById({id:r});if(o={...o,errorType:e,details:this.prepareDetails(e,t)},c&&(o={...o,systemFlowId:c.id,systemFlowName:c.name,systemFlowType:c.systemFlowType},i)){const d=s??_X(c,i);o={...o,systemFlowActionKindId:d,systemFlowActionInternalId:i}}}return e===ko.HiddenDueToResolution&&(o={...o,errorType:ko.HiddenDueToResolution,details:this.prepareDetails(ko.HiddenDueToResolution,t)}),o}prepareDetails(e,t){let o=null;if(e===ko.XPathNotFound){const{xpath:r}=t;o={xpath:r}}if(e===ko.HiddenDueToResolution&&(o=(()=>{const n=navigator.userAgent,e="userAgentData"in navigator?navigator.userAgentData:void 0;let t="Unknown",o="";if(e?.brands?.length){const p=e.brands.find(y=>!y.brand.toLowerCase().includes("not"));p&&(t=p.brand,o=p.version)}else/edg/i.test(n)?t="Edge":/chrome|crios/i.test(n)?t="Chrome":/firefox|fxios/i.test(n)?t="Firefox":/safari/i.test(n)&&(t="Safari");const r=e?.platform??navigator.platform??"Unknown",i=e?.mobile??/Mobi|Android|iPhone|iPod/i.test(n);let s="desktop";i?s=/iPad|Tablet/i.test(n)?"tablet":"mobile":/iPad/i.test(n)&&(s="tablet");const a=window.devicePixelRatio||1;return{browser:t,browserVersion:o,platform:r,deviceType:s,isMobile:i,userAgent:n,inferredZoom:Math.round(window.outerWidth/window.innerWidth*100),devicePixelRatio:a,resolution:{width:window.innerWidth,height:window.innerHeight}}})()),e===ko.AttachedLinkContentIsUnavailable){const{linkUrl:r}=t;o={linkUrl:r}}return o?JSON.stringify(o):null}static{this.\u0275fac=function(t){return new(t||Ud)}}static{this.\u0275prov=F({token:Ud,factory:Ud.\u0275fac,providedIn:"root"})}}class Hd{constructor(){var e=this;this.actionProtocol="glide",this.actionOrigin=this.actionProtocol,this.contentSideStoreService=C(xn),this.clientSideAnalyticService=C(zr),this.eventService=C(Oo),this.logger=C(Be),this.flowStepsService=C(Oy),this.fileDownloadService=C(Hk),this.alertsTrackerService=C(Ud),this.linkClickListener=function(){var t=g(function*(o){const i=o.target?.closest("a")?.href;if(!i||!e.isActionUrl(i))return;o.preventDefault(),o.stopPropagation();const s=e.getQueryParams(i);yield e.performActionByParams(s,i)});return function(o){return t.apply(this,arguments)}}()}init(){this.initLinkClickListeners()}createActionUrl(e,t){const o=new URLSearchParams({name:e,...t});return`${this.actionProtocol}://actions?${o.toString()}`}initLinkClickListeners(){this.initHostDomLinkClickListeners(),this.initShadowDomLinkClickListeners()}removeLinkClickListeners(){this.removeHostShadowDomLinkClickListeners(),this.removeHostShadowDomLinkClickListeners()}getActionParamsByUrl(e){return this.isActionUrl(e)?this.getQueryParams(e):{}}enrichHtmlActionUrlsWithQueryParams(e,t){const o=document.createElement("div");return o.innerHTML=e,Array.from(o.getElementsByTagName("a")).filter(i=>this.isActionUrl(i.getAttribute("href"))).forEach(i=>{const s=i.getAttribute("href");if(!s)return;const a=this.isEncodedURI(s)?s:encodeURI(s),[c,d]=a.split("?"),f=new URLSearchParams(d);Object.entries(t).forEach(([y,m])=>{f.set(y,m)});const p=`${c}?${f.toString()}`;i.setAttribute("href",p),i.removeAttribute("title")}),o.innerHTML}isActionUrl(e=""){return e.toLowerCase().startsWith(this.actionOrigin)}getQueryParams(e=""){const t=new URL(e),o={};return t.searchParams.forEach((r,i)=>{o[i]=r}),o}performActionByParams(){var e=this;return g(function*(t={},o){const{name:r,...i}=t;switch(r){case"runGuidedTour":return yield e.performActionRunGuidedTour(i,o);case"downloadPdf":return yield e.performDownloadPdf(i);default:e.logger.log(`No implementation for action name: ${r}`)}}).apply(this,arguments)}performActionRunGuidedTour(e,t){var o=this;return g(function*(){const{guidedTourId:r}=e;return ck(r)?o.performActionRunGuidedTourByNumericId(e,t):o.performActionRunGuidedTourByGuid(e,t)})()}performDownloadPdf(e){var t=this;return g(function*(){yield t.fileDownloadService.requestDownloadPdf(e)})()}performActionRunGuidedTourByNumericId(e,t){var o=this;return g(function*(){const{guidedTourId:r,guidedTourStepId:i,flowId:s,flowItemId:a}=e,c=parseInt(r,10),d=parseInt(s,10),f=o.contentSideStoreService.getFlowById({id:c});if(!f)return yield o.showUnpublishWarning({guidedTourId:c,guidedTourStepId:i,flowId:d,flowItemId:a}),void o.alertsTrackerService.notifyAttachedLinkContentIsUnavailable({flowId:d,flowItemId:a,linkUrl:t});const p=o.flowStepsService.getAllStepsIdsFromGuideTour(f?.dataFlow.items),y=p.includes(i),m=y?i:p[0];y||o.logger.warn("Step ID not found or incorrect:",r,i,s),(!m||isNaN(c)||isNaN(d))&&o.logger.warn("Wrong parameters for run guided tour action:",r,m,s),m&&!isNaN(c)?(o.trackAnalytics({guidedTourId:c,guidedTourStepId:m,flowId:d||null,flowItemId:a}),yield o.eventService.handleEvent({type:Nt.RunTour,flowId:d||null,flowItemId:a||null,action:{type:zi.RunFlow,payload:{flowId:c,startFromStepId:m,runFlowTriggerType:Gi.LauncherLink}}})):o.alertsTrackerService.notifyAttachedLinkContentIsUnavailable({flowId:d,flowItemId:a,linkUrl:t})})()}trackAnalytics(e){const{guidedTourId:t,guidedTourStepId:o,flowId:r,flowItemId:i}=e;this.clientSideAnalyticService.sendAnalyticEvent({flowId:r,flowItemInternalId:i,analyticsEventType:st.UrlAction,systemFlowActionKindId:null,analyticsTitle:"UrlAction",details:{type:"runFlow",flowId:t,flowItemId:o}})}initShadowDomLinkClickListeners(){const e=document.querySelector(va)?.shadowRoot;e&&e.addEventListener("click",this.linkClickListener)}removeShadowDomLinkClickListeners(){const e=document.querySelector(va)?.shadowRoot;e&&e.removeEventListener("click",this.linkClickListener)}initHostDomLinkClickListeners(){document.addEventListener("click",this.linkClickListener)}removeHostShadowDomLinkClickListeners(){document.removeEventListener("click",this.linkClickListener)}performActionRunGuidedTourByGuid(e,t){var o=this;return g(function*(){const{guidedTourId:r,guidedTourStepId:i,flowId:s,flowItemId:a}=e,c=parseInt(s,10);(!r||isNaN(c))&&o.logger.warn("Wrong parameters for run guided tour action:",r,i,s);const d=o.contentSideStoreService.getFlowByGuid({guid:r}),f=d?.id;if(!d)return yield o.showUnpublishWarning({guidedTourId:f,guidedTourStepId:i,flowId:c,flowItemId:a}),void o.alertsTrackerService.notifyAttachedLinkContentIsUnavailable({flowId:c,flowItemId:a,linkUrl:t});o.trackAnalytics({guidedTourId:f,guidedTourStepId:i,flowId:c||null,flowItemId:a}),yield o.eventService.handleEvent({type:Nt.RunTourByGuid,flowId:c||null,flowItemId:a||null,action:{type:zi.RunFlow,payload:{flowGuid:r,startFromStepId:i,runFlowTriggerType:Gi.LauncherLink}}})})()}showUnpublishWarning(e){var t=this;return g(function*(){const{guidedTourId:o,guidedTourStepId:r,flowId:i}=e;return t.logger.error("Guided tour is unavailable:",o,r,i),yield t.eventService.handleEvent({type:Nt.Failed,flowId:o,action:{type:zi.ShowUnpublishWarningToaster}})})()}isEncodedURI(e){try{return decodeURIComponent(e)!==e}catch{return!1}}static{this.\u0275fac=function(t){return new(t||Hd)}}static{this.\u0275prov=F({token:Hd,factory:Hd.\u0275fac,providedIn:"root"})}}let QB=null;function vl(){return QB}class wX{}class Qg{historyGo(e){throw new Error("")}static \u0275fac=function(t){return new(t||Qg)};static \u0275prov=F({token:Qg,factory:()=>C(Py),providedIn:"platform"})}new de("");class Py extends Qg{_location;_history;_doc=C(_o);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vl().getBaseHref(this._doc)}onPopState(e){const t=vl().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=vl().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,t,o){this._history.pushState(e,t,o)}replaceState(e,t,o){this._history.replaceState(e,t,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(t){return new(t||Py)};static \u0275prov=F({token:Py,factory:()=>new Py,providedIn:"platform"})}function Gk(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function yl(n){return n&&"?"!==n[0]?`?${n}`:n}class jd{historyGo(e){throw new Error("")}static \u0275fac=function(t){return new(t||jd)};static \u0275prov=F({token:jd,factory:()=>C(Fy),providedIn:"root"})}const JB=new de("");class Fy extends jd{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,t){super(),this._platformLocation=e,this._baseHref=t??this._platformLocation.getBaseHrefFromDOM()??C(_o).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Gk(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+yl(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${t}${o}`:t}pushState(e,t,o,r){const i=this.prepareExternalUrl(o+yl(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,o,r){const i=this.prepareExternalUrl(o+yl(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(t){return new(t||Fy)(L(Qg),L(JB,8))};static \u0275prov=F({token:Fy,factory:Fy.\u0275fac,providedIn:"root"})}class U0 extends jd{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,t){super(),this._platformLocation=e,null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const t=this._platformLocation.hash??"#";return t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Gk(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,o,r){const i=this.prepareExternalUrl(o+yl(r))||this._platformLocation.pathname;this._platformLocation.pushState(e,t,i)}replaceState(e,t,o,r){const i=this.prepareExternalUrl(o+yl(r))||this._platformLocation.pathname;this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(t){return new(t||U0)(L(Qg),L(JB,8))};static \u0275prov=F({token:U0,factory:U0.\u0275fac})}var Ry,$d,Yo,jt,Wr;!function(n){n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific"}(Ry||(Ry={})),function(n){n[n.Zero=0]="Zero",n[n.One=1]="One",n[n.Two=2]="Two",n[n.Few=3]="Few",n[n.Many=4]="Many",n[n.Other=5]="Other"}($d||($d={})),function(n){n[n.Format=0]="Format",n[n.Standalone=1]="Standalone"}(Yo||(Yo={})),function(n){n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short"}(jt||(jt={})),function(n){n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full"}(Wr||(Wr={}));var tU;!function(n){n[n.Sunday=0]="Sunday",n[n.Monday=1]="Monday",n[n.Tuesday=2]="Tuesday",n[n.Wednesday=3]="Wednesday",n[n.Thursday=4]="Thursday",n[n.Friday=5]="Friday",n[n.Saturday=6]="Saturday"}(tU||(tU={}));const AX=lR;class Zg{static \u0275fac=function(t){return new(t||Zg)};static \u0275prov=F({token:Zg,factory:function(t){let o=null;return t?o=new t:(r=L(kc),o=new Vy(r)),o;var r},providedIn:"root"})}class Vy extends Zg{locale;constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(AX(t||this.locale)(e)){case $d.Zero:return"zero";case $d.One:return"one";case $d.Two:return"two";case $d.Few:return"few";case $d.Many:return"many";default:return"other"}}static \u0275fac=function(t){return new(t||Vy)(L(kc))};static \u0275prov=F({token:Vy,factory:Vy.\u0275fac})}const Kk=/\s+/,cU=[];class Ds{_ngEl;_renderer;initialClasses=cU;rawClass;stateMap=new Map;constructor(e,t){this._ngEl=e,this._renderer=t}set klass(e){this.initialClasses=null!=e?e.trim().split(Kk):cU}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Kk):e}ngDoCheck(){for(const t of this.initialClasses)this._updateState(t,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const t of e)this._updateState(t,!0);else if(null!=e)for(const t of Object.keys(e))this._updateState(t,!!e[t]);this._applyStateDiff()}_updateState(e,t){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==t&&(o.changed=!0,o.enabled=t),o.touched=!0):this.stateMap.set(e,{enabled:t,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const t=e[0],o=e[1];o.changed?(this._toggleClass(t,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(t,!1),this.stateMap.delete(t)),o.touched=!1}}_toggleClass(e,t){(e=e.trim()).length>0&&e.split(Kk).forEach(o=>{t?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static \u0275fac=function(t){return new(t||Ds)(ne(ct),ne(fr))};static \u0275dir=xe({type:Ds,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}class sQ{$implicit;ngForOf;index;count;constructor(e,t,o,r){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class wl{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,t,o){this._viewContainer=e,this._template=t,this._differs=o}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=this._viewContainer;e.forEachOperation((o,r,i)=>{if(null==o.previousIndex)t.createEmbeddedView(this._template,new sQ(o.item,this._ngForOf,-1,-1),null===i?void 0:i);else if(null==i)t.remove(null===r?void 0:r);else if(null!==r){const s=t.get(r);t.move(s,i),dU(s,o)}});for(let o=0,r=t.length;o<r;o++){const s=t.get(o).context;s.index=o,s.count=r,s.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{dU(t.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,t){return!0}static \u0275fac=function(t){return new(t||wl)(ne(Vi),ne(_s),ne(dl))};static \u0275dir=xe({type:wl,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}function dU(n,e){n.context.$implicit=e.item}class zn{_viewContainer;_context=new aQ;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,t){this._viewContainer=e,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){fU(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){fU(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,t){return!0}static \u0275fac=function(t){return new(t||zn)(ne(Vi),ne(_s))};static \u0275dir=xe({type:zn,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}class aQ{$implicit=null;ngIf=null}function fU(n,e){if(n&&!n.createEmbeddedView)throw new J(2020,!1)}class $c{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,t,o){this._ngEl=e,this._differs=t,this._renderer=o}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[o,r]=e.split("."),i=-1===o.indexOf("-")?void 0:ll.DashCase;null!=t?this._renderer.setStyle(this._ngEl.nativeElement,o,r?`${t}${r}`:t,i):this._renderer.removeStyle(this._ngEl.nativeElement,o,i)}_applyChanges(e){e.forEachRemovedItem(t=>this._setStyle(t.key,null)),e.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),e.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}static \u0275fac=function(t){return new(t||$c)(ne(ct),ne(pa),ne(fr))};static \u0275dir=xe({type:$c,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}new class cQ{createSubscription(e,t){return e.then(o=>t?.(o),o=>{throw o}),{unsubscribe:()=>{t=null}}}dispose(e){e.unsubscribe()}},new class lQ{createSubscription(e,t){return rn(()=>e.subscribe({next:t,error:o=>{throw o}}))}dispose(e){rn(()=>e.unsubscribe())}};new de(""),new de("");class Kg{static \u0275fac=function(t){return new(t||Kg)};static \u0275mod=gi({type:Kg});static \u0275inj=Ro({})}const rI=new de("");class ep{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,t){this._zone=t,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,t,o,r){return this._findPluginFor(t).addEventListener(e,t,o,r)}getZone(){return this._zone}_findPluginFor(e){let t=this._eventNameToPlugin.get(e);if(t)return t;if(t=this._plugins.find(r=>r.supports(e)),!t)throw new J(5101,!1);return this._eventNameToPlugin.set(e,t),t}static \u0275fac=function(t){return new(t||ep)(L(rI),L(ft))};static \u0275prov=F({token:ep,factory:ep.\u0275fac})}class oA{_doc;constructor(e){this._doc=e}manager}const iI="ng-app-id";function gU(n){for(const e of n)e.remove()}function pU(n,e){const t=e.createElement("style");return t.textContent=n,t}function rA(n,e){const t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}class tp{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,t,o,r={}){this.doc=e,this.appId=t,this.nonce=o,this.isServer=cB(r),function vQ(n,e,t,o){const r=n.head?.querySelectorAll(`style[${iI}="${e}"],link[${iI}="${e}"]`);if(r)for(const i of r)i.removeAttribute(iI),i instanceof HTMLLinkElement?o.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&t.set(i.textContent,{usage:0,elements:[i]})}(e,t,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,t){for(const o of e)this.addUsage(o,this.inline,pU);t?.forEach(o=>this.addUsage(o,this.external,rA))}removeStyles(e,t){for(const o of e)this.removeUsage(o,this.inline);t?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,t,o){const r=t.get(e);r?r.usage++:t.set(e,{usage:1,elements:[...this.hosts].map(i=>this.addElement(i,o(e,this.doc)))})}removeUsage(e,t){const o=t.get(e);o&&(o.usage--,o.usage<=0&&(gU(o.elements),t.delete(e)))}ngOnDestroy(){for(const[,{elements:e}]of[...this.inline,...this.external])gU(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(const[t,{elements:o}]of this.inline)o.push(this.addElement(e,pU(t,this.doc)));for(const[t,{elements:o}]of this.external)o.push(this.addElement(e,rA(t,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,t){return this.nonce&&t.setAttribute("nonce",this.nonce),this.isServer&&t.setAttribute(iI,this.appId),e.appendChild(t)}static \u0275fac=function(t){return new(t||tp)(L(_o),L(fs),L(x_,8),L(mh))};static \u0275prov=F({token:tp,factory:tp.\u0275fac})}const iA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sA=/%COMP%/g,wQ="_nghost-%COMP%",CQ="_ngcontent-%COMP%",TQ=new de("",{providedIn:"root",factory:()=>true});function _U(n,e){return e.map(t=>t.replace(sA,n))}class np{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,t,o,r,i,s,a,c=null,d=null){this.eventManager=e,this.sharedStylesHost=t,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=i,this.platformId=s,this.ngZone=a,this.nonce=c,this.tracingService=d,this.platformIsServer=cB(s),this.defaultRenderer=new aA(e,i,a,this.platformIsServer,this.tracingService)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;this.platformIsServer&&t.encapsulation===Br.ShadowDom&&(t={...t,encapsulation:Br.Emulated});const o=this.getOrCreateRenderer(e,t);return o instanceof yU?o.applyToHost(e):o instanceof lA&&o.applyStyles(),o}getOrCreateRenderer(e,t){const o=this.rendererByCompId;let r=o.get(t.id);if(!r){const i=this.doc,s=this.ngZone,a=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer,p=this.tracingService;switch(t.encapsulation){case Br.Emulated:r=new yU(a,c,t,this.appId,d,i,s,f,p);break;case Br.ShadowDom:return new DQ(a,c,e,t,i,s,this.nonce,f,p);default:r=new lA(a,c,t,d,i,s,f,p)}o.set(t.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(t){return new(t||np)(L(ep),L(tp),L(fs),L(TQ),L(_o),L(mh),L(ft),L(x_),L(_c,8))};static \u0275prov=F({token:np,factory:np.\u0275fac})}class aA{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,o,r,i){this.eventManager=e,this.doc=t,this.ngZone=o,this.platformIsServer=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(iA[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(vU(e)?e.content:e).appendChild(t)}insertBefore(e,t,o){e&&(vU(e)?e.content:e).insertBefore(t,o)}removeChild(e,t){t.remove()}selectRootElement(e,t){let o="string"==typeof e?this.doc.querySelector(e):e;if(!o)throw new J(-5104,!1);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,r){if(r){t=r+":"+t;const i=iA[r];i?e.setAttributeNS(i,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const r=iA[o];r?e.removeAttributeNS(r,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,r){r&(ll.DashCase|ll.Important)?e.style.setProperty(t,o,r&ll.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&ll.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){null!=e&&(e[t]=o)}setValue(e,t){e.nodeValue=t}listen(e,t,o,r){if("string"==typeof e&&!(e=vl().getGlobalEventTarget(this.doc,e)))throw new J(5102,!1);let i=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,t,i)),this.eventManager.addEventListener(e,t,i,r)}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function vU(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class DQ extends aA{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,o,r,i,s,a,c,d){super(e,i,s,c,d),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=r.styles;f=_U(r.id,f);for(const y of f){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=y,this.shadowRoot.appendChild(m)}const p=r.getExternalStyles?.();if(p)for(const y of p){const m=rA(y,i);a&&m.setAttribute("nonce",a),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class lA extends aA{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,o,r,i,s,a,c,d){super(e,i,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let f=o.styles;this.styles=d?_U(d,f):f,this.styleUrls=o.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}class yU extends lA{contentAttr;hostAttr;constructor(e,t,o,r,i,s,a,c,d){const f=r+"-"+o.id;super(e,t,o,i,s,a,c,d,f),this.contentAttr=function IQ(n){return CQ.replace(sA,n)}(f),this.hostAttr=function EQ(n){return wQ.replace(sA,n)}(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class cA extends wX{supportsDOMEvents=!0;static makeCurrent(){!function bX(n){QB??=n}(new cA)}onAndCancel(e,t,o,r){return e.addEventListener(t,o,r),()=>{e.removeEventListener(t,o,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function xQ(){return Zy=Zy||document.head.querySelector("base"),Zy?Zy.getAttribute("href"):null}();return null==t?null:function kQ(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Zy=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return aB(document.cookie,e)}}let Zy=null;class Jy{build(){return new XMLHttpRequest}static \u0275fac=function(t){return new(t||Jy)};static \u0275prov=F({token:Jy,factory:Jy.\u0275fac})}class Ky extends oA{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,o,r){return e.addEventListener(t,o,r),()=>this.removeEventListener(e,t,o,r)}removeEventListener(e,t,o,r){return e.removeEventListener(t,o,r)}static \u0275fac=function(t){return new(t||Ky)(L(_o))};static \u0275prov=F({token:Ky,factory:Ky.\u0275fac})}const bU=["alt","control","meta","shift"],OQ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PQ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};class Ca extends oA{constructor(e){super(e)}supports(e){return null!=Ca.parseEventName(e)}addEventListener(e,t,o,r){const i=Ca.parseEventName(t),s=Ca.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vl().onAndCancel(e,i.domEventName,s,r))}static parseEventName(e){const t=e.toLowerCase().split("."),o=t.shift();if(0===t.length||"keydown"!==o&&"keyup"!==o)return null;const r=Ca._normalizeKey(t.pop());let i="",s=t.indexOf("code");if(s>-1&&(t.splice(s,1),i="code."),bU.forEach(c=>{const d=t.indexOf(c);d>-1&&(t.splice(d,1),i+=c+".")}),i+=r,0!=t.length||0===r.length)return null;const a={};return a.domEventName=o,a.fullKey=i,a}static matchEventFullKeyCode(e,t){let o=OQ[e.key]||e.key,r="";return t.indexOf("code.")>-1&&(o=e.code,r="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),bU.forEach(i=>{if(i!==o){(0,PQ[i])(e)&&(r+=i+".")}}),r+=o,r===t)}static eventCallback(e,t,o){return r=>{Ca.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>t(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}static \u0275fac=function(t){return new(t||Ca)(L(_o))};static \u0275prov=F({token:Ca,factory:Ca.\u0275fac})}function wU(n,e,t){return nW({rootComponent:n,platformRef:t?.platformRef,...CU(e)})}function CU(n){return{appProviders:[...IU,...n?.providers??[]],platformProviders:SU}}const SU=[{provide:mh,useValue:lB},{provide:Ku,useValue:function FQ(){cA.makeCurrent()},multi:!0},{provide:_o,useFactory:function RQ(){return function yD(n){D_=n}(document),document}}],TU=(U2(tW,"browser",SU),new de(""),[{provide:TT,useClass:class AQ{addToWindow(e){en.getAngularTestability=(o,r=!0)=>{const i=e.findTestabilityInTree(o,r);if(null==i)throw new J(5103,!1);return i},en.getAllAngularTestabilities=()=>e.getAllTestabilities(),en.getAllAngularRootElements=()=>e.getAllRootElements();en.frameworkStabilizers||(en.frameworkStabilizers=[]),en.frameworkStabilizers.push(o=>{const r=en.getAllAngularTestabilities();let i=r.length;const s=function(){i--,0==i&&o()};r.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(e,t,o){if(null==t)return null;return e.getTestability(t)??(o?vl().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}}},{provide:_N,useClass:gd,deps:[ft,pd,TT]},{provide:gd,useClass:gd,deps:[ft,pd,TT]}]),IU=[{provide:Am,useValue:"root"},{provide:di,useFactory:function NQ(){return new di}},{provide:rI,useClass:Ky,multi:!0,deps:[_o]},{provide:rI,useClass:Ca,multi:!0,deps:[_o]},np,tp,ep,{provide:dv,useExisting:np},{provide:uB,useClass:Jy},[]];class uA{constructor(){}static \u0275fac=function(t){return new(t||uA)};static \u0275mod=gi({type:uA});static \u0275inj=Ro({providers:[...IU,...TU],imports:[Kg,zT]})}class LQ extends gn{dispose(){this.next(null),this.complete()}}class op{constructor(){this.destroy$=new LQ}ngOnDestroy(){this.destroy$.dispose()}static{this.\u0275fac=function(t){return new(t||op)}}static{this.\u0275dir=xe({type:op})}}var EU;!function(n){n.Configuration="Configuration",n.Content="Content",n.Overlay="Overlay",n.Styling="CSS editor"}(EU||(EU={}));const rp=new m0(h0),VQ=rp;function sI(n,e=rp){return kn((t,o)=>{let r=null,i=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const d=i;i=null,o.next(d)}};function c(){const d=s+n,f=e.now();if(f<d)return r=this.schedule(void 0,d-f),void o.add(r);a()}t.subscribe(cn(o,d=>{i=d,s=e.now(),r||(r=e.schedule(c,n),o.add(r))},()=>{a(),o.complete()},void 0,()=>{i=r=null}))})}class Gc{constructor(e,t){this.domMutationService=e,this.domMutationOptions=t,this.clickEventBroadcast=new gn,this.mouseDownEventBroadcast=new gn,this.clickBodyHandler=o=>{this.broadcastClickEvent(o)},this.mouseDownBodyHandler=o=>{this.broadcastMouseDownEvent(o)},this.bodyMutations$=this.domMutationService.observe(document.body,this.domMutationOptions).pipe(sI(200),v0())}get clickBodyEventBroadcast$(){return this.clickEventBroadcast.asObservable()}get mouseDownBodyEventBroadcast$(){return this.mouseDownEventBroadcast.asObservable()}initBodyListeners(){document.body.addEventListener("click",this.clickBodyHandler,!0),document.body.addEventListener("mousedown",this.mouseDownBodyHandler,!0)}removeBodyListeners(){document.body.removeEventListener("click",this.clickBodyHandler),document.body.removeEventListener("mousedown",this.mouseDownBodyHandler)}broadcastClickEvent(e){this.clickEventBroadcast.next(e)}broadcastMouseDownEvent(e){this.mouseDownEventBroadcast.next(e)}static{this.\u0275fac=function(t){return new(t||Gc)(L(jk),L($k))}}static{this.\u0275prov=F({token:Gc,factory:Gc.\u0275fac,providedIn:"root"})}}class qr{get glAttachedToHost(){return this.attachedToHostElement()}constructor(){this.id=v(),this.flowId=v(),this.selector=v(null),this.overlayOpacity=v(0),this.position=v(),this.isScrollToElement=v(!0),this.description=v(""),this.note=v(""),this.attachedToHostElement=v(!1),this.configureMode=v(!1),this.name=v(),this.scrollService=C(Dg),this.messageService=C(Ao),this.logger=C(Be),this.supportPlayModeService=C(Gc),this.injector=C(We),this.contentTransformerService=C(ml),this.cdr=C(Ac),this.contentSideStoreService=C(xn),this.normalizedDescription=ue(""),this.normalizedNote=ue(""),this.element=G(()=>{this.mutations();const e=this.selector();return this.getElementBySelector(e)}),this.display=G(()=>!RB(this.element())),this.analyticsAllowed=G(()=>!(!this.flowId()||!this.id())),this.mutations=vn(this.supportPlayModeService.bodyMutations$),this.handleElementChange(),this.handleSelectorChange(),this.handleDescriptionChange(),this.handleNoteChange()}handleFailed(e){return g(function*(){})()}scheduleElementExistsCheck(e){var t=this;const{selector:o,timeoutMs:r}=e,i=setTimeout(g(function*(){t.getElementBySelector(o)||(t.logger.warn(`Element not found after ${e.timeoutMs/br} seconds, xpath:`,o.value),yield t.handleFailed("noElement"))}),r);return()=>clearTimeout(i)}handleDescriptionChange(){return Ve(()=>{this.contentTransformerService.transformSmartNudgeDescription({content:this.description(),flowId:this.flowId(),flowItemId:this.id()}).then(e=>{this.normalizedDescription.set(e)})},{injector:this.injector})}handleNoteChange(){var e=this;return Ve(()=>{g(function*(){const t=yield e.contentTransformerService.transformSmartNudgeDescription({content:e.note(),flowId:e.flowId(),flowItemId:e.id()});e.normalizedNote.set(t)})()},{injector:this.injector})}handleElementChange(){return Ve(()=>{const e=this.element();e&&(this.scrollToElement(e),this.messageService.emitSelectorValid({elementBoundingClientRect:e.getBoundingClientRect()}))},{injector:this.injector})}handleSelectorChange(){return Ve(e=>{const t=this.onSelectorChanged(this.selector());e(()=>{t&&t()})},{injector:this.injector})}onSelectorChanged(e){if(!this.getElementBySelector(e)&&e?.value)return this.logger.warn("Element not found on first try, xpath:",e.value),this.messageService.emitSelectorInvalid(),this.scheduleElementExistsCheck({selector:e,timeoutMs:5e3})}scrollToElement(e){this.isScrollToElement()&&this.scrollService.scrollToElement(e)}getElementBySelector(e){if(!e)return null;const{type:t,value:o}=e;return t===yr.XPath&&o?Rt.getElementByXPath(e.value):null}static{this.\u0275fac=function(t){return new(t||qr)}}static{this.\u0275dir=xe({type:qr,hostVars:2,hostBindings:function(t,o){2&t&&Qe("gl-attached-to-host",o.glAttachedToHost)},inputs:{id:[1,"id"],flowId:[1,"flowId"],selector:[1,"selector"],overlayOpacity:[1,"overlayOpacity"],position:[1,"position"],isScrollToElement:[1,"isScrollToElement"],description:[1,"description"],note:[1,"note"],attachedToHostElement:[1,"attachedToHostElement"],configureMode:[1,"configureMode"],name:[1,"name"]}})}}function zc(n,e,t){return`A${n} ${n} 0 0 1 ${e} ${t}`}function Wc(n,e){const{x:t,y:o,width:r,height:i}=n;return new DOMRect(t-e,o-e,r+2*e,i+2*e)}function MU(n,e){const{x:t,y:o,width:r,height:i}=Wc(n,e);return`M${t} ${o+e} ${zc(e,t+e,o)} H${t+r-e} ${zc(e,t+r,o+e)} V${o+i-e} ${zc(e,t+r-e,o+i)} H${t+e} ${zc(e,t,o+i-e)} Z`}function fA(n,e){let t;return function(...o){t&&clearTimeout(t),t=setTimeout(()=>n.apply(this,o),e)}}class Gd{get win(){return window}addEventListener(e,t,o){return this.win.addEventListener(e,t,o)}removeEventListener(e,t,o){return this.win.removeEventListener(e,t,o)}get innerWidth(){return this.win.innerWidth}get innerHeight(){return this.win.innerHeight}get scrollX(){return this.win.scrollX}get scrollY(){return this.win.scrollY}static{this.\u0275fac=function(t){return new(t||Gd)}}static{this.\u0275prov=F({token:Gd,factory:Gd.\u0275fac,providedIn:"root"})}}class ip{constructor(e){this.config=e,this.window=C(Gd),this._scrollY=ue(0),this.scrollY=this._scrollY.asReadonly(),this.onScroll=function jQ(n,e){let t=0;return function(...o){const r=Date.now();r-t>=e&&(t=r,n.apply(this,o))}}(()=>{this._scrollY.set(this.window.scrollY)},this.config.throttleMs),this.onScroll(),this.window.addEventListener("scroll",this.onScroll,{passive:!0})}ngOnDestroy(){this.window.removeEventListener("scroll",this.onScroll)}static{this.\u0275fac=function(t){hF()}}static{this.\u0275prov=F({token:ip,factory:ip.\u0275fac})}}class aI{constructor(){this.windowScrollService=C(ip),this.targetDimensions=v(new DOMRect(0,0,0,0)),this.scrollY=this.windowScrollService.scrollY,this.width=4,this.td=G(()=>{const e=this.targetDimensions(),t=this.scrollY();if(e){const{x:o,y:r,width:i,height:s}=e;return new DOMRect(o,r-t,i,s)}return e}),this.innerHeight=G(()=>this.td()?Wc(this.td(),this.width).height:0),this.innerWidth=G(()=>this.td()?Wc(this.td(),this.width).width:0),this.top=G(()=>this.td()?Wc(this.td(),this.width).y:0),this.left=G(()=>this.td()?Wc(this.td(),this.width).x:0),this.getViewBox=G(()=>{if(!this.td())return"";const{x:e,y:t,width:o,height:r}=Wc(this.td(),this.width);return`${e} ${t} ${o} ${r}`}),this.getOuterPath=G(()=>this.getFramePath(this.width-this.width/2*1+1)),this.getInnerPath=G(()=>this.getFramePath(this.width-this.width/2*2+1))}getFramePath(e){if(!this.td())return"";const t=MU(this.td(),e);return`${t} ${t}`}static{this.\u0275fac=function(t){return new(t||aI)}}static{this.\u0275cmp=$e({type:aI,selectors:[["ng-component"]],inputs:{targetDimensions:[1,"targetDimensions"]},features:[Ht([{provide:ip,useFactory:()=>new ip({throttleMs:20})}])],decls:3,vars:13,consts:[["xmlns","http://www.w3.org/2000/svg","xmlnsXlink","http://www.w3.org/1999/xlink","xmlSpace","preserve","version","1.1","preserveAspectRatio","xMinYMin slice",1,"gl-selection-frame"],["stroke","#000000"],["stroke","#FFFFFF"]],template:function(t,o){1&t&&(lc(),V(0,"svg",0),$(1,"path",1)(2,"path",2),j()),2&t&&($o("height",o.innerHeight())("width",o.innerWidth())("top",o.top())("left",o.left()),Mn("viewBox",o.getViewBox()),P(),Mn("d",o.getOuterPath())("stroke-width",o.width/2),P(),Mn("d",o.getInnerPath())("stroke-width",o.width/2))},styles:["svg.gl-selection-frame[_ngcontent-%COMP%]{fill-rule:evenodd;clip-rule:evenodd;z-index:100000;position:fixed;pointer-events:none}svg.gl-selection-frame[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{pointer-events:auto;cursor:auto}"]})}}var lI,DU,yi;!function(n){n.Row="Row",n.Column="column"}(lI||(lI={})),function(n){n.Start="start",n.Center="center",n.End="end"}(DU||(DU={})),function(n){n.Header="Header",n.Body="Body",n.Footer="Footer",n.Accordion="Accordion",n.Title="Title",n.TabName="TabName",n.AccordionName="AccordionName",n.EmptyState="EmptyState",n.Search="Search",n.Note="Note",n.SearchEmptyState="SearchEmptyState"}(yi||(yi={}));yi.Header,yi.Body,yi.Footer,yi.Accordion,yi.Title,yi.TabName,yi.AccordionName,yi.EmptyState,yi.Search,yi.SearchEmptyState,yi.Note;class cI{_doc;_dom;constructor(e){this._doc=e,this._dom=vl()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((o,r)=>(r&&o.push(this._getOrCreateElement(r,t)),o),[]):[]}getTag(e){return e&&this._doc.querySelector(`meta[${e}]`)||null}getTags(e){if(!e)return[];const t=this._doc.querySelectorAll(`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const o=this.getTag(t);return o?this._setMetaElementAttributes(e,o):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const i=this._parseSelector(e),s=this.getTags(i).filter(a=>this._containsAttributes(e,a))[0];if(void 0!==s)return s}const o=this._dom.createElement("meta");return this._setMetaElementAttributes(e,o),this._doc.getElementsByTagName("head")[0].appendChild(o),o}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(o=>t.setAttribute(this._getMetaKeyMap(o),e[o])),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(o=>t.getAttribute(this._getMetaKeyMap(o))===e[o])}_getMetaKeyMap(e){return qQ[e]||e}static \u0275fac=function(t){return new(t||cI)(L(_o))};static \u0275prov=F({token:cI,factory:cI.\u0275fac,providedIn:"root"})}const qQ={httpEquiv:"http-equiv"};class uI{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(t){return new(t||uI)(L(_o))};static \u0275prov=F({token:uI,factory:uI.\u0275fac,providedIn:"root"})}const ZQ={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0,doubletap:!0},hA=new de(""),PU=new de("");class eb{events=[];overrides={};options;buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const o in this.overrides)t.get(o).set(this.overrides[o]);return t}static \u0275fac=function(t){return new(t||eb)};static \u0275prov=F({token:eb,factory:eb.\u0275fac})}class tb extends oA{_config;_injector;loader;_loaderPromise=null;constructor(e,t,o,r){super(e),this._config=t,this._injector=o,this.loader=r}supports(e){return!(!ZQ.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader)}addEventListener(e,t,o){const r=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){this._loaderPromise=this._loaderPromise||r.runOutsideAngular(()=>this.loader());let i=!1,s=()=>{i=!0};return r.runOutsideAngular(()=>this._loaderPromise.then(()=>{window.Hammer?i||(s=this.addEventListener(e,t,o)):s=()=>{}}).catch(()=>{s=()=>{}})),()=>{s()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(e),s=function(a){r.runGuarded(function(){o(a)})};return i.on(t,s),()=>{i.off(t,s),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}static \u0275fac=function(t){return new(t||tb)(L(_o),L(hA),L(We),L(PU,8))};static \u0275prov=F({token:tb,factory:tb.\u0275fac})}class gA{static \u0275fac=function(t){return new(t||gA)};static \u0275mod=gi({type:gA});static \u0275inj=Ro({providers:[{provide:rI,useClass:tb,multi:!0,deps:[_o,hA,We,[new Of,PU]]},{provide:hA,useClass:eb}]})}class sp{static \u0275fac=function(t){return new(t||sp)};static \u0275prov=F({token:sp,factory:function(t){let o=null;return o=t?new(t||sp):L(nb),o},providedIn:"root"})}class nb extends sp{_doc;constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case hi.NONE:return t;case hi.HTML:return ua(t,"HTML")?fi(t):ZO(this._doc,String(t)).toString();case hi.STYLE:return ua(t,"Style")?fi(t):t;case hi.SCRIPT:if(ua(t,"Script"))return fi(t);throw new J(5200,!1);case hi.URL:return ua(t,"URL")?fi(t):qS(String(t));case hi.RESOURCE_URL:if(ua(t,"ResourceURL"))return fi(t);throw new J(5201,!1);default:throw new J(5202,!1)}}bypassSecurityTrustHtml(e){return function rj(n){return new J3(n)}(e)}bypassSecurityTrustStyle(e){return function ij(n){return new K3(n)}(e)}bypassSecurityTrustScript(e){return function sj(n){return new ej(n)}(e)}bypassSecurityTrustUrl(e){return function aj(n){return new tj(n)}(e)}bypassSecurityTrustResourceUrl(e){return function lj(n){return new nj(n)}(e)}static \u0275fac=function(t){return new(t||nb)(L(_o))};static \u0275prov=F({token:nb,factory:nb.\u0275fac,providedIn:"root"})}var Cl;!function(n){n[n.NoHttpTransferCache=0]="NoHttpTransferCache",n[n.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",n[n.I18nSupport=2]="I18nSupport",n[n.EventReplay=3]="EventReplay",n[n.IncrementalHydration=4]="IncrementalHydration"}(Cl||(Cl={}));new O1("19.2.15");var Wn,ln,bi;!function(n){n.HTML="html",n.STYLE="style",n.SCRIPT="script",n.URL="url",n.RESOURCE_URL="resourceUrl"}(Wn||(Wn={}));class rb{constructor(e){this.sanitizer=e}transform(e,t){switch(t){case Wn.HTML:return this.sanitizer.bypassSecurityTrustHtml(e);case Wn.STYLE:return this.sanitizer.bypassSecurityTrustStyle(e);case Wn.SCRIPT:return this.sanitizer.bypassSecurityTrustScript(e);case Wn.URL:return this.sanitizer.bypassSecurityTrustUrl(e);case Wn.RESOURCE_URL:return this.sanitizer.bypassSecurityTrustResourceUrl(e);default:throw new Error(`Unable to bypass security for invalid type: ${t}`)}}static{this.\u0275fac=function(t){return new(t||rb)(ne(sp,16))}}static{this.\u0275pipe=xo({name:"safe",type:rb,pure:!0})}}!function(n){n.Container="container",n.SmartNudgeIcon="icon",n.Title="title",n.Description="description",n.PopUp="pop-up",n.SmartNudge="nudge",n.Button="button",n.TopPart="top-part",n.Content="content",n.Note="note",n.Footer="footer",n.CancelButton="cancelButton",n.SubmitButton="submitButton",n.QuestionDescription="questionDescription",n.Menu="menu"}(ln||(ln={})),function(n){n.Container="container",n.Description="description",n.Title="title",n.SmartNudgeIcon="smart nudge icon",n.SmartNudge="smart nudge",n.Button="button",n.SurveyCancelButton="cancel button",n.SurveySubmitButton="submit button",n.SurveyTopPart="top part",n.Footer="footer",n.Menu="menu"}(bi||(bi={}));ln.Container,bi.Container,ln.SmartNudgeIcon,bi.SmartNudgeIcon,ln.SmartNudge,bi.SmartNudge,ln.Button,bi.Button,ln.Container,bi.Container,ln.TopPart,bi.SurveyTopPart,ln.Title,bi.Title,ln.Footer,bi.Footer,ln.CancelButton,bi.SurveyCancelButton,ln.SubmitButton,bi.SurveySubmitButton,ln.Container,bi.Container;const zd="Open Sans GL",FU="dds-gl-icon",NU="gl-open-sans-10",RU="gl-dds-icons-20";function ap(n,e,t,o,r="normal",i="normal",s="swap"){return`\n        @font-face {\n            font-family: "${n}";\n            src: local("${e}"), local("${t}"),\n            url('${o}.woff2') format('woff2'),\n            url('${o}.woff') format('woff');\n            font-weight: ${i};\n            font-style: ${r};\n            font-display: ${s};\n        }\n    `.trim()}function nZ(n){if(!document.head.textContent.includes(zd)){!function eZ(n){const e=jr.getFontsUrl(n);["OpenSans-Regular.woff2","OpenSans-SemiBold.woff2","OpenSans-Bold.woff2"].forEach(o=>{const r=document.createElement("link");r.setAttribute("rel","preload"),r.setAttribute("href",`${e}/${o}`),r.setAttribute("as","font"),r.setAttribute("type","font/woff2"),r.setAttribute("crossorigin",""),document.head.appendChild(r)})}(n);const e=document.createElement("style");e.textContent=function JQ(n){const e=jr.getFontsUrl(n);return`\n        ${ap(zd,"Open Sans Regular","OpenSans-Regular",`${e}/OpenSans-Regular`)}\n        ${ap(zd,"Open Sans Italic","OpenSans-Italic",`${e}/OpenSans-Italic`,"italic")}\n        ${ap(zd,"Open Sans SemiBold","OpenSans-SemiBold",`${e}/OpenSans-SemiBold`,"normal","600")}\n        ${ap(zd,"Open Sans SemiBold Italic","OpenSans-SemiBoldItalic",`${e}/OpenSans-SemiBoldItalic`,"italic","600")}\n        ${ap(zd,"Open Sans Bold","OpenSans-Bold",`${e}/OpenSans-Bold`,"normal","bold")}\n        ${ap(zd,"Open Sans Bold Italic","OpenSans-BoldItalic",`${e}/OpenSans-BoldItalic`,"italic","bold")}\n    `.trim()}(n),e.setAttribute("id",NU),document.head.appendChild(e)}}function oZ(n){if(!document.head.textContent.includes(FU)){!function tZ(n){const e=jr.getFontsUrl(n);[{name:"dds-icon.ttf?mup7ea",fontURL:e},{name:"glide.ttf?8at8ca",fontURL:`${e}/icons/fonts`}].forEach(o=>{const{name:r,fontURL:i}=o,s=document.createElement("link");s.setAttribute("rel","preload"),s.setAttribute("href",`${i}/${r}`),s.setAttribute("as","font"),s.setAttribute("type","font/ttf"),s.setAttribute("crossorigin",""),document.head.appendChild(s)})}(n);const e=document.createElement("style");e.textContent=function KQ(n){const e=jr.getFontsUrl(n);return`\n        @font-face {\n            font-family: "${FU}";\n            src: url('${e}/dds-icon.ttf?mup7ea') format('truetype'),\n            url('${e}/dds-icon.woff?mup7ea') format('woff'),\n            url('${e}/dds-icon.svg?mup7en#dds-icon-1') format('svg');\n            font-weight: normal;\n            font-style: normal;\n            font-display: block;\n        }\n\n        @font-face {\n            font-family: "glide";\n            src: url('${e}/icons/fonts/glide.ttf?8at8ca') format('truetype'),\n            url('${e}/icons/fonts/glide.woff?8at8ca') format('woff'),\n            url('${e}/icons/fonts/glide.svg?8at8ca#glide') format('svg');\n            font-weight: normal;\n            font-style: normal;\n            font-display: block;\n        }\n    `.trim()}(n),e.setAttribute("id",RU),document.head.appendChild(e)}}function LU(n,e,t=!1){if(!n||!e)return null;const{id:o,styling:r}=n,i=document.createElement("style");let s;if(s=t?document.head:document.getElementsByTagName(va)[0],s?.shadowRoot||t){const a=r.split("}").map(c=>c.trim()&&`${e} { \n ${c}} \n}`).join(" ");return i.textContent=a,i.setAttribute("id",o),t?s.appendChild(i):s.shadowRoot.appendChild(i),o}return null}function VU(n,e=!1){let t;if(t=e?document.head:document.getElementsByTagName(va)[0],t?.shadowRoot||e){const o=e?document.getElementById(n):t.shadowRoot.getElementById(n);o&&(e?t.removeChild(o):t.shadowRoot.removeChild(o))}}class Yr{constructor(){this.styles=v(null),this.componentSelector=v(""),this.componentType=v(),this.elementSelector=v(""),this.injectStylesInHost=v(!1),this.injectStyles=v(!1),this.injector=C(We),this.renderer=C(fr),this.host=C(ct),this.styleElementId=G(()=>this.styles()?.id??null),this.classNames=G(()=>[this.getMainStyleClass(this.elementSelector()||this.componentSelector(),this.componentType()),this.getStyleClass(this.componentType())].filter(Boolean)),this.handleClasses(),this.injectStyles&&this.handleCustomStyles()}getMainStyleClass(e,t){return this.styleElementId()&&t?`${e}.gl-style-${t}-${this.styleElementId()}`:""}getStyleClass(e){return this.styleElementId()&&e?`gl-style-${e}-${this.styleElementId()}`:""}addClasses(e){const t=this.host?.nativeElement;t&&e.forEach(o=>this.renderer.addClass(t,o))}removeClasses(e){const t=this.host?.nativeElement;t&&e.forEach(o=>this.renderer.removeClass(t,o))}handleClasses(){return Ve(e=>{const t=this.classNames();this.addClasses(t),e(()=>{this.removeClasses(t)})},{injector:this.injector})}handleCustomStyles(){return Ve(e=>{if(this.componentSelector()){const t=this.componentSelector(),o=this.injectStylesInHost(),r=LU(this.styles(),t,o);e(()=>{r&&VU(r,o)})}},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||Yr)}}static{this.\u0275dir=xe({type:Yr,selectors:[["","glCustomStyles",""]],inputs:{styles:[1,"styles"],componentSelector:[1,"componentSelector"],componentType:[1,"componentType"],elementSelector:[1,"elementSelector"],injectStylesInHost:[1,"injectStylesInHost"],injectStyles:[1,"injectStyles"]}})}}function BU(n=1/0){return yg(Na,n)}function Sl(...n){const e=pg(n),t=function F7(n,e){return"number"==typeof q1(n)?n.pop():e}(n,1/0),o=n;return o.length?1===o.length?zo(o[0]):BU(t)(Wi(o,e)):qv}const rZ=["addListener","removeListener"],iZ=["addEventListener","removeEventListener"],sZ=["on","off"];function yo(n,e,t,o){if(at(t)&&(o=t,t=void 0),o)return yo(n,e,t).pipe(fk(o));const[r,i]=function cZ(n){return at(n.addEventListener)&&at(n.removeEventListener)}(n)?iZ.map(s=>a=>n[s](e,a,t)):function aZ(n){return at(n.addListener)&&at(n.removeListener)}(n)?rZ.map(UU(n,e)):function lZ(n){return at(n.on)&&at(n.off)}(n)?sZ.map(UU(n,e)):[];if(!r&&ek(n))return yg(s=>yo(s,e,t))(zo(n));if(!r)throw new TypeError("Invalid event target");return new ht(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return r(a),()=>i(a)})}function UU(n,e){return t=>o=>n[t](e,o)}function lp(n=0,e,t=VQ){let o=-1;return null!=e&&(CV(e)?t=e:o=e),new ht(r=>{let i=function uZ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;i<0&&(i=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=o?this.schedule(void 0,o):r.complete())},i)})}const ib={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=ib;o&&(e=o.requestAnimationFrame,t=o.cancelAnimationFrame);const r=e(i=>{t=void 0,n(i)});return new bn(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=ib;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=ib;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};const HU=new class hZ extends m0{flush(e){let t;this._active=!0,e?t=e.id:(t=this._scheduled,this._scheduled=void 0);const{actions:o}=this;let r;e=e||o.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=o[0])&&e.id===t&&o.shift());if(this._active=!1,r){for(;(e=o[0])&&e.id===t&&o.shift();)e.unsubscribe();throw r}}}(class fZ extends h0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=ib.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,o=0){var r;if(null!=o?o>0:this.delay>0)return super.recycleAsyncId(e,t,o);const{actions:i}=e;null!=t&&t===e._scheduled&&(null===(r=i[i.length-1])||void 0===r?void 0:r.id)!==t&&(ib.cancelAnimationFrame(t),e._scheduled=void 0)}});class sb{constructor(){this.defaultPositionObserveParams={debounceResizeMs:10,debounceElementPositionMs:0,throttleWindowScrollMs:0}}observeElementPosition(e,t={}){const o={...this.defaultPositionObserveParams,...t};this.fromResizeObserver(e).pipe(sI(o.debounceResizeMs));return Sl(this.fromPositionObserver(e).pipe(sI(o.debounceElementPositionMs))).pipe(mt(()=>{}))}isFixed(e){for(;e&&e!==document.body;){if("fixed"===window.getComputedStyle(e).position)return!0;e=e.parentElement}return!1}fromResizeObserver(e){return new ht(t=>{const o=new ResizeObserver(r=>{for(const i of r)t.next(i)});return o.observe(e),()=>o.disconnect()})}fromWindowScroll(){return yo(window,"scroll")}fromPositionObserver(e){return function dZ(n=0,e=rp){return n<0&&(n=0),lp(n,n,e)}(0,HU).pipe(mt(()=>e.getBoundingClientRect()),hl((t,o)=>t&&o&&t.top===o.top&&t.left===o.left&&t.width===o.width&&t.height===o.height),mt(()=>{}))}static{this.\u0275fac=function(t){return new(t||sb)}}static{this.\u0275prov=F({token:sb,factory:sb.\u0275fac,providedIn:"root"})}}class ab{constructor(){this.mouseEvents=["click","mousedown","mouseup","focusout","focusin","blur","contextmenu"],this.clickHandler=e=>{const t=e.composedPath();t.some(c=>c instanceof HTMLElement&&c.closest("[data-popup-action]"))||t.some(c=>c instanceof HTMLAnchorElement)||t.some(c=>c instanceof HTMLButtonElement)||t.some(c=>c instanceof HTMLVideoElement)||!t.some(c=>{const d=c,f=d?.classList?.contains("gl-highlight"),p=d?.classList?.contains("gl-highlight-popup");return f||p})||(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())}}setClickListeners(){this.mouseEvents.forEach(e=>{window.addEventListener(e,this.clickHandler,!0)})}removeClickListeners(){this.mouseEvents.forEach(e=>{window.removeEventListener(e,this.clickHandler,!0)})}static{this.\u0275fac=function(t){return new(t||ab)}}static{this.\u0275prov=F({token:ab,factory:ab.\u0275fac,providedIn:"root"})}}function gZ(n,e){if(1&n&&(lc(),$(0,"path")),2&n){const t=D();$o("opacity",.6),Mn("d",t.highlightPath())}}function pZ(n,e){if(1&n&&(lc(),$(0,"path",2)(1,"path",3)),2&n){const t=D();Mn("d",t.outerFramePath())("stroke-width",t.frameWidth/2),P(),Mn("d",t.innerFramePath())("stroke-width",t.frameWidth/2)}}class Tl{constructor(){this.element=v(),this.isHighlightActive=v(!1),this.isSpotlightActive=v(!1),this.overlay=v(null),this.zIndex=v(),this.isCornerCut=v(!1),this.elementPositionService=C(sb),this.injector=C(We),this.highlightService=C(ab),this.changeDetectorRef=C(Ac),this.baseFrameOffset=2,this.baseFrameAdditionalSize=2*this.baseFrameOffset,this.frameWidth=4,this.rect=ue(null),this.resolvedZIndex=G(()=>"number"!=typeof this.zIndex()?null:this.isSpotlightActive()||this.isHighlightActive()?this.zIndex()-1:null),this.outerFramePath=G(()=>{const e=this.rect();if(!e)return"";if(!this.overlay())return this.getOuterFramePathDefault(e);const t=this.calculateFramePath(e,this.frameWidth,!0,this.overlay().highlight);return`${t} ${t}`}),this.innerFramePath=G(()=>{const e=this.rect();if(!e)return"";if(!this.overlay())return this.getInnerFramePathDefault(e);const t=this.calculateFramePath(e,this.frameWidth,!1,this.overlay().highlight);return`${t} ${t}`}),this.holePath=G(()=>{const e=this.rect();return e?this.isCornerCut()?this.getHolePathWithCornerCut(e):this.calculateFramePath(e,this.frameWidth,!1,this.overlay().spotlight):""}),this.overlayPath=G(()=>{const{innerWidth:e,innerHeight:t}=window;return`M0 0 L${e} 0 L${e} ${t} L0 ${t} L0 0 Z`}),this.highlightPath=G(()=>this.element()?`${this.overlayPath()} ${this.holePath()}`:""),this.watchElementBoundingClientRect(),this.setClickListeners()}get innerWidth(){return window.innerWidth}get innerHeight(){return window.innerHeight}getViewBox(){return`0 0 ${this.innerWidth} ${this.innerHeight}`}watchElementBoundingClientRect(){return Ve(e=>{const t=this.element();if(!t)return;const o=this.elementPositionService.observeElementPosition(t).subscribe(()=>{this.rect.set(t.getBoundingClientRect()??null),this.changeDetectorRef.detectChanges()});e(()=>o.unsubscribe())},{injector:this.injector})}setClickListeners(){return Ve(e=>{this.isSpotlightActive()&&(this.highlightService.setClickListeners(),e(()=>{this.highlightService.removeClickListeners()}))},{injector:this.injector})}calculateAdjustedRect(e,t,o){return new DOMRect(e.x+t.x,e.y-t.y,e.width+o.width,e.height+o.height)}calculateFramePath(e,t,o=!1,r){if(!e)return"";const i=o?{x:(r?.position?.x??0)-this.baseFrameOffset,y:(r?.position?.y??0)-this.baseFrameOffset}:{x:r?.position?.x??0,y:r?.position?.y??0},s=o?{width:(r?.additionalWidth??0)+this.baseFrameAdditionalSize,height:(r?.additionalHeight??0)+this.baseFrameAdditionalSize}:{width:r?.additionalWidth??0,height:r?.additionalHeight??0},a=this.calculateAdjustedRect(e,i,s);if(o){if(a.width<=this.baseFrameAdditionalSize||a.height<=this.baseFrameAdditionalSize)return""}else if(a.width<=0||a.height<=0)return"";return function HQ(n,e,t){const{x:o,y:r,width:i,height:s}=Wc(n,e),a=Wc(t,e),c=r+a.height-s,d=zc(e,o,r+a.height-e),f=zc(e,o+e,c+e),p=zc(e,o+i,c+e),y=zc(e,o+i-e,r+a.height);return`M${o} ${r+a.height} ${d} L${o} ${c+e} ${f} H${o+i-e} ${p} V${r+a.height-e} ${y} Z`}(a,t-t/2*2+1,e)}getOuterFramePathDefault(e){return this.getFramePath(this.frameWidth-this.frameWidth/2*1+1,e)}getInnerFramePathDefault(e){return this.getFramePath(this.frameWidth-this.frameWidth/2*2+1,e)}getFramePath(e,t){const o=MU(t,e);return`${o} ${o}`}getHolePathWithCornerCut(e){return[`M${e.left} ${e.top}`,`L${e.right-16} ${e.top}`,`L${e.right} ${e.top+17}`,`L${e.right} ${e.bottom}`,`L${e.left} ${e.bottom}`,"Z"].join(" ")}static{this.\u0275fac=function(t){return new(t||Tl)}}static{this.\u0275cmp=$e({type:Tl,selectors:[["gl-element-overlay"]],inputs:{element:[1,"element"],isHighlightActive:[1,"isHighlightActive"],isSpotlightActive:[1,"isSpotlightActive"],overlay:[1,"overlay"],zIndex:[1,"zIndex"],isCornerCut:[1,"isCornerCut"]},decls:3,vars:13,consts:[["xmlns","http://www.w3.org/2000/svg","xmlnsXlink","http://www.w3.org/1999/xlink","xmlSpace","preserve","version","1.1","preserveAspectRatio","xMinYMin slice",1,"gl-highlight"],[3,"opacity"],["stroke","#000000"],["stroke","#C4D600"]],template:function(t,o){if(1&t&&(lc(),V(0,"svg",0),te(1,gZ,1,3,":svg:path",1)(2,pZ,2,4),j()),2&t){let r;$o("height",o.innerHeight)("width",o.innerWidth)("z-index",o.resolvedZIndex()),Qe("gl-highlight_disable-events",null==(r=o.overlay())||null==r.spotlight?null:r.spotlight.disableEvents)("gl-highlight--spotlight-active",o.isSpotlightActive()),Mn("viewBox",o.getViewBox()),P(),ge(o.isSpotlightActive()?1:-1),P(),ge(o.isHighlightActive()?2:-1)}},styles:["svg.gl-highlight[_ngcontent-%COMP%]{fill-rule:evenodd;clip-rule:evenodd;z-index:100001;position:fixed;top:0;left:0;pointer-events:none}svg.gl-highlight_disable-events[_ngcontent-%COMP%]{pointer-events:all}svg.gl-highlight--spotlight-active[_ngcontent-%COMP%]{z-index:100040}svg.gl-highlight[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#000;pointer-events:auto;cursor:auto}"],changeDetection:0})}}class lb{constructor(){this.appClockWisePosition=v(),this.transform=G(()=>{const{placement:e,distance:t}=this.appClockWisePosition();let o,r;if(e!==Lv.Center){const i=new RegExp(/^center/,"gi"),s=new RegExp(/center$/,"gi");switch(!0){case i.test(e):o=`${t.x}px`,r=`calc(-50% - ${t.y}px)`;break;case s.test(e):o=`calc(-50% + ${t.x}px)`,r=-t.y+"px";break;default:o=`${t.x}px`,r=-t.y+"px"}}else o=`calc(-50% + ${t.x}px)`,r=`calc(-50% - ${t.y}px)`;return`translate(${o},  ${r})`})}get hostTransform(){return this.transform()}static{this.\u0275fac=function(t){return new(t||lb)}}static{this.\u0275dir=xe({type:lb,selectors:[["","appClockWisePosition",""]],hostVars:2,hostBindings:function(t,o){2&t&&$o("transform",o.hostTransform)},inputs:{appClockWisePosition:[1,"appClockWisePosition"]}})}}class qc{translateGuidedTourStepContentHeader(e){return this.translate({...e,section:this.getGuidedTourStepContentHeaderSectionName()})}getGuidedTourStepContentHeaderSectionName(){return this.getContentHeaderSectionName()}getContentHeaderSectionName(){return"header"}translate(e){const{section:t,langCode:o,data:r,fallbackValue:i}=e;if(o===Lt)return i??"";const a=((r||{})[t]||{})[o]??"";return!a&&i?i:a}static{this.\u0275fac=function(t){return new(t||qc)}}static{this.\u0275prov=F({token:qc,factory:qc.\u0275fac,providedIn:"root"})}}class qn{constructor(){this.section=v.required(),this.lang=v(Lt),this.translation=v({}),this.attribute=v(),this.fallbackValue=v(""),this.render=v(!0),this.host=C(ct),this.service=C(qc),this.translationStr=G(()=>this.service.translate({section:this.section(),langCode:this.lang(),data:this.translation(),fallbackValue:this.fallbackValue()})),Ve(()=>{if(!this.render())return;const e=this.translationStr(),t=this.attribute();t?this.host.nativeElement.setAttribute(t,e):this.host.nativeElement.innerHTML=e})}static{this.\u0275fac=function(t){return new(t||qn)}}static{this.\u0275dir=xe({type:qn,selectors:[["","glTranslation",""]],inputs:{section:[1,"section"],lang:[1,"lang"],translation:[1,"translation"],attribute:[1,"attribute"],fallbackValue:[1,"fallbackValue"],render:[1,"render"]},exportAs:["glTranslation"]})}}class cb{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,t){this._renderer=e,this._elementRef=t}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(t){return new(t||cb)(ne(fr),ne(ct))};static \u0275dir=xe({type:cb})}class ks extends cb{static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(ks)))(o||ks)}})();static \u0275dir=xe({type:ks,features:[ze]})}const As=new de(""),vZ={provide:As,useExisting:Mt(()=>cp),multi:!0};class cp extends ks{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(cp)))(o||cp)}})();static \u0275dir=xe({type:cp,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,o){1&t&&Ie("change",function(i){return o.onChange(i.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Ht([vZ]),ze]})}const yZ={provide:As,useExisting:Mt(()=>Sa),multi:!0};const wZ=new de("");class Sa extends cb{_compositionMode;_composing=!1;constructor(e,t,o){super(e,t),this._compositionMode=o,null==this._compositionMode&&(this._compositionMode=!function bZ(){const n=vl()?vl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){const t=e??"";this.setProperty("value",t)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(t){return new(t||Sa)(ne(fr),ne(ct),ne(wZ,8))};static \u0275dir=xe({type:Sa,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&Ie("input",function(i){return o._handleInput(i.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(i){return o._compositionEnd(i.target.value)})},standalone:!1,features:[Ht([yZ]),ze]})}function pA(n){return null==n||0===mA(n)}function mA(n){return null==n?null:Array.isArray(n)||"string"==typeof n?n.length:n instanceof Set?n.size:null}const Xo=new de(""),Yc=new de(""),CZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Tt{static min(e){return jU(e)}static max(e){return $U(e)}static required(e){return GU(e)}static requiredTrue(e){return zU(e)}static email(e){return WU(e)}static minLength(e){return qU(e)}static maxLength(e){return YU(e)}static pattern(e){return XU(e)}static nullValidator(e){return null}static compose(e){return tH(e)}static composeAsync(e){return nH(e)}}function jU(n){return e=>{if(null==e.value||null==n)return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function $U(n){return e=>{if(null==e.value||null==n)return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function GU(n){return pA(n.value)?{required:!0}:null}function zU(n){return!0===n.value?null:{required:!0}}function WU(n){return pA(n.value)||CZ.test(n.value)?null:{email:!0}}function qU(n){return e=>{const t=e.value?.length??mA(e.value);return null===t||0===t?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function YU(n){return e=>{const t=e.value?.length??mA(e.value);return null!==t&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function XU(n){if(!n)return dI;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),o=>{if(pA(o.value))return null;const r=o.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function dI(n){return null}function QU(n){return null!=n}function ZU(n){return ET(n)?Wi(n):n}function JU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function KU(n,e){return e.map(t=>t(n))}function eH(n){return n.map(e=>function SZ(n){return!n.validate}(e)?e:t=>e.validate(t))}function tH(n){if(!n)return null;const e=n.filter(QU);return 0==e.length?null:function(t){return JU(KU(t,e))}}function _A(n){return null!=n?tH(eH(n)):null}function nH(n){if(!n)return null;const e=n.filter(QU);return 0==e.length?null:function(t){return function _Z(...n){const e=Y1(n),{args:t,keys:o}=JV(n),r=new ht(i=>{const{length:s}=t;if(!s)return void i.complete();const a=new Array(s);let c=s,d=s;for(let f=0;f<s;f++){let p=!1;zo(t[f]).subscribe(cn(i,y=>{p||(p=!0,d--),a[f]=y},()=>c--,void 0,()=>{(!c||!p)&&(d||i.next(o?KV(o,a):a),i.complete())}))}});return e?r.pipe(fk(e)):r}(KU(t,e).map(ZU)).pipe(mt(JU))}}function vA(n){return null!=n?nH(eH(n)):null}function oH(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rH(n){return n._rawValidators}function iH(n){return n._rawAsyncValidators}function yA(n){return n?Array.isArray(n)?n:[n]:[]}function fI(n,e){return Array.isArray(n)?n.includes(e):n===e}function sH(n,e){const t=yA(e);return yA(n).forEach(r=>{fI(t,r)||t.push(r)}),t}function aH(n,e){return yA(e).filter(t=>!fI(n,t))}class lH{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=_A(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class wr extends lH{name;get formDirective(){return null}get path(){return null}}class Il extends lH{_parent=null;name=null;valueAccessor=null}class cH{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}class Xc extends cH{constructor(e){super(e)}static \u0275fac=function(t){return new(t||Xc)(ne(Il,2))};static \u0275dir=xe({type:Xc,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&Qe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[ze]})}class ub extends cH{constructor(e){super(e)}static \u0275fac=function(t){return new(t||ub)(ne(wr,10))};static \u0275dir=xe({type:ub,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&Qe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[ze]})}const db="VALID",gI="INVALID",up="PENDING",fb="DISABLED";class dp{}class dH extends dp{value;source;constructor(e,t){super(),this.value=e,this.source=t}}class CA extends dp{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}}class SA extends dp{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}}class pI extends dp{status;source;constructor(e,t){super(),this.status=e,this.source=t}}class fH extends dp{source;constructor(e){super(),this.source=e}}class hH extends dp{source;constructor(e){super(),this.source=e}}function TA(n){return(mI(n)?n.validators:n)||null}function IA(n,e){return(mI(e)?e.asyncValidators:n)||null}function mI(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function gH(n,e,t){const o=n.controls;if(!(e?Object.keys(o):o).length)throw new J(1e3,"");if(!o[t])throw new J(1001,"")}function pH(n,e,t){n._forEachChild((o,r)=>{if(void 0===t[r])throw new J(1002,"")})}class _I{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return rn(this.statusReactive)}set status(e){rn(()=>this.statusReactive.set(e))}_status=G(()=>this.statusReactive());statusReactive=ue(void 0);get valid(){return this.status===db}get invalid(){return this.status===gI}get pending(){return this.status==up}get disabled(){return this.status===fb}get enabled(){return this.status!==fb}errors;get pristine(){return rn(this.pristineReactive)}set pristine(e){rn(()=>this.pristineReactive.set(e))}_pristine=G(()=>this.pristineReactive());pristineReactive=ue(!0);get dirty(){return!this.pristine}get touched(){return rn(this.touchedReactive)}set touched(e){rn(()=>this.touchedReactive.set(e))}_touched=G(()=>this.touchedReactive());touchedReactive=ue(!1);get untouched(){return!this.touched}_events=new gn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aH(e,this._rawAsyncValidators))}hasValidator(e){return fI(this._rawValidators,e)}hasAsyncValidator(e){return fI(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const t=!1===this.touched;this.touched=!0;const o=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:o}),t&&!1!==e.emitEvent&&this._events.next(new SA(!0,o))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){const t=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const o=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:o})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,o),t&&!1!==e.emitEvent&&this._events.next(new SA(!1,o))}markAsDirty(e={}){const t=!0===this.pristine;this.pristine=!1;const o=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:o}),t&&!1!==e.emitEvent&&this._events.next(new CA(!1,o))}markAsPristine(e={}){const t=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const o=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,o),t&&!1!==e.emitEvent&&this._events.next(new CA(!0,o))}markAsPending(e={}){this.status=up;const t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new pI(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:t})}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fb,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue();const o=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new dH(this.value,o)),this._events.next(new pI(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t},this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=db,this._forEachChild(o=>{o.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t},this),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const o=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===db||this.status===up)&&this._runAsyncValidator(o,e.emitEvent)}const t=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new dH(this.value,t)),this._events.next(new pI(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:t})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fb:db}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=up,this._hasOwnPendingAsyncValidator={emitEvent:!1!==t};const o=ZU(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent,this,t.shouldHaveEmitted)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((o,r)=>o&&o._find(r),this)}getError(e,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,o){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||o)&&this._events.next(new pI(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,o)}_initObservables(){this.valueChanges=new Pt,this.statusChanges=new Pt}_calculateStatus(){return this._allControlsDisabled()?fb:this.errors?gI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(up)?up:this._anyControlsHaveStatus(gI)?gI:db}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){const o=!this._anyControlsDirty(),r=this.pristine!==o;this.pristine=o,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new CA(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new SA(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){const t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function kZ(n){return Array.isArray(n)?_A(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function AZ(n){return Array.isArray(n)?vA(n):n||null}(this._rawAsyncValidators)}}class hb extends _I{constructor(e,t,o){super(TA(t),IA(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,o={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){pH(this,0,e),Object.keys(e).forEach(o=>{gH(this,!0,o),this.controls[o].setValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(o=>{const r=this.controls[o];r&&r.patchValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((o,r)=>{o.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,o)=>(e[o]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&e(o,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,o]of Object.entries(this.controls))if(this.contains(t)&&e(o))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,o,r)=>((o.enabled||this.disabled)&&(t[r]=o.value),t))}_reduceChildren(e,t){let o=e;return this._forEachChild((r,i)=>{o=t(o,r,i)}),o}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class mH extends hb{}const Wd=new de("",{providedIn:"root",factory:()=>gb}),gb="always";function vI(n,e){return[...e.path,n]}function pb(n,e,t=gb){EA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function PZ(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_H(n,e)})}(n,e),function NZ(n,e){const t=(o,r)=>{e.valueAccessor.writeValue(o),r&&e.viewToModelUpdate(o)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function FZ(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_H(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function OZ(n,e){if(e.valueAccessor.setDisabledState){const t=o=>{e.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function yI(n,e,t=!0){const o=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(o),e.valueAccessor.registerOnTouched(o)),wI(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function bI(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function EA(n,e){const t=rH(n);null!==e.validator?n.setValidators(oH(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const o=iH(n);null!==e.asyncValidator?n.setAsyncValidators(oH(o,e.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const r=()=>n.updateValueAndValidity();bI(e._rawValidators,r),bI(e._rawAsyncValidators,r)}function wI(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=rH(n);if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>s!==e.validator);i.length!==r.length&&(t=!0,n.setValidators(i))}}if(null!==e.asyncValidator){const r=iH(n);if(Array.isArray(r)&&r.length>0){const i=r.filter(s=>s!==e.asyncValidator);i.length!==r.length&&(t=!0,n.setAsyncValidators(i))}}}const o=()=>{};return bI(e._rawValidators,o),bI(e._rawAsyncValidators,o),t}function _H(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function vH(n,e){EA(n,e)}function DA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function yH(n,e){n._syncPendingControls(),e.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function xA(n,e){if(!e)return null;let t,o,r;return Array.isArray(e),e.forEach(i=>{i.constructor===Sa?t=i:function VZ(n){return Object.getPrototypeOf(n.constructor)===ks}(i)?o=i:r=i}),r||o||t||null}const UZ={provide:wr,useExisting:Mt(()=>qd)},mb=Promise.resolve();class qd extends wr{callSetDisabledState;get submitted(){return rn(this.submittedReactive)}_submitted=G(()=>this.submittedReactive());submittedReactive=ue(!1);_directives=new Set;form;ngSubmit=new Pt;options;constructor(e,t,o){super(),this.callSetDisabledState=o,this.form=new hb({},_A(e),vA(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){mb.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),pb(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){mb.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){mb.then(()=>{const t=this._findContainer(e.path),o=new hb({});vH(o,e),t.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){mb.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){mb.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),yH(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new fH(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new hH(this.form))}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(t){return new(t||qd)(ne(Xo,10),ne(Yc,10),ne(Wd,8))};static \u0275dir=xe({type:qd,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,o){1&t&&Ie("submit",function(i){return o.onSubmit(i)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ht([UZ]),ze]})}function bH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function wH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const fp=class extends _I{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,o){super(TA(t),IA(o,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mI(t)&&(t.nonNullable||t.initialValueIsDefault)&&(wH(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(e){wH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};class Qc extends wr{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return vI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Qc)))(o||Qc)}})();static \u0275dir=xe({type:Qc,standalone:!1,features:[ze]})}const GZ={provide:wr,useExisting:Mt(()=>Zc)};class Zc extends Qc{name="";constructor(e,t,o){super(),this._parent=e,this._setValidators(t),this._setAsyncValidators(o)}_checkParentType(){!(this._parent instanceof Zc)&&this._parent}static \u0275fac=function(t){return new(t||Zc)(ne(wr,5),ne(Xo,10),ne(Yc,10))};static \u0275dir=xe({type:Zc,selectors:[["","ngModelGroup",""]],inputs:{name:[0,"ngModelGroup","name"]},exportAs:["ngModelGroup"],standalone:!1,features:[Ht([GZ]),ze]})}const zZ={provide:Il,useExisting:Mt(()=>_b)},CH=Promise.resolve();class _b extends Il{_changeDetectorRef;callSetDisabledState;control=new fp;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Pt;constructor(e,t,o,r,i,s){super(),this._changeDetectorRef=i,this.callSetDisabledState=s,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=xA(0,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const t=e.name.previousValue;this.formDirective.removeControl({name:t,path:this._getPath(t)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),DA(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){CH.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const t=e.isDisabled.currentValue,o=0!==t&&U1(t);CH.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?vI(e,this._parent):[e]}static \u0275fac=function(t){return new(t||_b)(ne(wr,9),ne(Xo,10),ne(Yc,10),ne(As,10),ne(Ac,8),ne(Wd,8))};static \u0275dir=xe({type:_b,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ht([zZ]),ze,ta]})}class vb{static \u0275fac=function(t){return new(t||vb)};static \u0275dir=xe({type:vb,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}const WZ={provide:As,useExisting:Mt(()=>hp),multi:!0};class hp extends ks{writeValue(e){const t=e??"";this.setProperty("value",t)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(hp)))(o||hp)}})();static \u0275dir=xe({type:hp,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,o){1&t&&Ie("input",function(i){return o.onChange(i.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Ht([WZ]),ze]})}const qZ={provide:As,useExisting:Mt(()=>Yd),multi:!0};class yb{_accessors=[];add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&(e[0]._parent===t._control._parent&&e[1].name===t.name)}static \u0275fac=function(t){return new(t||yb)};static \u0275prov=F({token:yb,factory:yb.\u0275fac,providedIn:"root"})}class Yd extends ks{_registry;_injector;_state;_control;_fn;setDisabledStateFired=!1;onChange=()=>{};name;formControlName;value;callSetDisabledState=C(Wd,{optional:!0})??gb;constructor(e,t,o,r){super(e,t),this._registry=o,this._injector=r}ngOnInit(){this._control=this._injector.get(Il),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this.setProperty("checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}setDisabledState(e){(this.setDisabledStateFired||e||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",e),this.setDisabledStateFired=!0}fireUncheck(e){this.writeValue(e)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static \u0275fac=function(t){return new(t||Yd)(ne(fr),ne(ct),ne(yb),ne(We))};static \u0275dir=xe({type:Yd,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,o){1&t&&Ie("change",function(){return o.onChange()})("blur",function(){return o.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},standalone:!1,features:[Ht([qZ]),ze]})}const YZ={provide:As,useExisting:Mt(()=>gp),multi:!0};class gp extends ks{writeValue(e){this.setProperty("value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(gp)))(o||gp)}})();static \u0275dir=xe({type:gp,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,o){1&t&&Ie("change",function(i){return o.onChange(i.target.value)})("input",function(i){return o.onChange(i.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Ht([YZ]),ze]})}const kA=new de(""),XZ={provide:Il,useExisting:Mt(()=>El)};class El extends Il{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new Pt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,t,o,r,i){super(),this._ngModelWarningConfig=r,this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(t),this.valueAccessor=xA(0,o)}ngOnChanges(e){if(this._isControlChanged(e)){const t=e.form.previousValue;t&&yI(t,this,!1),pb(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}DA(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&yI(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(t){return new(t||El)(ne(Xo,10),ne(Yc,10),ne(As,10),ne(kA,8),ne(Wd,8))};static \u0275dir=xe({type:El,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Ht([XZ]),ze,ta]})}const QZ={provide:wr,useExisting:Mt(()=>Jc)};class Jc extends wr{callSetDisabledState;get submitted(){return rn(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=G(()=>this._submittedReactive());_submittedReactive=ue(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Pt;constructor(e,t,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return pb(t,e,this.callSetDisabledState),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){yI(e.control||null,e,!1),function BZ(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this._submittedReactive.set(!0),yH(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new fH(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new hH(this.form))}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,o=this.form.get(e.path);t!==o&&(yI(t||null,e),(n=>n instanceof fp)(o)&&(pb(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);vH(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function RZ(n,e){return wI(n,e)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){EA(this.form,this),this._oldForm&&wI(this._oldForm,this)}static \u0275fac=function(t){return new(t||Jc)(ne(Xo,10),ne(Yc,10),ne(Wd,8))};static \u0275dir=xe({type:Jc,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&Ie("submit",function(i){return o.onSubmit(i)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ht([QZ]),ze,ta]})}const ZZ={provide:wr,useExisting:Mt(()=>Kc)};class Kc extends Qc{name=null;constructor(e,t,o){super(),this._parent=e,this._setValidators(t),this._setAsyncValidators(o)}_checkParentType(){SH(this._parent)}static \u0275fac=function(t){return new(t||Kc)(ne(wr,13),ne(Xo,10),ne(Yc,10))};static \u0275dir=xe({type:Kc,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Ht([ZZ]),ze]})}const JZ={provide:wr,useExisting:Mt(()=>Xd)};class Xd extends wr{_parent;name=null;constructor(e,t,o){super(),this._parent=e,this._setValidators(t),this._setAsyncValidators(o)}ngOnInit(){SH(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return vI(null==this.name?this.name:this.name.toString(),this._parent)}static \u0275fac=function(t){return new(t||Xd)(ne(wr,13),ne(Xo,10),ne(Yc,10))};static \u0275dir=xe({type:Xd,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Ht([JZ]),ze]})}function SH(n){return!(n instanceof Kc||n instanceof Jc||n instanceof Xd)}const KZ={provide:Il,useExisting:Mt(()=>bb)};class bb extends Il{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Pt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,t,o,r,i){super(),this._ngModelWarningConfig=i,this._parent=e,this._setValidators(t),this._setAsyncValidators(o),this.valueAccessor=xA(0,r)}ngOnChanges(e){this._added||this._setUpControl(),DA(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return vI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(t){return new(t||bb)(ne(wr,13),ne(Xo,10),ne(Yc,10),ne(As,10),ne(kA,8))};static \u0275dir=xe({type:bb,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ht([KZ]),ze,ta]})}const eJ={provide:As,useExisting:Mt(()=>Qd),multi:!0};function TH(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}class Qd extends ks{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;const o=TH(this._getOptionId(e),e);this.setProperty("value",o)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function tJ(n){return n.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Qd)))(o||Qd)}})();static \u0275dir=xe({type:Qd,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){1&t&&Ie("change",function(i){return o.onChange(i.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ht([eJ]),ze]})}const nJ={provide:As,useExisting:Mt(()=>Zd),multi:!0};class Zd extends ks{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){let t;if(this.value=e,Array.isArray(e)){const o=e.map(r=>this._getOptionId(r));t=(r,i)=>{r._setSelected(o.indexOf(i.toString())>-1)}}else t=(o,r)=>{o._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const o=[],r=t.selectedOptions;if(void 0!==r){const i=r;for(let s=0;s<i.length;s++){const a=i[s],c=this._getOptionValue(a.value);o.push(c)}}else{const i=t.options;for(let s=0;s<i.length;s++){const a=i[s];if(a.selected){const c=this._getOptionValue(a.value);o.push(c)}}}this.value=o,e(o)}}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of this._optionMap.keys())if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function oJ(n){return n.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Zd)))(o||Zd)}})();static \u0275dir=xe({type:Zd,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){1&t&&Ie("change",function(i){return o.onChange(i.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ht([nJ]),ze]})}function EH(n){return"number"==typeof n?n:parseInt(n,10)}function MH(n){return"number"==typeof n?n:parseFloat(n)}class Ta{_validator=dI;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){const t=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(t),this._validator=this._enabled?this.createValidator(t):dI,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static \u0275fac=function(t){return new(t||Ta)};static \u0275dir=xe({type:Ta,features:[ta]})}const rJ={provide:Xo,useExisting:Mt(()=>pp),multi:!0};class pp extends Ta{max;inputName="max";normalizeInput=e=>MH(e);createValidator=e=>$U(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(pp)))(o||pp)}})();static \u0275dir=xe({type:pp,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&Mn("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[Ht([rJ]),ze]})}const iJ={provide:Xo,useExisting:Mt(()=>mp),multi:!0};class mp extends Ta{min;inputName="min";normalizeInput=e=>MH(e);createValidator=e=>jU(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(mp)))(o||mp)}})();static \u0275dir=xe({type:mp,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&Mn("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[Ht([iJ]),ze]})}const sJ={provide:Xo,useExisting:Mt(()=>Jd),multi:!0},aJ={provide:Xo,useExisting:Mt(()=>_p),multi:!0};class Jd extends Ta{required;inputName="required";normalizeInput=U1;createValidator=e=>GU;enabled(e){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Jd)))(o||Jd)}})();static \u0275dir=xe({type:Jd,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,o){2&t&&Mn("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ht([sJ]),ze]})}class _p extends Jd{createValidator=e=>zU;static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(_p)))(o||_p)}})();static \u0275dir=xe({type:_p,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&Mn("required",o._enabled?"":null)},standalone:!1,features:[Ht([aJ]),ze]})}const lJ={provide:Xo,useExisting:Mt(()=>vp),multi:!0};class vp extends Ta{email;inputName="email";normalizeInput=U1;createValidator=e=>WU;enabled(e){return e}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(vp)))(o||vp)}})();static \u0275dir=xe({type:vp,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},standalone:!1,features:[Ht([lJ]),ze]})}const cJ={provide:Xo,useExisting:Mt(()=>yp),multi:!0};class yp extends Ta{minlength;inputName="minlength";normalizeInput=e=>EH(e);createValidator=e=>qU(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(yp)))(o||yp)}})();static \u0275dir=xe({type:yp,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&Mn("minlength",o._enabled?o.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[Ht([cJ]),ze]})}const uJ={provide:Xo,useExisting:Mt(()=>bp),multi:!0};class bp extends Ta{maxlength;inputName="maxlength";normalizeInput=e=>EH(e);createValidator=e=>YU(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(bp)))(o||bp)}})();static \u0275dir=xe({type:bp,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&Mn("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Ht([uJ]),ze]})}const dJ={provide:Xo,useExisting:Mt(()=>wp),multi:!0};class wp extends Ta{pattern;inputName="pattern";normalizeInput=e=>e;createValidator=e=>XU(e);static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(wp)))(o||wp)}})();static \u0275dir=xe({type:wp,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&Mn("pattern",o._enabled?o.pattern:null)},inputs:{pattern:"pattern"},standalone:!1,features:[Ht([dJ]),ze]})}class wb{static \u0275fac=function(t){return new(t||wb)};static \u0275mod=gi({type:wb});static \u0275inj=Ro({})}class DH extends _I{constructor(e,t,o){super(TA(t),IA(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,o={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(e,t={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,o={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){pH(this,0,e),e.forEach((o,r)=>{gH(this,!1,r),this.at(r).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((o,r)=>{this.at(r)&&this.at(r).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((o,r)=>{o.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,o)=>{e(t,o)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function xH(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}class eu{useNonNullable=!1;get nonNullable(){const e=new eu;return e.useNonNullable=!0,e}group(e,t=null){const o=this._reduceControls(e);let r={};return xH(t)?r=t:null!==t&&(r.validators=t.validator,r.asyncValidators=t.asyncValidator),new hb(o,r)}record(e,t=null){const o=this._reduceControls(e);return new mH(o,t)}control(e,t,o){let r={};return this.useNonNullable?(xH(t)?r=t:(r.validators=t,r.asyncValidators=o),new fp(e,{...r,nonNullable:!0})):new fp(e,t,o)}array(e,t,o){const r=e.map(i=>this._createControl(i));return new DH(r,t,o)}_reduceControls(e){const t={};return Object.keys(e).forEach(o=>{t[o]=this._createControl(e[o])}),t}_createControl(e){if(e instanceof fp)return e;if(e instanceof _I)return e;if(Array.isArray(e)){const t=e[0],o=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(t,o,r)}return this.control(e)}static \u0275fac=function(t){return new(t||eu)};static \u0275prov=F({token:eu,factory:eu.\u0275fac,providedIn:"root"})}class Cb extends eu{group(e,t=null){return super.group(e,t)}control(e,t,o){return super.control(e,t,o)}array(e,t,o){return super.array(e,t,o)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Cb)))(o||Cb)}})();static \u0275prov=F({token:Cb,factory:Cb.\u0275fac,providedIn:"root"})}new O1("19.2.15");class Sb{static withConfig(e){return{ngModule:Sb,providers:[{provide:Wd,useValue:e.callSetDisabledState??gb}]}}static \u0275fac=function(t){return new(t||Sb)};static \u0275mod=gi({type:Sb});static \u0275inj=Ro({imports:[wb]})}class Os{static withConfig(e){return{ngModule:Os,providers:[{provide:kA,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Wd,useValue:e.callSetDisabledState??gb}]}}static \u0275fac=function(t){return new(t||Os)};static \u0275mod=gi({type:Os});static \u0275inj=Ro({imports:[wb]})}const fJ={[Te.GuidedTour]:"Guided Tour",[Te.Button]:"Button",[Te.Menu]:"Menu",[Te.AiHelper]:"AI Helper",[Te.SmartNudges]:"Smart Nudge"},hJ={"Guided Tour":Te.GuidedTour,Button:Te.Button,Menu:Te.Menu,"AI Helper":Te.AiHelper,"Smart Nudge":Te.SmartNudges},pJ={[oe.Step]:"Step",[oe.Survey]:"Survey",[oe.PopUp]:"Pop-up",[oe.Resource]:"Resource",[oe.Toast]:"Toast",[Te.Button]:"Button",[Te.Menu]:"Menu",[Te.AiHelper]:"AI Helper",[Te.SmartNudges]:"Smart Nudge",[Te.GuidedTour]:"Guided tour"},mJ={Step:oe.Step,Survey:oe.Survey,"Pop-up":oe.PopUp,Resource:oe.Resource,Toast:oe.Toast,Button:Te.Button,Menu:Te.Menu,"AI Helper":Te.AiHelper,"Smart Nudge":Te.SmartNudges,"Guided tour":Te.GuidedTour},Et=(oe.Step,oe.Step,oe.PopUp,oe.PopUp,oe.Survey,oe.Survey,Te.Menu,oe.Menu,Te.SmartNudges,oe.SmartNudge,W1_validation.maxLength),bJ={GuidedTour:{GuidedTour:{sectionNames:["name"],sections:{name:{getValidators:()=>[Tt.maxLength(Et.guidedTourName)]}}},Step:{isChildEntity:!0,sectionNames:["header","body","noteTitle","note","primaryButton","currentPage","counterSeparator","pagesQuantity","counterTitle"],sections:{header:{getValidators:()=>[]},body:{getValidators:()=>[]},noteTitle:{getValidators:()=>[Tt.maxLength(Et.noteTitle)],defaultValue:"Note"},note:{getValidators:()=>[]},primaryButton:{getValidators:()=>[Tt.maxLength(Et.footer)]},currentPage:{getValidators:()=>[Tt.maxLength(Et.flowContentCounter)]},counterSeparator:{getValidators:()=>[Tt.maxLength(Et.counterSeparator)],defaultValue:"of"},pagesQuantity:{getValidators:()=>[Tt.maxLength(Et.flowContentCounter)]},counterTitle:{getValidators:()=>[Tt.maxLength(Et.flowContentCounter)],defaultValue:"Steps"}}},"Pop-up":{isChildEntity:!0,sectionNames:["header","body","noteTitle","note","primaryButton","secondaryButton","currentPage","counterSeparator","pagesQuantity","counterTitle"],sections:{header:{getValidators:()=>[]},body:{getValidators:()=>[]},noteTitle:{getValidators:()=>[Tt.maxLength(Et.noteTitle)],defaultValue:"Note"},note:{getValidators:()=>[]},primaryButton:{getValidators:()=>[Tt.maxLength(Et.footer)]},secondaryButton:{getValidators:()=>[Tt.maxLength(Et.footer)]},currentPage:{getValidators:()=>[Tt.maxLength(Et.flowContentCounter)]},counterSeparator:{getValidators:()=>[Tt.maxLength(Et.counterSeparator)],defaultValue:"of"},pagesQuantity:{getValidators:()=>[Tt.maxLength(Et.flowContentCounter)]},counterTitle:{getValidators:()=>[Tt.maxLength(Et.flowContentCounter)],defaultValue:"Steps"}}},Survey:{isChildEntity:!0,sectionNames:["customTitle","surveyDescription","annotation","primaryButton","secondaryButton"],sections:{customTitle:{getValidators:()=>[]},surveyDescription:{getValidators:()=>[]},annotation:{getValidators:()=>[]},surveyQuestionFreeText:{sectionNames:["question","placeholder"],sections:{question:{getValidators:()=>[Tt.maxLength(Et.surveyQuestion)]},placeholder:{getValidators:()=>[Tt.maxLength(Et.surveyQuestion)]}}},surveyQuestionPromotionalScore:{sectionNames:["question","minValueName","maxValueName"],sections:{question:{getValidators:()=>[Tt.maxLength(Et.surveyQuestion)]},minValueName:{getValidators:()=>[]},maxValueName:{getValidators:()=>[]}}},surveyQuestionThumbSelection:{sectionNames:["question"],sections:{question:{getValidators:()=>[Tt.maxLength(Et.surveyQuestion)]}}},surveyQuestionSelection:{sectionNames:["question"],sections:{question:{getValidators:()=>[Tt.maxLength(Et.surveyQuestion)]}}},surveyQuestionSelectionAnswer:{sectionNames:["name"],sections:{name:{getValidators:()=>[Tt.maxLength(Et.surveyPlaceholder)]}}},primaryButton:{getValidators:()=>[Tt.maxLength(Et.footer)],defaultValue:"Submit"},secondaryButton:{getValidators:()=>[Tt.maxLength(Et.footer)],defaultValue:"Cancel"}}},Resource:{isChildEntity:!0,sectionNames:["header","primaryButton"],sections:{header:{getValidators:()=>[]},primaryButton:{getValidators:()=>[Tt.maxLength(Et.resourcePopupButton)]}}},Toast:{isChildEntity:!0,sectionNames:["toastTitle","toastText"],sections:{toastTitle:{getValidators:()=>[]},toastText:{getValidators:()=>[]}}}},SmartNudge:{SmartNudge:{isChildEntity:!0,sectionNames:["body","noteTitle","note"],sections:{body:{getValidators:()=>[]},noteTitle:{getValidators:()=>[Tt.maxLength(Et.noteTitle)],defaultValue:"Note"},note:{getValidators:()=>[]}}}},AiHelper:{AiHelper:{isChildEntity:!0,sectionNames:["prompt","tip"],sections:{prompt:{getValidators:()=>[Tt.maxLength(Et.aiHelperPrompt)]},tip:{getValidators:()=>[]}}}},Button:{Button:{isChildEntity:!0,sectionNames:["text"],sections:{text:{getValidators:()=>[Tt.maxLength(Et.buttonText)]}}}},Menu:{Menu:{sectionNames:["header","title","searchPlaceholder","searchEmptyState"],sections:{header:{getValidators:()=>[]},title:{getValidators:()=>[Tt.maxLength(Et.title)]},searchPlaceholder:{getValidators:()=>[Tt.maxLength(Et.menuSearchPlaceholder)]},searchEmptyState:{getValidators:()=>[]},tab:{sectionNames:["name","emptyState"],sections:{name:{getValidators:()=>[Tt.maxLength(Et.tabName)]},emptyState:{getValidators:()=>[]}}},menuTabAccordion:{sectionNames:["name","emptyState"],sections:{name:{getValidators:()=>[Tt.maxLength(Et.accordionName)]},emptyState:{getValidators:()=>[]}}},menuTabTitle:{sectionNames:["name"],sections:{name:{getValidators:()=>[Tt.maxLength(Et.title)]}}},menuTabTour:{sectionNames:["name"],sections:{name:{getValidators:()=>[]}}}}}}},TI=(Te.Button,Te.AiHelper,Te.SmartNudges,{flowType:{typeToName:fJ,nameToType:hJ,typeToExportColor:{"Guided Tour":"DDEFE8",Button:"E8F7FF",Menu:"DFE0CD","AI Helper":"F8F9E4","Smart Nudge":"D6DBE7"}},elementType:{typeToName:pJ,nameToType:mJ,typeToClassName:{[Te.Button]:"dds-icon_external_window__l__stroke",[Te.AiHelper]:"dds-icon_shine__s__stroke",[Te.SmartNudges]:"dds-icon_comment__s__stroke"}},section:{idToName:{header:"Header",footer:"Footer",name:"Name",counter:"Conter",title:"Title",description:"Description",text:"Text",prompt:"Prompt",tip:"Tip",customTitle:"Custom title",surveyDescription:"Survey description",surveyQuestions:"Survey questions",placeholder:"Placeholder",minValueName:"Min value name",maxValueName:"Max value name",primaryButton:"Primary button",secondaryButton:"Secondary button",body:"Body",note:"Note",emptyState:"Empty state text",search:"Search",searchPlaceholder:"Search placeholder text",searchEmptyState:"Search empty state text",tab:"Tab",menuTabAccordion:"Tab accordion",menuTabTitle:"Tab title",menuTabTour:"Tab tour",question:"Question",surveyQuestionFreeText:"Free text question",surveyQuestionThumbSelection:"Thumb selection question",surveyQuestionPromotionalScore:"Net promoter score question",annotation:"Annotation",currentPage:"Current page",counterSeparator:"Counter separator",pagesQuantity:"Pages quantity",counterTitle:"Counter title",noteTitle:"Note title",surveyQuestionSelection:"Selection question",surveyQuestionSelectionAnswer:"Answer",toastTitle:"Toast title",toastText:"Toast text"},nameToId:{Header:"header",Footer:"footer",Name:"name",Conter:"counter",Title:"title",Description:"description",Text:"text",Prompt:"prompt",Tip:"tip","Custom title":"customTitle","Survey description":"surveyDescription","Survey questions":"surveyQuestions",Placeholder:"placeholder","Min value name":"minValueName","Max value name":"maxValueName","Primary button":"primaryButton","Secondary button":"secondaryButton",Body:"body",Note:"note","Empty state text":"emptyState",Search:"search","Search placeholder text":"searchPlaceholder","Search empty state text":"searchEmptyState",Tab:"tab","Tab accordion":"menuTabAccordion","Tab title":"menuTabTitle","Tab tour":"menuTabTour",Question:"question","Free text question":"surveyQuestionFreeText","Thumb selection question":"surveyQuestionThumbSelection","Net promoter score question":"surveyQuestionPromotionalScore",Annotation:"annotation","Current page":"currentPage","Counter separator":"counterSeparator","Pages quantity":"pagesQuantity","Counter title":"counterTitle","Note title":"noteTitle","Selection question":"surveyQuestionSelection",Answer:"surveyQuestionSelectionAnswer","Toast title":"toastTitle","Toast text":"toastText"}},surveyQuestion:{typeToName:{1:"Free text",2:"Net promoter score",3:"Thumb selection",4:"Selection question"}},flowCfg:bJ}),CJ=["popupBody"],SJ=["popUpElement"],TJ=n=>({"gl-pop-up__note--hidden":n});function IJ(n,e){if(1&n&&$(0,"gl-element-overlay",3),2&n){const t=D();A("element",t.targetSpotlightElement())("isSpotlightActive",t.isSpotlightActive())("overlay",t.overlay())("isCornerCut",!0)}}function EJ(n,e){if(1&n&&$(0,"span",28),2&n){const t=D(3);A("lang",t.lang())("translation",t.translation())("fallbackValue",t.labels.counterSeparator)}}function MJ(n,e){if(1&n&&$(0,"span",29),2&n){const t=D(3);A("lang",t.lang())("translation",t.translation())("fallbackValue",t.popUpContent().counter.total)}}function DJ(n,e){if(1&n&&(V(0,"div",25),$(1,"span",26),Hn(2,": "),$(3,"span",27),te(4,EJ,1,3,"span",28)(5,MJ,1,3,"span",29),j()),2&n){const t=D(2);Qe("gl-pop-up__header-counter--narrow",t.isCloseIconVisible()),P(),A("lang",t.lang())("translation",t.translation())("fallbackValue",t.labels.counterTitle),P(2),A("lang",t.lang())("translation",t.translation())("fallbackValue",t.popUpContent().counter.current),P(),ge(t.popUpContent().counter.current&&t.popUpContent().counter.total?4:-1),P(),ge(t.popUpContent().counter.total?5:-1)}}function xJ(n,e){if(1&n&&$(0,"div",24),2&n){const t=D(2);A("lang",t.lang())("translation",t.translation())("fallbackValue",t.availableHeaderTitle())}}function kJ(n,e){if(1&n&&(V(0,"div",21)(1,"div",22),te(2,DJ,6,10,"div",23)(3,xJ,1,3,"div",24),j()()),2&n){const t=D();Qe("gl-pop-up__header-content--narrow",!t.availableCounter()&&t.availableHeaderTitle()&&t.isCloseIconVisible()),P(),Qe("gl-pop-up__header--bodyScrolable",t.bodyHasScroll&&!t.isCloseIconVisible())("configure",t.configureMode()),P(),ge(t.availableCounter()?2:-1),P(),ge(t.availableHeaderTitle()?3:-1)}}function AJ(n,e){if(1&n&&$(0,"div",30),2&n){const t=D();Qe("gl-pop-up__body--narrow",!t.availableCounter()&&!t.availableHeaderTitle()&&t.isCloseIconVisible()),A("lang",t.lang())("translation",t.translation())("fallbackValue",t.normalizedDescription())}}function OJ(n,e){if(1&n){const t=pt();V(0,"div",31),Ie("click",function(){_e(t);return Me(D().closePopUp())}),$(1,"i",32),j()}}function PJ(n,e){if(1&n){const t=pt();V(0,"button",33),Ie("click",function(){_e(t);return Me(D().handleCancelBtn())}),j()}if(2&n){let t;const o=D();A("lang",o.lang())("translation",o.translation())("fallbackValue",null==(t=o.popUpContent())||null==t.footer?null:t.footer.secondaryButton.text)}}function FJ(n,e){if(1&n){const t=pt();V(0,"button",34),Ie("click",function(){_e(t);return Me(D().handleConfirmBtn())}),j()}if(2&n){let t;const o=D();A("lang",o.lang())("translation",o.translation())("fallbackValue",null==(t=o.popUpContent())||null==t.footer?null:t.footer.primaryButton.text)}}class Cp{constructor(){this.id=v(),this.flowId=v(),this.configureMode=v(!1),this.width=v(),this.height=v(),this.position=v(),this.popUpContent=v({}),this.title=v(),this.events=v([]),this.overlay=v(),this.styles=v(),this.lang=v(Lt),this.translation=v({}),this.normalizedDescription=ue(""),this.normalizedNote=ue(""),this.ePopUpFooterLayout=lI,this.bodyHasScroll=!1,this.SafePipeContentType=Wn,this.ECssStepElement=ln,this.contentSideStoreService=C(xn),this.clientSideAnalyticService=C(zr),this.eventService=C(Oo),this.contentTransformerService=C(ml),this.injector=C(We),this.placement=G(()=>`gl-pop-up--${this.position()?.placement||Lv.Center}`),this.isSpotlightActive=G(()=>!!this.overlay()?.spotlight?.active),this.targetSpotlightElement=ue(null),this.analyticsAllowed=G(()=>!(!this.flowId()||!this.id())),this.minHeight=G(()=>`${this.height()<228?228:this.height()}px`),this.minWidth=G(()=>`${this.width()<340?340:this.width()}px`),this.availableCounter=G(()=>this.popUpContent().counter?.current||this.popUpContent().counter?.total),this.availableHeaderTitle=G(()=>this.popUpContent()?.header?.content||""),this.appClockWisePositionData=G(()=>{const{placement:e,distance:t}=this.position();return{distance:{x:t.x,y:t.y},placement:e,minHeight:0,maxHeight:0,width:0}}),this.isCloseIconVisible=G(()=>this.popUpContent()?.header?.isCloseButton),this.popupCfg=TI.flowCfg.GuidedTour["Pop-up"].sections,this.labels={counterSeparator:this.popupCfg.counterSeparator.defaultValue,counterTitle:this.popupCfg.counterTitle.defaultValue,noteTitle:this.popupCfg.noteTitle.defaultValue},this.handleContentChange(),this.handleAnalyticsChange()}ngAfterViewInit(){const e=this.popUpElement.nativeElement;this.targetSpotlightElement.set(e)}closePopUp(){this.handleCancelBtn()}handleCancelBtn(){const e=this.events()?.find(t=>t.type===Bv.Cancel);this.eventService.handleEvent(e||{type:Nt.Close,flowId:this.flowId()}),this.sendCloseButtonAnalyticsEvent()}handleConfirmBtn(){const e=this.events()?.find(t=>t.type===Bv.Confirm);this.eventService.handleEvent(e||{type:Nt.Next,flowId:this.flowId()}),this.sendNextButtonAnalyticsEvent()}sendVisitedAnalyticsEvent(){this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:st.Visited,systemFlowActionKindId:At.PopUp,analyticsTitle:this.title()||oe.PopUp})}sendNextButtonAnalyticsEvent(){this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:st.NextButton,systemFlowActionKindId:At.PopUp,analyticsTitle:this.title()||oe.PopUp})}sendCloseButtonAnalyticsEvent(){this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:st.Close,systemFlowActionKindId:At.PopUp,analyticsTitle:this.title()||oe.PopUp})}handleAnalyticsChange(){return Ve(()=>{this.analyticsAllowed()&&this.sendVisitedAnalyticsEvent()},{injector:this.injector})}isBodyScrollPresent(){const e=this.popupBodyEl.nativeElement;this.bodyHasScroll=e.scrollHeight>e.clientHeight}handleContentChange(){return Ve(()=>{const e=this.popUpContent()?.body?.content??"",t=this.popUpContent()?.note?.content??"";Promise.all([this.contentTransformerService.transformGuidedTourPopupBodyContent({content:e,flowId:this.flowId(),flowItemId:this.id()}),this.contentTransformerService.transformGuidedTourPopupBodyContent({content:t,flowId:this.flowId(),flowItemId:this.id()})]).then(([o,r])=>{this.normalizedDescription.set(o),this.normalizedNote.set(r),L_(()=>this.isBodyScrollPresent(),{injector:this.injector})})},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||Cp)}}static{this.\u0275cmp=$e({type:Cp,selectors:[["gl-pop-up"]],viewQuery:function(t,o){if(1&t&&(pr(CJ,5),pr(SJ,5)),2&t){let r;mr(r=_r())&&(o.popupBodyEl=r.first),mr(r=_r())&&(o.popUpElement=r.first)}},inputs:{id:[1,"id"],flowId:[1,"flowId"],configureMode:[1,"configureMode"],width:[1,"width"],height:[1,"height"],position:[1,"position"],popUpContent:[1,"popUpContent"],title:[1,"title"],events:[1,"events"],overlay:[1,"overlay"],styles:[1,"styles"],lang:[1,"lang"],translation:[1,"translation"]},decls:22,vars:34,consts:[["popUpElement",""],["popupBody",""],["translatedNote","glTranslation"],[3,"element","isSpotlightActive","overlay","isCornerCut"],["glCustomStyles","","componentSelector","gl-pop-up",3,"appClockWisePosition","styles","componentType"],[1,"gl-pop-up__topPart"],[1,"gl-pop-up__rect"],[1,"gl-pop-up__content-container"],[1,"gl-pop-up__content"],[1,"gl-pop-up__header-wrapper"],[1,"gl-pop-up__header-content",3,"gl-pop-up__header-content--narrow"],[1,"gl-pop-up__scroll"],["glTranslation","","section","body",1,"gl-pop-up__body",3,"gl-pop-up__body--narrow","lang","translation","fallbackValue"],[1,"gl-pop-up__note",3,"ngClass"],[1,"gl-pop-up__note-title"],[1,"gl-pop-up__note-icon","o-gl-icon","dds-gl-icon_alert__s__stroke"],["glTranslation","","section","noteTitle",3,"lang","translation","fallbackValue"],["glTranslation","","section","note",1,"gl-pop-up__note-content",3,"lang","translation","fallbackValue"],["data-popup-action","",1,"gl-pop-up__header-close"],["glTranslation","","section","secondaryButton",1,"gl-pop-up__button-link",3,"lang","translation","fallbackValue"],["glTranslation","","section","primaryButton",1,"gl-pop-up__button",3,"lang","translation","fallbackValue"],[1,"gl-pop-up__header-content"],[1,"gl-pop-up__header"],[1,"gl-pop-up__header-counter",3,"gl-pop-up__header-counter--narrow"],["glTranslation","","section","header",1,"gl-pop-up__title",3,"lang","translation","fallbackValue"],[1,"gl-pop-up__header-counter"],["glTranslation","","section","counterTitle",3,"lang","translation","fallbackValue"],["glTranslation","","section","currentPage",1,"gl-pop-up__header-counter--bold",3,"lang","translation","fallbackValue"],["glTranslation","","section","counterSeparator",3,"lang","translation","fallbackValue"],["glTranslation","","section","pagesQuantity",3,"lang","translation","fallbackValue"],["glTranslation","","section","body",1,"gl-pop-up__body",3,"lang","translation","fallbackValue"],["data-popup-action","",1,"gl-pop-up__header-close",3,"click"],[1,"o-gl-icon","dds-gl-icon_close__s__stroke"],["glTranslation","","section","secondaryButton",1,"gl-pop-up__button-link",3,"click","lang","translation","fallbackValue"],["glTranslation","","section","primaryButton",1,"gl-pop-up__button",3,"click","lang","translation","fallbackValue"]],template:function(t,o){if(1&t&&(te(0,IJ,1,4,"gl-element-overlay",3),V(1,"div",4,0)(3,"div",5),$(4,"div",6),j(),V(5,"div",7)(6,"div",8)(7,"div",9),te(8,kJ,4,8,"div",10),j(),V(9,"div",11,1),te(11,AJ,1,5,"div",12),V(12,"div",13)(13,"div",14),$(14,"i",15)(15,"span",16),j(),$(16,"div",17,2),j()()(),te(18,OJ,2,0,"div",18),V(19,"div"),te(20,PJ,1,3,"button",19)(21,FJ,1,3,"button",20),j()()()),2&t){const r=Ui(17);ge(o.targetSpotlightElement()?0:-1),P(),Go("gl-pop-up ",o.placement(),""),$o("width",o.minWidth())("min-height","min(75vh, "+o.minHeight()+")"),A("appClockWisePosition",o.appClockWisePositionData())("styles",o.styles())("componentType",o.ECssStepElement.Container),P(7),ge(o.availableCounter()||o.availableHeaderTitle()?8:-1),P(3),ge(o.normalizedDescription()?11:-1),P(),A("ngClass",xc(32,TJ,!r.translationStr())),P(3),A("lang",o.lang())("translation",o.translation())("fallbackValue",o.labels.noteTitle),P(),A("lang",o.lang())("translation",o.translation())("fallbackValue",o.normalizedNote()),P(2),ge(o.isCloseIconVisible()?18:-1),P(),Go("gl-pop-up__footer gl-pop-up__footer--",o.popUpContent().footer.position,""),Qe("gl-pop-up__footer--bodyScrolable",o.bodyHasScroll)("configure",o.configureMode())("gl-pop-up__footer--column",o.popUpContent().footer.layout===o.ePopUpFooterLayout.Column),P(),ge(o.popUpContent().footer.secondaryButton.isVisible?20:-1),P(),ge(o.popUpContent().footer.primaryButton.isVisible?21:-1)}},dependencies:[Yr,Tl,lb,qn,Ds],styles:['.gl-pop-up[_ngcontent-%COMP%]{box-shadow:-40px 64px 80px #0000001a;position:fixed;z-index:100050;font-family:Open Sans GL,Arial,Helvetica,sans-serif;box-sizing:border-box;min-width:340px;max-height:75vh;color:var(--gl-color);display:flex;flex-direction:column}.gl-pop-up[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.gl-pop-up__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}.gl-pop-up__content-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gl-pop-up[_ngcontent-%COMP%]:after{content:"";height:8px;background-color:var(--gl-color-border);position:absolute;bottom:0;width:100%}.gl-pop-up--Center[_ngcontent-%COMP%]{top:50%;left:50%}.gl-pop-up--CenterLeft[_ngcontent-%COMP%]{top:50%;left:52px}.gl-pop-up--CenterRight[_ngcontent-%COMP%]{top:50%;right:52px}.gl-pop-up--TopCenter[_ngcontent-%COMP%]{top:52px;left:50%}.gl-pop-up--TopLeft[_ngcontent-%COMP%]{top:52px;left:52px}.gl-pop-up--TopRight[_ngcontent-%COMP%]{top:52px;right:52px}.gl-pop-up--BottomLeft[_ngcontent-%COMP%]{bottom:52px;left:52px}.gl-pop-up--BottomCenter[_ngcontent-%COMP%]{bottom:52px;left:50%}.gl-pop-up--BottomRight[_ngcontent-%COMP%]{bottom:52px;right:52px}.gl-pop-up__topPart[_ngcontent-%COMP%]{height:17px;border-top:1px solid var(--gl-color-line);border-left:1px solid var(--gl-color-line);position:relative;background-color:var(--gl-background-primary);margin-bottom:-1px;width:calc(100% - 17px)}.gl-pop-up__topPart[_ngcontent-%COMP%]:before, .gl-pop-up__topPart[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0;border-style:solid}.gl-pop-up__topPart[_ngcontent-%COMP%]:before{right:-16px;top:-.8px;border-width:0 16px 17px 0;border-color:transparent transparent var(--gl-color-line) transparent}.gl-pop-up__topPart[_ngcontent-%COMP%]:after{top:1.4px;right:-13.8px;border-width:0 13px 14px 0;border-color:transparent transparent var(--gl-background-primary) transparent}.gl-pop-up__content-container[_ngcontent-%COMP%]{background-color:var(--gl-background-primary);border-right:1px solid;border-left:1px solid;border-color:var(--gl-color-line);flex-grow:1;max-width:100%;max-height:calc(75vh - 17px);overflow:hidden}.gl-pop-up__content-container.configure[_ngcontent-%COMP%]{pointer-events:none}.gl-pop-up__header[_ngcontent-%COMP%]{position:relative;padding:0 24px 14px;display:flex;flex-direction:column;overflow:hidden;justify-content:space-between;word-break:break-word;min-height:fit-content}.gl-pop-up__header--bodyScrolable[_ngcontent-%COMP%]{padding-right:32px}.gl-pop-up__header[_ngcontent-%COMP%]   .o-gl-icon[_ngcontent-%COMP%]{padding-top:5px;cursor:pointer}.gl-pop-up__header.configure[_ngcontent-%COMP%]{pointer-events:none}.gl-pop-up__header-content--narrow[_ngcontent-%COMP%]{width:calc(100% - 24px)}.gl-pop-up__header-counter[_ngcontent-%COMP%]{margin:3px 0 11px;font-size:12px;line-height:16px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:flex;gap:2px}.gl-pop-up__header-counter--narrow[_ngcontent-%COMP%]{width:calc(100% - 24px)}.gl-pop-up__header-counter--bold[_ngcontent-%COMP%]{font-weight:700}.gl-pop-up__header-title[_ngcontent-%COMP%]{margin:0;word-wrap:break-word;min-width:0;flex:1}.gl-pop-up__header-close[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:26px;min-width:26px;position:absolute;right:15px;top:16px;background-color:transparent;color:var(--gl-color);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-pop-up__header-close[_ngcontent-%COMP%]:hover{background-color:var(--gl-transparent-hover-overlay)}.gl-pop-up__header-close[_ngcontent-%COMP%]:active{background-color:var(--gl-transparent-active-overlay)}.gl-pop-up__header-close[_ngcontent-%COMP%]:disabled, .gl-pop-up__header-close.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-highlight-popup.configure[_ngcontent-%COMP%]   .gl-pop-up__header-close[_ngcontent-%COMP%]{pointer-events:none}.gl-pop-up__scroll[_ngcontent-%COMP%]{flex-grow:1;min-width:0;overflow-y:auto;overflow-x:hidden}.gl-pop-up__scroll--has-scroll[_ngcontent-%COMP%]{padding-right:8px}.gl-pop-up__scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.gl-pop-up__scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:6px}.gl-pop-up__body[_ngcontent-%COMP%]{cursor:default;min-height:20px;font-size:14px;font-weight:400;word-break:break-word;padding:9px 24px 31px}.gl-pop-up__body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;text-decoration:underline;color:var(--gl-step-background-primary)}.gl-pop-up__body--narrow[_ngcontent-%COMP%]{width:calc(100% - 64px)}.gl-pop-up__note[_ngcontent-%COMP%]{cursor:default;min-height:20px;font-size:12px;line-height:16px;font-weight:400;word-break:break-word;background-color:var(--gl-background-note);color:var(--gl-color);padding:7px 12px 6px;margin:0 24px}.gl-pop-up__note--hidden[_ngcontent-%COMP%]{display:none}.gl-pop-up__note-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;display:flex;align-items:center;gap:6px}.gl-pop-up__note-icon[_ngcontent-%COMP%]{color:var(--gl-note-icon)}.gl-pop-up__footer[_ngcontent-%COMP%]{padding:16px 24px 24px;display:flex;gap:16px;overflow:hidden;min-height:fit-content}.gl-pop-up__footer--bodyScrolable[_ngcontent-%COMP%]{padding-right:32px}.gl-pop-up__footer.gl-pop-up__footer--column[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:8px}.gl-pop-up__footer--start[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center}.gl-pop-up__footer--start.gl-pop-up__footer--column[_ngcontent-%COMP%]{align-items:flex-start}.gl-pop-up__footer--center[_ngcontent-%COMP%]{justify-content:center;align-items:center}.gl-pop-up__footer--center.gl-pop-up__footer--column[_ngcontent-%COMP%]{align-items:center}.gl-pop-up__footer--end[_ngcontent-%COMP%]{justify-content:flex-end;align-items:center}.gl-pop-up__footer--end.gl-pop-up__footer--column[_ngcontent-%COMP%]{align-items:flex-end}.gl-pop-up__footer.configure[_ngcontent-%COMP%]{pointer-events:none}.gl-pop-up__button[_ngcontent-%COMP%]{min-width:88px;text-align:var(--gl-button-text-align);font-size:14px;line-height:20px;font-weight:400;padding:5px 12px 7px;background-color:var(--gl-background-on-primary);color:var(--gl-color-on-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-pop-up__button[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,black var(--gl-hover-overlay),var(--gl-background-on-primary))}.gl-pop-up__button[_ngcontent-%COMP%]:active{background-color:color-mix(in srgb,black var(--gl-active-overlay),var(--gl-background-on-primary))}.gl-pop-up__button[_ngcontent-%COMP%]:disabled, .gl-pop-up__button.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.configure[_ngcontent-%COMP%]   .gl-pop-up__button[_ngcontent-%COMP%]{pointer-events:none}.gl-pop-up__button-link[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-weight:400;padding:5px 12px 7px;background-color:transparent;color:var(--gl-background-on-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-pop-up__button-link[_ngcontent-%COMP%]:hover{background-color:var(--gl-transparent-hover-overlay)}.gl-pop-up__button-link[_ngcontent-%COMP%]:active{background-color:var(--gl-transparent-active-overlay)}.gl-pop-up__button-link[_ngcontent-%COMP%]:disabled, .gl-pop-up__button-link.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}[_nghost-%COMP%]     .gl-pop-up .gl-rte-action-link, [_nghost-%COMP%]     .gl-pop-up a{font-weight:500;text-decoration:underline;color:var(--gl-rte-link)}[_nghost-%COMP%]     .gl-pop-up .gl-rte-action-link--btn{color:var(--gl-step-rte-link-btn-color);background-color:var(--gl-step-rte-link-btn-bg);border:1px solid var(--gl-step-rte-link-btn-border);text-decoration:none}']})}}ZT.production;class tu{constructor(e){this.applicationRef=e,this.componentsRefs=[]}renderHighlight(e,t){return this.createAndRenderComponent(iu,e,t)}renderSelectionFrame(e,t){return this.createAndRenderComponent(aI,e,t)}renderPopUp(e,t){return this.createAndRenderComponent(Cp,e,t)}destroyHighlightsAll(){this.componentsRefs.filter(t=>t.componentType===iu).forEach(t=>t?.destroy())}destroyAll(){this.destroyList(this.componentsRefs),this.componentsRefs=[]}createAndRenderComponent(e,t,o){const i=function $W(n,e){const t=nt(n),o=e.elementInjector||ja();return new gv(t).create(o,e.projectableNodes,e.hostElement,e.environmentInjector)}(e,{hostElement:o||document.body.appendChild(document.createElement("div")),environmentInjector:this.applicationRef.injector});return t&&Object.keys(t).forEach(s=>i.setInput(s,t[s])),this.applicationRef.attachView(i.hostView),i.changeDetectorRef.detectChanges(),this.wrapDestroy(i),this.componentsRefs.push(i),i}wrapDestroy(e){const t=e.destroy;e.destroy=()=>{const o=this.componentsRefs.findIndex(r=>r===e);o>-1&&this.componentsRefs.splice(o,1),t.call(e)}}destroyList(e){for(let t=0;t<=e.length;t++)e[t]?.destroy()}static{this.\u0275fac=function(t){return new(t||tu)(L(Jn))}}static{this.\u0275prov=F({token:tu,factory:tu.\u0275fac,providedIn:"root"})}}class Tb{constructor(){this.contentRenderManager=C(tu),this.config={nonWrittableTags:["textarea","input","select","img","br","hr","link","source","track","col","area","embed","param","wbr","command","iframe","keygen"]}}createOrUpdateComponent(e){const{targetElement:t,component:o,componentInputs:r}=e;if(!t)return{cleanUp:()=>{},componentRef:null};const{cleanUp:i,wrapper:s}=this.handleDom({targetElement:t}),a=this.contentRenderManager.createAndRenderComponent(o,r,s);return this.applyComponentStyles({ref:a}),{cleanUp:()=>{i(),this.destroyComponent(a)},componentRef:a}}destroyComponent(e){e&&e.destroy()}handleDom(e){const{targetElement:t}=e;let o="";const r=document.createElement("div");r.style.display="block";const i=this.resolveContainerElement({element:t});return i===t&&(o=this.ensureElementEnablesPositionAndGetOriginalPosition({element:t})),i.appendChild(r),{wrapper:r,cleanUp:()=>{i!==t?i.remove():r.remove(),t.style.position!==o&&(t.style.position=o)}}}applyComponentStyles(e){const{ref:t}=e;if(!t?.location?.nativeElement)return;const o=t.location.nativeElement;o.style.position="absolute",o.style.left="0",o.style.top="0"}resolveContainerElement(e){const{element:t}=e;return this.isWrittableElement(e)?t:this.createContainerAfterElement(e)}createContainerAfterElement(e){const{element:t}=e,o=document.createElement("span");return t.parentNode.insertBefore(o,t.nextSibling),o}isWrittableElement(e){const{element:t}=e;return!this.config.nonWrittableTags.includes(t.tagName.toLowerCase())}ensureElementEnablesPositionAndGetOriginalPosition(e){const{element:t}=e,o=t.style.position;return["relative","absolute"].includes(o)||(t.style.position="relative"),o}static{this.\u0275fac=function(t){return new(t||Tb)}}static{this.\u0275prov=F({token:Tb,factory:Tb.\u0275fac,providedIn:"root"})}}class nu{constructor(){this.service=C(Tb),this.injector=C(We),this.handleCreateOrUpdate()}handleCreateOrUpdate(){return Ve(e=>{const t=this.element(),{cleanUp:o}=this.service.createOrUpdateComponent({targetElement:t??null,component:this.component,componentInputs:this.getInputs()});e(o)},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||nu)}}static{this.\u0275dir=xe({type:nu})}}function OA(...n){return function NJ(){return BU(1)}()(Wi(n,pg(n)))}function II(...n){const e=pg(n);return kn((t,o)=>{(e?OA(n,t,e):OA(n,t)).subscribe(o)})}function wi(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Kd(n){return n instanceof wi(n).Element||n instanceof Element}function Qi(n){return n instanceof wi(n).HTMLElement||n instanceof HTMLElement}function PA(n){return!(typeof ShadowRoot>"u")&&(n instanceof wi(n).ShadowRoot||n instanceof ShadowRoot)}var ef=Math.max,EI=Math.min,Sp=Math.round;function FA(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kH(){return!/^((?!chrome|android).)*safari/i.test(FA())}function Tp(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var o=n.getBoundingClientRect(),r=1,i=1;e&&Qi(n)&&(r=n.offsetWidth>0&&Sp(o.width)/n.offsetWidth||1,i=n.offsetHeight>0&&Sp(o.height)/n.offsetHeight||1);var a=(Kd(n)?wi(n):window).visualViewport,c=!kH()&&t,d=(o.left+(c&&a?a.offsetLeft:0))/r,f=(o.top+(c&&a?a.offsetTop:0))/i,p=o.width/r,y=o.height/i;return{width:p,height:y,top:f,right:d+p,bottom:f+y,left:d,x:d,y:f}}function NA(n){var e=wi(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ia(n){return n?(n.nodeName||"").toLowerCase():null}function ou(n){return((Kd(n)?n.ownerDocument:n.document)||window.document).documentElement}function RA(n){return Tp(ou(n)).left+NA(n).scrollLeft}function Ml(n){return wi(n).getComputedStyle(n)}function LA(n){var e=Ml(n),t=e.overflow,o=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+o)}function BJ(n,e,t){void 0===t&&(t=!1);var o=Qi(e),r=Qi(e)&&function VJ(n){var e=n.getBoundingClientRect(),t=Sp(e.width)/n.offsetWidth||1,o=Sp(e.height)/n.offsetHeight||1;return 1!==t||1!==o}(e),i=ou(e),s=Tp(n,r,t),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!t)&&(("body"!==Ia(e)||LA(i))&&(a=function LJ(n){return n!==wi(n)&&Qi(n)?function RJ(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):NA(n)}(e)),Qi(e)?((c=Tp(e,!0)).x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=RA(i))),{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function VA(n){var e=Tp(n),t=n.offsetWidth,o=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:o}}function MI(n){return"html"===Ia(n)?n:n.assignedSlot||n.parentNode||(PA(n)?n.host:null)||ou(n)}function AH(n){return["html","body","#document"].indexOf(Ia(n))>=0?n.ownerDocument.body:Qi(n)&&LA(n)?n:AH(MI(n))}function Ib(n,e){var t;void 0===e&&(e=[]);var o=AH(n),r=o===(null==(t=n.ownerDocument)?void 0:t.body),i=wi(o),s=r?[i].concat(i.visualViewport||[],LA(o)?o:[]):o,a=e.concat(s);return r?a:a.concat(Ib(MI(s)))}function UJ(n){return["table","td","th"].indexOf(Ia(n))>=0}function OH(n){return Qi(n)&&"fixed"!==Ml(n).position?n.offsetParent:null}function Eb(n){for(var e=wi(n),t=OH(n);t&&UJ(t)&&"static"===Ml(t).position;)t=OH(t);return t&&("html"===Ia(t)||"body"===Ia(t)&&"static"===Ml(t).position)?e:t||function HJ(n){var e=/firefox/i.test(FA());if(/Trident/i.test(FA())&&Qi(n)&&"fixed"===Ml(n).position)return null;var r=MI(n);for(PA(r)&&(r=r.host);Qi(r)&&["html","body"].indexOf(Ia(r))<0;){var i=Ml(r);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||e&&"filter"===i.willChange||e&&i.filter&&"none"!==i.filter)return r;r=r.parentNode}return null}(n)||e}var Xr="top",Zi="bottom",Ji="right",Qr="left",BA="auto",Mb=[Xr,Zi,Ji,Qr],Ip="start",Db="end",PH="viewport",xb="popper",FH=Mb.reduce(function(n,e){return n.concat([e+"-"+Ip,e+"-"+Db])},[]),NH=[].concat(Mb,[BA]).reduce(function(n,e){return n.concat([e,e+"-"+Ip,e+"-"+Db])},[]),KJ=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function eK(n){var e=new Map,t=new Set,o=[];function r(i){t.add(i.name),[].concat(i.requires||[],i.requiresIfExists||[]).forEach(function(a){if(!t.has(a)){var c=e.get(a);c&&r(c)}}),o.push(i)}return n.forEach(function(i){e.set(i.name,i)}),n.forEach(function(i){t.has(i.name)||r(i)}),o}function nK(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var RH={placement:"bottom",modifiers:[],strategy:"absolute"};function LH(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(o){return!(o&&"function"==typeof o.getBoundingClientRect)})}function rK(n){void 0===n&&(n={});var e=n,t=e.defaultModifiers,o=void 0===t?[]:t,r=e.defaultOptions,i=void 0===r?RH:r;return function(a,c,d){void 0===d&&(d=i);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},RH,i),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},p=[],y=!1,m={state:f,setOptions:function(O){var x="function"==typeof O?O(f.options):O;T(),f.options=Object.assign({},i,f.options,x),f.scrollParents={reference:Kd(a)?Ib(a):a.contextElement?Ib(a.contextElement):[],popper:Ib(c)};var z=function tK(n){var e=eK(n);return KJ.reduce(function(t,o){return t.concat(e.filter(function(r){return r.phase===o}))},[])}(function oK(n){var e=n.reduce(function(t,o){var r=t[o.name];return t[o.name]=r?Object.assign({},r,o,{options:Object.assign({},r.options,o.options),data:Object.assign({},r.data,o.data)}):o,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(o,f.options.modifiers)));return f.orderedModifiers=z.filter(function(ie){return ie.enabled}),function b(){f.orderedModifiers.forEach(function(M){var O=M.name,x=M.options,z=void 0===x?{}:x,ie=M.effect;if("function"==typeof ie){var ye=ie({state:f,name:O,instance:m,options:z}),Ze=function(){};p.push(ye||Ze)}})}(),m.update()},forceUpdate:function(){if(!y){var O=f.elements,x=O.reference,z=O.popper;if(LH(x,z)){f.rects={reference:BJ(x,Eb(z),"fixed"===f.options.strategy),popper:VA(z)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(io){return f.modifiersData[io.name]=Object.assign({},io.data)});for(var ie=0;ie<f.orderedModifiers.length;ie++)if(!0!==f.reset){var ye=f.orderedModifiers[ie],Ze=ye.fn,Xe=ye.options,yn=void 0===Xe?{}:Xe,ro=ye.name;"function"==typeof Ze&&(f=Ze({state:f,options:yn,name:ro,instance:m})||f)}else f.reset=!1,ie=-1}}},update:nK(function(){return new Promise(function(M){m.forceUpdate(),M(f)})}),destroy:function(){T(),y=!0}};if(!LH(a,c))return m;function T(){p.forEach(function(M){return M()}),p=[]}return m.setOptions(d).then(function(M){!y&&d.onFirstUpdate&&d.onFirstUpdate(M)}),m}}var DI={passive:!0};const sK={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function iK(n){var e=n.state,t=n.instance,o=n.options,r=o.scroll,i=void 0===r||r,s=o.resize,a=void 0===s||s,c=wi(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&d.forEach(function(f){f.addEventListener("scroll",t.update,DI)}),a&&c.addEventListener("resize",t.update,DI),function(){i&&d.forEach(function(f){f.removeEventListener("scroll",t.update,DI)}),a&&c.removeEventListener("resize",t.update,DI)}},data:{}};function Ea(n){return n.split("-")[0]}function Ep(n){return n.split("-")[1]}function UA(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function VH(n){var c,e=n.reference,t=n.element,o=n.placement,r=o?Ea(o):null,i=o?Ep(o):null,s=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2;switch(r){case Xr:c={x:s,y:e.y-t.height};break;case Zi:c={x:s,y:e.y+e.height};break;case Ji:c={x:e.x+e.width,y:a};break;case Qr:c={x:e.x-t.width,y:a};break;default:c={x:e.x,y:e.y}}var d=r?UA(r):null;if(null!=d){var f="y"===d?"height":"width";switch(i){case Ip:c[d]=c[d]-(e[f]/2-t[f]/2);break;case Db:c[d]=c[d]+(e[f]/2-t[f]/2)}}return c}const lK={name:"popperOffsets",enabled:!0,phase:"read",fn:function aK(n){var e=n.state,t=n.name;e.modifiersData[t]=VH({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var cK={top:"auto",right:"auto",bottom:"auto",left:"auto"};function BH(n){var e,t=n.popper,o=n.popperRect,r=n.placement,i=n.variation,s=n.offsets,a=n.position,c=n.gpuAcceleration,d=n.adaptive,f=n.roundOffsets,p=n.isFixed,y=s.x,m=void 0===y?0:y,b=s.y,T=void 0===b?0:b,M="function"==typeof f?f({x:m,y:T}):{x:m,y:T};m=M.x,T=M.y;var O=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),z=Qr,ie=Xr,ye=window;if(d){var Ze=Eb(t),Xe="clientHeight",yn="clientWidth";if(Ze===wi(t)&&("static"!==Ml(Ze=ou(t)).position&&"absolute"===a&&(Xe="scrollHeight",yn="scrollWidth")),r===Xr||(r===Qr||r===Ji)&&i===Db)ie=Zi,T-=(p&&Ze===ye&&ye.visualViewport?ye.visualViewport.height:Ze[Xe])-o.height,T*=c?1:-1;if(r===Qr||(r===Xr||r===Zi)&&i===Db)z=Ji,m-=(p&&Ze===ye&&ye.visualViewport?ye.visualViewport.width:Ze[yn])-o.width,m*=c?1:-1}var Sr,Qo=Object.assign({position:a},d&&cK),Ps=!0===f?function uK(n,e){var t=n.x,o=n.y,r=e.devicePixelRatio||1;return{x:Sp(t*r)/r||0,y:Sp(o*r)/r||0}}({x:m,y:T},wi(t)):{x:m,y:T};return m=Ps.x,T=Ps.y,c?Object.assign({},Qo,((Sr={})[ie]=x?"0":"",Sr[z]=O?"0":"",Sr.transform=(ye.devicePixelRatio||1)<=1?"translate("+m+"px, "+T+"px)":"translate3d("+m+"px, "+T+"px, 0)",Sr)):Object.assign({},Qo,((e={})[ie]=x?T+"px":"",e[z]=O?m+"px":"",e.transform="",e))}const fK={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function dK(n){var e=n.state,t=n.options,o=t.gpuAcceleration,r=void 0===o||o,i=t.adaptive,s=void 0===i||i,a=t.roundOffsets,c=void 0===a||a,d={placement:Ea(e.placement),variation:Ep(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,BH(Object.assign({},d,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,BH(Object.assign({},d,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};const pK={name:"applyStyles",enabled:!0,phase:"write",fn:function hK(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var o=e.styles[t]||{},r=e.attributes[t]||{},i=e.elements[t];!Qi(i)||!Ia(i)||(Object.assign(i.style,o),Object.keys(r).forEach(function(s){var a=r[s];!1===a?i.removeAttribute(s):i.setAttribute(s,!0===a?"":a)}))})},effect:function gK(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(o){var r=e.elements[o],i=e.attributes[o]||{},a=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:t[o]).reduce(function(c,d){return c[d]="",c},{});!Qi(r)||!Ia(r)||(Object.assign(r.style,a),Object.keys(i).forEach(function(c){r.removeAttribute(c)}))})}},requires:["computeStyles"]};const vK={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function _K(n){var e=n.state,t=n.options,o=n.name,r=t.offset,i=void 0===r?[0,0]:r,s=NH.reduce(function(f,p){return f[p]=function mK(n,e,t){var o=Ea(n),r=[Qr,Xr].indexOf(o)>=0?-1:1,i="function"==typeof t?t(Object.assign({},e,{placement:n})):t,s=i[0],a=i[1];return s=s||0,a=(a||0)*r,[Qr,Ji].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}(p,e.rects,i),f},{}),a=s[e.placement],c=a.x,d=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=d),e.modifiersData[o]=s}};var yK={left:"right",right:"left",bottom:"top",top:"bottom"};function xI(n){return n.replace(/left|right|bottom|top/g,function(e){return yK[e]})}var bK={start:"end",end:"start"};function UH(n){return n.replace(/start|end/g,function(e){return bK[e]})}function HH(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&PA(t)){var o=e;do{if(o&&n.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function HA(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function jH(n,e,t){return e===PH?HA(function wK(n,e){var t=wi(n),o=ou(n),r=t.visualViewport,i=o.clientWidth,s=o.clientHeight,a=0,c=0;if(r){i=r.width,s=r.height;var d=kH();(d||!d&&"fixed"===e)&&(a=r.offsetLeft,c=r.offsetTop)}return{width:i,height:s,x:a+RA(n),y:c}}(n,t)):Kd(e)?function SK(n,e){var t=Tp(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):HA(function CK(n){var e,t=ou(n),o=NA(n),r=null==(e=n.ownerDocument)?void 0:e.body,i=ef(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=ef(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-o.scrollLeft+RA(n),c=-o.scrollTop;return"rtl"===Ml(r||t).direction&&(a+=ef(t.clientWidth,r?r.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}(ou(n)))}function IK(n,e,t,o){var r="clippingParents"===e?function TK(n){var e=Ib(MI(n)),o=["absolute","fixed"].indexOf(Ml(n).position)>=0&&Qi(n)?Eb(n):n;return Kd(o)?e.filter(function(r){return Kd(r)&&HH(r,o)&&"body"!==Ia(r)}):[]}(n):[].concat(e),i=[].concat(r,[t]),s=i[0],a=i.reduce(function(c,d){var f=jH(n,d,o);return c.top=ef(f.top,c.top),c.right=EI(f.right,c.right),c.bottom=EI(f.bottom,c.bottom),c.left=ef(f.left,c.left),c},jH(n,s,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function GH(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function zH(n,e){return e.reduce(function(t,o){return t[o]=n,t},{})}function kb(n,e){void 0===e&&(e={});var t=e,o=t.placement,r=void 0===o?n.placement:o,i=t.strategy,s=void 0===i?n.strategy:i,a=t.boundary,c=void 0===a?"clippingParents":a,d=t.rootBoundary,f=void 0===d?PH:d,p=t.elementContext,y=void 0===p?xb:p,m=t.altBoundary,b=void 0!==m&&m,T=t.padding,M=void 0===T?0:T,O=GH("number"!=typeof M?M:zH(M,Mb)),x=y===xb?"reference":xb,z=n.rects.popper,ie=n.elements[b?x:y],ye=IK(Kd(ie)?ie:ie.contextElement||ou(n.elements.popper),c,f,s),Ze=Tp(n.elements.reference),Xe=VH({reference:Ze,element:z,strategy:"absolute",placement:r}),yn=HA(Object.assign({},z,Xe)),ro=y===xb?yn:Ze,io={top:ye.top-ro.top+O.top,bottom:ro.bottom-ye.bottom+O.bottom,left:ye.left-ro.left+O.left,right:ro.right-ye.right+O.right},Qo=n.modifiersData.offset;if(y===xb&&Qo){var Ps=Qo[r];Object.keys(io).forEach(function(Sr){var sf=[Ji,Zi].indexOf(Sr)>=0?1:-1,af=[Xr,Zi].indexOf(Sr)>=0?"y":"x";io[Sr]+=Ps[af]*sf})}return io}const xK={name:"flip",enabled:!0,phase:"main",fn:function DK(n){var e=n.state,t=n.options,o=n.name;if(!e.modifiersData[o]._skip){for(var r=t.mainAxis,i=void 0===r||r,s=t.altAxis,a=void 0===s||s,c=t.fallbackPlacements,d=t.padding,f=t.boundary,p=t.rootBoundary,y=t.altBoundary,m=t.flipVariations,b=void 0===m||m,T=t.allowedAutoPlacements,M=e.options.placement,O=Ea(M),z=c||(O===M||!b?[xI(M)]:function MK(n){if(Ea(n)===BA)return[];var e=xI(n);return[UH(n),e,UH(e)]}(M)),ie=[M].concat(z).reduce(function($p,cu){return $p.concat(Ea(cu)===BA?function EK(n,e){void 0===e&&(e={});var t=e,o=t.placement,r=t.boundary,i=t.rootBoundary,s=t.padding,a=t.flipVariations,c=t.allowedAutoPlacements,d=void 0===c?NH:c,f=Ep(o),p=f?a?FH:FH.filter(function(b){return Ep(b)===f}):Mb,y=p.filter(function(b){return d.indexOf(b)>=0});0===y.length&&(y=p);var m=y.reduce(function(b,T){return b[T]=kb(n,{placement:T,boundary:r,rootBoundary:i,padding:s})[Ea(T)],b},{});return Object.keys(m).sort(function(b,T){return m[b]-m[T]})}(e,{placement:cu,boundary:f,rootBoundary:p,padding:d,flipVariations:b,allowedAutoPlacements:T}):cu)},[]),ye=e.rects.reference,Ze=e.rects.popper,Xe=new Map,yn=!0,ro=ie[0],io=0;io<ie.length;io++){var Qo=ie[io],Ps=Ea(Qo),Sr=Ep(Qo)===Ip,sf=[Xr,Zi].indexOf(Ps)>=0,af=sf?"width":"height",Ci=kb(e,{placement:Qo,boundary:f,rootBoundary:p,altBoundary:y,padding:d}),Fs=sf?Sr?Ji:Qr:Sr?Zi:Xr;ye[af]>Ze[af]&&(Fs=xI(Fs));var cE=xI(Fs),lf=[];if(i&&lf.push(Ci[Ps]<=0),a&&lf.push(Ci[Fs]<=0,Ci[cE]<=0),lf.every(function($p){return $p})){ro=Qo,yn=!1;break}Xe.set(Qo,lf)}if(yn)for(var nO=function(cu){var Sw=ie.find(function(fE){var cf=Xe.get(fE);if(cf)return cf.slice(0,cu).every(function(oO){return oO})});if(Sw)return ro=Sw,"break"},Cw=b?3:1;Cw>0;Cw--){if("break"===nO(Cw))break}e.placement!==ro&&(e.modifiersData[o]._skip=!0,e.placement=ro,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ab(n,e,t){return ef(n,EI(e,t))}const PK={name:"preventOverflow",enabled:!0,phase:"main",fn:function OK(n){var e=n.state,t=n.options,o=n.name,r=t.mainAxis,i=void 0===r||r,s=t.altAxis,a=void 0!==s&&s,c=t.boundary,d=t.rootBoundary,f=t.altBoundary,p=t.padding,y=t.tether,m=void 0===y||y,b=t.tetherOffset,T=void 0===b?0:b,M=kb(e,{boundary:c,rootBoundary:d,padding:p,altBoundary:f}),O=Ea(e.placement),x=Ep(e.placement),z=!x,ie=UA(O),ye=function kK(n){return"x"===n?"y":"x"}(ie),Ze=e.modifiersData.popperOffsets,Xe=e.rects.reference,yn=e.rects.popper,ro="function"==typeof T?T(Object.assign({},e.rects,{placement:e.placement})):T,io="number"==typeof ro?{mainAxis:ro,altAxis:ro}:Object.assign({mainAxis:0,altAxis:0},ro),Qo=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Ps={x:0,y:0};if(Ze){if(i){var Sr,sf="y"===ie?Xr:Qr,af="y"===ie?Zi:Ji,Ci="y"===ie?"height":"width",Fs=Ze[ie],cE=Fs+M[sf],lf=Fs-M[af],uE=m?-yn[Ci]/2:0,nO=x===Ip?Xe[Ci]:yn[Ci],Cw=x===Ip?-yn[Ci]:-Xe[Ci],dE=e.elements.arrow,$p=m&&dE?VA(dE):{width:0,height:0},cu=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Sw=cu[sf],fE=cu[af],cf=Ab(0,Xe[Ci],$p[Ci]),oO=z?Xe[Ci]/2-uE-cf-Sw-io.mainAxis:nO-cf-Sw-io.mainAxis,ure=z?-Xe[Ci]/2+uE+cf+fE+io.mainAxis:Cw+cf+fE+io.mainAxis,rO=e.elements.arrow&&Eb(e.elements.arrow),dre=rO?"y"===ie?rO.clientTop||0:rO.clientLeft||0:0,M3=null!=(Sr=Qo?.[ie])?Sr:0,hre=Fs+ure-M3,D3=Ab(m?EI(cE,Fs+oO-M3-dre):cE,Fs,m?ef(lf,hre):lf);Ze[ie]=D3,Ps[ie]=D3-Fs}if(a){var x3,gre="x"===ie?Xr:Qr,pre="x"===ie?Zi:Ji,uf=Ze[ye],hE="y"===ye?"height":"width",k3=uf+M[gre],A3=uf-M[pre],iO=-1!==[Xr,Qr].indexOf(O),O3=null!=(x3=Qo?.[ye])?x3:0,P3=iO?k3:uf-Xe[hE]-yn[hE]-O3+io.altAxis,F3=iO?uf+Xe[hE]+yn[hE]-O3-io.altAxis:A3,N3=m&&iO?function AK(n,e,t){var o=Ab(n,e,t);return o>t?t:o}(P3,uf,F3):Ab(m?P3:k3,uf,m?F3:A3);Ze[ye]=N3,Ps[ye]=N3-uf}e.modifiersData[o]=Ps}},requiresIfExists:["offset"]};const LK={name:"arrow",enabled:!0,phase:"main",fn:function NK(n){var e,t=n.state,o=n.name,r=n.options,i=t.elements.arrow,s=t.modifiersData.popperOffsets,a=Ea(t.placement),c=UA(a),f=[Qr,Ji].indexOf(a)>=0?"height":"width";if(i&&s){var p=function(e,t){return GH("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:zH(e,Mb))}(r.padding,t),y=VA(i),m="y"===c?Xr:Qr,b="y"===c?Zi:Ji,T=t.rects.reference[f]+t.rects.reference[c]-s[c]-t.rects.popper[f],M=s[c]-t.rects.reference[c],O=Eb(i),x=O?"y"===c?O.clientHeight||0:O.clientWidth||0:0,z=T/2-M/2,ie=p[m],ye=x-y[f]-p[b],Ze=x/2-y[f]/2+z,Xe=Ab(ie,Ze,ye),yn=c;t.modifiersData[o]=((e={})[yn]=Xe,e.centerOffset=Xe-Ze,e)}},effect:function RK(n){var e=n.state,o=n.options.element,r=void 0===o?"[data-popper-arrow]":o;null!=r&&("string"==typeof r&&!(r=e.elements.popper.querySelector(r))||HH(e.elements.popper,r)&&(e.elements.arrow=r))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function WH(n,e,t){return void 0===t&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function qH(n){return[Xr,Ji,Zi,Qr].some(function(e){return n[e]>=0})}var BK=[sK,lK,fK,pK,vK,xK,PK,LK,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function VK(n){var e=n.state,t=n.name,o=e.rects.reference,r=e.rects.popper,i=e.modifiersData.preventOverflow,s=kb(e,{elementContext:"reference"}),a=kb(e,{altBoundary:!0}),c=WH(s,o),d=WH(a,r,i),f=qH(c),p=qH(d);e.modifiersData[t]={referenceClippingOffsets:c,popperEscapeOffsets:d,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}}],UK=rK({defaultModifiers:BK});const Ob={modifiers:[{name:"preventOverflow",enabled:!1},{name:"hide",enabled:!1},{name:"flip",enabled:!1},{name:"computeStyles",options:{gpuAcceleration:!0}},{name:"applyStyles",enabled:!0},{name:"offset",options:{offset:[0,0]}}]};class ru{constructor(){this.targetElement=v.required(),this.position=v(null),this.defaultPlacement=v.required(),this.offset=v(0),this.attachToHostElement=v(!1),this.strategy=v(),this.watchPosition=v(!0),this.watchPositionIntervalMs=v(300),this.flowElement=v(null),this.isHighlightActive=v(!1),this.host=C(ct),this.renderer=C(fr),this.popperInstance=null,this.flowHTMLElement=G(()=>this.flowElement()??this.host.nativeElement),this.defautlFrameWidthPx=4,this.updateInterval=null,Ve(()=>{const e=this.targetElement(),t=this.position(),o=this.defaultPlacement(),r=this.offset(),i=this.attachToHostElement(),s=this.strategy()??"absolute",a=this.flowHTMLElement(),c=this.watchPosition(),d="fixed"===this.strategy()?0:this.watchPositionIntervalMs(),f=this.defautlFrameWidthPx;this.onInputChange({flowElement:a,targetElement:e,position:t,defaultPlacement:o,offset:r,attachToHost:i,strategy:s,watchPosition:c,watchPositionIntervalMs:d,frameWidthPx:f})})}ngOnDestroy(){this.destroyPopper(),this.attachToHostElement()&&this.flowHTMLElement()&&this.flowHTMLElement().remove()}onInputChange(e){const{flowElement:t,targetElement:o,position:r,defaultPlacement:i,offset:s,attachToHost:a}=e;if(!this.popperInstance||o&&r)return a?this.doAttachToHost({targetElement:o,flowElement:t,position:r,defaultPlacement:i,offset:s}):(this.popperInstance&&this.destroyPopper(),void this.createPopper(e));this.destroyPopper()}createPopper(e){const{targetElement:t,flowElement:o,watchPosition:r,watchPositionIntervalMs:i}=e;!t||!o||requestAnimationFrame(()=>{if(!o)return;const s=this.resolvePopperOpts(e);this.popperInstance=UK(t,o,s),r&&this.startWatchElementSizeChange({watchPositionIntervalMs:i,targetElement:t,flowElement:o})})}startWatchElementSizeChange(e){const{watchPositionIntervalMs:t,targetElement:o,flowElement:r}=e;this.updateInterval=setInterval(()=>{if(this.popperInstance){if(RB(o))return r.style.display="none",void(r.dataset.glhidden="true");r.dataset.glhidden&&(delete r.dataset.glhidden,r.style.display=""),this.popperInstance.update()}else this.stopWatchElementSizeChange()},t)}stopWatchElementSizeChange(){this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null)}destroyPopper(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null),this.stopWatchElementSizeChange()}getPopperPlacemnt(e){switch(e){case me.BottomLeft:return"bottom-start";case me.BottomRight:return"bottom-end";case me.TopLeft:return"top-start";case me.TopRight:return"top-end";case me.LeftTop:return"left-start";case me.LeftBottom:return"left-end";case me.RightTop:return"right-start";case me.RightBottom:return"right-end";case me.Top:return"top";case me.Bottom:return"bottom";case me.Left:return"left";case me.Right:return"right";case me.Center:return"left";default:return"top"}}resolvePopperOpts(e){const{flowElement:t,targetElement:o,position:r,defaultPlacement:i,offset:s,strategy:a,frameWidthPx:c}=e,d=this.resolvePlacement({placement:r?.placement,defaultPlacement:i}),{skid:f,distance:p}=this.getPopperOffsetConfig({targetElement:o,flowElement:t,position:r,placement:d,offset:s,frameWidthPx:c}),y=this.getPopperPlacemnt(d);return this.getPopperOpts({placement:y,skid:f,distance:p,strategy:a,flowElement:t})}getPopperOpts(e){const{placement:t,skid:o,distance:r,strategy:i,flowElement:s}=e,a=Ob.modifiers.find(f=>"offset"===f.name),c=Ob.modifiers.find(f=>"computeStyles"===f.name),d=getComputedStyle(s).position;return{...Ob,strategy:i,placement:t,modifiers:[...Ob.modifiers.filter(f=>f!==a),...Ob.modifiers.filter(f=>f!==c),{...a,options:{...a.options,offset:[o,r]}},{...c,options:{...c.options,gpuAcceleration:"fixed"!==d}}]}}resolvePlacement(e){const{placement:t,defaultPlacement:o}=e;return t||o}getPopperOffsetConfig(e){const{position:t,offset:o,placement:r,flowElement:i,targetElement:s,frameWidthPx:a}=e,c=t,d=c?.distance??{},{x:f=0,y:p=0}=d,y=c?.buttonFlowPosition,m={skid:0,distance:o};switch(r){case me.BottomLeft:case me.BottomRight:case me.Bottom:m.skid=f,m.distance=m.distance-p,this.applyPositionAdjustments({buttonFlowPosition:y,targetElement:s,flowElement:i,conf:m,placement:r,frameWidthPx:a});break;case me.TopLeft:case me.TopRight:case me.Top:m.skid=f,m.distance=m.distance+p,this.applyPositionAdjustments({buttonFlowPosition:y,targetElement:s,flowElement:i,conf:m,placement:r,frameWidthPx:a});break;case me.LeftBottom:case me.LeftTop:case me.Left:m.skid=-p,m.distance=m.distance-f,this.applyPositionAdjustments({buttonFlowPosition:y,targetElement:s,flowElement:i,conf:m,placement:r,frameWidthPx:a});break;case me.RightBottom:case me.RightTop:case me.Right:m.skid=-p,m.distance=m.distance+f,this.applyPositionAdjustments({buttonFlowPosition:y,targetElement:s,flowElement:i,conf:m,placement:r,frameWidthPx:a});break;case me.Center:m.skid=-p,m.distance=m.distance-f,this.applyPositionAdjustments({buttonFlowPosition:y,targetElement:s,flowElement:i,conf:m,placement:r,frameWidthPx:a})}return this.applyFramedElementPositionAdjustments({conf:m,placement:r,buttonFlowPosition:y,frameWidthPx:a}),m}getElementRect(e){return e.getBoundingClientRect()}applyPositionAdjustments(e){const{buttonFlowPosition:t,targetElement:o,flowElement:r,conf:i,placement:s}=e;if(t===Vg.Outer)switch(s){case me.TopLeft:case me.BottomLeft:const{width:a}=this.getElementRect(r);i.skid=i.skid-a;break;case me.TopRight:case me.BottomRight:const{width:c}=this.getElementRect(r);i.skid=i.skid+c}else if(t===Vg.Inner){const c=[me.BottomLeft,me.BottomRight,me.Bottom,me.TopLeft,me.TopRight,me.Top].includes(s),f=[me.LeftBottom,me.LeftTop,me.Left,me.RightBottom,me.RightTop,me.Right].includes(s),p=s===me.Center;if(c){const{height:y}=this.getElementRect(r);i.distance=i.distance-y}if(f){const{width:y}=this.getElementRect(r);i.distance=i.distance-y}if(p){const{width:y}=this.getElementRect(o),{width:m}=this.getElementRect(r),b=m/2+y/2;i.distance=i.distance-b}}}doAttachToHost(e){const{targetElement:t,flowElement:o}=e;if(!t)return;const{top:r,left:i}=this.getAttachedToHostTopLeft(e);this.renderer.setStyle(o,"left",`${i}px`),this.renderer.setStyle(o,"top",`${r}px`)}getAttachedToHostTopLeft(e){const{targetElement:t,flowElement:o,position:r,defaultPlacement:i,offset:s}=e,a=this.resolvePlacement({placement:r.placement,defaultPlacement:i}),{width:c,height:d}=this.getElementRect(t),{width:f,height:p}=this.getElementRect(o);let y=0,m=0;switch(a){case me.BottomLeft:y=d+s;break;case me.BottomRight:y=d+s,m=c-f;break;case me.Bottom:y=d+s,m=c/2-f/2;break;case me.TopLeft:y=-p-s;break;case me.TopRight:y=-p-s,m=c-f;break;case me.Top:y=-p-s,m=c/2-f/2;break;case me.LeftBottom:y=d-p,m=-f-s;break;case me.LeftTop:m=-f-s;break;case me.Left:y=d/2-p/2,m=-f-s;break;case me.RightBottom:y=d-p,m=c+s;break;case me.RightTop:m=c+s;break;case me.Right:y=d/2-p/2,m=c+s;break;case me.Center:y=d/2-p/2,m=c/2-f/2}return{top:y,left:m}}applyFramedElementPositionAdjustments(e){const{conf:t,frameWidthPx:o,placement:r,buttonFlowPosition:i}=e;if(0!==o&&i!==Vg.Inner&&r!==me.Center){switch(r){case me.BottomLeft:case me.TopLeft:case me.LeftTop:case me.RightTop:t.skid-=o;break;case me.BottomRight:case me.TopRight:case me.LeftBottom:case me.RightBottom:t.skid+=o}t.distance+=o}}static{this.\u0275fac=function(t){return new(t||ru)}}static{this.\u0275dir=xe({type:ru,selectors:[["","glElementPositionSync",""]],inputs:{targetElement:[1,"targetElement"],position:[1,"position"],defaultPlacement:[1,"defaultPlacement"],offset:[1,"offset"],attachToHostElement:[1,"attachToHostElement"],strategy:[1,"strategy"],watchPosition:[1,"watchPosition"],watchPositionIntervalMs:[1,"watchPositionIntervalMs"],flowElement:[1,"flowElement"],isHighlightActive:[1,"isHighlightActive"]}})}}const jK=["margin-top: -18","margin-top: -40","margin-top: -15","margin-top: -20","margin-top: -25","margin-top: -34","margin-top: -42"],GK=["highlightPopup"],zK=n=>({"gl-highlight-popup__note--hidden":n});function WK(n,e){if(1&n&&$(0,"span",33),2&n){const t=D(3);A("lang",t.lang())("translation",t.translation())("fallbackValue",t.counter().current)}}function qK(n,e){if(1&n&&$(0,"span",34),2&n){const t=D(3);A("lang",t.lang())("translation",t.translation())("fallbackValue",t.labels.counterSeparator)}}function YK(n,e){if(1&n&&$(0,"span",35),2&n){const t=D(3);A("lang",t.lang())("translation",t.translation())("fallbackValue",t.counter().total)}}function XK(n,e){if(1&n&&(V(0,"div",31),$(1,"span",32),Hn(2,": "),te(3,WK,1,3,"span",33)(4,qK,1,3,"span",34)(5,YK,1,3,"span",35),j()),2&n){const t=D(2);Qe("gl-highlight-popup__header-counter--narrow",t.isCloseButton()),P(),A("lang",t.lang())("translation",t.translation())("fallbackValue",t.labels.counterTitle),P(2),ge(t.counter().current?3:-1),P(),ge(t.counter().current&&t.counter().total?4:-1),P(),ge(t.counter().total?5:-1)}}function QK(n,e){if(1&n&&$(0,"span",30),2&n){const t=D(2);A("styles",t.preProcessedStyles())("componentType",t.ECssStepElement.Title)("injectStylesInHost",t.attachedToHostElement())("lang",t.lang())("translation",t.translation())("fallbackValue",t.processedHeader())}}function ZK(n,e){if(1&n&&(V(0,"div",8),te(1,XK,6,8,"div",29)(2,QK,1,6,"span",30),j()),2&n){const t=D();P(),ge(t.availableCounter()?1:-1),P(),ge(t.processedHeader()?2:-1)}}function JK(n,e){if(1&n&&$(0,"div",36),2&n){const t=D();Qe("gl-highlight-popup__body--narrow",!t.availableCounter()&&!t.processedHeader()&&t.isCloseButton()),A("styles",t.preProcessedStyles())("componentType",t.ECssStepElement.Description)("injectStylesInHost",t.attachedToHostElement())("lang",t.lang())("translation",t.translation())("fallbackValue",t.description())}}function KK(n,e){if(1&n){const t=pt();V(0,"div",38),Ie("mousedown",function(){_e(t);return Me(D(2).handleClose())}),$(1,"i",39),j()}}function eee(n,e){if(1&n){const t=pt();V(0,"div",40),Ie("click",function(){_e(t);return Me(D(2).handleClose())}),$(1,"i",39),j()}}function tee(n,e){if(1&n&&(V(0,"div"),te(1,KK,2,0,"div",37)(2,eee,2,0,"div",37),j()),2&n){const t=D();P(),ge(t.nextActionType()===t.mouseDownActionType?1:2)}}function nee(n,e){if(1&n){const t=pt();V(0,"button",42),Ie("mousedown",function(r){_e(t);return Me(D(2).onNextClick(r))}),$(1,"span",43),j()}if(2&n){const t=D(2);P(),A("lang",t.lang())("translation",t.translation())("fallbackValue",t.primaryButtonText())}}function oee(n,e){if(1&n){const t=pt();V(0,"button",44),Ie("click",function(r){_e(t);return Me(D(2).onNextClick(r))}),$(1,"span",43),j()}if(2&n){const t=D(2);P(),A("lang",t.lang())("translation",t.translation())("fallbackValue",t.primaryButtonText())}}function ree(n,e){if(1&n&&te(0,nee,2,3,"button",41)(1,oee,2,3,"button",41),2&n){const t=D();ge(t.nextActionType()===t.mouseDownActionType||t.configureMode()?0:1)}}class Pb{constructor(){this.element=v(null),this.configureMode=v(!1),this.selector=v(null),this.title=v(""),this.description=v(""),this.note=v(""),this.position=v(),this.triggerType=v(),this.styles=v(void 0),this.events=v(void 0),this.flowId=v(),this.id=v(),this.isCloseButton=v(),this.primaryButtonText=v(),this.cases=v([]),this.mainTrigger=v(),this.zIndex=v(),this.continueInNewTab=v(),this.nextActionType=v(),this.attachedToHostElement=v(!1),this.isHighlightActive=v(!1),this.counter=v(),this.lang=v(),this.translation=v(),this.onClose=tn(),this.isProcessingActiveTrigger$=new Hs(!1),this.injector=C(We),this.eventService=C(Oo),this.supportPlayModeService=C(Gc),this.elementRef=C(ct),this.destroyRef=C(Bn),this.visible=ue(!1),this.ECssStepElement=ln,this.safePipeContentType=Wn,this.defaultPlacement=me.BottomLeft,this.mouseDownActionType="mouseDown",this.arrowSize=16,this.processedHeader=G(()=>this.headerTextOrEmpty()),this.preProcessedStyles=G(()=>{const{styling:e}=this.styles(),t=(n=>{let e=n;return jK.forEach(o=>{e=((o,r)=>{let i=o;if(o.includes(r)){const s=o.indexOf(r);let a;s>-1&&(a=o.indexOf(";",s)),a>-1&&(i=o.replace(o.substring(s,a),""))}return i})(e,o)}),e})(e);return{...this.styles(),styling:t}}),this.arrowPosition=G(()=>{const e=this.position()?.placement||this.defaultPlacement;return`gl-highlight-popup--${Dn[e]}`}),this.showFooter=G(()=>this.isClickOnButtonTrigger()||this.isStepWithoutTriggers()),this.availableCounter=G(()=>this.counter()?.current||this.counter()?.total),this.isClickOnButtonTrigger=G(()=>this.mainTrigger()?.triggerType===qo.ClickOnButton),this.isStepWithoutTriggers=G(()=>!(this.cases()?.length||this.mainTrigger()||this.triggerType()&&this.triggerType()!==qo.ClickOnButton)),this.isCustomTrigger=G(()=>this.mainTrigger()?.triggerType===qo.CustomTrigger||this.cases()?.some(e=>e.triggerType===qo.CustomTrigger)),this.headerTextOrEmpty=ue(null),this.popupCfg=TI.flowCfg.GuidedTour.Step.sections,this.labels={counterSeparator:this.popupCfg.counterSeparator.defaultValue,counterTitle:this.popupCfg.counterTitle.defaultValue,noteTitle:this.popupCfg.noteTitle.defaultValue},this.handleTriggers(),this.handleCustomStyles(),this.handleTitleForHeader()}ngAfterViewInit(){this.visible.set(!0)}onNextClick(e){var t=this;return g(function*(){e.stopPropagation(),e.preventDefault(),yield t.handleNext()})()}handleNext(e){var t=this;return g(function*(){const o=t.events()?.find(r=>r.type===Nt.Next);yield t.eventService.handleEvent(o||{type:Nt.Next,flowId:t.flowId(),action:e})})()}handleClose(){var e=this;return g(function*(){e.onClose.emit()})()}onContentMouseDown(e){if(this.nextActionType()===this.mouseDownActionType){const o=e.target.closest("a");if(o&&o.hasAttribute("data-mouse-down")){const r=o.getAttribute("href");if(!r)return;const i=o.getAttribute("target");if(e.preventDefault(),e.ctrlKey||e.metaKey||1===e.button||"_blank"===i)return void window.open(r,"_blank");window.location.href=r}}}triggerConstantlyMonitor(){return this.supportPlayModeService.bodyMutations$.pipe(nB(this.isProcessingActiveTrigger$),vi(([e,t])=>t?this.isProcessingActiveTrigger$.pipe(jn(o=>!o),Sd(1),mt(()=>e)):ma(e)),vi(()=>Wi(this.handleNext({type:zi.TriggerActivation,payload:{isPassive:!0,flowStepId:this.id()}}))))}getActiveTriggers(e=[]){return e.reduce((t,o)=>{let r;const{triggerType:i}=o;if(i===qo.ClickOnElement&&(r={triggerId:String(o.id),triggerType:i,xPath:this.selector().value,eventType:this.nextActionType(),continueInNewTab:o?.continueInNewTab}),i===qo.CustomTrigger){const{precondition:{ruleSet:{conditions:s}}}=o,a=s?.find(c=>"activeAction"===c.type);a&&(r={triggerId:String(o.id),triggerType:i,xPath:a.subject?.xPath,eventType:a.predicate?.type,continueInNewTab:o?.continueInNewTab})}return r&&t.push(r),t},[])}initSubscriptionsOnActiveTriggers(e){const t=[],o=[];return e.forEach(r=>{const i=new Hs([]),s=this.supportPlayModeService.bodyMutations$.pipe(II(null),pk(this.destroyRef),mt(()=>Rt.getAllElementsByXPath(r.xPath)),hl((d,f)=>f.length===d.length&&f.every(y=>d.some(m=>m.isEqualNode(y))))).subscribe(i);o.push(s);const c=("mouseDown"===r.eventType?this.supportPlayModeService.mouseDownBodyEventBroadcast$:this.supportPlayModeService.clickBodyEventBroadcast$).pipe(jn(d=>!this.root.nativeElement.contains(d.target)),mt(d=>i.value.find(f=>f.contains(d.target))),jn(Boolean),_a(()=>{!0!==this.isProcessingActiveTrigger$.value&&this.isProcessingActiveTrigger$.next(!0)}),vi(d=>{const p=!!d.closest('a[target="_blank"]')||r.continueInNewTab;return Wi(this.handleNext({type:zi.TriggerActivation,payload:{triggerId:r.triggerId,triggerType:r.triggerType,flowStepId:this.id(),isContinueInNewTab:p}}))}),mt(()=>{}));t.push(c)}),{activeActionElementsSub:o,activeActionObs:Sl(...t).pipe(_a(()=>this.isProcessingActiveTrigger$.next(!1)))}}handleTriggers(){return Ve(e=>{const t=this.cases()?.length||this.mainTrigger()&&!this.isClickOnButtonTrigger();if(!this.configureMode()&&t){const o=this?.cases()??[],r=this.mainTrigger()&&!this.isClickOnButtonTrigger()?[this.mainTrigger(),...o]:o,i=this.getActiveTriggers(r),s=this.initSubscriptionsOnActiveTriggers(i),a=s.activeActionObs.subscribe(),c=this.isCustomTrigger()?this.triggerConstantlyMonitor().subscribe():null;e(()=>{s.activeActionElementsSub.forEach(d=>d.unsubscribe()),a.unsubscribe(),c?.unsubscribe()})}},{injector:this.injector})}handleCustomStyles(){return Ve(e=>{const t=this.elementRef.nativeElement.tagName.toLowerCase(),o=LU(this.preProcessedStyles(),t);e(()=>{o&&VU(o)})},{injector:this.injector})}handleTitleForHeader(){return Ve(()=>{const e=this.title(),t=document.createElement("div");t.innerHTML=e;const o=t.querySelector("span");o&&""!==o.textContent.trim()?this.headerTextOrEmpty.set(e):this.headerTextOrEmpty.set(null)},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||Pb)}}static{this.\u0275cmp=$e({type:Pb,selectors:[["gl-highlight-popup"]],viewQuery:function(t,o){if(1&t&&pr(GK,7),2&t){let r;mr(r=_r())&&(o.root=r.first)}},inputs:{element:[1,"element"],configureMode:[1,"configureMode"],selector:[1,"selector"],title:[1,"title"],description:[1,"description"],note:[1,"note"],position:[1,"position"],triggerType:[1,"triggerType"],styles:[1,"styles"],events:[1,"events"],flowId:[1,"flowId"],id:[1,"id"],isCloseButton:[1,"isCloseButton"],primaryButtonText:[1,"primaryButtonText"],cases:[1,"cases"],mainTrigger:[1,"mainTrigger"],zIndex:[1,"zIndex"],continueInNewTab:[1,"continueInNewTab"],nextActionType:[1,"nextActionType"],attachedToHostElement:[1,"attachedToHostElement"],isHighlightActive:[1,"isHighlightActive"],counter:[1,"counter"],lang:[1,"lang"],translation:[1,"translation"]},outputs:{onClose:"onClose"},decls:32,vars:35,consts:[["highlightPopup",""],["translatedNote","glTranslation"],["glElementPositionSync","","glCustomStyles","","componentSelector","gl-highlight-popup",3,"targetElement","position","strategy","defaultPlacement","offset","attachToHostElement","styles","componentType","injectStylesInHost"],[1,"gl-highlight-popup__inner"],[1,"gl-highlight-popup__content-container"],[1,"gl-highlight-popup__content",3,"mousedown"],[1,"gl-highlight-popup__header-wrapper"],[1,"gl-highlight-popup__header-content"],[1,"gl-highlight-popup__header"],["glCustomStyles","","componentSelector","gl-highlight-popup__body","glTranslation","","section","body",1,"gl-highlight-popup__body",3,"gl-highlight-popup__body--narrow","styles","componentType","injectStylesInHost","lang","translation","fallbackValue"],[1,"gl-highlight-popup__note",3,"ngClass"],[1,"gl-highlight-popup__note-title"],[1,"gl-highlight-popup__note-icon","o-gl-icon","dds-gl-icon_alert__s__stroke"],["glTranslation","","section","noteTitle",3,"lang","translation","fallbackValue"],["glCustomStyles","","componentSelector","gl-highlight-popup__note-content","glTranslation","","section","note",1,"gl-highlight-popup__note-content",3,"styles","componentType","lang","translation","fallbackValue"],[1,"gl-highlight-popup__gradient"],["xmlns","http://www.w3.org/2000/svg","width","266","height","63","viewBox","0 0 266 63","fill","none"],["opacity","0.24","filter","url(#filter0_f_7520_2435)"],["d","M-0.5 55.3234C11.441 53.8467 29.1136 58.7688 38.6664 55.3234C48.2191 51.8779 75.9222 55.3234 81.6538 55.3234C87.3855 55.3234 110.79 71.5654 119.865 56.7991C128.94 42.0329 160.942 48.9255 157.598 55.3234C154.255 61.7212 175.271 59.2608 187.212 55.3234C199.153 51.3859 207.65 59.4343 230.677 56.7991C243.573 55.3234 266.5 55.3234 266.5 55.3234","stroke","url(#paint0_linear_7520_2435)","stroke-width","39"],["id","filter0_f_7520_2435","x","-30.8936","y","0.5","width","325.395","height","109.999","filterUnits","userSpaceOnUse","color-interpolation-filters","sRGB"],["flood-opacity","0","result","BackgroundImageFix"],["mode","normal","in","SourceGraphic","in2","BackgroundImageFix","result","shape"],["stdDeviation","14","result","effect1_foregroundBlur_7520_2435"],["id","paint0_linear_7520_2435","x1","-0.5","y1","55.5","x2","250.905","y2","55.5","gradientUnits","userSpaceOnUse"],["stop-color","#26890D"],["offset","0.24","stop-color","#3BF3C7"],["offset","0.49","stop-color","#F8DE56"],["offset","0.74","stop-color","#03A4FF"],["offset","1","stop-color","#6BD351"],[1,"gl-highlight-popup__header-counter",3,"gl-highlight-popup__header-counter--narrow"],["glCustomStyles","","componentSelector","gl-highlight-popup__header-title","glTranslation","","section","header",1,"gl-highlight-popup__header-title",3,"styles","componentType","injectStylesInHost","lang","translation","fallbackValue"],[1,"gl-highlight-popup__header-counter"],["glTranslation","","section","counterTitle",3,"lang","translation","fallbackValue"],["glTranslation","","section","currentPage",1,"gl-highlight-popup__header-counter--bold",3,"lang","translation","fallbackValue"],["glTranslation","","section","counterSeparator",3,"lang","translation","fallbackValue"],["glTranslation","","section","pagesQuantity",3,"lang","translation","fallbackValue"],["glCustomStyles","","componentSelector","gl-highlight-popup__body","glTranslation","","section","body",1,"gl-highlight-popup__body",3,"styles","componentType","injectStylesInHost","lang","translation","fallbackValue"],["data-popup-action","",1,"gl-highlight-popup__header-close"],["data-popup-action","",1,"gl-highlight-popup__header-close",3,"mousedown"],[1,"o-gl-icon","dds-gl-icon_close__s__stroke"],["data-popup-action","",1,"gl-highlight-popup__header-close",3,"click"],[1,"gl-highlight-popup__button"],[1,"gl-highlight-popup__button",3,"mousedown"],["glTranslation","","section","primaryButton",1,"gl-highlight-popup__button-label",3,"lang","translation","fallbackValue"],[1,"gl-highlight-popup__button",3,"click"]],template:function(t,o){if(1&t){const r=pt();V(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5),Ie("mousedown",function(s){return _e(r),Me(o.onContentMouseDown(s))}),V(5,"div",6)(6,"div",7),te(7,ZK,3,2,"div",8),j()(),te(8,JK,1,8,"div",9),V(9,"div",10)(10,"div",11),$(11,"i",12)(12,"span",13),j(),$(13,"div",14,1),j()(),te(15,tee,3,1,"div"),j(),te(16,ree,2,1),V(17,"div",15),lc(),V(18,"svg",16)(19,"g",17),$(20,"path",18),j(),V(21,"defs")(22,"filter",19),$(23,"feFlood",20)(24,"feBlend",21)(25,"feGaussianBlur",22),j(),V(26,"linearGradient",23),$(27,"stop",24)(28,"stop",25)(29,"stop",26)(30,"stop",27)(31,"stop",28),j()()()()()()}if(2&t){let r;const i=Ui(14);Go("gl-highlight-popup ",o.arrowPosition(),""),$o("z-index",o.zIndex()),Qe("visible",o.visible())("configure",o.configureMode()),A("targetElement",o.element())("position",o.position())("strategy",null!=(r=o.position())&&r.isFixed?"fixed":"absolute")("defaultPlacement",o.defaultPlacement)("offset",o.arrowSize)("attachToHostElement",o.attachedToHostElement())("styles",o.preProcessedStyles())("componentType",o.ECssStepElement.Container)("injectStylesInHost",o.attachedToHostElement()),P(6),Qe("gl-highlight-popup__header-content--narrow",!o.availableCounter()&&o.processedHeader()&&o.isCloseButton()),P(),ge(o.availableCounter()||o.processedHeader()?7:-1),P(),ge(o.description().length?8:-1),P(),A("ngClass",xc(33,zK,!i.translationStr())),P(3),A("lang",o.lang())("translation",o.translation())("fallbackValue",o.labels.noteTitle),P(),A("styles",o.preProcessedStyles())("componentType",o.ECssStepElement.Note)("lang",o.lang())("translation",o.translation())("fallbackValue",o.note()),P(2),ge(o.isCloseButton()?15:-1),P(),ge(o.showFooter()?16:-1)}},dependencies:[ru,Yr,qn,Ds],styles:['.gl-highlight-popup[_ngcontent-%COMP%]{display:flex;opacity:0;background-color:var(--gl-step-background-primary);color:var(--gl-step-color-primary);position:absolute;top:0;left:0;z-index:100050;width:266px;font-family:Open Sans GL,Arial,Helvetica,sans-serif;box-shadow:-40px 64px 80px #0000001a}.gl-highlight-popup.visible[_ngcontent-%COMP%]{opacity:1}.gl-highlight-popup[_ngcontent-%COMP%]:before{content:"";position:absolute;width:16px;height:16px}.gl-highlight-popup__inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;min-width:0;gap:18px;padding:16px;border-width:1px;border-style:solid;border-color:var(--gl-step-color-line)}.gl-highlight-popup__content-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;min-height:62px}.gl-highlight-popup__content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;max-width:100%}.gl-highlight-popup__content-body[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column}.gl-highlight-popup.gl-highlight-popup--bottom-left[_ngcontent-%COMP%]{border-top:6px solid var(--gl-step-color-border)}.gl-highlight-popup.gl-highlight-popup--bottom-left[_ngcontent-%COMP%]   .gl-highlight-popup__inner[_ngcontent-%COMP%]{border-top:none}.gl-highlight-popup.gl-highlight-popup--bottom-left[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);top:-22px;left:0}.gl-highlight-popup.gl-highlight-popup--bottom-right[_ngcontent-%COMP%]{border-top:6px solid var(--gl-step-color-border)}.gl-highlight-popup.gl-highlight-popup--bottom-right[_ngcontent-%COMP%]   .gl-highlight-popup__inner[_ngcontent-%COMP%]{border-top:none}.gl-highlight-popup.gl-highlight-popup--bottom-right[_ngcontent-%COMP%]:before{background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);top:-22px;right:0}.gl-highlight-popup.gl-highlight-popup--top-left[_ngcontent-%COMP%]{border-bottom:6px solid var(--gl-step-color-border)}.gl-highlight-popup.gl-highlight-popup--top-left[_ngcontent-%COMP%]   .gl-highlight-popup__inner[_ngcontent-%COMP%]{border-bottom:none}.gl-highlight-popup.gl-highlight-popup--top-left[_ngcontent-%COMP%]   .gl-highlight-popup__gradient[_ngcontent-%COMP%]{bottom:-6px}.gl-highlight-popup.gl-highlight-popup--top-left[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);bottom:-22px;left:0;transform:rotate(-90deg)}.gl-highlight-popup.gl-highlight-popup--top-right[_ngcontent-%COMP%]{border-bottom:6px solid var(--gl-step-color-border)}.gl-highlight-popup.gl-highlight-popup--top-right[_ngcontent-%COMP%]   .gl-highlight-popup__inner[_ngcontent-%COMP%]{border-bottom:none}.gl-highlight-popup.gl-highlight-popup--top-right[_ngcontent-%COMP%]   .gl-highlight-popup__gradient[_ngcontent-%COMP%]{bottom:-6px}.gl-highlight-popup.gl-highlight-popup--top-right[_ngcontent-%COMP%]:before{background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);bottom:-22px;right:0;transform:rotate(90deg)}.gl-highlight-popup.gl-highlight-popup--left-top[_ngcontent-%COMP%]{border-right:6px solid var(--gl-step-color-border)}.gl-highlight-popup.gl-highlight-popup--left-top[_ngcontent-%COMP%]   .gl-highlight-popup__inner[_ngcontent-%COMP%]{border-right:none}.gl-highlight-popup.gl-highlight-popup--left-top[_ngcontent-%COMP%]   .gl-highlight-popup__gradient[_ngcontent-%COMP%]{right:-6px}.gl-highlight-popup.gl-highlight-popup--left-top[_ngcontent-%COMP%]:before{top:0;right:-22px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%)}.gl-highlight-popup.gl-highlight-popup--left-bottom[_ngcontent-%COMP%]{border-right:6px solid var(--gl-step-color-border)}.gl-highlight-popup.gl-highlight-popup--left-bottom[_ngcontent-%COMP%]   .gl-highlight-popup__inner[_ngcontent-%COMP%]{border-right:none}.gl-highlight-popup.gl-highlight-popup--left-bottom[_ngcontent-%COMP%]   .gl-highlight-popup__gradient[_ngcontent-%COMP%]{right:-6px}.gl-highlight-popup.gl-highlight-popup--left-bottom[_ngcontent-%COMP%]:before{bottom:0;right:-22px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);transform:rotate(90deg)}.gl-highlight-popup.gl-highlight-popup--right-top[_ngcontent-%COMP%]{border-left:6px solid var(--gl-step-color-border)}.gl-highlight-popup.gl-highlight-popup--right-top[_ngcontent-%COMP%]   .gl-highlight-popup__inner[_ngcontent-%COMP%]{border-left:none}.gl-highlight-popup.gl-highlight-popup--right-top[_ngcontent-%COMP%]   .gl-highlight-popup__gradient[_ngcontent-%COMP%]{left:-6px}.gl-highlight-popup.gl-highlight-popup--right-top[_ngcontent-%COMP%]:before{top:0;left:-22px;background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%)}.gl-highlight-popup.gl-highlight-popup--right-bottom[_ngcontent-%COMP%]{border-left:6px solid var(--gl-step-color-border)}.gl-highlight-popup.gl-highlight-popup--right-bottom[_ngcontent-%COMP%]   .gl-highlight-popup__inner[_ngcontent-%COMP%]{border-left:none}.gl-highlight-popup.gl-highlight-popup--right-bottom[_ngcontent-%COMP%]   .gl-highlight-popup__gradient[_ngcontent-%COMP%]{left:-6px}.gl-highlight-popup.gl-highlight-popup--right-bottom[_ngcontent-%COMP%]:before{bottom:0;left:-22px;background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);transform:rotate(-90deg)}.gl-highlight-popup__gradient[_ngcontent-%COMP%]{display:flex;align-items:flex-end;position:absolute;right:0;left:0;bottom:0;z-index:-1;visibility:var(--gl-gradient-visibility)}.gl-highlight-popup__gradient[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:auto}.gl-highlight-popup__header[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;word-break:break-word;margin-bottom:13px}.gl-highlight-popup__header-container[_ngcontent-%COMP%]{min-width:0;display:flex;justify-content:space-between}.gl-highlight-popup__header-content--narrow[_ngcontent-%COMP%]{width:calc(100% - 24px)}.gl-highlight-popup__header-title[_ngcontent-%COMP%]{cursor:default;font-size:24px;line-height:24px}.gl-highlight-popup__header-counter[_ngcontent-%COMP%]{margin:3px 0 11px;font-size:12px;line-height:1.333;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:100%;display:flex;gap:2px;align-items:baseline}.gl-highlight-popup__header-counter--narrow[_ngcontent-%COMP%]{width:calc(100% - 24px)}.gl-highlight-popup__header-counter--bold[_ngcontent-%COMP%]{font-weight:700}.gl-highlight-popup__header-close[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:26px;min-width:26px;position:absolute;right:15px;top:14px;background-color:transparent;color:var(--gl-step-color-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-highlight-popup__header-close[_ngcontent-%COMP%]:hover{background-color:var(--gl-step-transparent-hover-overlay)}.gl-highlight-popup__header-close[_ngcontent-%COMP%]:active{background-color:var(--gl-step-transparent-active-overlay)}.gl-highlight-popup__header-close[_ngcontent-%COMP%]:disabled, .gl-highlight-popup__header-close.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-highlight-popup.configure[_ngcontent-%COMP%]   .gl-highlight-popup__header-close[_ngcontent-%COMP%]{pointer-events:none}.gl-highlight-popup__body[_ngcontent-%COMP%]{cursor:default;min-height:20px;font-size:14px;line-height:21px;font-weight:400;word-break:break-word}.gl-highlight-popup__body[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;text-decoration:underline;color:var(--gl-step-background-primary)}.gl-highlight-popup__body--narrow[_ngcontent-%COMP%]{width:calc(100% - 24px)}.gl-highlight-popup__note[_ngcontent-%COMP%]{cursor:default;min-height:20px;font-size:12px;line-height:16px;font-weight:400;word-break:break-word;margin-top:11px;padding:3px 12px 6px;background-color:var(--gl-step-background-note);color:var(--gl-step-color-primary)}.gl-highlight-popup__note--hidden[_ngcontent-%COMP%]{display:none}.gl-highlight-popup__note-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;display:flex;align-items:center;gap:6px}.gl-highlight-popup__note-icon[_ngcontent-%COMP%]{color:var(--gl-step-note-icon);font-size:12px}.gl-highlight-popup__note-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;text-decoration:underline;color:var(--gl-step-background-primary)}.gl-highlight-popup__button[_ngcontent-%COMP%]{padding:5px 12px 7px;align-self:flex-end;min-width:85px;text-align:var(--gl-button-text-align);background-color:var(--gl-step-background-on-primary);color:var(--gl-step-color-on-contrast);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-highlight-popup__button[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,black var(--gl-step-hover-overlay),var(--gl-step-background-on-primary))}.gl-highlight-popup__button[_ngcontent-%COMP%]:active{background-color:color-mix(in srgb,black var(--gl-step-active-overlay),var(--gl-step-background-on-primary))}.gl-highlight-popup__button[_ngcontent-%COMP%]:disabled, .gl-highlight-popup__button.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-highlight-popup.configure[_ngcontent-%COMP%]   .gl-highlight-popup__button[_ngcontent-%COMP%]{pointer-events:none}.gl-highlight-popup__button-label[_ngcontent-%COMP%]{font-family:Open Sans GL,Arial,Helvetica,sans-serif;font-size:14px;line-height:20px;font-weight:400}.gl-highlight-popup__button--defaultCursor[_ngcontent-%COMP%]{cursor:default}[_nghost-%COMP%]     .gl-highlight-popup__body .gl-rte-action-link, [_nghost-%COMP%]     .gl-highlight-popup__body a, [_nghost-%COMP%]     .gl-highlight-popup__note a{font-weight:500;text-decoration:underline;color:var(--gl-step-rte-link)}[_nghost-%COMP%]     .gl-highlight-popup__body .gl-rte-action-link--btn, [_nghost-%COMP%]     .gl-highlight-popup__note .gl-rte-action-link--btn{color:var(--gl-step-rte-link-btn-color);background-color:var(--gl-step-rte-link-btn-bg);border:1px solid var(--gl-step-rte-link-btn-border);text-decoration:none}']})}}function see(n,e){if(1&n){const t=pt();V(0,"gl-highlight-popup",2),Ie("onClose",function(){_e(t);return Me(D(2).handleClose())}),j()}if(2&n){let t,o,r,i;const s=D(2);A("element",s.element())("selector",s.selector())("title",null==(t=s.stepContent())?null:t.header.content)("description",s.normalizedDescription())("note",s.normalizedNote())("position",s.position())("configureMode",s.configureMode())("styles",s.styles())("events",s.events())("flowId",s.flowId())("id",s.id())("triggerType",s.triggerType())("isCloseButton",null==(o=s.stepContent())?null:o.header.isCloseButton)("primaryButtonText",null==(r=s.stepContent())?null:r.footer.primaryButton.text)("cases",s.cases())("mainTrigger",s.mainTrigger())("zIndex",s.zIndex())("continueInNewTab",s.continueInNewTab())("nextActionType",s.nextActionType())("isHighlightActive",s.isHighlightActive())("counter",null==(i=s.stepContent())?null:i.counter)("lang",s.lang())("translation",s.translation())}}function aee(n,e){if(1&n&&($(0,"gl-element-overlay",0),te(1,see,1,23,"gl-highlight-popup",1)),2&n){const t=D();A("element",t.element())("isHighlightActive",t.isHighlightActive())("isSpotlightActive",t.isSpotlightActive())("zIndex",t.zIndex())("overlay",t.overlay()),P(),ge(t.element()?1:-1)}}class Fb extends qr{constructor(){super(),this.configureMode=v(!1),this.selector=v(null),this.title=v(null),this.description=v(""),this.note=v(""),this.position=v(),this.triggerType=v(),this.overlayOpacity=v(.6),this.isScrollToElement=v(!0),this.styles=v(void 0),this.id=v(),this.events=v(void 0),this.flowId=v(),this.overlay=v(),this.stepContent=v(),this.cases=v(),this.mainTrigger=v(),this.zIndex=v(),this.nextActionType=v(),this.kind=v(),this.continueInNewTab=v(),this.attachedToHostElement=v(),this.lang=v(),this.translation=v(),this.counter=v(),this.contentSideStoreService=C(xn),this.clientSideAnalyticService=C(zr),this.eventService=C(Oo),this.alertsTrackerService=C(Ud),this.logger=C(Be),this.appRef=C(Jn),this.injector=C(We),this.environmentInjector=C(Co),this.contentRenderManager=C(tu),this.prevId=null,this.isHighlightActive=G(()=>!!this.element()&&!!this.overlay()?.highlight?.active),this.isSpotlightActive=G(()=>!!this.element()&&!!this.overlay()?.spotlight?.active),Ve(()=>{const e=this.id();e&&this.prevId&&this.prevId!==e&&this.sentVisitedAnalyticEvent(),this.prevId=e})}ngOnInit(){this.sentVisitedAnalyticEvent()}handleFailed(e){var t=this;return g(function*(){"noElement"===e&&t.handleMissedXPath();const o=t.events()?.find(r=>r.type===Nt.Failed);yield t.eventService.handleEvent(o||{type:Nt.Failed,flowId:t.flowId()})})()}handleClose(){var e=this;return g(function*(){const t=e.events()?.find(o=>o.type===Nt.Close);e.eventService.handleEvent(t||{type:Nt.Close,flowId:e.flowId()}),e.sendCloseAnalyticsEvent()})()}handleMissedXPath(){const e=this.selector(),t=e?.type===yr.XPath?e.value:null;t&&this.alertsTrackerService.notifyXPathNotFound({xpath:t,flowId:this.flowId(),flowItemId:this.id(),flowItemType:I7.Step})}sentVisitedAnalyticEvent(){this.analyticsAllowed()&&this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:st.Visited,systemFlowActionKindId:At.Step,analyticsTitle:this.title()||oe.Step})}sendCloseAnalyticsEvent(){this.analyticsAllowed()&&this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:st.Close,systemFlowActionKindId:At.Step,analyticsTitle:this.title()||oe.Step})}handleDescriptionChange(){return Ve(()=>{this.contentTransformerService.transformGuidedTourStepBodyContent({content:this.stepContent()?.body.content??"",flowId:this.flowId(),flowItemId:this.id()}).then(e=>{this.normalizedDescription.set(e),this.cdr.detectChanges()})},{injector:this.injector})}handleNoteChange(){return Ve(()=>{this.contentTransformerService.transformGuidedTourStepBodyContent({content:this.stepContent()?.note?.content??"",flowId:this.flowId(),flowItemId:this.id()}).then(e=>{this.normalizedNote.set(e),this.cdr.detectChanges()})},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||Fb)}}static{this.\u0275cmp=$e({type:Fb,selectors:[["gl-native-highlight"]],viewQuery:function(t,o){if(1&t&&pr(Pb,5),2&t){let r;mr(r=_r())&&(o.popup=r.first)}},inputs:{configureMode:[1,"configureMode"],selector:[1,"selector"],title:[1,"title"],description:[1,"description"],note:[1,"note"],position:[1,"position"],triggerType:[1,"triggerType"],overlayOpacity:[1,"overlayOpacity"],isScrollToElement:[1,"isScrollToElement"],styles:[1,"styles"],id:[1,"id"],events:[1,"events"],flowId:[1,"flowId"],overlay:[1,"overlay"],stepContent:[1,"stepContent"],cases:[1,"cases"],mainTrigger:[1,"mainTrigger"],zIndex:[1,"zIndex"],nextActionType:[1,"nextActionType"],kind:[1,"kind"],continueInNewTab:[1,"continueInNewTab"],attachedToHostElement:[1,"attachedToHostElement"],lang:[1,"lang"],translation:[1,"translation"],counter:[1,"counter"]},features:[ze],decls:1,vars:1,consts:[[3,"element","isHighlightActive","isSpotlightActive","zIndex","overlay"],[3,"element","selector","title","description","note","position","configureMode","styles","events","flowId","id","triggerType","isCloseButton","primaryButtonText","cases","mainTrigger","zIndex","continueInNewTab","nextActionType","isHighlightActive","counter","lang","translation"],[3,"onClose","element","selector","title","description","note","position","configureMode","styles","events","flowId","id","triggerType","isCloseButton","primaryButtonText","cases","mainTrigger","zIndex","continueInNewTab","nextActionType","isHighlightActive","counter","lang","translation"]],template:function(t,o){1&t&&te(0,aee,2,6),2&t&&ge(o.display()?0:-1)},dependencies:[Pb,Tl],encapsulation:2})}}class Nb extends nu{constructor(){super(...arguments),this.element=v(null),this.configureMode=v(!1),this.selector=v(null),this.title=v(null),this.description=v(""),this.position=v(),this.triggerType=v(),this.overlayOpacity=v(.6),this.isScrollToElement=v(!0),this.styles=v(void 0),this.events=v(void 0),this.id=v(),this.flowId=v(),this.overlay=v(),this.stepContent=v(),this.cases=v(),this.mainTrigger=v(),this.zIndex=v(),this.nextActionType=v(),this.kind=v(),this.continueInNewTab=v(),this.attachedToHostElement=v(),this.lang=v(),this.translation=v(),this.component=Fb}getInputs(){return{configureMode:this.configureMode(),selector:this.selector(),title:this.title(),description:this.description(),position:this.position(),triggerType:this.triggerType(),overlayOpacity:this.overlayOpacity(),isScrollToElement:this.isScrollToElement(),styles:this.styles(),events:this.events(),id:this.id(),flowId:this.flowId(),overlay:this.overlay(),stepContent:this.stepContent(),cases:this.cases(),mainTrigger:this.mainTrigger(),zIndex:this.zIndex(),nextActionType:this.nextActionType(),kind:this.kind(),continueInNewTab:this.continueInNewTab(),attachedToHostElement:this.attachedToHostElement(),lang:this.lang(),translation:this.translation()}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Nb)))(o||Nb)}})()}static{this.\u0275cmp=$e({type:Nb,selectors:[["gl-attached-highlight"]],inputs:{element:[1,"element"],configureMode:[1,"configureMode"],selector:[1,"selector"],title:[1,"title"],description:[1,"description"],position:[1,"position"],triggerType:[1,"triggerType"],overlayOpacity:[1,"overlayOpacity"],isScrollToElement:[1,"isScrollToElement"],styles:[1,"styles"],events:[1,"events"],id:[1,"id"],flowId:[1,"flowId"],overlay:[1,"overlay"],stepContent:[1,"stepContent"],cases:[1,"cases"],mainTrigger:[1,"mainTrigger"],zIndex:[1,"zIndex"],nextActionType:[1,"nextActionType"],kind:[1,"kind"],continueInNewTab:[1,"continueInNewTab"],attachedToHostElement:[1,"attachedToHostElement"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:0,vars:0,template:function(t,o){},encapsulation:2})}}function lee(n,e){if(1&n&&$(0,"gl-attached-highlight",0),2&n){const t=D();A("element",t.element())("configureMode",t.configureMode())("selector",t.selector())("title",t.title())("description",t.description())("position",t.position())("triggerType",t.triggerType())("overlayOpacity",t.overlayOpacity())("isScrollToElement",t.isScrollToElement())("styles",t.styles())("events",t.events())("flowId",t.flowId())("overlay",t.overlay())("stepContent",t.stepContent())("id",t.id())("cases",t.cases())("mainTrigger",t.mainTrigger())("zIndex",t.zIndex())("nextActionType",t.nextActionType())("kind",t.kind())("continueInNewTab",t.continueInNewTab())("attachedToHostElement",t.attachedToHostElement())("lang",t.lang())("translation",t.translation())}}function cee(n,e){if(1&n&&$(0,"gl-native-highlight",1),2&n){const t=D();A("configureMode",t.configureMode())("selector",t.selector())("title",t.title())("description",t.description())("position",t.position())("triggerType",t.triggerType())("overlayOpacity",t.overlayOpacity())("isScrollToElement",t.isScrollToElement())("styles",t.styles())("events",t.events())("flowId",t.flowId())("overlay",t.overlay())("stepContent",t.stepContent())("id",t.id())("cases",t.cases())("mainTrigger",t.mainTrigger())("zIndex",t.zIndex())("nextActionType",t.nextActionType())("kind",t.kind())("continueInNewTab",t.continueInNewTab())("attachedToHostElement",t.attachedToHostElement())("lang",t.lang())("translation",t.translation())}}class iu extends qr{constructor(){super(...arguments),this.configureMode=v(!1),this.selector=v(null),this.title=v(null),this.description=v(""),this.position=v(),this.triggerType=v(),this.overlayOpacity=v(.6),this.isScrollToElement=v(!0),this.styles=v(void 0),this.events=v(void 0),this.flowId=v(),this.overlay=v(),this.stepContent=v(),this.cases=v(),this.mainTrigger=v(),this.zIndex=v(),this.nextActionType=v(),this.kind=v(),this.continueInNewTab=v(),this.attachedToHostElement=v(),this.counter=v(),this.lang=v(Lt),this.translation=v({})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(iu)))(o||iu)}})()}static{this.\u0275cmp=$e({type:iu,selectors:[["gl-highlight"]],inputs:{configureMode:[1,"configureMode"],selector:[1,"selector"],title:[1,"title"],description:[1,"description"],position:[1,"position"],triggerType:[1,"triggerType"],overlayOpacity:[1,"overlayOpacity"],isScrollToElement:[1,"isScrollToElement"],styles:[1,"styles"],events:[1,"events"],flowId:[1,"flowId"],overlay:[1,"overlay"],stepContent:[1,"stepContent"],cases:[1,"cases"],mainTrigger:[1,"mainTrigger"],zIndex:[1,"zIndex"],nextActionType:[1,"nextActionType"],kind:[1,"kind"],continueInNewTab:[1,"continueInNewTab"],attachedToHostElement:[1,"attachedToHostElement"],counter:[1,"counter"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:2,vars:1,consts:[[3,"element","configureMode","selector","title","description","position","triggerType","overlayOpacity","isScrollToElement","styles","events","flowId","overlay","stepContent","id","cases","mainTrigger","zIndex","nextActionType","kind","continueInNewTab","attachedToHostElement","lang","translation"],[3,"configureMode","selector","title","description","position","triggerType","overlayOpacity","isScrollToElement","styles","events","flowId","overlay","stepContent","id","cases","mainTrigger","zIndex","nextActionType","kind","continueInNewTab","attachedToHostElement","lang","translation"]],template:function(t,o){1&t&&te(0,lee,1,24,"gl-attached-highlight",0)(1,cee,1,23,"gl-native-highlight",1),2&t&&ge(o.attachedToHostElement()?0:1)},dependencies:[Fb,Nb],encapsulation:2})}}var Rb,kI;function uee(n,e){if(1&n&&(V(0,"div",10),$(1,"div",11),j()),2&n){const t=D(2);Qe("configure",t.configureMode()),P(),A("lang",t.lang())("translation",t.translation())("fallbackValue",t.availableHeaderTitle())}}function dee(n,e){if(1&n&&($(0,"div",7),fn(1,"safe")),2&n){const t=D(2);A("innerHTML",pi(1,1,t.normalizedFileContent(),t.safePipeContentType.HTML),XS)}}function fee(n,e){if(1&n){const t=pt();V(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),te(4,uee,2,5,"div",5),j(),V(5,"div",6),te(6,dee,2,4,"div",7),j()(),V(7,"div",8)(8,"button",9),Ie("click",function(){_e(t);return Me(D().handleConfirmBtn())}),j()()()()}if(2&n){const t=D();$o("width",t.popupWidth(),"%")("height",t.popupHeight(),"%"),A("styles",t.styles())("componentType",t.ECssStepElement.Container),P(4),ge(t.availableHeaderTitle()?4:-1),P(2),ge(t.normalizedFileContent()?6:-1),P(),Qe("configure",t.configureMode()),P(),A("lang",t.lang())("translation",t.translation())("fallbackValue",t.buttonText())}}!function(n){n[n.InANewTab=1]="InANewTab",n[n.InAPopUp=2]="InAPopUp"}(Rb||(Rb={}));class Lb{constructor(){this.id=v(),this.flowId=v(),this.configureMode=v(!1),this.title=v(),this.display=v(Rb.InANewTab),this.popup=v(),this.file=v(),this.resourceLink=v(),this.events=v([]),this.overlay=v(),this.styles=v(),this.isLastFlowItem=v(),this.lang=v(Lt),this.translation=v({}),this.normalizedFileContent=ue(""),this.contentState=ue(null),this.injector=C(We),this.ECssStepElement=ln,this.ePopUpFooterLayout=lI,this.safePipeContentType=Wn,this.contentSideStoreService=C(xn),this.clientSideAnalyticService=C(zr),this.eventService=C(Oo),this.playVideoActionService=C(xg),this.sasTokenProvider=C(L0),this.popupWidth=G(()=>this.popup()?.width??0),this.popupHeight=G(()=>this.popup()?.height??0),this.resourceUrl=G(()=>this.file()?.path||this.resourceLink()),this.analyticsAllowed=G(()=>!(!this.flowId()||!this.id())),this.availableHeaderTitle=G(()=>this.popup()?.headerText),this.buttonText=G(()=>this.popup()?.buttonText),this.isPopupMode=G(()=>this.display()===Rb.InAPopUp),this.isNewTabMode=G(()=>!this.configureMode()&&this.display()===Rb.InANewTab),this.handleFileContentChange(),this.handleAnalyticsChange()}handleConfirmBtn(){const e=this.events()?.find(t=>t.type===Bv.Confirm);this.eventService.handleEvent(e||{type:Nt.Next,flowId:this.flowId()}),this.sendNextButtonAnalyticsEvent()}handleFileContentChange(){return Ve(()=>{const e={url:this.resourceUrl(),isExternal:!!this.resourceLink(),width:this.popupWidth(),height:this.popupHeight()};(0,UB.isEqual)(e,this.contentState())||(this.playVideoActionService.transformUrlToIframeOuterHTML(e).then(t=>{this.normalizedFileContent.set(t),this.contentState.set(e)}),this.isNewTabMode()&&this.openInANewTab())},{injector:this.injector})}openInANewTab(){var e=this;return g(function*(){const t=e.resourceLink()?e.resourceLink():yield e.sasTokenProvider.getBlobUrlWithToken(e.file().path);window.open(t,"_blank"),e.handleConfirmBtn()})()}sendVisitedAnalyticsEvent(){this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:st.Visited,systemFlowActionKindId:At.Resource,analyticsTitle:this.title()||oe.Resource})}sendNextButtonAnalyticsEvent(){this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:st.NextButton,systemFlowActionKindId:At.Resource,analyticsTitle:this.title()||oe.Resource})}handleAnalyticsChange(){return Ve(()=>{this.analyticsAllowed()&&this.sendVisitedAnalyticsEvent()},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||Lb)}}static{this.\u0275cmp=$e({type:Lb,selectors:[["gl-resource-pop-up"]],inputs:{id:[1,"id"],flowId:[1,"flowId"],configureMode:[1,"configureMode"],title:[1,"title"],display:[1,"display"],popup:[1,"popup"],file:[1,"file"],resourceLink:[1,"resourceLink"],events:[1,"events"],overlay:[1,"overlay"],styles:[1,"styles"],isLastFlowItem:[1,"isLastFlowItem"],lang:[1,"lang"],translation:[1,"translation"]},decls:1,vars:1,consts:[["componentSelector","gl-resource-pop-up","glCustomStyles","",1,"gl-resource-pop-up",3,"width","height","styles","componentType"],["componentSelector","gl-resource-pop-up","glCustomStyles","",1,"gl-resource-pop-up",3,"styles","componentType"],[1,"gl-resource-pop-up__content-container"],[1,"gl-resource-pop-up__content"],[1,"gl-resource-pop-up__header-wrapper"],[1,"gl-resource-pop-up__header",3,"configure"],[1,"gl-resource-pop-up__body"],[1,"gl-resource-pop-up__body-content",3,"innerHTML"],[1,"gl-resource-pop-up__footer"],["glTranslation","","section","primaryButton",1,"gl-resource-pop-up__footer-button",3,"click","lang","translation","fallbackValue"],[1,"gl-resource-pop-up__header"],["glTranslation","","section","header",1,"gl-resource-pop-up__header-title",3,"lang","translation","fallbackValue"]],template:function(t,o){1&t&&te(0,fee,9,13,"div",0),2&t&&ge(o.isPopupMode()&&o.popupWidth()>0&&o.popupHeight()>0?0:-1)},dependencies:[rb,Yr,qn],styles:[".gl-resource-pop-up[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);box-sizing:border-box;box-shadow:-40px 64px 80px #0000001a;z-index:100050;font-family:Open Sans GL,Arial,Helvetica,sans-serif;color:var(--gl-color)}.gl-resource-pop-up__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:hidden}.gl-resource-pop-up__content.configure[_ngcontent-%COMP%]{pointer-events:none}.gl-resource-pop-up__content-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-direction:column;background-color:var(--gl-background-primary)}.gl-resource-pop-up__body[_ngcontent-%COMP%]{height:100%;padding:24px}.gl-resource-pop-up__body-content[_ngcontent-%COMP%]{height:100%;width:100%}.gl-resource-pop-up__header[_ngcontent-%COMP%]{padding:14px 24px 0}.gl-resource-pop-up__header-title[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:24px}.gl-resource-pop-up__footer[_ngcontent-%COMP%]{display:flex;justify-content:end;padding:24px}.gl-resource-pop-up__footer-button[_ngcontent-%COMP%]{padding:5px 12px 7px;color:#fff;background-color:var(--gl-background-on-primary);border:none;min-width:88px;text-align:var(--gl-button-text-align);cursor:pointer;font-size:14px;line-height:20px;font-weight:400}.configure[_ngcontent-%COMP%]   .gl-resource-pop-up__footer-button[_ngcontent-%COMP%]{pointer-events:none}"]})}}!function(n){n[n.FreeText=1]="FreeText",n[n.PromotionalScore=2]="PromotionalScore",n[n.ThumbSelection=3]="ThumbSelection",n[n.SelectionQuestion=4]="SelectionQuestion"}(kI||(kI={}));var YH;!function(n){n.Configuration="Configuration",n.Styling="CSS editor"}(YH||(YH={}));const Vb=new WeakMap;class AI{constructor(e,t){this.elementRef=e,this.ngControl=t,this.autoresizeEnabled=!1,this.elInitHeight=72,this.resizeHeightCompensationInPx=0,this.rowAutoresizeEnabled=!1,this.groupSelector="[row-autoresize-group]",this.injector=C(We),this.destroy$=new gn,this.input$=new gn,this.initialHeight=0,this.threshold=3,this.formControl=ue(null),this.applying=!1,this.lastAppliedHeight=-1,this.EPS=.5,this.rafId=null,Ve(o=>{const r=this.formControl().valueChanges.pipe(qi(this.destroy$)).subscribe(()=>this.resizeAndSync());this.resizeAndSync(),o(()=>r.unsubscribe())},{injector:this.injector})}get overflow(){return this.autoresizeEnabled?"hidden":void 0}onInput(){this.autoresizeEnabled&&this.input$.next()}ngDoCheck(){const e=this.ngControl.control;e&&e!==this.formControl()&&this.formControl.set(e)}ngOnInit(){if(this.autoresizeEnabled&&(this.hostElem=this.elementRef.nativeElement,this.hostElem.style.height=`${this.elInitHeight}px`,this.hostElem.style.minHeight=`${this.elInitHeight}px`,this.initialHeight=this.hostElem.offsetHeight||this.elInitHeight,this.lastAppliedHeight=this.initialHeight,this.input$.pipe(qi(this.destroy$)).subscribe(()=>this.resizeAndSync()),queueMicrotask(()=>this.resizeAndSync()),this.resizeObserver=new ResizeObserver(()=>{this.applying||this.resizeAndSync()}),this.resizeObserver.observe(this.hostElem),this.rowAutoresizeEnabled&&this.groupSelector&&(this.groupEl=this.hostElem.closest(this.groupSelector)??void 0,this.groupEl))){const e=Vb.get(this.groupEl)??new Set;e.add(this),Vb.set(this.groupEl,e);const t=new ResizeObserver(()=>this.scheduleGroupSync());t.observe(this.groupEl),this.rowResizeObserver=t,queueMicrotask(()=>this.scheduleGroupSync())}}ngOnDestroy(){if(this.destroy$.next(),this.destroy$.complete(),this.resizeObserver?.disconnect(),this.groupEl){const e=Vb.get(this.groupEl);e?.delete(this),e&&0===e.size&&Vb.delete(this.groupEl),this.rowResizeObserver?.disconnect(),this.rowResizeObserver=void 0}null!==this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null)}reboot(){this.ngOnDestroy(),this.ngOnInit()}resizeAndSync(){const e=this.lastAppliedHeight;this.resizeSelf(),this.rowAutoresizeEnabled&&this.groupEl&&Math.abs(this.lastAppliedHeight-e)>this.EPS&&this.scheduleGroupSync()}resizeSelf(){const e=this.measureContentHeight(this.hostElem),t=Math.max(e,this.initialHeight),o=Math.round(t+this.resizeHeightCompensationInPx+this.threshold);this.applyHeight(o)}measureContentHeight(e){const t=e.style.height,o=e.style.minHeight;e.style.minHeight="0",e.style.height="auto";const r=e.scrollHeight;return e.style.height=t,e.style.minHeight=o,r}applyHeight(e){Math.abs(e-this.lastAppliedHeight)<this.EPS||(this.applying=!0,this.hostElem.style.height=`${e}px`,this.hostElem.style.minHeight=`${Math.max(this.initialHeight,e)}px`,this.lastAppliedHeight=e,queueMicrotask(()=>this.applying=!1))}scheduleGroupSync(){this.groupEl&&(null!==this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.rafId=requestAnimationFrame(()=>{this.rafId=null,this.syncGroupHeightsNow()}))}syncGroupHeightsNow(){if(!this.groupEl)return;const e=Vb.get(this.groupEl);if(!e||0===e.size)return;let t=0,o=0,r=0,i=0;const s=Array.from(e);for(const c of s){const d=c.measureContentHeight(c.hostElem);d>t&&(t=d),c.initialHeight>o&&(o=c.initialHeight),c.resizeHeightCompensationInPx>r&&(r=c.resizeHeightCompensationInPx),c.threshold>i&&(i=c.threshold)}const a=Math.round(Math.max(t,o)+r+i);for(const c of s)Math.abs(a-c.lastAppliedHeight)>c.EPS&&c.applyHeight(a)}static{this.\u0275fac=function(t){return new(t||AI)(ne(ct),ne(Il))}}static{this.\u0275dir=xe({type:AI,selectors:[["","glTextareaAutoresize",""]],hostVars:2,hostBindings:function(t,o){1&t&&Ie("input",function(){return o.onInput()}),2&t&&$o("overflow",o.overflow)},inputs:{autoresizeEnabled:"autoresizeEnabled",elInitHeight:"elInitHeight",resizeHeightCompensationInPx:"resizeHeightCompensationInPx",rowAutoresizeEnabled:"rowAutoresizeEnabled",groupSelector:"groupSelector"}})}}function mee(n,e){if(1&n&&(V(0,"div",6),$(1,"span",7),j()),2&n){const t=D();A("styles",t.styles())("componentType",t.ECssStepElement.QuestionDescription),P(),Qe("gl-ft-question__text-required",t.data().required),A("section",t.questionTranslationSection())("lang",t.lang())("translation",t.translation())("fallbackValue",t.data().question)}}function _ee(n,e){1&n&&(V(0,"span",8),Hn(1," This question is required "),j())}class OI{constructor(){this.question=v(),this.control=v(),this.isShowErrors=v(),this.styles=v(void 0),this.lang=v(Lt),this.translation=v({}),this.translationDataService=C($r),this.safePipeContentType=Wn,this.ECssStepElement=ln,this.surveyAnswerMaxLength=W1_validation.maxLength.surveyAnswer,this.answerTextFieldMinHeight=G(()=>20*(this.data().textLines||1)),this.questionTranslationSection=G(()=>this.translationDataService.getSurveyQuestionSectionKey({section:"question",questionId:this.question()?.id??""})),this.placeholderTranslationSection=G(()=>this.translationDataService.getSurveyQuestionSectionKey({section:"placeholder",questionId:this.question()?.id??""})),this.data=G(()=>this.question()||{})}static{this.\u0275fac=function(t){return new(t||OI)}}static{this.\u0275cmp=$e({type:OI,selectors:[["gl-free-text-survey"]],inputs:{question:[1,"question"],control:[1,"control"],isShowErrors:[1,"isShowErrors"],styles:[1,"styles"],lang:[1,"lang"],translation:[1,"translation"]},decls:8,vars:15,consts:[[1,"gl-free-text-survey"],["class","gl-ft-question gl-survey__question-description","glCustomStyles","","elementSelector","gl-survey__question-description",3,"styles","componentType",4,"ngIf"],[1,"gl-ft-answer"],["type","text","glTextareaAutoresize","","glTranslation","","attribute","placeholder",1,"gl-ft-answer-textarea",3,"autoresizeEnabled","maxLength","elInitHeight","formControl","section","lang","translation","fallbackValue","rows"],[1,"gl-ft-answer__counter"],["class","gl-ft-question--red",4,"ngIf"],["glCustomStyles","","elementSelector","gl-survey__question-description",1,"gl-ft-question","gl-survey__question-description",3,"styles","componentType"],["glTranslation","",1,"gl-ft-question__text",3,"section","lang","translation","fallbackValue"],[1,"gl-ft-question--red"]],template:function(t,o){if(1&t&&(V(0,"div",0),te(1,mee,2,8,"div",1),V(2,"div",2)(3,"textarea",3),Hn(4,"         "),j(),V(5,"span",4),Hn(6),j()(),te(7,_ee,2,0,"span",5),j()),2&t){let r,i;P(),A("ngIf",o.data().question),P(),Qe("gl-ft-answer__red",o.control().invalid&&o.isShowErrors()),P(),A("autoresizeEnabled",!0)("maxLength",o.surveyAnswerMaxLength)("elInitHeight",o.answerTextFieldMinHeight())("formControl",o.control())("section",o.placeholderTranslationSection())("lang",o.lang())("translation",o.translation())("fallbackValue",o.data().placeholder)("rows",null!==(r=o.data().textLines)&&void 0!==r?r:1),P(3),S1(" ",(null==(i=o.control().value)?null:i.length)||0," / ",o.surveyAnswerMaxLength," "),P(),A("ngIf",o.control().invalid&&o.isShowErrors())}},dependencies:[zn,Os,Sa,Xc,El,Yr,AI,qn],styles:['.gl-free-text-survey[_ngcontent-%COMP%]{font-family:Open Sans GL,Arial,Helvetica,sans-serif;padding:8px 24px 24px}.gl-free-text-survey[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative}.gl-free-text-survey[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{position:absolute;top:50%;left:8px;transform:translateY(-50%);color:var(--gl-color-placeholder);pointer-events:none}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-question[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:20px;word-wrap:break-word;text-align:left;display:flex;gap:4px}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-question__text[_ngcontent-%COMP%]{flex-grow:1}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-question__text[_ngcontent-%COMP%] >   p:first-child, .gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-question__text[_ngcontent-%COMP%] >   ol>:first-child, .gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-question__text[_ngcontent-%COMP%] >   ul>:first-child{margin:0}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-question__text-required[_ngcontent-%COMP%] >   p:first-child:after, .gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-question__text-required[_ngcontent-%COMP%] >   ol>:first-child:after, .gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-question__text-required[_ngcontent-%COMP%] >   ul>:first-child:after{content:"*";color:var(--gl-color-error);margin-left:4px}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-question--red[_ngcontent-%COMP%]{color:var(--gl-color-error)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer[_ngcontent-%COMP%]{position:relative;padding-top:12px;display:flex;flex-direction:column;gap:4px}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]{font-family:inherit;background-color:transparent;box-sizing:border-box;width:100%;padding-left:12px;padding-top:4px;font-size:14px;font-weight:400;line-height:20px;text-align:left;color:var(--gl-color);outline:none;resize:none;border:1px solid var(--gl-color-line);transition:border-color .15s ease}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%] + .gl-input-search-icon[_ngcontent-%COMP%]{color:var(--gl-color-placeholder)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]::placeholder{color:var(--gl-color-line);transition:color .15s ease}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:hover{border-color:var(--gl-input-border-hover)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:hover + .gl-input-search-icon[_ngcontent-%COMP%]{color:var(--gl-color-placeholder-hover)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:hover::placeholder{color:var(--gl-input-border-hover)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:focus, .gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:active{border-color:var(--gl-input-border-active)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:focus + .gl-input-search-icon[_ngcontent-%COMP%], .gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:active + .gl-input-search-icon[_ngcontent-%COMP%]{color:var(--gl-input-border-active)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:focus::placeholder, .gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:active::placeholder{color:var(--gl-input-border-hover)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:var(--gl-color-placeholder)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer__counter[_ngcontent-%COMP%]{font-size:12px;color:var(--gl-color-line);margin-left:auto}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer.gl-ft-answer__red[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]{border-color:var(--gl-color-error)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer.gl-ft-answer__red[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:hover{border-color:var(--gl-input-error-border-hover)}.gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer.gl-ft-answer__red[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:focus, .gl-free-text-survey[_ngcontent-%COMP%]   .gl-ft-answer.gl-ft-answer__red[_ngcontent-%COMP%]   .gl-ft-answer-textarea[_ngcontent-%COMP%]:active{border-color:var(--gl-input-error-border-hover)}.gl-free-text-survey[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]{position:relative}.gl-free-text-survey[_ngcontent-%COMP%]   .input-wrap[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;box-sizing:border-box;border:1px solid #000}'],changeDetection:0})}}function vee(n,e){if(1&n&&(V(0,"div",8),$(1,"span",9),j()),2&n){const t=D();A("styles",t.styles())("componentType",t.ECssStepElement.QuestionDescription),P(),Qe("gl-ps-question__text-required",t.data().required),A("section",t.questionTranslationSection())("lang",t.lang())("translation",t.translation())("fallbackValue",t.data().question)}}function yee(n,e){if(1&n&&(V(0,"div",10),$(1,"input",11),V(2,"label",12),Hn(3),j()()),2&n){const t=e.$implicit,o=D();P(),Ev("id","gl-ps-score_",t,""),A("formControl",o.control())("name",o.name())("value",t),P(),Ev("for","gl-ps-score_",t,""),P(),ag(" ",t," ")}}function bee(n,e){1&n&&(V(0,"span",13),Hn(1," This question is required "),j())}class PI{constructor(){this.question=v(),this.control=v(),this.isShowErrors=v(),this.styles=v(void 0),this.lang=v(Lt),this.translation=v({}),this.translationDataService=C($r),this.safePipeContentType=Wn,this.ECssStepElement=ln,this.values=[],this.data=G(()=>this.question()||{}),this.name=G(()=>this.question().id),this.scale=G(()=>{const e=this.data().scale||5;return e>10?10:e<2?2:e}),this.questionTranslationSection=G(()=>this.translationDataService.getSurveyQuestionSectionKey({section:"question",questionId:this.question()?.id??""})),this.minValueTranslationSection=G(()=>this.translationDataService.getSurveyQuestionSectionKey({section:"minValueName",questionId:this.question()?.id??""})),this.maxValueTranslationSection=G(()=>this.translationDataService.getSurveyQuestionSectionKey({section:"maxValueName",questionId:this.question()?.id??""}))}ngOnInit(){this.values=Array(this.scale()||5).fill(0).map((e,t)=>String(t+1))}static{this.\u0275fac=function(t){return new(t||PI)}}static{this.\u0275cmp=$e({type:PI,selectors:[["gl-promotional-score-survey"]],inputs:{question:[1,"question"],control:[1,"control"],isShowErrors:[1,"isShowErrors"],styles:[1,"styles"],lang:[1,"lang"],translation:[1,"translation"]},decls:8,vars:11,consts:[[1,"gl-promotional-score-survey"],["class","gl-ps-question gl-survey__question-description","glCustomStyles","","elementSelector","gl-survey__question-description",3,"styles","componentType",4,"ngIf"],[1,"gl-ps-score"],["class","gl-ps-score__item",4,"ngFor","ngForOf"],[1,"gl-ps-minmax"],["glTranslation","",1,"gl-ps-minmax__label",3,"section","lang","translation","fallbackValue"],["glTranslation","",1,"gl-ps-minmax__label","gl-ps-minmax__label--right",3,"section","lang","translation","fallbackValue"],["class","gl-ps-question--red",4,"ngIf"],["glCustomStyles","","elementSelector","gl-survey__question-description",1,"gl-ps-question","gl-survey__question-description",3,"styles","componentType"],["glTranslation","",1,"gl-ps-question__text",3,"section","lang","translation","fallbackValue"],[1,"gl-ps-score__item"],["type","radio",1,"gl-ps-score__input",3,"formControl","name","value","id"],[1,"gl-ps-score__label",3,"for"],[1,"gl-ps-question--red"]],template:function(t,o){if(1&t&&(V(0,"div",0),te(1,vee,2,8,"div",1),V(2,"div",2),te(3,yee,4,8,"div",3),j(),V(4,"div",4),$(5,"span",5)(6,"span",6),j(),te(7,bee,2,0,"span",7),j()),2&t){let r;P(),A("ngIf",o.data().question),P(2),A("ngForOf",o.values),P(2),A("section",o.minValueTranslationSection())("lang",o.lang())("translation",o.translation())("fallbackValue",o.data().minValueName),P(),A("section",o.maxValueTranslationSection())("lang",o.lang())("translation",o.translation())("fallbackValue",o.data().maxValueName),P(),A("ngIf",(null==(r=o.control())?null:r.invalid)&&o.isShowErrors())}},dependencies:[zn,wl,Os,Sa,Yd,Xc,El,Yr,qn],styles:['.gl-promotional-score-survey[_ngcontent-%COMP%]{font-family:Open Sans GL,Arial,Helvetica,sans-serif;padding:8px 24px 24px}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-question[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:20px;word-wrap:break-word;text-align:left;display:flex;gap:4px}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-question__text[_ngcontent-%COMP%]{flex-grow:1}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-question__text[_ngcontent-%COMP%] >   p:first-child, .gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-question__text[_ngcontent-%COMP%] >   ol>:first-child, .gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-question__text[_ngcontent-%COMP%] >   ul>:first-child{margin:0}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-question__text-required[_ngcontent-%COMP%] >   p:first-child:after, .gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-question__text-required[_ngcontent-%COMP%] >   ol>:first-child:after, .gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-question__text-required[_ngcontent-%COMP%] >   ul>:first-child:after{content:"*";color:var(--gl-color-error);margin-left:4px}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-question--red[_ngcontent-%COMP%]{color:var(--gl-color-error)}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-score[_ngcontent-%COMP%]{padding-top:12px;display:flex;justify-content:space-between}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-score__item[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;height:20px}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-score__label[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:20px;text-align:center}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-score__input[_ngcontent-%COMP%]{appearance:none;margin:0;width:16px;height:16px;border-radius:50%;border:1px solid var(--gl-color);background-color:var(--gl-background-primary);transition:background-color .1s linear,border-color .1s linear}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-score__input[_ngcontent-%COMP%]:not(:checked):hover{border-color:#525252;background-color:#d6d6d6}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-score__input[_ngcontent-%COMP%]:checked:not(:hover){border-width:6px}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-score__input[_ngcontent-%COMP%]:checked:hover{border-width:6px}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-minmax[_ngcontent-%COMP%]{padding-top:12px;display:flex;justify-content:space-between}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-minmax__label[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:20px;color:var(--gl-color-second-label);width:45%}.gl-promotional-score-survey[_ngcontent-%COMP%]   .gl-ps-minmax__label--right[_ngcontent-%COMP%]{text-align:right}'],changeDetection:0})}}const wee=["thumbUp"],Cee=["thumbDown"];function See(n,e){if(1&n&&(V(0,"div",8),$(1,"span",9),j()),2&n){const t=D();A("styles",t.styles())("componentType",t.ECssStepElement.QuestionDescription),P(),Qe("gl-ts-question__text-required",t.data().required),A("section",t.questionTranslationSection())("lang",t.lang())("translation",t.translation())("fallbackValue",t.data().question)}}function Tee(n,e){1&n&&(V(0,"span",10),Hn(1," This question is required "),j())}class FI{constructor(){this.question=v(),this.control=v(),this.isShowErrors=v(),this.styles=v(void 0),this.lang=v(Lt),this.translation=v({}),this.safePipeContentType=Wn,this.translationDataService=C($r),this.glidePlatformService=C(Hr),this.ECssStepElement=ln,this.data=G(()=>this.question()||{}),this.name=G(()=>this.question().id),this.questionTranslationSection=G(()=>this.translationDataService.getSurveyQuestionSectionKey({section:"question",questionId:this.question()?.id??""}))}ngAfterViewInit(){const e=jr.getImagesUrl(this.glidePlatformService.getPlatform());this.thumbDown.nativeElement&&(this.thumbDown.nativeElement.style.backgroundImage=`url('${e}/thumb-down.svg')`,this.thumbUp.nativeElement.style.backgroundImage=`url('${e}/thumb-up.svg')`)}static{this.\u0275fac=function(t){return new(t||FI)}}static{this.\u0275cmp=$e({type:FI,selectors:[["gl-thumb-selection-survey"]],viewQuery:function(t,o){if(1&t&&(pr(wee,5),pr(Cee,5)),2&t){let r;mr(r=_r())&&(o.thumbUp=r.first),mr(r=_r())&&(o.thumbDown=r.first)}},inputs:{question:[1,"question"],control:[1,"control"],isShowErrors:[1,"isShowErrors"],styles:[1,"styles"],lang:[1,"lang"],translation:[1,"translation"]},decls:8,vars:8,consts:[["thumbDown",""],["thumbUp",""],[1,"gl-thumb-selection-survey"],["class","gl-ts-question gl-survey__question-description","glCustomStyles","","elementSelector","gl-survey__question-description",3,"styles","componentType",4,"ngIf"],[1,"gl-ts-answer"],["type","radio",1,"gl-ts-answer__item","gl-ts-answer__item--down",3,"formControl","name","value"],["type","radio",1,"gl-ts-answer__item","gl-ts-answer__item--up",3,"formControl","name","value"],["class","gl-ts-question--red",4,"ngIf"],["glCustomStyles","","elementSelector","gl-survey__question-description",1,"gl-ts-question","gl-survey__question-description",3,"styles","componentType"],["glTranslation","",1,"gl-ts-question__text",3,"section","lang","translation","fallbackValue"],[1,"gl-ts-question--red"]],template:function(t,o){if(1&t&&(V(0,"div",2),te(1,See,2,8,"div",3),V(2,"div",4),$(3,"input",5,0)(5,"input",6,1),j(),te(7,Tee,2,0,"span",7),j()),2&t){let r;P(),A("ngIf",o.data().question),P(2),A("formControl",o.control())("name",o.name())("value","0"),P(2),A("formControl",o.control())("name",o.name())("value","1"),P(2),A("ngIf",(null==(r=o.control())?null:r.invalid)&&o.isShowErrors())}},dependencies:[zn,Os,Sa,Yd,Xc,El,Yr,qn],styles:['.gl-thumb-selection-survey[_ngcontent-%COMP%]{padding:8px 24px 24px}.gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-question[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:20px;word-wrap:break-word;text-align:left;display:flex;gap:4px}.gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-question__text[_ngcontent-%COMP%]{flex-grow:1}.gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-question__text[_ngcontent-%COMP%] >   p:first-child, .gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-question__text[_ngcontent-%COMP%] >   ol>:first-child, .gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-question__text[_ngcontent-%COMP%] >   ul>:first-child{margin:0}.gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-question__text-required[_ngcontent-%COMP%] >   p:first-child:after, .gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-question__text-required[_ngcontent-%COMP%] >   ol>:first-child:after, .gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-question__text-required[_ngcontent-%COMP%] >   ul>:first-child:after{content:"*";color:var(--gl-color-error);margin-left:4px}.gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-question--red[_ngcontent-%COMP%]{color:var(--gl-color-error)}.gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-answer[_ngcontent-%COMP%]{padding-top:12px;display:flex;justify-content:center;gap:24px}.gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-answer__item[_ngcontent-%COMP%]{appearance:none;margin:0;box-sizing:border-box;width:40px;height:40px;border:1px solid transparent;transition:border-color .1s linear;background:center/40px no-repeat}.gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-answer__item[_ngcontent-%COMP%]:not(:checked):hover{border-color:var(--gl-background-on-primary-hover-light)}.gl-thumb-selection-survey[_ngcontent-%COMP%]   .gl-ts-answer__item[_ngcontent-%COMP%]:checked{border-color:var(--gl-background-on-primary)}'],changeDetection:0})}}class Iee{constructor(e,t){this.open=e,this.close=t||e}isManual(){return"manual"===this.open||"manual"===this.close}}const Eee={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function JH(n,e=Eee){const t=(n||"").trim();if(0===t.length)return[];const o=t.split(/\s+/).map(i=>i.split(":")).map(i=>{const s=e[i[0]]||i;return new Iee(s[0],s[1])}),r=o.filter(i=>i.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&o.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return o}const oo=typeof window<"u"&&window||{};oo.document,oo.location,oo.gc,oo.performance&&oo.performance,oo.Event,oo.MouseEvent,oo.KeyboardEvent,oo.EventTarget,oo.History,oo.Location,oo.EventListener;var jA;let Dl;function KH(){const n=oo.document.createElement("span");n.innerText="testing bs version",n.classList.add("d-none"),n.classList.add("pl-1"),oo.document.head.appendChild(n);const e=oo.getComputedStyle(n).paddingLeft;return e&&parseFloat(e)?(oo.document.head.removeChild(n),"bs4"):(oo.document.head.removeChild(n),"bs5")}function Bb(){return{isBs4:(Dl||(Dl=KH()),"bs4"===Dl),isBs5:(Dl||(Dl=KH()),"bs5"===Dl)}}!function(n){n.isBs4="bs4",n.isBs5="bs5"}(jA||(jA={}));typeof console>"u"||console;var $A,NI;function tf(n,e){if(1!==n.nodeType)return[];const o=n.ownerDocument.defaultView?.getComputedStyle(n,null);return e?o&&o[e]:o}function GA(n){if(!n)return document.documentElement;let o,t=n?.offsetParent;for(;null===t&&n.nextElementSibling&&o!==n.nextElementSibling;)o=n.nextElementSibling,t=o.offsetParent;const r=t&&t.nodeName;return r&&"BODY"!==r&&"HTML"!==r?t&&-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===tf(t,"position")?GA(t):t:o?o.ownerDocument.documentElement:document.documentElement}function zA(n){return null!==n.parentNode?zA(n.parentNode):n}function RI(n,e){if(!(n&&n.nodeType&&e&&e.nodeType))return document.documentElement;const t=n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,o=t?n:e,r=t?e:n,i=document.createRange();i.setStart(o,0),i.setEnd(r,0);const s=i.commonAncestorContainer;if(n!==s&&e!==s||o.contains(r))return function Nee(n){const{nodeName:e}=n;return"BODY"!==e&&("HTML"===e||GA(n.firstElementChild)===n)}(s)?s:GA(s);const a=zA(n);return a.host?RI(a.host,e):RI(n,zA(e).host)}function t3(n){if(!n||!n.parentElement)return document.documentElement;let e=n.parentElement;for(;e?.parentElement&&"none"===tf(e,"transform");)e=e.parentElement;return e||document.documentElement}function n3(n,e){const t="x"===e?"Left":"Top",o="Left"===t?"Right":"Bottom";return parseFloat(n[`border${t}Width`])+parseFloat(n[`border${o}Width`])}function o3(n,e,t){const o=e,r=t;return Math.max(o[`offset${n}`],o[`scroll${n}`],r[`client${n}`],r[`offset${n}`],r[`scroll${n}`],0)}function r3(n){const e=n.body,t=n.documentElement;return{height:o3("Height",e,t),width:o3("Width",e,t)}}function Ub(n){return{...n,right:(n.left||0)+n.width,bottom:(n.top||0)+n.height}}function hn(n){return"number"==typeof n||"[object Number]"===Object.prototype.toString.call(n)}function i3(n){const e=n.getBoundingClientRect();if(!(e&&hn(e.top)&&hn(e.left)&&hn(e.bottom)&&hn(e.right)))return e;const t={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===n.nodeName?r3(n.ownerDocument):void 0,r=o?.width||n.clientWidth||hn(e.right)&&hn(t.left)&&e.right-t.left||0,i=o?.height||n.clientHeight||hn(e.bottom)&&hn(t.top)&&e.bottom-t.top||0;let s=n.offsetWidth-r,a=n.offsetHeight-i;if(s||a){const c=tf(n);s-=n3(c,"x"),a-=n3(c,"y"),t.width-=s,t.height-=a}return Ub(t)}function WA(n,e,t=!1){const o="HTML"===e.nodeName,r=i3(n),i=i3(e),s=tf(e),a=parseFloat(s.borderTopWidth),c=parseFloat(s.borderLeftWidth);t&&o&&(i.top=Math.max(i.top??0,0),i.left=Math.max(i.left??0,0));const d=Ub({top:(r.top??0)-(i.top??0)-a,left:(r.left??0)-(i.left??0)-c,width:r.width,height:r.height});if(d.marginTop=0,d.marginLeft=0,o){const f=parseFloat(s.marginTop),p=parseFloat(s.marginLeft);hn(d.top)&&(d.top-=a-f),hn(d.bottom)&&(d.bottom-=a-f),hn(d.left)&&(d.left-=c-p),hn(d.right)&&(d.right-=c-p),d.marginTop=f,d.marginLeft=p}return d}function qA(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function s3(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}const{overflow:e,overflowX:t,overflowY:o}=tf(n);return/(auto|scroll|overlay)/.test(String(e)+String(o)+String(t))?n:s3(qA(n))}function a3(n,e="top"){const t="top"===e?"scrollTop":"scrollLeft",o=n.nodeName;if("BODY"===o||"HTML"===o){const r=n.ownerDocument.documentElement;return(n.ownerDocument.scrollingElement||r)[t]}return n[t]}function l3(n){const e=n.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===tf(n,"position")||l3(qA(n)))}function YA(n,e,t=0,o,r=!1){let i={top:0,left:0};const s=r?t3(n):RI(n,e);if("viewport"===o)i=function Lee(n,e=!1){const t=n.ownerDocument.documentElement,o=WA(n,t),r=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0),s=e?0:a3(t),a=e?0:a3(t,"left");return Ub({top:s-Number(o?.top)+Number(o?.marginTop),left:a-Number(o?.left)+Number(o?.marginLeft),width:r,height:i})}(s,r);else{let a;"scrollParent"===o?(a=s3(qA(e)),"BODY"===a.nodeName&&(a=n.ownerDocument.documentElement)):a="window"===o?n.ownerDocument.documentElement:o;const c=WA(a,s,r);if(c&&"HTML"===a.nodeName&&!l3(s)){const{height:d,width:f}=r3(n.ownerDocument);hn(i.top)&&hn(c.top)&&hn(c.marginTop)&&(i.top+=c.top-c.marginTop),hn(i.top)&&(i.bottom=Number(d)+Number(c.top)),hn(i.left)&&hn(c.left)&&hn(c.marginLeft)&&(i.left+=c.left-c.marginLeft),hn(i.top)&&(i.right=Number(f)+Number(c.left))}else c&&(i=c)}return hn(i.left)&&(i.left+=t),hn(i.top)&&(i.top+=t),hn(i.right)&&(i.right-=t),hn(i.bottom)&&(i.bottom-=t),i}function Vee({width:n,height:e}){return n*e}function c3(n,e,t,o,r=["top","bottom","right","left"],i="viewport",s=0){if(-1===n.indexOf("auto"))return n;const a=YA(t,o,s,i),c={top:{width:a?.width??0,height:(e?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(e?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(e?.bottom??0)},left:{width:(e.left??0)-(a?.left??0),height:a?.height??0}},d=Object.keys(c).map(m=>({position:m,...c[m],area:Vee(c[m])})).sort((m,b)=>b.area-m.area);let f=d.filter(({width:m,height:b})=>m>=t.clientWidth&&b>=t.clientHeight);f=f.filter(({position:m})=>r.some(b=>b===m));const p=f.length>0?f[0].position:d[0].position,y=n.split(" ")[1];return t.className=t.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${Bb().isBs5?NI[p]:p}`),p+(y?`-${y}`:"")}!function(n){n.top="top",n.bottom="bottom",n.left="left",n.right="right",n.auto="auto",n.end="right",n.start="left",n["top left"]="top left",n["top right"]="top right",n["right top"]="right top",n["right bottom"]="right bottom",n["bottom right"]="bottom right",n["bottom left"]="bottom left",n["left bottom"]="left bottom",n["left top"]="left top",n["top start"]="top left",n["top end"]="top right",n["end top"]="right top",n["end bottom"]="right bottom",n["bottom end"]="bottom right",n["bottom start"]="bottom left",n["start bottom"]="start bottom",n["start top"]="left top"}($A||($A={})),function(n){n.top="top",n.bottom="bottom",n.left="start",n.right="end",n.auto="auto",n.end="end",n.start="start",n["top left"]="top start",n["top right"]="top end",n["right top"]="end top",n["right bottom"]="end bottom",n["bottom right"]="bottom end",n["bottom left"]="bottom start",n["left bottom"]="start bottom",n["left top"]="start top",n["top start"]="top start",n["top end"]="top end",n["end top"]="end top",n["end bottom"]="end bottom",n["bottom end"]="bottom end",n["bottom start"]="bottom start",n["start bottom"]="start bottom",n["start top"]="start top"}(NI||(NI={}));const LI=(n,e=0)=>n?parseFloat(n):e;function u3(n){const t=n.ownerDocument.defaultView?.getComputedStyle(n),o=LI(t?.marginTop)+LI(t?.marginBottom),r=LI(t?.marginLeft)+LI(t?.marginRight);return{width:Number(n.offsetWidth)+r,height:Number(n.offsetHeight)+o}}function d3(n,e,t){return WA(e,t?t3(n):RI(n,e),t)}function XA(n,e,t){const o=t.split(" ")[0],r=u3(n),i={width:r.width,height:r.height},s=-1!==["right","left"].indexOf(o),a=s?"top":"left",c=s?"left":"top",d=s?"height":"width",f=s?"width":"height";return i[a]=(e[a]??0)+e[d]/2-r[d]/2,i[c]=o===c?(e[c]??0)-r[f]:e[function Uee(n){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,t=>e[t])}(c)]??0,i}function f3(n,e){return!!n.modifiers[e]?.enabled}const jee={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function VI(n,e){return!!Bb().isBs5&&jee[e].includes(n)}function Gee(n,e){const t=n.instance.target;let o=t.className;const r=Bb().isBs5?NI[n.placement]:n.placement;n.placementAuto&&(o=o.replace(/bs-popover-auto/g,`bs-popover-${r}`),o=o.replace(/ms-2|me-2|mb-2|mt-2/g,""),o=o.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),o=o.replace(/\sauto/g,` ${r}`),-1!==o.indexOf("popover")&&(o=o+" "+function $ee(n){return Bb().isBs5?VI(n,"end")?"ms-2":VI(n,"start")?"me-2":VI(n,"top")?"mb-2":VI(n,"bottom")?"mt-2":"":""}(r)),-1!==o.indexOf("popover")&&-1===o.indexOf("popover-auto")&&(o+=" popover-auto"),-1!==o.indexOf("tooltip")&&-1===o.indexOf("tooltip-auto")&&(o+=" tooltip-auto")),o=o.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),e?e.setAttribute(t,"class",o):t.className=o}function h3(n,e,t){!n||!e||Object.keys(e).forEach(o=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(o)&&function Ree(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(Number(n))}(e[o])&&(r="px"),t?t.setStyle(n,o,`${String(e[o])}${r}`):n.style[o]=String(e[o])+r})}function zee(n){let e=n.offsets.target;const t=n.instance.target.querySelector(".arrow");if(!t)return n;const o=-1!==["left","right"].indexOf(n.placement.split(" ")[0]),r=o?"height":"width",i=o?"Top":"Left",s=i.toLowerCase(),a=o?"left":"top",c=o?"bottom":"right",d=u3(t)[r],f=n.placement.split(" ")[1];(n.offsets.host[c]??0)-d<(e[s]??0)&&(e[s]-=(e[s]??0)-((n.offsets.host[c]??0)-d)),Number(n.offsets.host[s])+Number(d)>(e[c]??0)&&(e[s]+=Number(n.offsets.host[s])+Number(d)-Number(e[c])),e=Ub(e);const p=tf(n.instance.target),y=parseFloat(p[`margin${i}`])||0,m=parseFloat(p[`border${i}Width`])||0;let b;if(f){const M=parseFloat(p.borderRadius)||0,O=Number(y+m+M);b=s===f?Number(n.offsets.host[s])+O:Number(n.offsets.host[s])+Number(n.offsets.host[r]-O)}else b=Number(n.offsets.host[s])+Number(n.offsets.host[r]/2-d/2);let T=b-(e[s]??0)-y-m;return T=Math.max(Math.min(e[r]-(d+5),T),0),n.offsets.arrow={[s]:Math.round(T),[a]:""},n.instance.arrow=t,n}function Wee(n){if(n.offsets.target=Ub(n.offsets.target),!f3(n.options,"flip"))return n.offsets.target={...n.offsets.target,...XA(n.instance.target,n.offsets.host,n.placement)},n;const e=YA(n.instance.target,n.instance.host,0,"viewport",!1);let t=n.placement.split(" ")[0],o=n.placement.split(" ")[1]||"";const a=c3("auto",n.offsets.host,n.instance.target,n.instance.host,n.options.allowedPositions),c=[t,a];return c.forEach((d,f)=>{if(t!==d||c.length===f+1)return;t=n.placement.split(" ")[0];const p="left"===t&&Math.floor(n.offsets.target.right??0)>Math.floor(n.offsets.host.left??0)||"right"===t&&Math.floor(n.offsets.target.left??0)<Math.floor(n.offsets.host.right??0)||"top"===t&&Math.floor(n.offsets.target.bottom??0)>Math.floor(n.offsets.host.top??0)||"bottom"===t&&Math.floor(n.offsets.target.top??0)<Math.floor(n.offsets.host.bottom??0),y=Math.floor(n.offsets.target.left??0)<Math.floor(e.left??0),m=Math.floor(n.offsets.target.right??0)>Math.floor(e.right??0),b=Math.floor(n.offsets.target.top??0)<Math.floor(e.top??0),T=Math.floor(n.offsets.target.bottom??0)>Math.floor(e.bottom??0),M="left"===t&&y||"right"===t&&m||"top"===t&&b||"bottom"===t&&T,O=-1!==["top","bottom"].indexOf(t),x=O&&"left"===o&&y||O&&"right"===o&&m||!O&&"left"===o&&b||!O&&"right"===o&&T;(p||M||x)&&((p||M)&&(t=c[f+1]),x&&(o=function Hee(n){return"right"===n?"left":"left"===n?"right":n}(o)),n.placement=t+(o?` ${o}`:""),n.offsets.target={...n.offsets.target,...XA(n.instance.target,n.offsets.host,n.placement)})}),n}function Yee(n){if(!f3(n.options,"preventOverflow"))return n;const e="transform",t=n.instance.target.style,{top:o,left:r,[e]:i}=t;t.top="",t.left="",t[e]="";const s=YA(n.instance.target,n.instance.host,0,n.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);t.top=o,t.left=r,t[e]=i;const c={primary(d){let f=n.offsets.target[d];return(n.offsets.target[d]??0)<(s[d]??0)&&(f=Math.max(n.offsets.target[d]??0,s[d]??0)),{[d]:f}},secondary(d){const f="right"===d,p=f?"left":"top",y=f?"width":"height";let m=n.offsets.target[p];return(n.offsets.target[d]??0)>(s[d]??0)&&(m=Math.min(n.offsets.target[p]??0,(s[d]??0)-n.offsets.target[y])),{[p]:m}}};return["left","right","top","bottom"].forEach(d=>{const f=-1!==["left","top","start"].indexOf(d)?c.primary:c.secondary;n.offsets.target={...n.offsets.target,...f(d)}}),n}function Xee(n){const e=n.placement,t=e.split(" ")[0],o=e.split(" ")[1];if(o){const{host:r,target:i}=n.offsets,s=-1!==["bottom","top"].indexOf(t),a=s?"left":"top",c=s?"width":"height",d={start:{[a]:r[a]},end:{[a]:(r[a]??0)+r[c]-i[c]}};n.offsets.target={...i,[a]:a===o?d.start[a]:d.end[a]}}return n}const Zee=new class Qee{position(e,t){return this.offset(e,t)}offset(e,t){return d3(t,e)}positionElements(e,t,o,r,i){const s=[Wee,Xee,Yee,zee],c=function qee(n,e,t,o){if(!n||!e)return;const r=d3(n,e);!t.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!t.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(t="auto");const i=!!t.match(/auto/g);let s=t.match(/auto\s(left|right|top|bottom|start|end)/)?t.split(" ")[1]||"auto":t;const a=s.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(s=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(s)&&(s="auto"),s=c3(s,r,n,e,o?o.allowedPositions:void 0),{options:o||{modifiers:{}},instance:{target:n,host:e,arrow:void 0},offsets:{target:XA(n,r,s),host:r,arrow:void 0},positionFixed:!1,placement:s,placementAuto:i}}(t,e,$A[o],i);if(c)return s.reduce((d,f)=>f(d),c)}};function Jee(n,e,t,o,r,i){const s=Zee.positionElements(n,e,t,o,r);if(!s)return;const a=function Bee(n){return{width:n.offsets.target.width,height:n.offsets.target.height,left:Math.floor(n.offsets.target.left??0),top:Math.round(n.offsets.target.top??0),bottom:Math.round(n.offsets.target.bottom??0),right:Math.floor(n.offsets.target.right??0)}}(s);h3(e,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},i),s.instance.arrow&&h3(s.instance.arrow,s.offsets.arrow,i),Gee(s,i)}class Hb{constructor(e,t,o){this.update$$=new gn,this.positionElements=new Map,this.isDisabled=!1,function rY(n){return n===lB}(o)&&e.runOutsideAngular(()=>{this.triggerEvent$=Sl(yo(window,"scroll",{passive:!0}),yo(window,"resize",{passive:!0}),ma(0,HU),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(r=>{Jee(BI(r.target),BI(r.element),r.attachment,r.appendToBody,this.options,t.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(BI(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(BI(e))}setOptions(e){this.options=e}static{this.\u0275fac=function(t){return new(t||Hb)(L(ft),L(dv),L(mh))}}static{this.\u0275prov=F({token:Hb,factory:Hb.\u0275fac,providedIn:"root"})}}function BI(n){return"string"==typeof n?document.querySelector(n):n instanceof ct?n.nativeElement:n??null}class jb{constructor(e,t,o){this.nodes=e,this.viewRef=t,this.componentRef=o}}class Kee{constructor(e,t,o,r,i,s,a,c,d){this._viewContainerRef=e,this._renderer=t,this._elementRef=o,this._injector=r,this._componentFactoryResolver=i,this._ngZone=s,this._applicationRef=a,this._posService=c,this._document=d,this.onBeforeShow=new Pt,this.onShown=new Pt,this.onBeforeHide=new Pt,this.onHidden=new Pt,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(e){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(e),this}to(e){return this.container=e||this.container,this}position(e){return e?(this.attachment=e.attachment||this.attachment,this._elementRef=e.target||this._elementRef,this):this}provide(e){return this._providers.push(e),this}show(e={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(e.content,e.context,e.initialState);const t=We.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(t,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,e),this.container instanceof ct&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const o=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!o)return;o.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(e.id?{id:e.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(e){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const t=this._componentRef.location.nativeElement;return t.parentNode?.removeChild(t),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._componentRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(e?{id:e}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(e){this.triggers=e.triggers||this.triggers,this._listenOpts.outsideClick=e.outsideClick,this._listenOpts.outsideEsc=e.outsideEsc,e.target=e.target||this._elementRef?.nativeElement;const t=this._listenOpts.hide=()=>e.hide?e.hide():void this.hide(),o=this._listenOpts.show=i=>{e.show?e.show(i):this.show(i),i()};return this._renderer&&(this._unregisterListenersFn=function Mee(n,e){const t=JH(e.triggers),o=e.target;if(1===t.length&&t[0].isManual())return Function.prototype;const r=[],i=[],s=()=>{i.forEach(a=>r.push(a())),i.length=0};return t.forEach(a=>{const c=a.open===a.close,d=c?e.toggle:e.show;if(!c&&a.close&&e.hide){const f=a.close,p=e.hide,y=()=>n.listen(o,f,p);i.push(y)}d&&r.push(n.listen(o,a.open,()=>d(s)))}),()=>{r.forEach(a=>a())}}(this._renderer,{target:e.target,triggers:e.triggers,show:o,hide:t,toggle:i=>{this.isShown?t():o(i)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(e,t){return e&&t&&(this._inlineViewRef=e.createEmbeddedView(t)),this}_registerOutsideClick(){if(!this._componentRef||!this._componentRef.location)return;let e=Function.prototype,t=Function.prototype;if(this._listenOpts.outsideClick){const o=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(e=function Dee(n,e){return e.outsideClick?n.listen("document","click",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(o=>o.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[o,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}if(this._listenOpts.outsideEsc&&this._renderer&&this._elementRef){const o=this._componentRef.location.nativeElement;t=function xee(n,e){return e.outsideEsc?n.listen("document","keyup.esc",t=>{e.target&&e.target.contains(t.target)||e.targets&&e.targets.some(o=>o.contains(t.target))||e.hide&&e.hide()}):Function.prototype}(this._renderer,{targets:[o,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()})}this._globalListener=()=>{e(),t()}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(e,t,o){if(!e)return new jb([]);if(e instanceof _s){if(this._viewContainerRef){const s=this._viewContainerRef.createEmbeddedView(e,t);return s.markForCheck(),new jb([s.rootNodes],s)}const i=e.createEmbeddedView({});return this._applicationRef.attachView(i),new jb([i.rootNodes],i)}if("function"==typeof e){const i=this._componentFactoryResolver.resolveComponentFactory(e),s=We.create({providers:this._providers,parent:this._injector}),a=i.create(s);return Object.assign(a.instance,o),this._applicationRef.attachView(a.hostView),new jb([[a.location.nativeElement]],a.hostView,a)}const r=this._renderer?[this._renderer.createText(`${e}`)]:[];return new jb([r])}}class Mp{constructor(e,t,o,r,i,s){this._componentFactoryResolver=e,this._ngZone=t,this._injector=o,this._posService=r,this._applicationRef=i,this._document=s}createLoader(e,t,o){return new Kee(t,o,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(t){return new(t||Mp)(L(uv),L(ft),L(We),L(Hb),L(Jn),L(_o))}}static{this.\u0275prov=F({token:Mp,factory:Mp.\u0275fac,providedIn:"root"})}}var Cr;!function(n){n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger"}(Cr||(Cr={}));function g3(n){return{type:Cr.Style,styles:n,offset:null}}class Dp{static \u0275fac=function(t){return new(t||Dp)};static \u0275prov=F({token:Dp,factory:()=>C($b),providedIn:"root"})}class nte{}class $b extends Dp{animationModuleType=C(wD,{optional:!0});_nextAnimationId=0;_renderer;constructor(e,t){super();const o={id:"0",encapsulation:Br.None,styles:[],data:{animation:[]}};if(this._renderer=e.createRenderer(t.body,o),null===this.animationModuleType&&!function ste(n){const e=n.\u0275type;return 0===e||1===e}(this._renderer))throw new J(3600,!1)}build(e){const t=this._nextAnimationId;this._nextAnimationId++;const o=Array.isArray(e)?function tte(n,e=null){return{type:Cr.Sequence,steps:n,options:e}}(e):e;return p3(this._renderer,null,t,"register",[o]),new ote(t,this._renderer)}static \u0275fac=function(t){return new(t||$b)(L(dv),L(_o))};static \u0275prov=F({token:$b,factory:$b.\u0275fac,providedIn:"root"})}class ote extends nte{_id;_renderer;constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new rte(this._id,e,t||{},this._renderer)}}class rte{id;element;_renderer;parentPlayer=null;_started=!1;constructor(e,t,o,r){this.id=e,this.element=t,this._renderer=r,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){p3(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return function ite(n){const e=n.\u0275type;return 0===e?n:1===e?n.animationRenderer:null}(this._renderer)?.engine?.players[this.id]?.getPosition()??0}totalTime=0}function p3(n,e,t,o,r){n.setProperty(e,`@@${t}:${o}`,r)}const ate=["*"],lte=n=>({dropdown:n});class xp{constructor(){this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1}static{this.\u0275fac=function(t){return new(t||xp)}}static{this.\u0275prov=F({token:xp,factory:xp.\u0275fac,providedIn:"root"})}}class Ma{constructor(){this.direction="down",this.autoClose=!0,this.insideClick=!1,this.isAnimated=!1,this.stopOnClickPropagation=!1,this.isOpenChange=new Pt,this.isDisabledChange=new Pt,this.toggleClick=new Pt,this.counts=0,this.dropdownMenu=new Promise(e=>{this.resolveDropdownMenu=e})}static{this.\u0275fac=function(t){return new(t||Ma)}}static{this.\u0275prov=F({token:Ma,factory:Ma.\u0275fac,providedIn:"platform"})}}const m3=[g3({height:0,overflow:"hidden"}),function ete(n,e=null){return{type:Cr.Animate,styles:e,timings:n}}("220ms cubic-bezier(0, 0, 0.2, 1)",g3({height:"*",overflow:"hidden"}))];class UI{get direction(){return this._state.direction}constructor(e,t,o,r,i){this._state=e,this.cd=t,this._renderer=o,this._element=r,this.isOpen=!1,this._factoryDropDownAnimation=i.build(m3),this._subscription=e.isOpenChange.subscribe(s=>{this.isOpen=s;const a=this._element.nativeElement.querySelector(".dropdown-menu");this._renderer.addClass(this._element.nativeElement.querySelector("div"),"open"),a&&(this._renderer.addClass(a,"show"),(a.classList.contains("dropdown-menu-right")||a.classList.contains("dropdown-menu-end"))&&(this._renderer.setStyle(a,"left","auto"),this._renderer.setStyle(a,"right","0")),"up"===this.direction&&(this._renderer.setStyle(a,"top","auto"),this._renderer.setStyle(a,"transform","translateY(-101%)"))),a&&this._state.isAnimated&&this._factoryDropDownAnimation.create(a).play(),this.cd.markForCheck(),this.cd.detectChanges()})}_contains(e){return this._element.nativeElement.contains(e)}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=function(t){return new(t||UI)(ne(Ma),ne(Ac),ne(fr),ne(ct),ne(Dp))}}static{this.\u0275cmp=$e({type:UI,selectors:[["bs-dropdown-container"]],hostAttrs:[2,"display","block","position","absolute","z-index","1040"],ngContentSelectors:ate,decls:2,vars:9,consts:[[3,"ngClass"]],template:function(t,o){1&t&&(b1(),V(0,"div",0),w1(1),j()),2&t&&(Qe("dropup","up"===o.direction)("show",o.isOpen)("open",o.isOpen),A("ngClass",xc(7,lte,"down"===o.direction)))},dependencies:[Ds],encapsulation:2,changeDetection:0})}}class HI{set autoClose(e){this._state.autoClose=e}get autoClose(){return this._state.autoClose}set isAnimated(e){this._state.isAnimated=e}get isAnimated(){return this._state.isAnimated}set insideClick(e){this._state.insideClick=e}get insideClick(){return this._state.insideClick}set isDisabled(e){this._isDisabled=e,this._state.isDisabledChange.emit(e),e&&this.hide()}get isDisabled(){return this._isDisabled}get isOpen(){return this._showInline?this._isInlineOpen:this._dropdown.isShown}set isOpen(e){e?this.show():this.hide()}get _showInline(){return!this.container}constructor(e,t,o,r,i,s,a){this._elementRef=e,this._renderer=t,this._viewContainerRef=o,this._cis=r,this._state=i,this._config=s,this.dropup=!1,this._isInlineOpen=!1,this._isDisabled=!1,this._subscriptions=[],this._isInited=!1,this._state.autoClose=this._config.autoClose,this._state.insideClick=this._config.insideClick,this._state.isAnimated=this._config.isAnimated,this._state.stopOnClickPropagation=this._config.stopOnClickPropagation,this._factoryDropDownAnimation=a.build(m3),this._dropdown=this._cis.createLoader(this._elementRef,this._viewContainerRef,this._renderer).provide({provide:Ma,useValue:this._state}),this.onShown=this._dropdown.onShown,this.onHidden=this._dropdown.onHidden,this.isOpenChange=this._state.isOpenChange}ngOnInit(){this._isInited||(this._isInited=!0,this._dropdown.listen({outsideClick:!1,triggers:this.triggers,show:()=>this.show()}),this._subscriptions.push(this._state.toggleClick.subscribe(e=>this.toggle(e))),this._subscriptions.push(this._state.isDisabledChange.pipe(jn(e=>e)).subscribe(()=>this.hide())))}show(){if(!this.isOpen&&!this.isDisabled){if(this._showInline)return this._inlinedMenu||this._state.dropdownMenu.then(e=>{this._dropdown.attachInline(e.viewContainer,e.templateRef),this._inlinedMenu=this._dropdown._inlineViewRef,this.addBs4Polyfills(),this._inlinedMenu&&this._renderer.addClass(this._inlinedMenu.rootNodes[0].parentNode,"open"),this.playAnimation()}).catch(),this.addBs4Polyfills(),this._isInlineOpen=!0,this.onShown.emit(!0),this._state.isOpenChange.emit(!0),void this.playAnimation();this._state.dropdownMenu.then(e=>{const t=this.dropup||typeof this.dropup<"u"&&this.dropup;this._state.direction=t?"up":"down";const o=this.placement||(t?"top start":"bottom start");this._dropdown.attach(UI).to(this.container).position({attachment:o}).show({content:e.templateRef,placement:o}),this._state.isOpenChange.emit(!0)}).catch()}}hide(){this.isOpen&&(this._showInline?(this.removeShowClass(),this.removeDropupStyles(),this._isInlineOpen=!1,this.onHidden.emit(!0)):this._dropdown.hide(),this._state.isOpenChange.emit(!1))}toggle(e){return this.isOpen||!e?this.hide():this.show()}_contains(e){return this._elementRef.nativeElement.contains(e.target)||this._dropdown.instance&&this._dropdown.instance._contains(e.target)}navigationClick(e){const t=this._elementRef.nativeElement.querySelector(".dropdown-menu");if(!t)return;const o=this._elementRef.nativeElement.ownerDocument.activeElement,r=t.querySelectorAll(".dropdown-item");switch(e.keyCode){case 38:this._state.counts>0&&r[--this._state.counts].focus();break;case 40:this._state.counts+1<r.length&&(o.classList!==r[this._state.counts].classList?r[this._state.counts].focus():r[++this._state.counts].focus())}e.preventDefault()}ngOnDestroy(){for(const e of this._subscriptions)e.unsubscribe();this._dropdown.dispose()}addBs4Polyfills(){this.addShowClass(),this.checkRightAlignment(),this.addDropupStyles()}playAnimation(){this._state.isAnimated&&this._inlinedMenu&&setTimeout(()=>{this._inlinedMenu&&this._factoryDropDownAnimation.create(this._inlinedMenu.rootNodes[0]).play()})}addShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.addClass(this._inlinedMenu.rootNodes[0],"show")}removeShowClass(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&this._renderer.removeClass(this._inlinedMenu.rootNodes[0],"show")}checkRightAlignment(){if(this._inlinedMenu&&this._inlinedMenu.rootNodes[0]){const e=this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-right")||this._inlinedMenu.rootNodes[0].classList.contains("dropdown-menu-end");this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"left",e?"auto":"0"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"right",e?"0":"auto")}}addDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"top",this.dropup?"auto":"100%"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"transform",this.dropup?"translateY(-101%)":"translateY(0)"),this._renderer.setStyle(this._inlinedMenu.rootNodes[0],"bottom","auto"))}removeDropupStyles(){this._inlinedMenu&&this._inlinedMenu.rootNodes[0]&&(this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"top"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"transform"),this._renderer.removeStyle(this._inlinedMenu.rootNodes[0],"bottom"))}static{this.\u0275fac=function(t){return new(t||HI)(ne(ct),ne(fr),ne(Vi),ne(Mp),ne(Ma),ne(xp),ne(Dp))}}static{this.\u0275dir=xe({type:HI,selectors:[["","bsDropdown",""],["","dropdown",""]],hostVars:6,hostBindings:function(t,o){1&t&&Ie("keydown.arrowDown",function(i){return o.navigationClick(i)})("keydown.arrowUp",function(i){return o.navigationClick(i)}),2&t&&Qe("dropup",o.dropup)("open",o.isOpen)("show",o.isOpen)},inputs:{placement:"placement",triggers:"triggers",container:"container",dropup:"dropup",autoClose:"autoClose",isAnimated:"isAnimated",insideClick:"insideClick",isDisabled:"isDisabled",isOpen:"isOpen"},outputs:{isOpenChange:"isOpenChange",onShown:"onShown",onHidden:"onHidden"},exportAs:["bs-dropdown"],features:[Ht([Ma,Mp,xp])]})}}class QA{constructor(e,t,o){e.resolveDropdownMenu({templateRef:o,viewContainer:t})}static{this.\u0275fac=function(t){return new(t||QA)(ne(Ma),ne(Vi),ne(_s))}}static{this.\u0275dir=xe({type:QA,selectors:[["","bsDropdownMenu",""],["","dropdownMenu",""]],exportAs:["bs-dropdown-menu"]})}}class ZA{constructor(e,t,o,r,i){this._changeDetectorRef=e,this._dropdown=t,this._element=o,this._renderer=r,this._state=i,this.isOpen=!1,this._subscriptions=[],this._subscriptions.push(this._state.isOpenChange.subscribe(s=>{this.isOpen=s,s?(this._documentClickListener=this._renderer.listen("document","click",a=>{this._state.autoClose&&2!==a.button&&!this._element.nativeElement.contains(a.target)&&(!this._state.insideClick||!this._dropdown._contains(a))&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())}),this._escKeyUpListener=this._renderer.listen(this._element.nativeElement,"keyup.esc",()=>{this._state.autoClose&&(this._state.toggleClick.emit(!1),this._changeDetectorRef.detectChanges())})):(this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener())})),this._subscriptions.push(this._state.isDisabledChange.subscribe(s=>this.isDisabled=s||void 0))}onClick(e){this._state.stopOnClickPropagation&&e.stopPropagation(),!this.isDisabled&&this._state.toggleClick.emit(!0)}ngOnDestroy(){this._documentClickListener&&this._documentClickListener(),this._escKeyUpListener&&this._escKeyUpListener();for(const e of this._subscriptions)e.unsubscribe()}static{this.\u0275fac=function(t){return new(t||ZA)(ne(Ac),ne(HI),ne(ct),ne(fr),ne(Ma))}}static{this.\u0275dir=xe({type:ZA,selectors:[["","bsDropdownToggle",""],["","dropdownToggle",""]],hostVars:3,hostBindings:function(t,o){1&t&&Ie("click",function(i){return o.onClick(i)}),2&t&&Mn("aria-haspopup",!0)("disabled",o.isDisabled)("aria-expanded",o.isOpen)},exportAs:["bs-dropdown-toggle"]})}}class Gb{static forRoot(){return{ngModule:Gb,providers:[]}}static{this.\u0275fac=function(t){return new(t||Gb)}}static{this.\u0275mod=gi({type:Gb})}static{this.\u0275inj=Ro({})}}const cte=(n,e)=>e.id;function ute(n,e){if(1&n){const t=pt();V(0,"div",2)(1,"label",3)(2,"input",4),Ie("change",function(){const r=_e(t).$implicit;return Me(D().handleSelect(r))}),j(),$(3,"span",5),j(),$(4,"div",6),j()}if(2&n){const t=e.$implicit,o=D();Qe("disabled",t.disabled),P(2),Qe("radio",!o.multiple()),A("name",o.groupId())("type",o.inputType())("value",t.id)("disabled",t.disabled),P(),A("section",o.translationSectionsMap().get(t.id))("lang",o.lang())("translation",o.translation())("fallbackValue",t.name),P(),A("innerHtml",o.onDisabledTooltipMessage(),XS)}}var jI;!function(n){n.Checkbox="checkbox",n.Radio="radio"}(jI||(jI={}));class zb{constructor(){this.groupId=v(""),this.group=v([]),this.multiple=v(!1),this.onDisabledTooltipMessage=v(""),this.lang=v(Lt),this.translation=v({}),this.valueChange=tn(),this.selectedValue=ue([]),this.inputType=G(()=>this.multiple()?jI.Checkbox:jI.Radio),this.translationDataService=C($r),this.translationSectionsMap=G(()=>this.group().reduce((e,t)=>{const o=this.translationDataService.getSurveySelectionAnswersSectionKey({section:"name",answerId:t.id.toString()??""});return e.set(t.id.toString(),o),e},new Map)),this.groupName=G(()=>`group-${this.groupId()}`),this.onChange=e=>{},this.onTouched=()=>{}}handleSelect(e,t){if(!e)return;if(e?.disabled)return t.preventDefault(),void t.stopPropagation();const o=this.selectedValue().some(i=>i.id===e.id);let r=this.multiple()?[...this.selectedValue(),e]:[e];o&&(r=this.selectedValue().filter(i=>i.id!==e.id)),this.selectedValue.set(r),this.valueChange.emit(this.selectedValue())}writeValue(e){this.selectedValue.set(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}static{this.\u0275fac=function(t){return new(t||zb)}}static{this.\u0275cmp=$e({type:zb,selectors:[["gl-selection-group"]],inputs:{groupId:[1,"groupId"],group:[1,"group"],multiple:[1,"multiple"],onDisabledTooltipMessage:[1,"onDisabledTooltipMessage"],lang:[1,"lang"],translation:[1,"translation"]},outputs:{valueChange:"valueChange"},features:[Ht([{provide:As,useExisting:Mt(()=>zb),multi:!0}])],decls:3,vars:0,consts:[[1,"o-field","gl-input-group"],[1,"gl-input-group__item",3,"disabled"],[1,"gl-input-group__item"],[1,"gl-input-group__item-label"],[1,"gl-input-group__item-input",3,"change","name","type","value","disabled"],["glTranslation","",1,"gl-input-group__item-text",3,"section","lang","translation","fallbackValue"],[1,"gl-input-group__item-tooltip",3,"innerHtml"]],template:function(t,o){1&t&&(V(0,"div",0),ws(1,ute,5,13,"div",1,cte),j()),2&t&&(P(),Cs(o.group()))},dependencies:[Gb,Os,Sb,qn],styles:['.gl-input-group__item[_ngcontent-%COMP%]{position:relative;display:flex;gap:8px;align-items:flex-start;padding-top:16px}.gl-input-group__item-label[_ngcontent-%COMP%]{display:flex;position:relative;margin-top:2px;accent-color:var(--gl-color);box-sizing:border-box}.disabled[_ngcontent-%COMP%]   .gl-input-group__item-label[_ngcontent-%COMP%]{opacity:.4;cursor:default}.disabled[_ngcontent-%COMP%]   .gl-input-group__item-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{pointer-events:none}.gl-input-group__item-label[_ngcontent-%COMP%]:before{content:"";width:16px;height:16px;position:absolute;top:2px;left:0;outline:1px solid var(--gl-color);border-radius:2px}.gl-input-group__item-label[_ngcontent-%COMP%]:hover{cursor:pointer}.gl-input-group__item-label[_ngcontent-%COMP%]:hover:not(.gl-input-group__item-label:hover.radio):not(.disabled .gl-input-group__item-label:hover:not(.gl-input-group__item-label:hover.radio)):before{border-color:#525252;background-color:#d6d6d6}.gl-input-group__item-label[_ngcontent-%COMP%]:has(input:checked):before{background:var(--gl-color)}.gl-input-group__item-label[_ngcontent-%COMP%]:has(input:checked):has(.radio):before{background:transparent}.gl-input-group__item-label[_ngcontent-%COMP%]:has(.radio):before{outline:none;border-radius:50%}.gl-input-group__item-label[_ngcontent-%COMP%]:has(.radio):before:has(input:checked){background:transparent}.gl-input-group__item-input[_ngcontent-%COMP%]{position:relative;visibility:hidden;margin:2px 8px 0 0;width:16px;min-width:16px;height:16px;border-radius:50%;border:1px solid var(--gl-color);background-color:var(--gl-background-primary);transition:background-color .1s linear,border-color .1s linear;accent-color:var(--gl-color)}.gl-input-group__item-input[_ngcontent-%COMP%]:hover{cursor:pointer}.gl-input-group__item-input[_ngcontent-%COMP%]:not(:checked):hover{border-color:#525252;background-color:#d6d6d6}.gl-input-group__item-input[_ngcontent-%COMP%]:checked{visibility:visible}.gl-input-group__item-input[_ngcontent-%COMP%]:checked:not(:hover){border-width:6px}.gl-input-group__item-input[_ngcontent-%COMP%]:checked:hover{accent-color:var(--gl-color);border-width:6px}.gl-input-group__item-input.radio[_ngcontent-%COMP%]{display:block;visibility:visible;appearance:none}.gl-input-group__item-text[_ngcontent-%COMP%]{font-size:14px;font-weight:400;line-height:20px;min-width:0;word-break:break-word}.gl-input-group__item-tooltip[_ngcontent-%COMP%]{position:absolute;height:32px;padding:0 12px;top:-20px;left:-4px;line-height:32px;color:var(--gl-background-primary);background:var(--gl-color);visibility:hidden;pointer-events:none;-webkit-user-select:none;user-select:none}.gl-input-group__item-tooltip[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:8px;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid var(--gl-color);clear:both}.gl-input-group__item.disabled[_ngcontent-%COMP%]:hover   .gl-input-group__item-tooltip[_ngcontent-%COMP%]{visibility:visible}'],changeDetection:0})}}function dte(n,e){if(1&n&&(V(0,"div",1),$(1,"span",5),j()),2&n){const t=D();A("styles",t.styles())("componentType",t.ECssStepElement.QuestionDescription),P(),Qe("gl-sq-question__text-required",t.question().required)("required",t.question().required),A("section",t.questionTranslationSection())("lang",t.lang())("translation",t.translation())("fallbackValue",t.question().question)}}function fte(n,e){1&n&&(V(0,"div",4),Hn(1," This question is required "),j())}class $I{constructor(){this.question=v(),this.control=v(),this.isShowErrors=v(),this.styles=v(void 0),this.lang=v(Lt),this.translation=v({}),this.selectedAnswers=ue([]),this.translationDataService=C($r),this.ECssStepElement=ln,this.surveyAnswerMaxLength=W1_validation.maxLength.surveyAnswer,this.selectionGroup=G(()=>this.question().answers.map(e=>({...e,disabled:this.isAnswerDisabled(e)}))),this.tooltipMessage=G(()=>`You can only select up to ${this.question().selectionLimit} answers`),this.questionTranslationSection=G(()=>this.translationDataService.getSurveyQuestionSectionKey({section:"question",questionId:this.question()?.id??""})),Ve(e=>{const t=this.control();if(!t)return;const o=t.valueChanges.pipe(II(t.value||[])).subscribe(r=>{queueMicrotask(()=>this.selectedAnswers.set(r))});e(()=>o.unsubscribe())})}updateAnswers(e){const t=e.map(({id:o,name:r})=>({id:o,name:r}));this.control().setValue(t)}isAnswerDisabled(e){return this.question().multiple&&this.selectedAnswers().length>=this.question().selectionLimit&&!this.selectedAnswers().some(t=>t.id===e.id)}static{this.\u0275fac=function(t){return new(t||$I)}}static{this.\u0275cmp=$e({type:$I,selectors:[["gl-selection-question-survey"]],inputs:{question:[1,"question"],control:[1,"control"],isShowErrors:[1,"isShowErrors"],styles:[1,"styles"],lang:[1,"lang"],translation:[1,"translation"]},decls:5,vars:8,consts:[[1,"gl-selection-question-survey"],["glCustomStyles","",1,"gl-sq-question","gl-survey__question-description",3,"styles","componentType"],[1,"o-field","gl-input-group"],[3,"valueChange","groupId","group","multiple","onDisabledTooltipMessage","lang","translation"],[1,"gl-sq-question--red"],["glTranslation","",1,"gl-sq-question__text",3,"section","lang","translation","fallbackValue"]],template:function(t,o){if(1&t&&(V(0,"div",0),te(1,dte,2,10,"div",1),V(2,"div",2)(3,"gl-selection-group",3),Ie("valueChange",function(i){return o.updateAnswers(i)}),j()(),te(4,fte,2,0,"div",4),j()),2&t){let r;P(),ge(o.question()?1:-1),P(2),A("groupId",o.question().id)("group",o.selectionGroup())("multiple",o.question().multiple)("onDisabledTooltipMessage",o.tooltipMessage())("lang",o.lang())("translation",o.translation()),P(),ge(null!=(r=o.control())&&r.invalid&&o.isShowErrors()?4:-1)}},dependencies:[Os,Yr,qn,zb],styles:['.gl-selection-question-survey[_ngcontent-%COMP%]{font-family:Open Sans GL,Arial,Helvetica,sans-serif;padding:0 24px 24px}.gl-selection-question-survey[_ngcontent-%COMP%]   .gl-sq-question[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:20px;word-wrap:break-word;text-align:left;gap:4px}.gl-selection-question-survey[_ngcontent-%COMP%]   .gl-sq-question__text[_ngcontent-%COMP%]{flex-grow:1}.gl-selection-question-survey[_ngcontent-%COMP%]   .gl-sq-question__text[_ngcontent-%COMP%] >   p:first-child, .gl-selection-question-survey[_ngcontent-%COMP%]   .gl-sq-question__text[_ngcontent-%COMP%] >   ol>:first-child, .gl-selection-question-survey[_ngcontent-%COMP%]   .gl-sq-question__text[_ngcontent-%COMP%] >   ul>:first-child{margin:0}.gl-selection-question-survey[_ngcontent-%COMP%]   .gl-sq-question__text-required[_ngcontent-%COMP%] >   p:first-child:after, .gl-selection-question-survey[_ngcontent-%COMP%]   .gl-sq-question__text-required[_ngcontent-%COMP%] >   ol>:first-child:after, .gl-selection-question-survey[_ngcontent-%COMP%]   .gl-sq-question__text-required[_ngcontent-%COMP%] >   ul>:first-child:after{content:"*";color:var(--gl-color-error);margin-left:4px}.gl-selection-question-survey[_ngcontent-%COMP%]   .gl-sq-question--red[_ngcontent-%COMP%]{padding-top:16px;color:var(--gl-color-error)}'],changeDetection:0})}}function hte(n,e){if(1&n&&$(0,"div",16),2&n){const t=D();A("styles",t.styles())("componentType",t.ECssStepElement.Description)("lang",t.lang())("translation",t.translation())("fallbackValue",t.normalizedDescription())}}function gte(n,e){if(1&n&&(Qt(0),$(1,"gl-free-text-survey",20),Zt()),2&n){const t=D(),o=t.$implicit,r=t.index,i=D(2);P(),A("control",i.getControl(o.id))("isShowErrors",i.isShowErrors())("question",o)("styles",i.styles())("lang",i.lang())("translation",i.translation()),Mn("data-index",r)}}function pte(n,e){if(1&n&&(Qt(0),$(1,"gl-promotional-score-survey",20),Zt()),2&n){const t=D(),o=t.$implicit,r=t.index,i=D(2);P(),A("control",i.getControl(o.id))("isShowErrors",i.isShowErrors())("question",o)("styles",i.styles())("lang",i.lang())("translation",i.translation()),Mn("data-index",r)}}function mte(n,e){if(1&n&&(Qt(0),$(1,"gl-thumb-selection-survey",20),Zt()),2&n){const t=D(),o=t.$implicit,r=t.index,i=D(2);P(),A("control",i.getControl(o.id))("isShowErrors",i.isShowErrors())("question",o)("styles",i.styles())("lang",i.lang())("translation",i.translation()),Mn("data-index",r)}}function _te(n,e){if(1&n&&$(0,"gl-selection-question-survey",20),2&n){D();const t=mo(1),o=D().$implicit,r=D(2);A("control",t)("isShowErrors",r.isShowErrors())("question",o)("styles",r.styles())("lang",r.lang())("translation",r.translation())}}function vte(n,e){if(1&n&&(Qt(0),Mv(1),te(2,_te,1,6,"gl-selection-question-survey",20),Zt()),2&n){const t=D().$implicit;P();const o=lg(D(2).getControl(t.id));P(),ge(o?2:-1)}}function yte(n,e){if(1&n&&(Qt(0),te(1,gte,2,7,"ng-container",19)(2,pte,2,7,"ng-container",19)(3,mte,2,7,"ng-container",19)(4,vte,3,2,"ng-container",19),Zt()),2&n){const t=e.$implicit,o=D(2);P(),A("ngIf",(null==t?null:t.type)===o.ESurveyQuestionType.FreeText),P(),A("ngIf",(null==t?null:t.type)===o.ESurveyQuestionType.PromotionalScore),P(),A("ngIf",(null==t?null:t.type)===o.ESurveyQuestionType.ThumbSelection),P(),A("ngIf",(null==t?null:t.type)===o.ESurveyQuestionType.SelectionQuestion)}}function bte(n,e){if(1&n&&(V(0,"form",17),te(1,yte,5,4,"ng-container",18),j()),2&n){const t=D();A("formGroup",t.form()),P(),A("ngForOf",t.normalizedQuestions())}}function wte(n,e){if(1&n&&$(0,"div",21),2&n){const t=D();A("lang",t.lang())("translation",t.translation())("fallbackValue",t.normalizedAnnotation())}}class Wb{constructor(){this.id=v(),this.flowId=v(),this.configureMode=v(),this.events=v(),this.styles=v(void 0),this.title=v(void 0),this.description=v(void 0),this.questions=v([]),this.annotation=v(void 0),this.category=v(null),this.lang=v(Lt),this.translation=v({}),this.normalizedTitle=ue(""),this.normalizedDescription=ue(""),this.normalizedAnnotation=ue(""),this.normalizedQuestions=ue([]),this.ESurveyQuestionType=kI,this.ECssStepElement=ln,this.isShowErrors=ue(!1),this.isFormReady=ue(!1),this.contentSideStoreService=C(xn),this.messageService=C(Ao),this.safePipeContentType=Wn,this.contentTransformerService=C(ml),this.clientSideAnalyticService=C(zr),this.eventService=C(Oo),this.formBuilder=C(eu),this.destroy$=new gn,this.injector=C(We),this.translationService=C(qc),this.translationDataService=C($r),this.styleElementId=null,this.form=G(()=>this.formBuilder.group(this.normalizedQuestions().reduce((e,t)=>(e[t.id]=this.formBuilder.control(null,t.required?Tt.required:[]),e),{}))),this.surveySectionCfg=TI.flowCfg.GuidedTour.Survey.sections,this.labels={primaryButton:this.surveySectionCfg.primaryButton.defaultValue,secondaryButton:this.surveySectionCfg.secondaryButton.defaultValue},this.prevId=null,this.initEffects()}get submitAllowed(){return!(!this.flowId()||!this.id())}get valid(){return this.form()?.valid}get analyticsAllowed(){return!!this.flowId()&&!!this.id()}ngOnInit(){this.sentVisitedAnalyticEvent()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getControl(e){return this.form()?.controls[e]}close(){const e=this.events()?.find(t=>t.type===Uv.Close);this.eventService.handleEvent(e||{type:Nt.Close,flowId:this.flowId()}),this.sendCloseAnalyticsEvent()}cancel(){const e=this.events()?.find(t=>t.type===Uv.Cancel);this.eventService.handleEvent(e||{type:Nt.Close,flowId:this.flowId()}),this.sendCloseAnalyticsEvent()}submit(){if(this.valid){this.submitSurvey();const e=this.events()?.find(t=>t.type===Uv.Submit);this.eventService.handleEvent(e||{type:Nt.Next,flowId:this.flowId()})}else this.isShowErrors.set(!0)}submitSurvey(){this.submitAllowed&&this.contentSideStoreService.activeTour$.pipe(Sd(1)).subscribe(e=>{const{flow:t,originator:o}=e||{};if(t&&this.form()&&"user"===o){const r=this.createEventOnSubmit(t),i=this.getAnswers();this.messageService.submitSurvey(r,i)}})}initEffects(){this.handleTitleChange(),this.handleDescriptionChange(),this.handleQuestionsChange(),this.handleAnnotationChange(),this.initFormSubscription(),Ve(()=>{const e=this.id(),t=rn(()=>this.prevId);e&&t&&t!==e&&this.sentVisitedAnalyticEvent(),this.prevId=e},{injector:this.injector})}initFormSubscription(){return Ve(e=>{const t=this.form().valueChanges.pipe(hl()).subscribe(()=>{queueMicrotask(()=>this.isShowErrors.set(!1))});e(()=>{t.unsubscribe()})},{injector:this.injector})}createEventOnSubmit(e){const t=this.lang(),o=this.translationService.translate({section:"customTitle",fallbackValue:this.title(),data:this.translation(),langCode:t}),r=t===Lt?null:t,i=Ug(o),s=JSON.stringify(this.createSubmitSurveyAnalyticsDetails());return{siteUrl:window.location.href,systemFlowId:e.id,systemFlowName:e.name,systemFlowType:e.systemFlowType,systemFlowActionKindId:At.Survey,systemFlowActionInternalId:this.id(),title:i||oe.Survey,eventTypeId:st.NextButton,language:r,details:s}}createSubmitSurveyAnalyticsDetails(){return{type:"submitSurvey",surveyCategory:this.category()??null}}createAnswer(e,t){const o=this.questions().find(i=>i.id===e);if(!o||!t)return null;const r=this.getQuestionTranslation({questionId:o.id||"",fallbackValue:o.question||""});return{questionId:o.id,questionText:r,questionType:o.type,answerText:t}}getAnswers(){const e=[],t=this.form().value;for(const o of Object.keys(t)){const r=this.createAnswerByQuestion({questionId:o});r&&e.push(r)}return e}sentVisitedAnalyticEvent(){if(this.analyticsAllowed){const e=Ug(this.title());this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:st.Visited,systemFlowActionKindId:At.Survey,analyticsTitle:e||oe.Survey,details:this.createSubmitSurveyAnalyticsDetails()})}}sendCloseAnalyticsEvent(){if(this.analyticsAllowed){const e=Ug(this.title());this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:st.Close,systemFlowActionKindId:At.Survey,analyticsTitle:e||oe.Survey})}}handleTitleChange(){return this.createContentEffect(()=>this.title(),e=>this.normalizedTitle.set(e))}handleDescriptionChange(){return this.createContentEffect(()=>this.description(),e=>this.normalizedDescription.set(e))}handleAnnotationChange(){return this.createContentEffect(()=>this.annotation(),e=>this.normalizedAnnotation.set(e))}createContentEffect(e,t){return Ve(()=>{this.contentTransformerService.transformGuidedTourSurveyBodyContent({content:e()??"",flowId:this.flowId(),flowItemId:this.id()}).then(t)},{injector:this.injector})}handleQuestionsChange(){var e=this;return Ve(g(function*(){const t=yield Promise.all(e.questions().map(function(){var o=g(function*(r){return{...r,question:yield e.contentTransformerService.transformGuidedTourSurveyBodyContent({content:r.question??"",flowId:e.flowId(),flowItemId:e.id()})}});return function(r){return o.apply(this,arguments)}}()));e.normalizedQuestions.set(t)}),{injector:this.injector})}getQuestionTranslation(e){const{questionId:t,fallbackValue:o}=e,r=this.translationDataService.getSurveyQuestionSectionKey({section:"question",questionId:t});return this.translationService.translate({section:r,fallbackValue:o,data:this.translation(),langCode:this.lang()})}createSelectionQuestionAnswer(e){if(!e)return null;const t=e.map(o=>({...o,name:this.getSelectionAnswerNameTranslation({answerId:o.id,fallbackValue:o.name||""})}));return JSON.stringify(t)}getSelectionAnswerNameTranslation(e){const{answerId:t,fallbackValue:o}=e,r=this.translationDataService.getSurveySelectionAnswersSectionKey({section:"name",answerId:t});return this.translationService.translate({section:r,fallbackValue:o,data:this.translation(),langCode:this.lang()})}createAnswerByQuestion(e){const{questionId:t}=e;if(!this.isQuestionMultiAnswer(t))return this.createAnswer(t,this.form().get(t).value);const r=this.createSelectionQuestionAnswer(this.form().get(t).value);return this.createAnswer(t,r)}isQuestionMultiAnswer(e){return this.questions().find(o=>o.id===e)?.type===kI.SelectionQuestion}static{this.\u0275fac=function(t){return new(t||Wb)}}static{this.\u0275cmp=$e({type:Wb,selectors:[["gl-survey"]],inputs:{id:[1,"id"],flowId:[1,"flowId"],configureMode:[1,"configureMode"],events:[1,"events"],styles:[1,"styles"],title:[1,"title"],description:[1,"description"],questions:[1,"questions"],annotation:[1,"annotation"],category:[1,"category"],lang:[1,"lang"],translation:[1,"translation"]},decls:17,vars:32,consts:[["glCustomStyles","",1,"gl-survey","gl-survey--Center",3,"styles","componentType","componentSelector"],["glCustomStyles","","elementSelector","gl-survey__topPart",1,"gl-survey__topPart",3,"styles","componentType"],["glCustomStyles","","elementSelector","gl-survey__content",1,"gl-survey__content",3,"styles","componentType"],[1,"gl-survey__header"],["glCustomStyles","","elementSelector","gl-survey__title","glTranslation","","section","customTitle",1,"gl-survey__title",3,"styles","componentType","lang","translation","fallbackValue"],[1,"gl-survey__close"],[1,"gl-survey__close-icon","o-gl-icon","dds-gl-icon_close__s__stroke",3,"click"],[1,"gl-survey__scroll"],["class","gl-survey__description","glCustomStyles","","elementSelector","gl-survey__description","glTranslation","","section","surveyDescription",3,"styles","componentType","lang","translation","fallbackValue",4,"ngIf"],[1,"gl-survey__body"],[3,"formGroup",4,"ngIf"],["glCustomStyles","","elementSelector","gl-survey__footer",1,"gl-survey__footer",3,"styles","componentType"],[1,"gl-survey__footer-buttons"],["glCustomStyles","","elementSelector","gl-survey__button--cancel","glTranslation","","section","secondaryButton",1,"gl-survey__button","gl-survey__button--cancel",3,"click","styles","componentType","lang","translation","fallbackValue"],["glCustomStyles","","elementSelector","gl-survey__button--submit","glTranslation","","section","primaryButton",1,"gl-survey__button","gl-survey__button--submit",3,"click","disabled","styles","componentType","lang","translation","fallbackValue"],["class","gl-survey__footer-annotation","glTranslation","","section","annotation",3,"lang","translation","fallbackValue",4,"ngIf"],["glCustomStyles","","elementSelector","gl-survey__description","glTranslation","","section","surveyDescription",1,"gl-survey__description",3,"styles","componentType","lang","translation","fallbackValue"],[3,"formGroup"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"control","isShowErrors","question","styles","lang","translation"],["glTranslation","","section","annotation",1,"gl-survey__footer-annotation",3,"lang","translation","fallbackValue"]],template:function(t,o){1&t&&(V(0,"div",0)(1,"div",1),$(2,"br"),j(),V(3,"div",2)(4,"div",3),$(5,"div",4),V(6,"div",5)(7,"span",6),Ie("click",function(){return o.close()}),j()()(),V(8,"div",7),te(9,hte,1,5,"div",8),V(10,"div",9),te(11,bte,2,2,"form",10),j()()(),V(12,"div",11)(13,"div",12)(14,"button",13),Ie("click",function(){return o.cancel()}),j(),V(15,"button",14),Ie("click",function(){return o.submit()}),j()(),te(16,wte,1,3,"div",15),j()()),2&t&&(Qe("configure",o.configureMode()),A("styles",o.styles())("componentType",o.ECssStepElement.Container)("componentSelector","gl-survey"),P(),A("styles",o.styles())("componentType",o.ECssStepElement.TopPart),P(2),A("styles",o.styles())("componentType",o.ECssStepElement.Content),P(2),A("styles",o.styles())("componentType",o.ECssStepElement.Title)("lang",o.lang())("translation",o.translation())("fallbackValue",o.normalizedTitle()),P(4),A("ngIf",o.description),P(2),A("ngIf",o.form()),P(),A("styles",o.styles())("componentType",o.ECssStepElement.Footer),P(2),A("styles",o.styles())("componentType",o.ECssStepElement.CancelButton)("lang",o.lang())("translation",o.translation())("fallbackValue",o.labels.secondaryButton),P(),Qe("gl-survey__button--disabled",o.form().invalid&&o.isShowErrors()),A("disabled",o.form().invalid&&o.isShowErrors())("styles",o.styles())("componentType",o.ECssStepElement.SubmitButton)("lang",o.lang())("translation",o.translation())("fallbackValue",o.labels.primaryButton),P(),A("ngIf",o.annotation()))},dependencies:[zn,wl,OI,PI,FI,Os,vb,ub,Jc,Yr,qn,$I],styles:['.gl-survey[_ngcontent-%COMP%]{box-shadow:-40px 64px 80px #0000001a;position:fixed;z-index:100050;font-family:Open Sans GL,Arial,Helvetica,sans-serif;box-sizing:border-box;width:600px;overflow-x:hidden;color:var(--gl-color)}.gl-survey[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.gl-survey[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:90%;overflow-y:hidden}.gl-survey__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.gl-survey[_ngcontent-%COMP%]:after{content:"";height:8px;background-color:var(--gl-color-border);bottom:0;width:100%}.gl-survey--Center[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%)}.gl-survey__topPart[_ngcontent-%COMP%]{width:calc(100% - 17px);height:17px;border-top:1px solid var(--gl-color-line);border-left:1px solid var(--gl-color-line);position:relative;background-color:var(--gl-background-primary);margin-bottom:-1px}.gl-survey__topPart[_ngcontent-%COMP%]:before, .gl-survey__topPart[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:0;border-style:solid}.gl-survey__topPart[_ngcontent-%COMP%]:before{right:-16px;top:-.8px;border-width:0 16px 17px 0;border-color:transparent transparent var(--gl-color-line) transparent}.gl-survey__topPart[_ngcontent-%COMP%]:after{top:1.4px;right:-13.8px;border-width:0 13px 14px 0;border-color:transparent transparent var(--gl-background-primary) transparent}.gl-survey__content[_ngcontent-%COMP%]{background-color:var(--gl-background-primary);border-right:1px solid;border-left:1px solid;border-color:var(--gl-color-line);flex-grow:1;max-width:100%}.gl-survey__scroll[_ngcontent-%COMP%]{flex-grow:1;min-width:0;overflow-y:auto;overflow-x:hidden}.gl-survey__scroll--has-scroll[_ngcontent-%COMP%]{padding-right:8px}.gl-survey__scroll[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.gl-survey__scroll[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:6px}.gl-survey__header[_ngcontent-%COMP%]{position:relative;padding:3px 24px 16px;display:flex;justify-content:space-between;gap:6px}.gl-survey__close[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:26px;min-width:26px;margin-top:4px;background-color:transparent;color:var(--gl-color);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-survey__close[_ngcontent-%COMP%]:hover{background-color:var(--gl-transparent-hover-overlay)}.gl-survey__close[_ngcontent-%COMP%]:active{background-color:var(--gl-transparent-active-overlay)}.gl-survey__close[_ngcontent-%COMP%]:disabled, .gl-survey__close.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-survey__close[_ngcontent-%COMP%]   .o-gl-icon[_ngcontent-%COMP%]{cursor:pointer}.configure[_ngcontent-%COMP%]   .gl-survey__close[_ngcontent-%COMP%]   .o-gl-icon[_ngcontent-%COMP%]{pointer-events:none}.gl-survey__title[_ngcontent-%COMP%]{margin:0;word-wrap:break-word;min-width:0;flex:1;font-size:24px;font-weight:600;line-height:36px;cursor:default}.gl-survey__description[_ngcontent-%COMP%]{padding:2px 24px 14px;font-size:14px;font-weight:400;line-height:20px;word-wrap:break-word;text-align:left}.gl-survey__body[_ngcontent-%COMP%]{min-width:0}.configure[_ngcontent-%COMP%]   .gl-survey__body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{pointer-events:none}.gl-survey__footer[_ngcontent-%COMP%]{position:relative;margin-top:-2px;padding-top:16px;padding-bottom:16px;background-color:var(--gl-background-primary);display:flex;flex-direction:column;border-right:1px solid;border-left:1px solid;border-color:var(--gl-color-line)}.gl-survey__footer-buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:16px}.gl-survey__footer-annotation[_ngcontent-%COMP%]{font-weight:400;font-size:10px;line-height:16px;letter-spacing:0;padding:16px 24px 0;color:var(--gl-color-annotation);word-wrap:break-word}.gl-survey__button[_ngcontent-%COMP%]{width:88px;text-align:var(--gl-button-text-align);height:32px;font-size:14px;line-height:20px;font-weight:400;padding:5px 12px 7px}.gl-survey__button--cancel[_ngcontent-%COMP%]{width:auto;background-color:transparent;color:var(--gl-background-on-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-survey__button--cancel[_ngcontent-%COMP%]:hover{background-color:var(--gl-transparent-hover-overlay)}.gl-survey__button--cancel[_ngcontent-%COMP%]:active{background-color:var(--gl-transparent-active-overlay)}.gl-survey__button--cancel[_ngcontent-%COMP%]:disabled, .gl-survey__button--cancel.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-survey__button--submit[_ngcontent-%COMP%]{margin-right:24px;background-color:var(--gl-background-on-primary);color:var(--gl-color-on-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-survey__button--submit[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,black var(--gl-hover-overlay),var(--gl-background-on-primary))}.gl-survey__button--submit[_ngcontent-%COMP%]:active{background-color:color-mix(in srgb,black var(--gl-active-overlay),var(--gl-background-on-primary))}.gl-survey__button--submit[_ngcontent-%COMP%]:disabled, .gl-survey__button--submit.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-survey__button--disabled[_ngcontent-%COMP%]{opacity:.7;cursor:not-allowed}.configure[_ngcontent-%COMP%]   .gl-survey__button[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]     .gl-survey .gl-rte-action-link, [_nghost-%COMP%]     .gl-survey a{font-weight:500;text-decoration:underline;color:var(--gl-rte-link)}[_nghost-%COMP%]     .gl-survey .gl-rte-action-link--btn{color:var(--gl-step-rte-link-btn-color);background-color:var(--gl-step-rte-link-btn-bg);border:1px solid var(--gl-step-rte-link-btn-border);text-decoration:none}'],changeDetection:0})}}class nf{constructor(){this.messageService=C(Ao)}cancelSelectionAllFrames(){chrome.runtime.sendMessage({command:q.CancelSelectionAllFrames})}notifyFrameLoad(){chrome.runtime.sendMessage({command:q.IframeLoadComplete})}evaluateConditionsForCurrentTab(e){return this.messageService.evaluateConditionsForCurrentTab(e)}static{this.\u0275fac=function(t){return new(t||nf)}}static{this.\u0275prov=F({token:nf,factory:nf.\u0275fac,providedIn:"root"})}}class GI{constructor(){this.flow=v(),this.flowItem=v(),this.eventService=C(Oo),this.contentScriptsColleagueService=C(nf),this.injector=C(We),this.handleWaitForRuleSet()}handleWaitForRuleSet(){return Ve(e=>{const t=this.flowItem()?.data;if(!t)return;const o=t.precondition?.ruleSet?.conditions;if(!Array.isArray(o))return;const i=((t.duration??20)+2)*br;e(this.sheduleEvaluation({conditions:o,intervalMs:2e3,timeoutMs:i}))},{injector:this.injector})}evaluate(e){var t=this;return g(function*(){const{conditions:o}=e;return yield t.contentScriptsColleagueService.evaluateConditionsForCurrentTab({conditions:o})})()}handleNextEvent(){var e=this;return g(function*(){return yield e.eventService.handleEvent({type:Nt.Next,flowId:e.flow().id})})()}sheduleEvaluation(e){var t=this;const{conditions:o,intervalMs:r,timeoutMs:i}=e;let s=null;const a=setTimeout(g(function*(){s&&clearInterval(s),yield t.handleNextEvent()}),i);s=setInterval(g(function*(){(yield t.evaluate({conditions:o}))&&(clearTimeout(a),yield t.handleNextEvent())}),r);const c=()=>{s&&clearInterval(s),clearTimeout(a)};return this.evaluate({conditions:o}).then(d=>{if(d)return c(),this.handleNextEvent()}),c}static{this.\u0275fac=function(t){return new(t||GI)}}static{this.\u0275cmp=$e({type:GI,selectors:[["gl-wait-for-ruleset"]],inputs:{flow:[1,"flow"],flowItem:[1,"flowItem"]},decls:0,vars:0,template:function(t,o){},encapsulation:2,changeDetection:0})}}class zI{constructor(){this.flow=v(),this.flowItem=v(),this.eventService=C(Oo),this.injector=C(We),this.waitForTimeConfig=G(()=>this.flowItem()),this.durationMs=G(()=>{const e=Number(this.waitForTimeConfig()?.data?.duration);return isNaN(e)?0:e*br}),this.handleWaitForTime()}handleWaitForTime(){var e=this;return Ve(t=>{const o=this.waitForTimeConfig(),r=this.flow();if(!o||!r)return;const i=setTimeout(g(function*(){yield e.eventService.handleEvent({type:Nt.Next,flowId:r.id})}),this.durationMs());t(()=>{clearTimeout(i)})},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||zI)}}static{this.\u0275cmp=$e({type:zI,selectors:[["gl-wait-for-time"]],inputs:{flow:[1,"flow"],flowItem:[1,"flowItem"]},decls:0,vars:0,template:function(t,o){},encapsulation:2,changeDetection:0})}}class su{constructor(){this.resetEvents$=Sl(Sl(yo(window,"click"),yo(window,"keydown"),yo(window,"mousemove"),yo(window,"touchstart"),yo(window,"scroll")),yo(document,"visibilitychange").pipe(jn(()=>!document.hidden)))}createTracker(e){return this.resetEvents$.pipe(II(1),vi(()=>lp(e||5*Cd.Minute)))}static{this.\u0275fac=function(t){return new(t||su)}}static{this.\u0275prov=F({token:su,factory:su.\u0275fac,providedIn:"root"})}}function Ste(n,e){if(1&n&&$(0,"gl-highlight",0),2&n){const t=D(3),o=mo(0),r=mo(1);A("configureMode",r.configureMode)("selector",r.selector)("title",r.title)("position",r.position)("styles",r.styles)("overlayOpacity",r.overlayOpacity)("isScrollToElement",!r.position.isFixed)("events",o.events)("flowId",t.flow().id)("triggerType",t.triggerType())("overlay",r.overlay)("stepContent",r.stepContent)("id",r.id)("cases",r.cases)("mainTrigger",r.mainTrigger)("zIndex",r.zIndex)("nextActionType",r.nextActionType)("attachedToHostElement",r.attachedToHostElement)("lang",t.lang())("translation",r.translation)}}function Tte(n,e){if(1&n&&(te(0,Ste,1,20,"gl-highlight",0),fn(1,"frameFilter")),2&n){D(2);ge(Hi(1,1,mo(0))?0:-1)}}function Ite(n,e){if(1&n&&$(0,"gl-pop-up",1),2&n){const t=D(3),o=mo(1);A("configureMode",o.configureMode)("id",o.id)("title",o.title)("width",o.width)("height",o.height)("position",o.position)("popUpContent",o.popUpContent)("events",t.flowItem().events)("flowId",t.flow().id)("overlay",o.overlay)("styles",o.styles)("lang",t.lang())("translation",o.translation)}}function Ete(n,e){if(1&n&&(te(0,Ite,1,13,"gl-pop-up",1),fn(1,"frameFilter")),2&n){D(2);ge(pi(1,1,mo(0),!0)?0:-1)}}function Mte(n,e){if(1&n&&$(0,"gl-survey",2),2&n){const t=D(3),o=mo(1);A("configureMode",o.configureMode)("id",o.id)("title",o.title)("description",o.description)("annotation",o.annotation)("category",o.category)("questions",o.questions)("flowId",t.flow().id)("events",t.flowItem().events)("styles",o.styles)("lang",t.lang())("translation",o.translation)}}function Dte(n,e){if(1&n&&(te(0,Mte,1,12,"gl-survey",2),fn(1,"frameFilter")),2&n){D(2);ge(pi(1,1,mo(0),!0)?0:-1)}}function xte(n,e){if(1&n&&$(0,"gl-wait-for-ruleset",3),2&n){const t=D(3),o=mo(0);A("flow",t.flow())("flowItem",o)}}function kte(n,e){if(1&n&&(te(0,xte,1,2,"gl-wait-for-ruleset",3),fn(1,"frameFilter")),2&n){D(2);ge(pi(1,1,mo(0),!0)?0:-1)}}function Ate(n,e){if(1&n&&$(0,"gl-wait-for-time",3),2&n){const t=D(3),o=mo(0);A("flow",t.flow())("flowItem",o)}}function Ote(n,e){if(1&n&&(te(0,Ate,1,2,"gl-wait-for-time",3),fn(1,"frameFilter")),2&n){D(2);ge(pi(1,1,mo(0),!0)?0:-1)}}function Pte(n,e){if(1&n&&$(0,"gl-resource-pop-up",4),2&n){const t=D(3),o=mo(1);A("configureMode",o.configureMode)("id",o.id)("title",o.title)("file",o.resourceFile)("popup",o.resourcePopup)("resourceLink",o.resourceLink)("display",o.resourceDisplay)("events",t.flowItem().events)("flowId",t.flow().id)("styles",o.styles)("lang",t.lang())("translation",o.translation)}}function Fte(n,e){if(1&n&&(te(0,Pte,1,12,"gl-resource-pop-up",4),fn(1,"frameFilter")),2&n){D(2);ge(pi(1,1,mo(0),!0)?0:-1)}}function Nte(n,e){if(1&n&&te(0,Tte,2,3)(1,Ete,2,4)(2,Dte,2,4)(3,kte,2,4)(4,Ote,2,4)(5,Fte,2,4),2&n){let t;const o=D();ge((t=mo(1).kind)===o.GuidedTourStepType.Step?0:t===o.GuidedTourStepType.PopUp?1:t===o.GuidedTourStepType.Survey?2:t===o.GuidedTourStepType.WaitForRuleset?3:t===o.GuidedTourStepType.WaitForTime?4:t===o.GuidedTourStepType.Resource?5:-1)}}class qb extends op{constructor(){super(...arguments),this.flow=v.required(),this.flowItem=v.required(),this.lang=v(Lt),this.inactivityTrackerService=C(su),this.clientSideAnalyticService=C(zr),this.GuidedTourStepType=oe,this.triggerType=G(()=>{const e=this.flowItem().data;if("nextBehavior"in e)return e.nextBehavior?e.nextBehavior:e.mainTrigger.triggerType})}ngOnInit(){this.startInactivityTracking()}startInactivityTracking(){this.inactivityTrackerService.createTracker().pipe(qi(this.destroy$)).subscribe(()=>{this.trackAnalyticsInactivity()})}trackAnalyticsInactivity(){this.flow()?.id&&this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flow().id,flowItemInternalId:this.flowItem()?.data.id,analyticsEventType:st.Inactive,systemFlowActionKindId:null,analyticsTitle:"GuidedTour"})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(qb)))(o||qb)}})()}static{this.\u0275cmp=$e({type:qb,selectors:[["gl-guided-tour-flow-view"]],inputs:{flow:[1,"flow"],flowItem:[1,"flowItem"],lang:[1,"lang"]},features:[ze],decls:3,vars:3,consts:[[3,"configureMode","selector","title","position","styles","overlayOpacity","isScrollToElement","events","flowId","triggerType","overlay","stepContent","id","cases","mainTrigger","zIndex","nextActionType","attachedToHostElement","lang","translation"],[3,"configureMode","id","title","width","height","position","popUpContent","events","flowId","overlay","styles","lang","translation"],[3,"configureMode","id","title","description","annotation","category","questions","flowId","events","styles","lang","translation"],[3,"flow","flowItem"],[3,"configureMode","id","title","file","popup","resourceLink","display","events","flowId","styles","lang","translation"]],template:function(t,o){if(1&t&&(Mv(0)(1),te(2,Nte,6,1)),2&t){const r=lg(o.flowItem());P();const i=lg(r.data);P(),ge(i.kind?2:-1)}},dependencies:[iu,Cp,Wb,GI,zI,Wo,Lb],encapsulation:2})}}function JA(n,e){return e?t=>OA(e.pipe(Sd(1),function Lte(){return kn((n,e)=>{n.subscribe(cn(e,Pa))})}()),t.pipe(JA(n))):yg((t,o)=>zo(n(t,o)).pipe(Sd(1),function Vte(n){return mt(()=>n)}(t)))}class kp{constructor(){this.action=tn(),this.elementRef=C(ct)}onDocumentClick(e){const t=e.composedPath(),o=this.elementRef.nativeElement;!t.includes(o)&&this.action.emit()}static{this.\u0275fac=function(t){return new(t||kp)}}static{this.\u0275dir=xe({type:kp,selectors:[["","glClickOutside",""]],hostBindings:function(t,o){1&t&&Ie("click",function(i){return o.onDocumentClick(i)},0,oP)},outputs:{action:"glClickOutside"}})}}function Bte(n,e){1&n&&(Qt(0),$(1,"div",4)(2,"div",5)(3,"div",1),Zt())}class WI{static{this.\u0275fac=function(t){return new(t||WI)}}static{this.\u0275cmp=$e({type:WI,selectors:[["gl-content-loader"]],inputs:{isShortMode:"isShortMode"},decls:4,vars:1,consts:[[1,"gl-content-loader"],[1,"gl-content-loader-item","gl-content-loader-item--w95"],[1,"gl-content-loader-item","gl-content-loader-item--w80"],[4,"ngIf"],[1,"gl-content-loader-item","gl-content-loader-item--w70"],[1,"gl-content-loader-item","gl-content-loader-item--w60"]],template:function(t,o){1&t&&(V(0,"div",0),$(1,"div",1)(2,"div",2),te(3,Bte,4,0,"ng-container",3),j()),2&t&&(P(3),A("ngIf",!o.isShortMode))},dependencies:[zn],styles:[".gl-content-loader-item[_ngcontent-%COMP%]{height:16px;background:linear-gradient(90deg,#d0d0ce33,#d0d0cecc,#d0d0ce33 50%);background-size:200%;background-position:50% 0;animation:_ngcontent-%COMP%_left-to-right1 4s ease-in-out infinite}.gl-content-loader-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:8px}.gl-content-loader-item--w60[_ngcontent-%COMP%]{width:60%}.gl-content-loader-item--w70[_ngcontent-%COMP%]{width:70%}.gl-content-loader-item--w80[_ngcontent-%COMP%]{width:80%}.gl-content-loader-item--w95[_ngcontent-%COMP%]{width:95%}@keyframes _ngcontent-%COMP%_left-to-right1{0%{background-position:50% 0}to{background-position:-50% 0}}"]})}}class of{transform(e,t,o="asc"){return Array.isArray(e)&&t?[...e].sort((r,i)=>{const s=r[t],a=i[t];return null===s||null===a||void 0===s||void 0===a?0:"string"==typeof s&&"string"==typeof a?"asc"===o?s.localeCompare(a):a.localeCompare(s):"asc"===o?s>a?1:s<a?-1:0:s<a?1:s>a?-1:0}):e}static{this.\u0275fac=function(t){return new(t||of)}}static{this.\u0275pipe=xo({name:"sortByProp",type:of,pure:!0})}}class qI{constructor(){this.el=C(ct),this.renderer=C(fr),this.appHighlightMatch=v("appHighlightMatch"),this.searchTerm=v(),Ve(()=>{const e=this.el.nativeElement;e.innerHTML="";const t=this.appHighlightMatch()??"",o=this.searchTerm()??"";if(!t||!o)return void this.renderer.appendChild(e,this.renderer.createText(t));const r=t.toLowerCase(),i=o.toLowerCase(),s=[];let a=0;for(;a<t.length;){const c=r.indexOf(i,a);if(-1===c){s.push({text:t.slice(a),highlight:!1});break}c>a&&s.push({text:t.slice(a,c),highlight:!1}),s.push({text:t.slice(c,c+o.length),highlight:!0}),a=c+o.length}for(const c of s)c.highlight?this.renderer.appendChild(e,this.wrapWithMark(c.text)):this.renderer.appendChild(e,this.renderer.createText(c.text))})}wrapWithMark(e){const t=this.renderer.createElement("mark");this.renderer.addClass(t,"mark");const o=this.renderer.createText(e);return this.renderer.appendChild(t,o),t}static{this.\u0275fac=function(t){return new(t||qI)}}static{this.\u0275dir=xe({type:qI,selectors:[["","appHighlightMatch",""]],inputs:{appHighlightMatch:[1,"appHighlightMatch"],searchTerm:[1,"searchTerm"]}})}}const Ute=(n,e)=>e.guid,v3=(n,e)=>e.id;function Hte(n,e){if(1&n){const t=pt();V(0,"span",11),Ie("click",function(){_e(t);return Me(D(2).clearSearch())}),j()}}function jte(n,e){if(1&n){const t=pt();V(0,"div",3)(1,"input",8,0),Ie("input",function(){_e(t);const r=Ui(2);return Me(D().search(r.value))}),j(),$(3,"span",9),te(4,Hte,1,0,"span",10),j()}if(2&n){const t=D();P(),A("lang",t.lang())("translation",t.translation())("fallbackValue",t.placeholderSearch())("formControl",t.searchControl)("placeholder",t.placeholderSearch()),P(3),ge(t.searchTerm().length?4:-1)}}function $te(n,e){if(1&n){const t=pt();V(0,"li",13),Ie("click",function(){const r=_e(t).$index;return Me(D(2).onTabClick(r))}),$(1,"div",14),j()}if(2&n){const t=e.$implicit,o=e.$index,r=D(2);Qe("gl-tabs-list__tab--active",o===r.activeTabIndex())("gl-tabs-list__tab--funded-items",r.searchTerm()&&r.hasVisibleItems(o)&&r.searchIndicatorMap.get(o)),P(),A("section",r.translationSectionMap()[t.guid].name)("lang",r.lang())("translation",r.translation())("fallbackValue",t.name)}}function Gte(n,e){if(1&n&&(V(0,"ul",4),ws(1,$te,2,8,"li",12,Ute),j()),2&n){const t=D();P(),Cs(t.tabs())}}function zte(n,e){if(1&n&&(V(0,"li"),$(1,"span",16,1),j()),2&n){let t;const o=Ui(2),r=D(2).$implicit,i=D(2);Go("gl-tabs-content__item gl-tabs-content__item--title gl-tabs-content__item--",r.hierarchyLevel,""),P(),A("render",!1)("section",null==(t=i.translationItemSectionMap()[r.guid])?null:t.name)("lang",i.lang())("translation",i.translation())("fallbackValue",r.name)("appHighlightMatch",o.translationStr())("searchTerm",i.searchTerm())}}function Wte(n,e){if(1&n&&te(0,zte,3,10,"li",15),2&n){const t=D().$implicit,o=D(2);ge(o.configureMode()||o.isItemVisible(t)?0:-1)}}function qte(n,e){if(1&n&&(V(0,"div"),$(1,"span",16,1),j()),2&n){let t;const o=Ui(2),r=D(2).$implicit,i=D(7);Go("gl-tabs-content__item gl-tabs-content__item--title gl-tabs-content__item--",r.hierarchyLevel,""),P(),A("render",!1)("section",null==(t=i.translationItemSectionMap()[r.guid])?null:t.name)("lang",i.lang())("translation",i.translation())("fallbackValue",r.name)("appHighlightMatch",o.translationStr())("searchTerm",i.searchTerm())}}function Yte(n,e){if(1&n&&te(0,qte,3,10,"div",15),2&n){const t=D().$implicit,o=D(7);ge(o.configureMode()||o.isItemVisible(t)?0:-1)}}function Xte(n,e){if(1&n){const t=pt();V(0,"div",23),Ie("click",function(){_e(t);const r=D(2).$implicit;return Me(D(7).onItemClick(r))}),$(1,"i")(2,"span",24,1),j()}if(2&n){let t;const o=Ui(3),r=D(2).$implicit,i=D(7);Go("gl-menu-tabs__accordion-item gl-menu-tabs__accordion-item--",r.hierarchyLevel,""),P(),Go("gl-menu-tabs__accordion-icon pop-up-section-head__icon o-gl-icon dds-gl-icon_",r.iconClassName,""),P(),A("render",!1)("section",null==(t=i.translationItemSectionMap()[r.guid])?null:t.name)("lang",i.lang())("translation",i.translation())("fallbackValue",r.name)("appHighlightMatch",o.translationStr())("searchTerm",i.searchTerm())}}function Qte(n,e){if(1&n&&te(0,Xte,4,13,"div",15),2&n){const t=D().$implicit,o=D(7);ge(o.configureMode()||o.isItemVisible(t)?0:-1)}}function Zte(n,e){if(1&n&&(V(0,"div"),te(1,Yte,1,1)(2,Qte,1,1),j()),2&n){let t;const o=e.$implicit,r=D(7);P(),ge((t=o.type)===r.menuFlowContentTypes.Title?1:t===r.menuFlowContentTypes.GuideTour?2:-1)}}function Jte(n,e){if(1&n&&ws(0,Zte,3,1,"div",null,v3),2&n){Cs(D(4).$implicit.entity.items)}}function Kte(n,e){if(1&n&&(V(0,"div",22),$(1,"span",25),j()),2&n){let t;const o=D(4).$implicit,r=D(2);P(),A("section",null==(t=r.translationItemSectionMap()[o.guid])?null:t.emptyState)("lang",r.lang())("translation",r.translation())("fallbackValue",o.entity.emptyState)}}function ene(n,e){if(1&n&&(V(0,"div",20),te(1,Jte,2,0)(2,Kte,2,4,"div",22),j()),2&n){const t=D(3).$implicit,o=D(2);P(),ge(o.hasAccordionVisibleItems(null==t.entity?null:t.entity.items)?1:2)}}function tne(n,e){if(1&n){const t=pt();V(0,"div")(1,"div",17),Ie("click",function(){_e(t);const r=D(2).$implicit;return Me(D(2).handleItemOpenedStatus(r))}),$(2,"span",18,1),V(4,"div"),$(5,"i",19),j()(),te(6,ene,3,1,"div",20),$(7,"div",21),j()}if(2&n){let t;const o=Ui(3),r=D(2).$implicit,i=D(2);Go("gl-menu-tabs__accordion-item--",r.hierarchyLevel,""),P(2),A("render",!1)("section",null==(t=i.translationItemSectionMap()[r.guid])?null:t.name)("lang",i.lang())("translation",i.translation())("fallbackValue",r.entity.name)("appHighlightMatch",o.translationStr())("searchTerm",i.searchTerm()),P(3),A("ngClass",i.isAccordionItemOpened(r)?"dds-gl-icon_chevron_up__l__stroke":"dds-gl-icon_chevron_down__l__stroke"),P(),ge(i.isAccordionItemOpened(r)?6:-1)}}function nne(n,e){if(1&n&&te(0,tne,8,12,"div",15),2&n){const t=D().$implicit,o=D(2);ge(o.configureMode()||!t.entity.isHiddenWhenEmpty||o.hasAccordionVisibleItems(null==t.entity?null:t.entity.items)?0:-1)}}function one(n,e){if(1&n){const t=pt();V(0,"li",23),Ie("click",function(){_e(t);const r=D(2).$implicit;return Me(D(2).onItemClick(r))}),$(1,"i")(2,"span",16,1),j()}if(2&n){let t;const o=Ui(3),r=D(2).$implicit,i=D(2);Go("gl-tabs-content__item gl-tabs-content__item--",r.hierarchyLevel,""),P(),Go("o-gl-icon dds-gl-icon_",r.iconClassName,""),P(),A("render",!1)("section",null==(t=i.translationItemSectionMap()[r.guid])?null:t.name)("lang",i.lang())("translation",i.translation())("fallbackValue",r.name)("appHighlightMatch",o.translationStr())("searchTerm",i.searchTerm())}}function rne(n,e){if(1&n&&te(0,one,4,13,"li",15),2&n){const t=D().$implicit,o=D(2);ge(o.configureMode()||o.isItemVisible(t)?0:-1)}}function ine(n,e){if(1&n&&(V(0,"li"),$(1,"span",16,1),j()),2&n){let t;const o=Ui(2),r=D(2).$implicit,i=D(2);Go("gl-tabs-content__item gl-tabs-content__item--",r.hierarchyLevel," gl-tabs-content__item--title"),P(),A("render",!1)("section",null==(t=i.translationItemSectionMap()[r.guid])?null:t.name)("lang",i.lang())("translation",i.translation())("fallbackValue",r.name)("appHighlightMatch",o.translationStr())("searchTerm",i.searchTerm())}}function sne(n,e){if(1&n&&te(0,ine,3,10,"li",15),2&n){const t=D().$implicit,o=D(2);ge(o.configureMode()||o.isItemVisible(t)?0:-1)}}function ane(n,e){if(1&n&&te(0,Wte,1,1)(1,nne,1,1)(2,rne,1,1)(3,sne,1,1),2&n){let t;const o=e.$implicit,r=D(2);ge((t=o.type)===r.menuFlowContentTypes.Title?0:t===r.menuFlowContentTypes.Accordion?1:t===r.menuFlowContentTypes.GuideTour?2:t===r.menuFlowContentTypes.Accordion?3:-1)}}function lne(n,e){if(1&n&&(V(0,"ul",6),ws(1,ane,4,1,null,null,v3),j()),2&n){const t=D();P(),Cs(t.filteredItems()[t.activeTabIndex()])}}function cne(n,e){if(1&n&&$(0,"img",27),2&n){A("src",D(3).emptyStateUrl(),XD)}}function une(n,e){if(1&n&&(V(0,"div",26),te(1,cne,1,1,"img",27),$(2,"span",28),j()),2&n){let t;const o=D(2);P(),ge(o.hasEmptyStateImg()?-1:1),P(),A("lang",o.lang())("translation",o.translation())("fallbackValue",(null==(t=o.contentSearch())?null:t.emptyState)||o.defaultSearchEmptyState)}}function dne(n,e){if(1&n&&(V(0,"div",22),$(1,"span",25),j()),2&n){let t,o;const r=D(2);P(),A("section",null==(t=r.translationSectionMap()[r.activeTab().guid])?null:t.emptyState)("lang",r.lang())("translation",r.translation())("fallbackValue",null==(o=r.activeTab())?null:o.emptyState)}}function fne(n,e){if(1&n&&te(0,une,3,4,"div",26)(1,dne,2,4,"div",22),2&n){ge(D().isSearchPhaseActive()?0:1)}}function hne(n,e){1&n&&$(0,"gl-content-loader",7),2&n&&A("isShortMode",!0)}class Ap{onTabClick(e){this.zone.run(()=>{this.activeTabIndex.set(e)}),this.searchIndicatorMap.set(e,!1)}onItemClick(e){this.itemClick.emit(e)}constructor(){this.tabs=v(),this.contentSearch=v(),this.configureMode=v(),this.isLoading=v(),this.visibilityMap=v(),this.languages=v(),this.lang=v(),this.translation=v({}),this.itemClick=tn(),this.translationDataService=C($r),this.translationService=C(qc),this.glidePlatformService=C(Hr),this.imagesURL=jr.getImagesUrl(this.glidePlatformService.getPlatform()),this.emptyStateUrl=G(()=>{const t=getComputedStyle(document.documentElement).getPropertyValue("--gl-menu-empty-img").trim()||"no-search-result-menu.svg";return`${this.imagesURL}/${t}`}),this.activeTabIndex=ue(0),this.activeTab=G(()=>{const e=this.activeTabIndex();return this.tabs()?.[e]??null}),this.hasEmptyStateImg=G(()=>!!this.contentSearch()?.emptyState?.includes("<img")),this.translationSectionMap=G(()=>this.translationDataService.createMenuTabIdToSectionsMap({sections:["name","emptyState"],tabs:this.tabs()})),this.translationItemSectionMap=G(()=>this.translationDataService.createMenuTabItemIdToSectionsMap({sections:["name","emptyState"],tabs:this.tabs()})),this.menuFlowContentTypes=vo,this.searchIndicatorMap=new Map,this.openedAccordionsIds=new Set,this.searchControl=new fp(""),this.safePipeContentType=Wn,this.sortByProp=C(of),this.injector=C(We),this.zone=C(ft),this.defaultSearch="Search",this.defaultSearchEmptyState="No results found.",this.flowContentType=vo,this.searchTerm=ue(""),this.isSearchPhaseActive=G(()=>this.searchTerm().length>=2),this.hasSearchedItems=G(()=>this.filteredItems().some((e,t)=>this.isShowEmptyStateForTab(t))),this.tabsSortedContent=G(()=>(this.tabs()??[]).map(e=>{const t=this.sortByProp.transform([...e.items??[]],"order");return t.forEach(o=>{o.iconClassName=o.iconClassName??Rk;const r=o.entity?.items??[];if(r.length){const i=this.sortByProp.transform([...r],"order");o.entity={...o.entity,items:i.map(s=>({...s,iconClassName:s.iconClassName??Rk}))}}}),{...e,items:t}})),this.filteredItems=G(()=>{const e=this.searchTerm().toLowerCase();return e.length<2?this.tabsSortedContent().map(t=>t.items):this.tabsSortedContent().map(t=>t.items.map(o=>{const i=this.translationService.translate({section:this.translationItemSectionMap()[o.guid]?.name,langCode:this.lang(),data:this.translation(),fallbackValue:o.name}).toLowerCase().includes(e),s=o.entity?.items?.filter(c=>this.translationService.translate({section:this.translationItemSectionMap()[o.guid]?.name,langCode:this.lang(),data:this.translation(),fallbackValue:c.name}).toLowerCase().includes(e))??[];return i||s.length>0?{...o,isShow:this.isSearchPhaseActive()&&s.length>0,entity:o.entity?{...o.entity,items:s}:void 0}:null}).filter(Boolean))}),this.placeholderSearch=G(()=>{const t=this.contentSearch()?.placeholder;return t&&t?.length?t:this.defaultSearch}),this.handleTabSearchResultChange(),this.initOpenedAccordionsIds()}search(e){const t=e.trim().toLowerCase();this.searchTerm.set(t.length>=2?t:"")}hasVisibleItems(e=this.activeTabIndex()){return this.filteredItems()[e]?.some(t=>this.isItemVisible(t))}isShowEmptyStateForTab(e=this.activeTabIndex()){return this.filteredItems()[e]?.some(t=>t.type===vo.Accordion?this.isSearchPhaseActive()||this.hasAccordionVisibleItems(t.entity.items):this.isItemVisible(t))}hasAccordionVisibleItems(e){return e?.some(t=>this.isItemVisible(t))}clearSearch(){this.searchTerm.set(""),this.searchControl.setValue("")}isItemVisible(e){return this.visibilityMap().get(e.guid)}handleItemOpenedStatus(e){e.isShow=!this.openedAccordionsIds.has(e.guid),e.isShow?this.openedAccordionsIds.add(e.guid):this.openedAccordionsIds.delete(e.guid)}isAccordionItemOpened(e){return e.isShow||this.openedAccordionsIds.has(e.guid)}handleTabSearchResultChange(){return Ve(()=>{this.filteredItems().forEach((e,t)=>{this.searchIndicatorMap.set(t,e.length&&t!==rn(this.activeTabIndex))})},{injector:this.injector})}initOpenedAccordionsIds(){return Ve(()=>{this.tabs().forEach(t=>{t.items.forEach(o=>{o.type===vo.Accordion&&o.entity?.isExpandedByDefault&&this.openedAccordionsIds.add(o.guid)})})},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||Ap)}}static{this.\u0275cmp=$e({type:Ap,selectors:[["gl-menu-tabs"]],inputs:{tabs:[1,"tabs"],contentSearch:[1,"contentSearch"],configureMode:[1,"configureMode"],isLoading:[1,"isLoading"],visibilityMap:[1,"visibilityMap"],languages:[1,"languages"],lang:[1,"lang"],translation:[1,"translation"]},outputs:{itemClick:"itemClick"},features:[Ht([of])],decls:7,vars:4,consts:[["searchEl",""],["trDir","glTranslation"],[1,"gl-menu-tabs"],[1,"gl-menu-tabs__search-content"],[1,"gl-tabs-list"],[1,"gl-tabs-content"],[1,"gl-tabs-content__list"],[3,"isShortMode"],["glTranslation","","section","searchPlaceholder","attribute","placeholder","maxLength","50","id","search","type","text",1,"gl-menu-tabs__search-content--search",3,"input","lang","translation","fallbackValue","formControl","placeholder"],[1,"o-gl-icon","dds-gl-icon_search__s__stroke","gl-menu-tabs__search-icon","gl-input-search-icon"],[1,"o-gl-icon","dds-gl-icon_close__s__stroke","gl-menu-tabs__delete-icon"],[1,"o-gl-icon","dds-gl-icon_close__s__stroke","gl-menu-tabs__delete-icon",3,"click"],[1,"gl-tabs-list__tab",3,"gl-tabs-list__tab--active","gl-tabs-list__tab--funded-items"],[1,"gl-tabs-list__tab",3,"click"],["glTranslation","",1,"gl-tabs-list__tab-name",3,"section","lang","translation","fallbackValue"],[3,"class"],["glTranslation","",3,"render","section","lang","translation","fallbackValue","appHighlightMatch","searchTerm"],[1,"gl-menu-tabs__accordion-title",3,"click"],["glTranslation","",1,"gl-menu-tabs__accordion-name",3,"render","section","lang","translation","fallbackValue","appHighlightMatch","searchTerm"],[1,"pop-up-section-head__icon","o-gl-icon","o-gl-icon",3,"ngClass"],[1,"gl-menu-tabs__accordion-body"],[1,"gl-menu-tabs__accordion-divider"],[1,"gl-tabs-content__empty"],[3,"click"],["glTranslation","",1,"gl-menu-tabs__name",3,"render","section","lang","translation","fallbackValue","appHighlightMatch","searchTerm"],["glTranslation","",1,"gl-tabs-content__empty-inner",3,"section","lang","translation","fallbackValue"],[1,"gl-tabs-content__empty","gl-tabs-content__empty-search-results"],["alt","empty-state",3,"src"],["glTranslation","","section","searchEmptyState",1,"gl-tabs-content__empty-inner",3,"lang","translation","fallbackValue"]],template:function(t,o){if(1&t&&(V(0,"div",2),te(1,jte,5,6,"div",3)(2,Gte,3,0,"ul",4),V(3,"div",5),te(4,lne,3,0,"ul",6)(5,fne,2,1),j(),te(6,hne,1,1,"gl-content-loader",7),j()),2&t){let r,i;P(),ge(null!=(r=o.contentSearch())&&r.visible?1:-1),P(),ge(null!=(i=o.tabs())&&i.length?2:-1),P(2),ge(o.isShowEmptyStateForTab()?4:5),P(2),ge(o.isLoading()?6:-1)}},dependencies:[WI,qI,Ds,Os,Sa,Xc,El,qn],styles:['.gl-menu-tabs[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow:hidden;font-family:Open Sans GL,Arial,Helvetica,sans-serif}.gl-menu-tabs[_ngcontent-%COMP%]   .mark[_ngcontent-%COMP%]{background-color:var(--gl-search-highlight)}.gl-menu-tabs__delete-icon[_ngcontent-%COMP%]{position:absolute;top:8px;right:35px;cursor:pointer;color:var(--gl-color)}.gl-menu-tabs__search-icon[_ngcontent-%COMP%]{position:absolute;top:8px;left:30px}.gl-menu-tabs__search-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;padding:0 24px 16px;margin-top:20px}.gl-menu-tabs__search-content--search[_ngcontent-%COMP%]{height:32px;position:relative;width:100%;box-sizing:border-box;padding-left:30px;font-size:14px;color:var(--gl-color);background-color:transparent;border:1px solid var(--gl-color-line);transition:border-color .15s ease}.gl-menu-tabs__search-content--search[_ngcontent-%COMP%] + .gl-input-search-icon[_ngcontent-%COMP%]{color:var(--gl-color-placeholder)}.gl-menu-tabs__search-content--search[_ngcontent-%COMP%]::placeholder{color:var(--gl-color-line);transition:color .15s ease}.gl-menu-tabs__search-content--search[_ngcontent-%COMP%]:hover{border-color:var(--gl-input-border-hover)}.gl-menu-tabs__search-content--search[_ngcontent-%COMP%]:hover + .gl-input-search-icon[_ngcontent-%COMP%]{color:var(--gl-color-placeholder-hover)}.gl-menu-tabs__search-content--search[_ngcontent-%COMP%]:hover::placeholder{color:var(--gl-input-border-hover)}.gl-menu-tabs__search-content--search[_ngcontent-%COMP%]:focus, .gl-menu-tabs__search-content--search[_ngcontent-%COMP%]:active{border-color:var(--gl-input-border-active)}.gl-menu-tabs__search-content--search[_ngcontent-%COMP%]:focus + .gl-input-search-icon[_ngcontent-%COMP%], .gl-menu-tabs__search-content--search[_ngcontent-%COMP%]:active + .gl-input-search-icon[_ngcontent-%COMP%]{color:var(--gl-input-border-active)}.gl-menu-tabs__search-content--search[_ngcontent-%COMP%]:focus::placeholder, .gl-menu-tabs__search-content--search[_ngcontent-%COMP%]:active::placeholder{color:var(--gl-input-border-hover)}.gl-menu-tabs__search-content--search[_ngcontent-%COMP%]:focus-visible{border-radius:0;outline:none}.gl-menu-tabs__search-content--icon[_ngcontent-%COMP%]{position:absolute;top:16px;left:30px}.gl-menu-tabs__empty-filters[_ngcontent-%COMP%]{background:#d0d0ce;height:68px;display:flex;justify-content:center;align-items:center;margin:0 10px}.gl-menu-tabs__accordion-icon[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--gl-color-second-label)}.gl-menu-tabs__accordion-item[_ngcontent-%COMP%]{display:flex;margin-bottom:18px}.gl-menu-tabs__accordion-item--First[_ngcontent-%COMP%]{margin-left:0}.gl-menu-tabs__accordion-item--Second[_ngcontent-%COMP%]{margin-left:32px}.gl-menu-tabs__accordion-item--Third[_ngcontent-%COMP%]{margin-left:52px}.gl-menu-tabs__accordion-body[_ngcontent-%COMP%]{line-height:20px}.gl-menu-tabs__accordion-body[_ngcontent-%COMP%]   .gl-tabs-content__item.gl-tabs-content__item--title[_ngcontent-%COMP%]{margin-bottom:6px}.gl-menu-tabs__accordion-name[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:20px;color:var(--gl-color)}.gl-menu-tabs__name[_ngcontent-%COMP%]{text-decoration:underline;color:var(--gl-background-on-primary);margin-left:10px;cursor:pointer;overflow-wrap:anywhere}.gl-menu-tabs__accordion-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;cursor:pointer;height:40px;align-items:center}.gl-menu-tabs__accordion-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--gl-color)}.gl-menu-tabs__accordion-divider[_ngcontent-%COMP%]{height:1px;width:100%;background-color:var(--gl-color-line);margin-bottom:12px}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-list[_ngcontent-%COMP%]{min-height:34px;overflow-x:auto;display:flex;flex-wrap:nowrap;gap:8px;position:relative;margin:8px 24px;padding:0;list-style-type:none;border-bottom:1px solid var(--gl-color-line)}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-list__tab[_ngcontent-%COMP%]{font-size:14px;line-height:20px;padding:5px 12px 7px;position:relative;white-space:nowrap;cursor:pointer;color:var(--gl-color);display:flex;align-items:center;gap:4px}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-list__tab--funded-items[_ngcontent-%COMP%]:after{content:"";background-color:var(--gl-color-border);display:inline-block;width:6px;height:6px;border-radius:100%}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-list__tab--active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;right:0;height:2px;background-color:var(--gl-color-border);z-index:1}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-list__tab-name[_ngcontent-%COMP%]{font-size:14px}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content[_ngcontent-%COMP%]{padding:8px 24px 24px;flex:1;overflow:auto;font-size:14px;line-height:20px;font-weight:400}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__list[_ngcontent-%COMP%]{margin:0;padding:0;list-style-type:none}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__empty[_ngcontent-%COMP%]{color:var(--gl-color);padding:20px 0;display:flex;flex-direction:column;align-items:center}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__empty-search-results[_ngcontent-%COMP%]{margin:20px 24px 0;font-size:14px;line-height:20px;font-weight:400}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__empty-inner[_ngcontent-%COMP%]{margin-top:8px;max-width:80%;display:flex;justify-content:center;text-align:center;flex-direction:column}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__item[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;display:flex;align-items:center;gap:8px;cursor:pointer;font-size:14px;line-height:20px;font-weight:400}.gl-menu.configure[_ngcontent-%COMP%]   .gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__item[_ngcontent-%COMP%]{pointer-events:none}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:18px}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gl-background-on-primary);text-decoration:underline}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--gl-color-second-label)}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__item--First[_ngcontent-%COMP%]{margin-left:0}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__item--Second[_ngcontent-%COMP%]{margin-left:32px}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__item--Third[_ngcontent-%COMP%]{margin-left:52px}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__item--title[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-weight:600;cursor:default;color:var(--gl-color)}.gl-menu-tabs[_ngcontent-%COMP%]   .gl-tabs-content__item--title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:inherit;text-decoration:none}']})}}function gne(n,e){if(1&n){const t=pt();V(0,"div",1),Ie("glClickOutside",function(){_e(t);return Me(D().handleOutsideClick())}),V(1,"div",2)(2,"div",3),$(3,"span",4),V(4,"div",5),Ie("click",function(){_e(t);return Me(D().handleToggleMenu())}),$(5,"i",6),j()(),V(6,"gl-menu-tabs",7),Ie("itemClick",function(r){_e(t);return Me(D().handleItemClick(r))}),j()()()}if(2&n){let t;const o=D();Go("gl-menu ",o.containerPlacement(),""),$o("z-index",o.zIndex()),Qe("configure",o.configureMode()),A("appClockWisePosition",o.menuData()),P(),A("ngStyle",o.menuSizes()),P(2),A("lang",o.lang())("translation",o.translation())("fallbackValue",o.menuContentTitle()),P(3),A("tabs",o.tabs())("configureMode",o.configureMode())("isLoading",o.isInProgress())("visibilityMap",o.visibilityMap())("contentSearch",null==(t=o.content())?null:t.search)("languages",o.languages())("lang",o.lang())("translation",o.translation())}}class YI{constructor(){this.menuData=v(),this.configureMode=v(),this.open=v(),this.isInProgress=v(),this.items=v(),this.menuContentTitle=v(),this.zIndex=v(),this.tabs=v([]),this.visibilityMap=v(),this.isEmptyState=v(),this.content=v(),this.menuSizes=v(),this.languages=v(),this.lang=v(),this.translation=v({}),this.itemClick=tn(),this.outsideClick=tn(),this.toggleMenu=tn(),this.safePipeContentType=Wn,this.containerPlacement=G(()=>`gl-menu--${this.menuData()?.placement||Lv.Center}`)}handleItemClick(e){this.itemClick.emit(e)}handleOutsideClick(){this.outsideClick.emit()}handleToggleMenu(){this.toggleMenu.emit()}static{this.\u0275fac=function(t){return new(t||YI)}}static{this.\u0275cmp=$e({type:YI,selectors:[["gl-none-button-menu"]],inputs:{menuData:[1,"menuData"],configureMode:[1,"configureMode"],open:[1,"open"],isInProgress:[1,"isInProgress"],items:[1,"items"],menuContentTitle:[1,"menuContentTitle"],zIndex:[1,"zIndex"],tabs:[1,"tabs"],visibilityMap:[1,"visibilityMap"],isEmptyState:[1,"isEmptyState"],content:[1,"content"],menuSizes:[1,"menuSizes"],languages:[1,"languages"],lang:[1,"lang"],translation:[1,"translation"]},outputs:{itemClick:"itemClick",outsideClick:"outsideClick",toggleMenu:"toggleMenu"},decls:1,vars:1,consts:[[3,"class","configure","z-index","appClockWisePosition","glClickOutside",4,"ngIf"],[3,"glClickOutside","appClockWisePosition"],[1,"gl-menu-content","none","visible",3,"ngStyle"],[1,"gl-menu-content-header"],["glTranslation","","section","header",1,"gl-menu-content-header-title",3,"lang","translation","fallbackValue"],[1,"gl-menu-content-header-close",3,"click"],[1,"o-gl-icon","dds-gl-icon_close__s__stroke"],[1,"gl-menu-content__tabs",3,"itemClick","tabs","configureMode","isLoading","visibilityMap","contentSearch","languages","lang","translation"]],template:function(t,o){1&t&&te(0,gne,7,20,"div",0),2&t&&A("ngIf",o.open()||o.configureMode())},dependencies:[zn,lb,$c,kp,Ap,qn],styles:['.gl-menu[_ngcontent-%COMP%]{position:fixed;bottom:0;right:24px;z-index:100030;font-family:Open Sans GL,Arial,Helvetica,sans-serif}.gl-menu-content[_ngcontent-%COMP%]{display:none;position:absolute;bottom:60px;right:0;border:1px solid var(--gl-color-line);border-bottom:none;background-color:var(--gl-background-primary);width:480px;box-shadow:-40px 64px 80px #0000001a;box-sizing:border-box}.gl-menu-content[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-1px;right:-1px;bottom:0;height:8px;background-color:var(--gl-background-on-primary)}.gl-menu-content.none[_ngcontent-%COMP%]{position:relative;bottom:unset;right:unset;height:100%;width:unset}.gl-menu-content.visible[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gl-menu-content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:var(--gl-color);padding:20px 24px 2px}.gl-menu-content-header-title[_ngcontent-%COMP%]{font-size:16px;line-height:24px;font-weight:600;cursor:default}.gl-menu-content-header-close[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:26px;min-width:26px;background-color:transparent;color:var(--gl-color);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-menu-content-header-close[_ngcontent-%COMP%]:hover{background-color:var(--gl-transparent-hover-overlay)}.gl-menu-content-header-close[_ngcontent-%COMP%]:active{background-color:var(--gl-transparent-active-overlay)}.gl-menu-content-header-close[_ngcontent-%COMP%]:disabled, .gl-menu-content-header-close.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-menu-content__tabs[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow:hidden}.gl-menu--Center[_ngcontent-%COMP%]{inset:50% auto auto 50%}.gl-menu--CenterLeft[_ngcontent-%COMP%]{inset:50% auto auto 24px}.gl-menu--CenterRight[_ngcontent-%COMP%]{inset:50% 24px auto auto}.gl-menu--TopCenter[_ngcontent-%COMP%]{inset:4px auto auto 50%}.gl-menu--TopLeft[_ngcontent-%COMP%]{inset:4px auto auto 24px}.gl-menu--TopRight[_ngcontent-%COMP%]{inset:4px 24px auto auto}.gl-menu--BottomLeft[_ngcontent-%COMP%]{bottom:4px;left:24px;right:auto}.gl-menu--BottomCenter[_ngcontent-%COMP%]{bottom:4px;left:50%;right:auto}.gl-menu--BottomRight[_ngcontent-%COMP%]{left:auto;bottom:4px;right:24px}']})}}function mne(n,e=rp,t){const o=lp(n,e);return function pne(n,e){return kn((t,o)=>{const{leading:r=!0,trailing:i=!1}=e??{};let s=!1,a=null,c=null,d=!1;const f=()=>{c?.unsubscribe(),c=null,i&&(m(),d&&o.complete())},p=()=>{c=null,d&&o.complete()},y=b=>c=zo(n(b)).subscribe(cn(o,f,p)),m=()=>{if(s){s=!1;const b=a;a=null,o.next(b),!d&&y(b)}};t.subscribe(cn(o,b=>{s=!0,a=b,(!c||c.closed)&&(r?m():y(b))},()=>{d=!0,(!(i&&s&&c)||c.closed)&&o.complete()}))})}(()=>o,t)}class au{constructor(){this._isDragModeActive=ue(!1),this._currentPlacement=ue(null),this.finalPlacement=ue(null,{equal:()=>!1}),this.isDragModeActive=G(()=>this._isDragModeActive()),this.currentPlacement=G(()=>this._currentPlacement())}setDragModeIsActive(e,t){this._isDragModeActive.set(e),this._lastPlacement=this.finalPlacement()||t}updatePlacement(e){this._isDragModeActive()&&this._currentPlacement.set(e)}setFinalPlacement(e){this._currentPlacement.set(null);const t=e||this._lastPlacement;this.finalPlacement.set(t)}reset(){this._isDragModeActive.set(!1),this._currentPlacement.set(null),this.finalPlacement.set(null)}static{this.\u0275fac=function(t){return new(t||au)}}static{this.\u0275prov=F({token:au,factory:au.\u0275fac,providedIn:"root"})}}class Yb extends op{constructor(){super(...arguments),this.position=v(),this.offset=v(24),this.defaultPlacement=v.required(),this.rectangleSize=this.rectangleSizeSignal(),this.dragMenuButtonStateService=C(au),this.midpointCoefficientsOfCells={forSecond:1.5,forThird:2.5},this.leftPositions=[ce.Left0,ce.Left1,ce.Left2,ce.Left3],this.rightPositions=[ce.Right0,ce.Right1,ce.Right2,ce.Right3],this.middlePositions=[ce.Top1,ce.Top2,ce.Left1,ce.Left2,ce.Right1,ce.Right2,ce.Bottom1,ce.Bottom2],this.cornerPositions=[ce.Left0,ce.Right3,ce.Top3,ce.Bottom3],this.bottomPositions=[ce.Bottom0,ce.Bottom1,ce.Bottom2,ce.Bottom3],this.computePosition=G(()=>{const e=this.position(),t=this.defaultPlacement(),o=this.offset(),r=this.rectangleSize(),i=e?.placement??t,s=e?.distance??{},a=this.calcCellSize(r.width),c=this.calcCellSize(r.height),d=this.applyPositionAdjustments({placement:i,rectangleSize:r,offset:o,cellWidth:a,cellHeight:c,distance:s});return{top:`${d.top}px`,left:`${d.left}px`,transform:d.transform,transformOrigin:d.transformOrigin}})}get hostPosition(){return this.computePosition()}calcCellSize(e){return e/4}getTopPosition(e){const{placement:t,rectangleSize:o,offset:r,cellSize:i}=e;switch(t){case ce.Left0:case ce.Right0:return r;case ce.Bottom0:case ce.Bottom1:case ce.Bottom2:case ce.Bottom3:return o.height;case ce.Right3:case ce.Left3:return o.height-r;case ce.Left1:case ce.Right1:return i*this.midpointCoefficientsOfCells.forSecond;case ce.Left2:case ce.Right2:return i*this.midpointCoefficientsOfCells.forThird;default:return 0}}getLeftPosition(e){const{placement:t,rectangleSize:o,offset:r,cellSize:i}=e;switch(t){case ce.Top0:case ce.Bottom0:return r;case ce.Top3:case ce.Bottom3:return o.width-r;case ce.Right0:case ce.Right1:case ce.Right2:case ce.Right3:return o.width;case ce.Top1:case ce.Bottom1:return i*this.midpointCoefficientsOfCells.forSecond;case ce.Top2:case ce.Bottom2:return i*this.midpointCoefficientsOfCells.forThird;default:return 0}}rectangleSizeSignal(){const e=document.documentElement,o=ue({height:e.clientHeight,width:e.clientWidth});return yo(window,"resize").pipe(II(null),mne(50),mt(()=>({width:e.clientWidth,height:e.clientHeight})),qi(this.destroy$)).subscribe(o.set),o}applyPositionAdjustments(e){const{placement:t,rectangleSize:o,offset:r,cellWidth:i,cellHeight:s,distance:a}=e,c={top:0,left:0,transform:"",transformOrigin:"top left"};return c.top=-a.y+this.getTopPosition({placement:t,rectangleSize:o,offset:r,cellSize:s}),c.left=a.x+this.getLeftPosition({placement:t,rectangleSize:o,offset:r,cellSize:i}),c.transform=this.applyTransform(t),c}applyTransform(e){let t="0deg";const o={x:"0",y:"0"},r=this.leftPositions.includes(e),i=this.rightPositions.includes(e),s=this.middlePositions.includes(e),a=this.cornerPositions.includes(e),c=this.bottomPositions.includes(e);return r&&(t="-90deg"),i&&(t="90deg"),this.dragMenuButtonStateService.isDragModeActive()||(c&&(o.y="-100%"),s&&(o.x="-50%"),a&&(o.x="-100%")),`rotate(${t}) translate(${o.x}, ${o.y})`}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Yb)))(o||Yb)}})()}static{this.\u0275dir=xe({type:Yb,selectors:[["","glRectangularWisePosition",""]],hostVars:2,hostBindings:function(t,o){2&t&&vs(o.hostPosition)},inputs:{position:[1,"position"],offset:[1,"offset"],defaultPlacement:[1,"defaultPlacement"]},features:[ze]})}}class XI{constructor(e,t,o){this.elementRef=e,this.renderer=t,this.dragMenuButtonStateService=o,this.offset={x:0,y:0},this.defaultPlacement=ce.Bottom3,this.targetedPlacement=null,this.position=v(),this.placementChanged=new Pt,this.dragStateChange=new Pt,this.onMouseMoveListener=r=>{if(!this.dragMenuButtonStateService.isDragModeActive())return;const s=this.elementRef.nativeElement.getBoundingClientRect(),a=r.clientX-this.offset.x,c=r.clientY-this.offset.y;let d,f;switch(this.setPosition(a,c),this.currentPlacement){case ce.Left0:case ce.Left1:case ce.Left2:case ce.Left3:d=s.left,f=s.top+s.height/2;break;case ce.Right0:case ce.Right1:case ce.Right2:case ce.Right3:d=s.left+s.width,f=s.top+s.height/2;break;default:d=s.left+s.width/2,f=s.top+s.height/2}this.targetedPlacement=this.getTargetedPlacement(d,f),this.dragMenuButtonStateService.updatePlacement(this.targetedPlacement)},this.onMouseUpListener=()=>{this.dragMenuButtonStateService.isDragModeActive()&&(this.dragMenuButtonStateService.setDragModeIsActive(!1,this.currentPlacement),this.dragStateChange.emit(!1),this.renderer.setStyle(this.hostElement,"position","fixed"),this.placementChanged.emit(this.targetedPlacement),this.dragMenuButtonStateService.setFinalPlacement(this.targetedPlacement),this.enableBodyForMoveEventHandle(),document.removeEventListener("mousemove",this.onMouseMoveListener),document.removeEventListener("mouseup",this.onMouseUpListener))},this.hostElement=this.elementRef.nativeElement}ngAfterViewInit(){const e=this.hostElement.querySelector(".drag-point");e&&this.renderer.listen(e,"mousedown",t=>this.startDrag(t))}get currentPlacement(){return this.position()?.placement||this.defaultPlacement}startDrag(e){e.preventDefault();const t=this.elementRef.nativeElement.getBoundingClientRect();let o=t.left,r=t.top;switch(this.currentPlacement){case ce.Left0:case ce.Left1:case ce.Left2:case ce.Left3:r=t.top+t.height;break;case ce.Right0:case ce.Right1:case ce.Right2:case ce.Right3:o=t.left+t.width/2}this.offset.x=e.clientX-o,this.offset.y=e.clientY-r,this.setPosition(o,r),document.addEventListener("mousemove",this.onMouseMoveListener),document.addEventListener("mouseup",this.onMouseUpListener),this.dragMenuButtonStateService.setDragModeIsActive(!0,this.currentPlacement),this.dragStateChange.emit(!0),this.renderer.setStyle(this.hostElement,"position","absolute"),this.disableBodyForMoveEventHandle()}setPosition(e,t){const o=window.scrollX,r=window.scrollY;this.renderer.setStyle(this.hostElement,"left",`${e+o}px`),this.renderer.setStyle(this.hostElement,"top",`${t+r}px`)}getTargetedPlacement(e,t){const o=window.innerWidth,r=window.innerHeight,a=.2*r,c=.2*o,d=o/4,f=r/4,p=t,y=r-t,m=e,b=o-e;if(p<a||y<a||m<c||b<c){const T=Math.min(p,y,m,b);if(T===p&&p<=m&&p<=b)return`Top${Math.min(Math.floor(e/d),3)}`;if(T===y&&y<=m&&y<=b)return`Bottom${Math.min(Math.floor(e/d),3)}`;if(T===m&&m<=p&&m<=y)return`Left${Math.min(Math.floor(t/f),3)}`;if(T===b&&b<=p&&b<=y)return`Right${Math.min(Math.floor(t/f),3)}`}return null}disableBodyForMoveEventHandle(){document.body.style.userSelect="none",document.body.style.overflow="hidden"}enableBodyForMoveEventHandle(){document.body.style.userSelect="",document.body.style.overflow=""}static{this.\u0275fac=function(t){return new(t||XI)(ne(ct),ne(fr),ne(au))}}static{this.\u0275dir=xe({type:XI,selectors:[["","glDraggableButton",""]],inputs:{position:[1,"position"]},outputs:{placementChanged:"placementChanged",dragStateChange:"dragStateChange"}})}}function vne(n,e){if(1&n&&(V(0,"div",2)(1,"div",13),$(2,"i",14),j()()),2&n){A("ngClass",D(2).dragIconPlacement())}}function yne(n,e){if(1&n){const t=pt();V(0,"div",1),Ie("glClickOutside",function(){_e(t);return Me(D().handleOutsideClick())})("dragStateChange",function(r){_e(t);return Me(D().isDragging.set(r))}),te(1,vne,3,1,"div",2),V(2,"div",3),Ie("click",function(){_e(t);return Me(D().handleToggleMenu())}),$(3,"span",4),V(4,"div",5),$(5,"i",6),j()(),V(6,"div",7)(7,"div",8),$(8,"span",9),V(9,"div",10),Ie("click",function(){_e(t);return Me(D().handleToggleMenu())}),$(10,"i",11),j()(),V(11,"gl-menu-tabs",12),Ie("itemClick",function(r){_e(t);return Me(D().handleItemClick(r))}),j()()()}if(2&n){let t;const o=D();$o("z-index",o.zIndex()),Qe("configure",o.configureMode())("is-dragging",o.isDragging()),A("defaultPlacement",o.defaultPlacement)("position",o.containerPosition()),P(),ge(o.configureMode()||!o.allowToDragAndDrop()&&!o.isDragging()?-1:1),P(2),A("lang",o.lang())("translation",o.translation())("fallbackValue",o.title()),P(3),Go("gl-menu-content ",o.menuPlacement(),""),Qe("visible",o.open()),A("ngStyle",o.menuSizes()),P(2),A("lang",o.lang())("translation",o.translation())("fallbackValue",o.menuContentTitle()),P(3),A("tabs",o.tabs())("configureMode",o.configureMode())("isLoading",o.isInProgress())("contentSearch",null==(t=o.content())?null:t.search)("visibilityMap",o.visibilityMap())("languages",o.languages())("lang",o.lang())("translation",o.translation())}}class QI{constructor(){this.menuData=v(),this.containerData=v(),this.userMainMenuUserConfig=v(null),this.configureMode=v(),this.open=v(),this.isInProgress=v(),this.items=v(),this.menuContentTitle=v(),this.zIndex=v(),this.title=v(),this.tabs=v([]),this.content=v(),this.visibilityMap=v(),this.isEmptyState=v(),this.menuSizes=v(),this.allowToDragAndDrop=v(!1),this.isDragging=ue(!1),this.menuIsHiddenByConfiguration=v(),this.flowGuid=v(),this.languages=v(),this.lang=v(),this.translation=v({}),this.itemClick=tn(),this.toggleMenu=tn(),this.outsideClick=tn(),this.safePipeContentType=Wn,this.defaultPlacement=ce.Bottom3,this.userSpecificPlacement=G(()=>{if(this.configureMode())return null;const e=this.userMainMenuUserConfig();return e?.guid&&e.guid===this.flowGuid()?e.placement:null}),this.containerPosition=G(()=>{const{placement:e,distance:t}=this.containerData(),o=this.userSpecificPlacement();return{placement:o||e,distance:{type:bd.PX,x:o?0:t.x,y:o?0:t.y},isFixed:!1}}),this.menuPlacement=G(()=>`gl-menu-content--${this.placementElements().menu}`),this.placementElements=G(()=>{const e=this.userSpecificPlacement(),t=this.containerData()?.placement??this.defaultPlacement,o=e??t;return this.getPlacementElements(o)}),this.dragIconPlacement=G(()=>`gl-menu__drag-button--${this.placementElements().dragIcon}`)}handleItemClick(e){this.itemClick.emit(e)}handleToggleMenu(){this.toggleMenu.emit()}handleOutsideClick(){this.outsideClick.emit()}getPlacementElements(e){let t,o;switch(e){case ce.Top0:case ce.Top1:t=Dn.BottomLeft,o=Dn.BottomRight;break;case ce.Top2:case ce.Top3:t=Dn.BottomRight,o=Dn.BottomLeft;break;case ce.Right0:case ce.Right1:t=Dn.LeftTop,o=Dn.BottomRight;break;case ce.Right2:case ce.Right3:t=Dn.LeftBottom,o=Dn.BottomLeft;break;case ce.Bottom3:case ce.Bottom2:t=Dn.TopRight,o=Dn.TopLeft;break;case ce.Bottom1:case ce.Bottom0:t=Dn.TopLeft,o=Dn.TopRight;break;case ce.Left3:case ce.Left2:t=Dn.RightBottom,o=Dn.BottomRight;break;case ce.Left1:case ce.Left0:t=Dn.RightTop,o=Dn.BottomLeft}return{menu:t,dragIcon:o}}static{this.\u0275fac=function(t){return new(t||QI)}}static{this.\u0275cmp=$e({type:QI,selectors:[["gl-floating-button-menu"]],inputs:{menuData:[1,"menuData"],containerData:[1,"containerData"],userMainMenuUserConfig:[1,"userMainMenuUserConfig"],configureMode:[1,"configureMode"],open:[1,"open"],isInProgress:[1,"isInProgress"],items:[1,"items"],menuContentTitle:[1,"menuContentTitle"],zIndex:[1,"zIndex"],title:[1,"title"],tabs:[1,"tabs"],content:[1,"content"],visibilityMap:[1,"visibilityMap"],isEmptyState:[1,"isEmptyState"],menuSizes:[1,"menuSizes"],allowToDragAndDrop:[1,"allowToDragAndDrop"],menuIsHiddenByConfiguration:[1,"menuIsHiddenByConfiguration"],flowGuid:[1,"flowGuid"],languages:[1,"languages"],lang:[1,"lang"],translation:[1,"translation"]},outputs:{itemClick:"itemClick",toggleMenu:"toggleMenu",outsideClick:"outsideClick"},decls:1,vars:1,consts:[["class","gl-menu","glRectangularWisePosition","","glDraggableButton","",3,"configure","is-dragging","defaultPlacement","position","z-index","glClickOutside","dragStateChange",4,"ngIf"],["glRectangularWisePosition","","glDraggableButton","",1,"gl-menu",3,"glClickOutside","dragStateChange","defaultPlacement","position"],[1,"gl-menu__drag-button",3,"ngClass"],[1,"gl-menu-button",3,"click"],["glTranslation","","section","title",1,"gl-menu-button-label",3,"lang","translation","fallbackValue"],[1,"gl-menu-button-icon"],[1,"o-gl-icon","dds-gl-icon_help__l__stroke"],[3,"ngStyle"],[1,"gl-menu-content-header"],["glTranslation","","section","header",1,"gl-menu-content-header-title",3,"lang","translation","fallbackValue"],[1,"gl-menu-content-header-close",3,"click"],[1,"o-gl-icon","dds-gl-icon_close__s__stroke"],[1,"gl-menu-content__tabs",3,"itemClick","tabs","configureMode","isLoading","contentSearch","visibilityMap","languages","lang","translation"],[1,"gl-menu__drag-circle","drag-point"],[1,"o-gl-icon","glide-icon-move"]],template:function(t,o){1&t&&te(0,yne,12,29,"div",0),2&t&&A("ngIf",!o.menuIsHiddenByConfiguration())},dependencies:[kp,Yb,Ap,$c,XI,Ds,zn,qn],styles:['.gl-menu[_ngcontent-%COMP%]{position:fixed;z-index:100030;font-family:Open Sans GL,Arial,Helvetica,sans-serif}.gl-menu__drag-button[_ngcontent-%COMP%], .gl-menu__drag-circle[_ngcontent-%COMP%]{display:flex}.gl-menu__drag-button[_ngcontent-%COMP%]{height:34px;width:34px;position:absolute;opacity:0;pointer-events:none;cursor:pointer;transition:opacity .2s ease}.gl-menu__drag-button[class*=--top][_ngcontent-%COMP%]{top:-22px}.gl-menu__drag-button[class*=--bottom][_ngcontent-%COMP%]{bottom:-22px;align-items:flex-end}.gl-menu__drag-button--top-left[_ngcontent-%COMP%], .gl-menu__drag-button--bottom-left[_ngcontent-%COMP%]{left:-22px}.gl-menu__drag-button--top-right[_ngcontent-%COMP%], .gl-menu__drag-button--bottom-right[_ngcontent-%COMP%]{right:-22px;justify-content:flex-end}.gl-menu__drag-circle[_ngcontent-%COMP%]{height:24px;width:24px;justify-content:center;align-items:center;border-radius:50%;background:#fff;cursor:grabbing;box-shadow:0 0 3px #000c;color:#000}.gl-menu[_ngcontent-%COMP%]:not(.gl-menu:has(.gl-menu-content:hover)):hover   .gl-menu__drag-button[_ngcontent-%COMP%], .gl-menu[_ngcontent-%COMP%]   .gl-menu__drag-button[_ngcontent-%COMP%]:hover, .gl-menu.is-dragging[_ngcontent-%COMP%]   .gl-menu__drag-button[_ngcontent-%COMP%]{opacity:1;pointer-events:auto;transition:none}.gl-menu.is-dragging[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.gl-menu-button[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:flex-end;align-items:center;gap:12px;padding-right:12px;padding-left:16px;min-width:80px;background-color:var(--gl-background-on-primary);color:var(--gl-color-on-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-menu-button[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,black var(--gl-hover-overlay),var(--gl-background-on-primary))}.gl-menu-button[_ngcontent-%COMP%]:active{background-color:color-mix(in srgb,black var(--gl-active-overlay),var(--gl-background-on-primary))}.gl-menu-button[_ngcontent-%COMP%]:disabled, .gl-menu-button.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-menu-button-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-weight:400;white-space:nowrap}.gl-menu-button-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:20px;width:20px}.gl-menu-button-icon[_ngcontent-%COMP%] > .o-gl-icon[_ngcontent-%COMP%]{font-size:20px}.gl-menu-button--hidden[_ngcontent-%COMP%]{display:none}.gl-menu-content[_ngcontent-%COMP%]{display:none;position:absolute;border:1px solid var(--gl-color-line);border-bottom:none;background-color:var(--gl-background-primary);width:480px;box-shadow:-40px 64px 80px #0000001a}.gl-menu-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}.gl-menu-content--bottom-left[_ngcontent-%COMP%]{border-top:6px solid var(--gl-step-color-border);top:56px}.gl-menu-content--bottom-left[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);top:-22px;left:0}.gl-menu-content--bottom-left[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;top:-22px;left:0;transform:rotate(270deg)}.gl-menu-content--bottom-right[_ngcontent-%COMP%]{border-top:6px solid var(--gl-step-color-border);top:56px;right:0}.gl-menu-content--bottom-right[_ngcontent-%COMP%]:before{background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);top:-22px;right:0}.gl-menu-content--bottom-right[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;top:-22px;right:0;transform:rotate(360deg)}.gl-menu-content--top-left[_ngcontent-%COMP%]{bottom:56px;border-bottom:6px solid var(--gl-step-color-border)}.gl-menu-content--top-left[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);bottom:-22px;left:0;transform:rotate(-90deg)}.gl-menu-content--top-left[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;bottom:-22px;left:0;transform:rotate(180deg)}.gl-menu-content--top-right[_ngcontent-%COMP%]{bottom:56px;right:0;border-bottom:6px solid var(--gl-step-color-border)}.gl-menu-content--top-right[_ngcontent-%COMP%]   .gl-highlight-popup__inner[_ngcontent-%COMP%]{border-bottom:none}.gl-menu-content--top-right[_ngcontent-%COMP%]   .gl-highlight-popup__gradient[_ngcontent-%COMP%]{bottom:-6px}.gl-menu-content--top-right[_ngcontent-%COMP%]:before{background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);bottom:-22px;right:0;transform:rotate(90deg)}.gl-menu-content--top-right[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;bottom:-22px;right:0;transform:rotate(90deg)}.gl-menu-content--left-top[_ngcontent-%COMP%]{border-right:6px solid var(--gl-step-color-border);left:0;transform:rotate(-90deg) translate(calc(-100% - 16px));transform-origin:top left}.gl-menu-content--left-top[_ngcontent-%COMP%]:before{top:0;right:-22px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%)}.gl-menu-content--left-top[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;right:-22px;top:0;transform:rotate(0)}.gl-menu-content--left-bottom[_ngcontent-%COMP%]{border-right:6px solid var(--gl-step-color-border);bottom:-16px;right:0;transform:rotate(-90deg);transform-origin:bottom right}.gl-menu-content--left-bottom[_ngcontent-%COMP%]:before{bottom:0;right:-22px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);transform:rotate(180deg)}.gl-menu-content--left-bottom[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;right:-22px;bottom:0;transform:rotate(90deg)}.gl-menu-content--right-top[_ngcontent-%COMP%]{right:0;transform-origin:top right;transform:rotate(90deg) translate(calc(100% + 16px));border-left:6px solid var(--gl-step-color-border)}.gl-menu-content--right-top[_ngcontent-%COMP%]:before{top:0;left:-22px;background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%)}.gl-menu-content--right-top[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;left:-22px;top:0;transform:rotate(-90deg)}.gl-menu-content--right-bottom[_ngcontent-%COMP%]{bottom:-16px;transform:rotate(90deg);transform-origin:bottom left;border-left:6px solid var(--gl-step-color-border)}.gl-menu-content--right-bottom[_ngcontent-%COMP%]:before{bottom:0;left:-22px;background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);transform:rotate(-90deg)}.gl-menu-content--right-bottom[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;left:-22px;bottom:0;transform:rotate(180deg)}.gl-menu-content.none[_ngcontent-%COMP%]{position:relative;bottom:unset;right:unset}.gl-menu-content.visible[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gl-menu-content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:var(--gl-color);padding:20px 24px 2px}.gl-menu-content-header-title[_ngcontent-%COMP%]{font-size:16px;line-height:24px;font-weight:600;cursor:default}.gl-menu-content-header-close[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:26px;min-width:26px;background-color:transparent;color:var(--gl-color);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-menu-content-header-close[_ngcontent-%COMP%]:hover{background-color:var(--gl-transparent-hover-overlay)}.gl-menu-content-header-close[_ngcontent-%COMP%]:active{background-color:var(--gl-transparent-active-overlay)}.gl-menu-content-header-close[_ngcontent-%COMP%]:disabled, .gl-menu-content-header-close.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-menu-content__tabs[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow:hidden}']})}}const bne=["menuButton"];function wne(n,e){if(1&n){const t=pt();V(0,"div",3),Ie("glClickOutside",function(){_e(t);return Me(D().handleOutsideClick())}),V(1,"div",4,0),Ie("click",function(){_e(t);return Me(D().handleToggleMenu())}),$(3,"span",5),V(4,"div",6),$(5,"i",7),j()(),V(6,"div",8)(7,"div",9),$(8,"span",10),V(9,"div",11),Ie("click",function(){_e(t);return Me(D().handleToggleMenu())}),$(10,"i",12),j()(),V(11,"gl-menu-tabs",13),Ie("itemClick",function(r){_e(t);return Me(D().handleItemClick(r))}),j()()()}if(2&n){let t;const o=Ui(2),r=D();$o("z-index",r.zIndex()),Qe("configure",r.configureMode()),A("targetElement",r.element())("position",r.buttonPosition())("strategy",r.buttonPositionStrategy())("attachToHostElement",r.attachedToHostElement())("watchPosition",!0)("defaultPlacement",r.defaultPlacementButton),P(3),A("lang",r.lang())("translation",r.translation())("fallbackValue",r.title()),P(3),Go("gl-menu-content ",r.arrowPosition(),""),Qe("visible",r.open()),A("ngStyle",r.menuSizes())("targetElement",o)("position",r.contentPosition())("defaultPlacement",r.defaultPlacementMenu),P(2),A("lang",r.lang())("translation",r.translation())("fallbackValue",r.menuContentTitle()),P(3),A("tabs",r.tabs())("configureMode",r.configureMode())("isLoading",r.isInProgress())("visibilityMap",r.visibilityMap())("contentSearch",null==(t=r.content())?null:t.search)("languages",r.languages())("lang",r.lang())("translation",r.translation())}}class Xb extends qr{constructor(){super(...arguments),this.menuData=v(),this.buttonData=v(),this.configureMode=v(),this.open=v(),this.isInProgress=v(),this.items=v(),this.menuContentTitle=v(),this.zIndex=v(),this.title=v(),this.selector=v(),this.tabs=v([]),this.visibilityMap=v(),this.isEmptyState=v(),this.content=v(),this.targetUrl=v(),this.menuSizes=v(),this.languages=v(),this.lang=v(),this.translation=v({}),this.attachedToHostElement=v(!1),this.itemClick=tn(),this.toggleMenu=tn(),this.outsideClick=tn(),this.supportPlayModeService=C(Gc),this.safePipeContentType=Wn,this.defaultPlacementButton=me.Right,this.defaultPlacementMenu=me.BottomRight,this.arrowPosition=G(()=>{const e=this.menuData()?.placement||this.defaultPlacementButton;return`gl-menu-content--${Dn[e]}`}),this.buttonPosition=G(()=>{const{buttonFlowPosition:e,distance:t,placement:o,isFixed:r,attachedToHostElement:i}=this.buttonData();return{buttonFlowPosition:e,placement:o,isFixed:r,attachedToHostElement:i,distance:{x:t.x,y:t.y,type:bd.PX}}}),this.buttonPositionStrategy=G(()=>this.buttonPosition()?.isFixed?"fixed":"absolute"),this.contentPosition=G(()=>{const{distance:e,placement:t}=this.menuData();return{distance:{x:e.x,y:e.y,type:bd.PX},placement:t,isFixed:!1}})}handleItemClick(e){this.itemClick.emit(e)}handleToggleMenu(){this.toggleMenu.emit()}handleOutsideClick(){this.outsideClick.emit()}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Xb)))(o||Xb)}})()}static{this.\u0275cmp=$e({type:Xb,selectors:[["gl-sticky-button-menu"]],viewQuery:function(t,o){if(1&t&&pr(bne,7),2&t){let r;mr(r=_r())&&(o.menuButton=r.first)}},inputs:{menuData:[1,"menuData"],buttonData:[1,"buttonData"],configureMode:[1,"configureMode"],open:[1,"open"],isInProgress:[1,"isInProgress"],items:[1,"items"],menuContentTitle:[1,"menuContentTitle"],zIndex:[1,"zIndex"],title:[1,"title"],selector:[1,"selector"],tabs:[1,"tabs"],visibilityMap:[1,"visibilityMap"],isEmptyState:[1,"isEmptyState"],content:[1,"content"],targetUrl:[1,"targetUrl"],menuSizes:[1,"menuSizes"],languages:[1,"languages"],lang:[1,"lang"],translation:[1,"translation"],attachedToHostElement:[1,"attachedToHostElement"]},outputs:{itemClick:"itemClick",toggleMenu:"toggleMenu",outsideClick:"outsideClick"},features:[ze],decls:2,vars:4,consts:[["menuButton",""],[3,"element","isHighlightActive","zIndex"],["class","gl-menu","glElementPositionSync","",3,"configure","z-index","targetElement","position","strategy","attachToHostElement","watchPosition","defaultPlacement","glClickOutside",4,"ngIf"],["glElementPositionSync","",1,"gl-menu",3,"glClickOutside","targetElement","position","strategy","attachToHostElement","watchPosition","defaultPlacement"],[1,"gl-menu-button",3,"click"],["glTranslation","","section","title",1,"gl-menu-button-label",3,"lang","translation","fallbackValue"],[1,"gl-menu-button-icon"],[1,"o-gl-icon","dds-gl-icon_help__l__stroke"],["glElementPositionSync","",3,"ngStyle","targetElement","position","defaultPlacement"],[1,"gl-menu-content-header"],["glTranslation","","section","header",1,"gl-menu-content-header-title",3,"lang","translation","fallbackValue"],[1,"gl-menu-content-header-close",3,"click"],[1,"o-gl-icon","dds-gl-icon_close__s__stroke"],[1,"gl-menu-content__tabs",3,"itemClick","tabs","configureMode","isLoading","visibilityMap","contentSearch","languages","lang","translation"]],template:function(t,o){1&t&&($(0,"gl-element-overlay",1),te(1,wne,12,33,"div",2)),2&t&&(A("element",o.element())("isHighlightActive",o.configureMode())("zIndex",o.zIndex()),P(),A("ngIf",o.display()))},dependencies:[zn,Tl,ru,kp,$c,Ap,qn],styles:['.gl-menu[_ngcontent-%COMP%]{position:absolute;left:0;top:0;z-index:100030;font-family:Open Sans GL,Arial,Helvetica,sans-serif}.gl-menu-button[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:flex-end;align-items:center;gap:12px;padding-right:12px;padding-left:16px;min-width:80px;background-color:var(--gl-background-on-primary);color:var(--gl-color-on-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-menu-button[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,black var(--gl-hover-overlay),var(--gl-background-on-primary))}.gl-menu-button[_ngcontent-%COMP%]:active{background-color:color-mix(in srgb,black var(--gl-active-overlay),var(--gl-background-on-primary))}.gl-menu-button[_ngcontent-%COMP%]:disabled, .gl-menu-button.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-menu-button-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-weight:400;white-space:nowrap}.gl-menu-button-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:20px;width:20px}.gl-menu-button-icon[_ngcontent-%COMP%] > .o-gl-icon[_ngcontent-%COMP%]{font-size:20px}.gl-menu-button--hidden[_ngcontent-%COMP%]{display:none}.gl-menu-content[_ngcontent-%COMP%]{display:none;position:absolute;bottom:60px;right:0;border-bottom:none;background-color:var(--gl-background-primary);width:480px;box-shadow:-40px 64px 80px #0000001a}.gl-menu-content--bottom-left[_ngcontent-%COMP%]{border-top:6px solid var(--gl-step-color-border);top:16px!important}.gl-menu-content--bottom-left[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);top:-22px;left:0}.gl-menu-content--bottom-left[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;top:-22px;left:0;transform:rotate(270deg)}.gl-menu-content--bottom-right[_ngcontent-%COMP%]{top:16px!important;border-top:6px solid var(--gl-step-color-border)}.gl-menu-content--bottom-right[_ngcontent-%COMP%]:before{background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);top:-22px;right:0}.gl-menu-content--bottom-right[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;top:-22px;right:0;transform:rotate(360deg)}.gl-menu-content--top-left[_ngcontent-%COMP%]{bottom:16px!important;border-bottom:6px solid var(--gl-step-color-border)}.gl-menu-content--top-left[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);bottom:-22px;left:0;transform:rotate(-90deg)}.gl-menu-content--top-left[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;bottom:-22px;left:0;transform:rotate(180deg)}.gl-menu-content--top-right[_ngcontent-%COMP%]{bottom:16px!important;border-bottom:6px solid var(--gl-step-color-border)}.gl-menu-content--top-right[_ngcontent-%COMP%]   .gl-highlight-popup__inner[_ngcontent-%COMP%]{border-bottom:none}.gl-menu-content--top-right[_ngcontent-%COMP%]   .gl-highlight-popup__gradient[_ngcontent-%COMP%]{bottom:-6px}.gl-menu-content--top-right[_ngcontent-%COMP%]:before{background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);bottom:-22px;right:0;transform:rotate(90deg)}.gl-menu-content--top-right[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;bottom:-22px;right:0;transform:rotate(90deg)}.gl-menu-content--left-top[_ngcontent-%COMP%]{right:16px!important;border-right:6px solid var(--gl-step-color-border)}.gl-menu-content--left-top[_ngcontent-%COMP%]:before{top:0;right:-22px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%)}.gl-menu-content--left-top[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;right:-22px;top:0;transform:rotate(0)}.gl-menu-content--left-bottom[_ngcontent-%COMP%]{right:16px!important;border-right:6px solid var(--gl-step-color-border)}.gl-menu-content--left-bottom[_ngcontent-%COMP%]:before{bottom:0;right:-22px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);transform:rotate(180deg)}.gl-menu-content--left-bottom[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;right:-22px;bottom:0;transform:rotate(90deg)}.gl-menu-content--right-top[_ngcontent-%COMP%]{left:16px!important;border-left:6px solid var(--gl-step-color-border)}.gl-menu-content--right-top[_ngcontent-%COMP%]:before{top:0;left:-22px;background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%)}.gl-menu-content--right-top[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;left:-22px;top:0;transform:rotate(-90deg)}.gl-menu-content--right-bottom[_ngcontent-%COMP%]{left:16px!important;border-left:6px solid var(--gl-step-color-border)}.gl-menu-content--right-bottom[_ngcontent-%COMP%]:before{bottom:0;left:-22px;background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);transform:rotate(-90deg)}.gl-menu-content--right-bottom[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;left:-22px;bottom:0;transform:rotate(180deg)}.gl-menu-content.visible[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gl-menu-content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:var(--gl-color);padding:20px 24px 2px}.gl-menu-content-header-title[_ngcontent-%COMP%]{font-size:16px;line-height:24px;font-weight:600;cursor:default}.gl-menu-content-header-close[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:26px;min-width:26px;background-color:transparent;color:var(--gl-color);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-menu-content-header-close[_ngcontent-%COMP%]:hover{background-color:var(--gl-transparent-hover-overlay)}.gl-menu-content-header-close[_ngcontent-%COMP%]:active{background-color:var(--gl-transparent-active-overlay)}.gl-menu-content-header-close[_ngcontent-%COMP%]:disabled, .gl-menu-content-header-close.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-menu-content__tabs[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1;overflow:hidden}']})}}function Cne(n,e){if(1&n&&(V(0,"div",9),$(1,"div",10),j()),2&n){const t=e.$implicit;Qe("gl-dnd-layout__zone--highlight",D(2).isDropable(t))}}function Sne(n,e){if(1&n&&(V(0,"div",9),$(1,"div",10),j()),2&n){const t=e.$implicit;Qe("gl-dnd-layout__zone--highlight",D(2).isDropable(t))}}function Tne(n,e){if(1&n&&(V(0,"div",9),$(1,"div",10),j()),2&n){const t=e.$implicit;Qe("gl-dnd-layout__zone--highlight",D(2).isDropable(t))}}function Ine(n,e){if(1&n&&(V(0,"div",9),$(1,"div",10),j()),2&n){const t=e.$implicit;Qe("gl-dnd-layout__zone--highlight",D(2).isDropable(t))}}function Ene(n,e){if(1&n&&(V(0,"div",1)(1,"div",2),ws(2,Cne,2,2,"div",3,ig),j(),V(4,"div",4)(5,"div",5),ws(6,Sne,2,2,"div",3,ig),j(),$(8,"div",6),V(9,"div",7),ws(10,Tne,2,2,"div",3,ig),j()(),V(12,"div",8),ws(13,Ine,2,2,"div",3,ig),j()()),2&n){const t=D();$o("z-index",t.zIndex()),P(2),Cs(t.topZones),P(4),Cs(t.leftZones),P(4),Cs(t.rightZones),P(3),Cs(t.bottomZones)}}class ZI{constructor(){this.zIndex=v(),this.dragMenuButtonStateService=C(au),this.selectedPositionChange=tn(),this.isDragModeActive=this.dragMenuButtonStateService.isDragModeActive,this.currentPlacement=this.dragMenuButtonStateService.currentPlacement,this.topZones=[ce.Top0,ce.Top1,ce.Top2,ce.Top3],this.rightZones=[ce.Right0,ce.Right1,ce.Right2,ce.Right3],this.bottomZones=[ce.Bottom0,ce.Bottom1,ce.Bottom2,ce.Bottom3],this.leftZones=[ce.Left0,ce.Left1,ce.Left2,ce.Left3]}isDropable(e){return this.currentPlacement()===e}select(e){this.selectedPositionChange.emit(e)}static{this.\u0275fac=function(t){return new(t||ZI)}}static{this.\u0275cmp=$e({type:ZI,selectors:[["gl-dragndrop-position-layout"]],inputs:{zIndex:[1,"zIndex"]},outputs:{selectedPositionChange:"selectedPositionChange"},decls:1,vars:1,consts:[[1,"gl-dnd-layout",3,"z-index"],[1,"gl-dnd-layout"],[1,"gl-dnd-layout__row","gl-dnd-layout__row--top"],[1,"gl-dnd-layout__zone",3,"gl-dnd-layout__zone--highlight"],[1,"gl-dnd-layout__row","gl-dnd-layout__row--middle"],[1,"gl-dnd-layout__column","gl-dnd-layout__column--left"],[1,"gl-dnd-layout__spacer"],[1,"gl-dnd-layout__column","gl-dnd-layout__column--right"],[1,"gl-dnd-layout__row","gl-dnd-layout__row--bottom"],[1,"gl-dnd-layout__zone"],[1,"gl-dnd-layout__zone-inner"]],template:function(t,o){1&t&&te(0,Ene,15,2,"div",0),2&t&&ge(o.isDragModeActive()?0:-1)},styles:[".gl-dnd-layout[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:9999;display:flex;flex-direction:column;justify-content:space-between}.gl-dnd-layout__row--top[_ngcontent-%COMP%], .gl-dnd-layout__row--bottom[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:20px}.gl-dnd-layout__row--top[_ngcontent-%COMP%]   .gl-dnd-layout__zone[_ngcontent-%COMP%], .gl-dnd-layout__row--bottom[_ngcontent-%COMP%]   .gl-dnd-layout__zone[_ngcontent-%COMP%]{flex:1;max-width:25%}.gl-dnd-layout__row--middle[_ngcontent-%COMP%]{display:flex;flex:1}.gl-dnd-layout__row--middle[_ngcontent-%COMP%]   .gl-dnd-layout__column--left[_ngcontent-%COMP%], .gl-dnd-layout__row--middle[_ngcontent-%COMP%]   .gl-dnd-layout__column--right[_ngcontent-%COMP%]{width:20px;display:flex;flex-direction:column;justify-content:space-between}.gl-dnd-layout__row--middle[_ngcontent-%COMP%]   .gl-dnd-layout__column--left[_ngcontent-%COMP%]   .gl-dnd-layout__zone[_ngcontent-%COMP%], .gl-dnd-layout__row--middle[_ngcontent-%COMP%]   .gl-dnd-layout__column--right[_ngcontent-%COMP%]   .gl-dnd-layout__zone[_ngcontent-%COMP%]{flex:1;height:25%}.gl-dnd-layout__row--middle[_ngcontent-%COMP%]   .gl-dnd-layout__column--center[_ngcontent-%COMP%]{flex:1}.gl-dnd-layout__spacer[_ngcontent-%COMP%]{flex:1;background-color:transparent}.gl-dnd-layout__zone[_ngcontent-%COMP%]{background-color:transparent;border:2px solid black;border-radius:4px;position:relative;pointer-events:auto;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.gl-dnd-layout__zone-inner[_ngcontent-%COMP%]{background-color:#0df20033;border:2px solid white;border-radius:4px;width:calc(100% - 4px);height:calc(100% - 4px)}.gl-dnd-layout__zone--highlight[_ngcontent-%COMP%]   .gl-dnd-layout__zone-inner[_ngcontent-%COMP%]{background-color:#0df200}"]})}}function Mne(n,e){if(1&n){const t=pt();V(0,"gl-none-button-menu",4),Ie("itemClick",function(r){_e(t);return Me(D(2).handleItemClick(r))})("toggleMenu",function(){_e(t);return Me(D(2).handleToggleMenu())})("outsideClick",function(){_e(t);return Me(D(2).onOutsideClick())}),j()}if(2&n){const t=D(2);A("configureMode",t.configureMode())("isInProgress",t.isInProgress())("items",t.contentItems())("menuContentTitle",t.menuContentTitle)("menuData",t.menuData())("open",t.openMenu())("zIndex",t.zIndex())("tabs",t.tabs())("visibilityMap",t.visibilityMap())("isEmptyState",t.isEmptyState())("content",t.content())("menuSizes",t.menuSizes())("languages",t.languages())("lang",t.lang())("translation",t.translation())}}function Dne(n,e){if(1&n&&$(0,"gl-dragndrop-position-layout",5),2&n){A("zIndex",D(3).zIndex())}}function xne(n,e){if(1&n){const t=pt();te(0,Dne,1,1,"gl-dragndrop-position-layout",5),V(1,"gl-floating-button-menu",6),Ie("itemClick",function(r){_e(t);return Me(D(2).handleItemClick(r))})("toggleMenu",function(){_e(t);return Me(D(2).handleToggleMenu())})("outsideClick",function(){_e(t);return Me(D(2).onOutsideClick())}),j()}if(2&n){const t=D(2);ge(t.isShowDragLayout()?0:-1),P(),A("configureMode",t.configureMode())("isInProgress",t.isInProgress())("items",t.contentItems())("menuContentTitle",t.menuContentTitle)("menuData",t.menuData())("open",t.openMenu())("zIndex",t.zIndex())("containerData",t.backwardCompatibilityButtonData())("title",t.title())("tabs",t.tabs())("visibilityMap",t.visibilityMap())("isEmptyState",t.isEmptyState())("content",t.content())("menuSizes",t.menuSizes())("userMainMenuUserConfig",t.userMainMenuUserConfig())("allowToDragAndDrop",t.allowToDragAndDrop())("menuIsHiddenByConfiguration",t.menuIsHiddenByConfiguration())("languages",t.languages())("lang",t.lang())("translation",t.translation())("flowGuid",t.flowGuid())}}function kne(n,e){if(1&n){const t=pt();V(0,"gl-sticky-button-menu",7),Ie("itemClick",function(r){_e(t);return Me(D(2).handleItemClick(r))})("toggleMenu",function(){_e(t);return Me(D(2).handleToggleMenu())})("outsideClick",function(){_e(t);return Me(D(2).onOutsideClick())}),j()}if(2&n){const t=D(2);A("configureMode",t.configureMode())("isInProgress",t.isInProgress())("items",t.contentItems())("menuContentTitle",t.menuContentTitle)("menuData",t.menuData())("open",t.openMenu())("zIndex",t.zIndex())("title",t.title())("buttonData",t.buttonData())("selector",t.selector())("tabs",t.tabs())("visibilityMap",t.visibilityMap())("isEmptyState",t.isEmptyState())("targetUrl",t.targetUrl())("menuSizes",t.menuSizes())("languages",t.languages())("lang",t.lang())("translation",t.translation())("content",t.content())("isScrollToElement",t.isScrollToElement())}}function Ane(n,e){if(1&n&&(V(0,"div",1),te(1,Mne,1,15,"gl-none-button-menu",2)(2,xne,2,22)(3,kne,1,20,"gl-sticky-button-menu",3),j()),2&n){let t;const o=D();A("componentType",o.eCssStepElement.Menu)("styles",o.styles()),P(),ge((t=o.safeButtonOption())===o.EButtonOptionType.None?1:t===o.EButtonOptionType.FloatingButton?2:t===o.EButtonOptionType.StickyButton?3:-1)}}class Qb extends qr{get menuContentTitle(){return this.content()?.header?.content}constructor(){super(),this.flowGuid=v(),this.configureMode=v(),this.title=v(),this.notes=v(),this.contentItems=v([]),this.events=v(),this.isInProgress=v(),this.visibleFlowsIds=v(),this.zIndex=v(),this.allowCloseByOutsideClick=v(!0),this.allowToDragAndDrop=v(!1),this.noneButtonNotes=v(),this.content=v(),this.targetUrl=v(),this.buttonData=v(),this.menuData=v(),this.menuIsHiddenByConfiguration=v(),this.buttonOption=v(Fd.FloatingButton),this.styles=v(void 0),this.x=v(0),this.y=v(0),this.userMainMenuUserConfig=v(null),this.openMenu=v(null),this.languages=v(),this.lang=v(),this.translation=v({}),this.releasedAfterDrop=!1,this.hasBeenOpened=!1,this.EButtonOptionType=Fd,this.contentSideStoreService=C(xn),this.messageService=C(Ao),this.eventService=C(Oo),this.clientSideAnalyticService=C(zr),this.inactivityTrackerService=C(su),this.elementRef=C(ct),this.injector=C(We),this.dragMenuButtonStateService=C(au),this.eCssStepElement=ln,this.tabs=G(()=>this.content()?.tabs),this._everVisibleSet=new Set,this.safeButtonOption=G(()=>this.buttonOption()??Fd.FloatingButton),this.backwardCompatibilityButtonData=G(()=>this.buttonData()||this.menuIsHiddenByConfiguration()?this.buttonData():{buttonFlowPosition:Vg.Outer,distance:{x:this.x(),y:this.y()},placement:ce.Bottom3,noneButtonNotes:"",visibility:{ruleSet:{conditions:[]},constantlyMonitor:!1},isFixed:!1,attachedToHostElement:!1}),this.visibilityMap=G(()=>this.tabs().flatMap(e=>e.items??[]).reduce((e,t)=>{e.push(t);const o=t.entity?.items??[];return o.length&&e.push(...o),e},[]).reduce((e,t)=>{const o=t?.ruleSet?.conditions,r=this.getVisibilityState({itemGuid:t.guid,itemId:String(t.id),conditions:o,isConstantlyMonitor:t.constantlyMonitor});return e.set(t.guid,r),e},new Map)),this.isVisibleMenu=G(()=>{const e=this.buttonData(),t=this.flowGuid(),o=e?.visibility,r=o?.ruleSet?.conditions,i=this.getVisibilityState({itemGuid:t,itemId:String(this.flowId()),conditions:r,isConstantlyMonitor:!!o?.constantlyMonitor});i&&this._everVisibleSet.add(t);const s=this.isMenuSizesValid();return(this.configureMode()||i)&&s}),this.isMenuSizesValid=G(()=>{const e=this.menuData();if(!this.buttonData()&&!this.menuIsHiddenByConfiguration())return!0;const{width:t,minHeight:o,maxHeight:r}=e;return t>0&&o>0&&r>0&&o<=r}),this.isEmptyState=G(()=>{const e=this.contentItems(),t=!e?.length,o=e?.every(r=>!this.visibilityMap().get(r.guid));return this.configureMode()?t:t||o}),this.isShowDragLayout=G(()=>this.dragMenuButtonStateService.isDragModeActive()&&this.allowToDragAndDrop()),this.menuSizes=G(()=>{const e=this.menuData()??{};return{minHeight:`${e?.minHeight??400}px`,maxHeight:`${e?.maxHeight??550}px`,width:`${e?.width??480}px`}}),this.isAllowedProcessingClickOutside=vn(mk(this.openMenu).pipe(function Rte(n){return jn((e,t)=>n<=t)}(1),JA(e=>lp(e?300:0)),jn(e=>!e||this.isVisibleMenu())),{initialValue:null}),Ve(e=>{const t=this.openMenu();if(null!==t)if(t){this.trackAnalyticsOpen();const r=this.startInactivityTracking();e(()=>r.unsubscribe())}else this.trackAnalyticsClose()}),this.trackOneTimeVisibleItems(),this.checkVisibilityMenuButton(),this.handleChangeMenuPositionByUser(),this.checkDraggableState()}ngOnDestroy(){this.openMenu()&&this.eventService.setMenuState(null)}handleToggleMenu(){this.eventService.toggleMenu()}onOutsideClick(){var e=this;return g(function*(){(e.allowCloseByOutsideClick()??1)&&e.openMenu()&&e.isAllowedProcessingClickOutside()&&(yield e.eventService.setMenuState(!1))})()}handleItemClick(e){var t=this;return g(function*({id:o,linkedGuideTourId:r}){const i=t.events()?.find(s=>s.type===l0.Select);i||t.trackAnalyticsSelect({nextFlowId:o}),yield t.eventService.stopProcessingFlowsByType({originator:"user",flowTypes:[Te.GuidedTour]}),yield t.eventService.setMenuState(!1),yield t.eventService.handleEvent(i||{type:Nt.RunTourByGuid,flowId:t.flowId(),flowItemId:null,action:{type:zi.RunFlow,payload:{flowGuid:r,runFlowTriggerType:Gi.Menu}}})}).apply(this,arguments)}sendMenuAnalyticsEvent(e,t=null){this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),systemFlowActionKindId:null,analyticsEventType:e,analyticsTitle:this.title()||"Menu",details:t})}trackAnalyticsOpen(){this.hasBeenOpened||(this.hasBeenOpened=!0,this.sendMenuAnalyticsEvent(st.Visited))}trackAnalyticsSelect(e){const t={type:"runFlow",flowId:e.nextFlowId};this.sendMenuAnalyticsEvent(st.Select,t)}trackAnalyticsClose(){this.hasBeenOpened&&(this.hasBeenOpened=!1,this.sendMenuAnalyticsEvent(st.Close))}trackAnalyticsInactivity(){this.sendMenuAnalyticsEvent(st.Inactive)}startInactivityTracking(){return this.inactivityTrackerService.createTracker().subscribe(()=>{this.trackAnalyticsInactivity()})}trackOneTimeVisibleItems(){return Ve(()=>{const e=this.visibilityMap()||new Map;for(const[t,o]of e.entries())o&&this._everVisibleSet.add(t)})}getVisibilityState(e){if(this.configureMode())return!0;const{itemGuid:t,conditions:o,isConstantlyMonitor:r}=e,i=!o?.length,s=!!this.visibleFlowsIds()?.get(t);return!!i||(r?s:this._everVisibleSet.has(t)||s)}checkVisibilityMenuButton(){var e=this;return Ve(g(function*(){const t=e.isVisibleMenu(),o=e.openMenu();!t&&o&&(yield e.eventService.setMenuState(!1))}))}handleChangeMenuPositionByUser(){let e=!0;return Ve(()=>{if(this.configureMode())return;const o=this.dragMenuButtonStateService.finalPlacement(),r=this.backwardCompatibilityButtonData().placement;if(e)return void(e=!1);this.releasedAfterDrop=!0;let i=!0;const s=rn(()=>this.userMainMenuUserConfig()?.placement||r),a=o||s;if(a){if(a===r)return void this.eventService.changeMenuPlacement({mainMenuUserConfig:null,isUpdateOnBackend:i});(!o||o===s)&&(i=!1),this.eventService.changeMenuPlacement({mainMenuUserConfig:{placement:a,guid:this.flowGuid()},isUpdateOnBackend:i})}})}checkDraggableState(){var e=this;return Ve(g(function*(){e.configureMode()||e.dragMenuButtonStateService.isDragModeActive()&&(yield e.eventService.setMenuState(!1))}))}static{this.\u0275fac=function(t){return new(t||Qb)}}static{this.\u0275cmp=$e({type:Qb,selectors:[["gl-native-menu"]],inputs:{flowGuid:[1,"flowGuid"],configureMode:[1,"configureMode"],title:[1,"title"],notes:[1,"notes"],contentItems:[1,"contentItems"],events:[1,"events"],isInProgress:[1,"isInProgress"],visibleFlowsIds:[1,"visibleFlowsIds"],zIndex:[1,"zIndex"],allowCloseByOutsideClick:[1,"allowCloseByOutsideClick"],allowToDragAndDrop:[1,"allowToDragAndDrop"],noneButtonNotes:[1,"noneButtonNotes"],content:[1,"content"],targetUrl:[1,"targetUrl"],buttonData:[1,"buttonData"],menuData:[1,"menuData"],menuIsHiddenByConfiguration:[1,"menuIsHiddenByConfiguration"],buttonOption:[1,"buttonOption"],styles:[1,"styles"],x:[1,"x"],y:[1,"y"],userMainMenuUserConfig:[1,"userMainMenuUserConfig"],openMenu:[1,"openMenu"],languages:[1,"languages"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:1,vars:1,consts:[["glCustomStyles","","componentSelector","gl-menu",3,"componentType","styles",4,"ngIf"],["glCustomStyles","","componentSelector","gl-menu",3,"componentType","styles"],[3,"configureMode","isInProgress","items","menuContentTitle","menuData","open","zIndex","tabs","visibilityMap","isEmptyState","content","menuSizes","languages","lang","translation"],[3,"configureMode","isInProgress","items","menuContentTitle","menuData","open","zIndex","title","buttonData","selector","tabs","visibilityMap","isEmptyState","targetUrl","menuSizes","languages","lang","translation","content","isScrollToElement"],[3,"itemClick","toggleMenu","outsideClick","configureMode","isInProgress","items","menuContentTitle","menuData","open","zIndex","tabs","visibilityMap","isEmptyState","content","menuSizes","languages","lang","translation"],[3,"zIndex"],[3,"itemClick","toggleMenu","outsideClick","configureMode","isInProgress","items","menuContentTitle","menuData","open","zIndex","containerData","title","tabs","visibilityMap","isEmptyState","content","menuSizes","userMainMenuUserConfig","allowToDragAndDrop","menuIsHiddenByConfiguration","languages","lang","translation","flowGuid"],[3,"itemClick","toggleMenu","outsideClick","configureMode","isInProgress","items","menuContentTitle","menuData","open","zIndex","title","buttonData","selector","tabs","visibilityMap","isEmptyState","targetUrl","menuSizes","languages","lang","translation","content","isScrollToElement"]],template:function(t,o){1&t&&te(0,Ane,4,3,"div",0),2&t&&A("ngIf",o.isVisibleMenu()&&!o.releasedAfterDrop)},dependencies:[zn,YI,QI,Xb,Yr,ZI],styles:['.gl-menu[_ngcontent-%COMP%]{position:fixed;bottom:0;right:24px;z-index:100030;font-family:Open Sans GL,Arial,Helvetica,sans-serif}.gl-menu-button[_ngcontent-%COMP%]{height:40px;background-color:var(--gl-background-on-primary);color:var(--gl-color-on-primary);display:flex;justify-content:flex-end;align-items:center;gap:12px;padding-right:12px;padding-left:16px;cursor:pointer;min-width:80px}.gl-menu-button-label[_ngcontent-%COMP%]{font-size:14px;line-height:20px;font-weight:400}.gl-menu-button-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:20px;width:20px}.gl-menu-button-icon[_ngcontent-%COMP%] > .o-gl-icon[_ngcontent-%COMP%]{font-size:20px}.gl-menu-button--hidden[_ngcontent-%COMP%]{display:none}.gl-menu-content[_ngcontent-%COMP%]{display:none;position:absolute;bottom:60px;right:0;border:1px solid var(--gl-color-line);border-bottom:none;background-color:var(--gl-background-primary);width:480px;box-shadow:-40px 64px 80px #0000001a}.gl-menu-content[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-1px;right:-1px;bottom:0;height:8px;background-color:var(--gl-background-on-primary)}.gl-menu-content[_ngcontent-%COMP%]:after{content:"";display:block;width:16px;height:16px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);position:absolute;bottom:-16px;right:-1px;transform:rotate(90deg)}.gl-menu-content.none[_ngcontent-%COMP%]{position:relative;bottom:unset;right:unset}.gl-menu-content.visible[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gl-menu-content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;color:var(--gl-color);padding:20px 24px 2px}.gl-menu-content-header-title[_ngcontent-%COMP%]{font-size:16px;line-height:24px;font-weight:600;cursor:default}.gl-menu-content-header-close[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;cursor:pointer;height:24px;width:24px}.gl-menu-content-list[_ngcontent-%COMP%]{padding:16px 24px 24px;max-height:570px;overflow-y:auto;margin-bottom:8px}.gl-menu-content-list__item[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;display:flex;align-items:center;gap:8px;cursor:pointer;font-size:14px;line-height:20px;font-weight:400}.gl-menu.configure[_ngcontent-%COMP%]   .gl-menu-content-list__item[_ngcontent-%COMP%]{pointer-events:none}.gl-menu-content-list__item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:18px}.gl-menu-content-list__item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--gl-background-on-primary);text-decoration:underline}.gl-menu-content-list__item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--gl-color-second-label)}.gl-menu--Center[_ngcontent-%COMP%]{top:50%;left:50%}.gl-menu--CenterLeft[_ngcontent-%COMP%]{top:50%;left:24px}.gl-menu--CenterRight[_ngcontent-%COMP%]{top:50%;right:24px}.gl-menu--TopCenter[_ngcontent-%COMP%]{top:4px;left:50%}.gl-menu--TopLeft[_ngcontent-%COMP%]{top:4px;left:24px}.gl-menu--TopRight[_ngcontent-%COMP%]{top:4px;right:24px}.gl-menu--BottomLeft[_ngcontent-%COMP%]{bottom:4px;left:24px}.gl-menu--BottomCenter[_ngcontent-%COMP%]{bottom:4px;left:50%}.gl-menu--BottomRight[_ngcontent-%COMP%]{bottom:4px;right:24px}']})}}class Zb extends nu{constructor(){super(...arguments),this.element=v(null),this.id=v(),this.flowId=v(),this.flowGuid=v(),this.configureMode=v(),this.title=v(),this.notes=v(),this.contentItems=v([]),this.events=v(),this.isInProgress=v(),this.visibleFlowsIds=v(),this.zIndex=v(),this.allowCloseByOutsideClick=v(!0),this.noneButtonNotes=v(),this.content=v(),this.selector=v(),this.targetUrl=v(),this.buttonData=v(),this.menuData=v(),this.buttonOption=v(Fd.FloatingButton),this.styles=v(void 0),this.x=v(0),this.y=v(0),this.languages=v(),this.lang=v(),this.translation=v({}),this.openMenu=v(null),this.position=v(),this.allowToDragAndDrop=v(),this.menuIsHiddenByConfiguration=v(),this.userMainMenuUserConfig=v(null),this.component=Qb}getInputs(){return{configureMode:this.configureMode(),buttonOption:this.buttonOption(),buttonData:this.buttonData(),title:this.title(),notes:this.notes(),noneButtonNotes:this.noneButtonNotes(),y:this.y(),x:this.x(),contentItems:this.contentItems(),events:this.events(),flowId:this.flowId(),position:this.position(),styles:this.styles(),lang:this.lang(),translation:this.translation(),languages:this.languages(),selector:this.selector(),menuData:this.menuData(),openMenu:this.openMenu(),content:this.content(),allowToDragAndDrop:this.allowToDragAndDrop(),menuIsHiddenByConfiguration:this.menuIsHiddenByConfiguration(),visibleFlowsIds:this.visibleFlowsIds(),zIndex:this.zIndex(),allowCloseByOutsideClick:this.allowCloseByOutsideClick(),userMainMenuUserConfig:this.userMainMenuUserConfig(),flowGuid:this.flowGuid(),targetUrl:this.targetUrl()}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Zb)))(o||Zb)}})()}static{this.\u0275cmp=$e({type:Zb,selectors:[["gl-attached-menu"]],inputs:{element:[1,"element"],id:[1,"id"],flowId:[1,"flowId"],flowGuid:[1,"flowGuid"],configureMode:[1,"configureMode"],title:[1,"title"],notes:[1,"notes"],contentItems:[1,"contentItems"],events:[1,"events"],isInProgress:[1,"isInProgress"],visibleFlowsIds:[1,"visibleFlowsIds"],zIndex:[1,"zIndex"],allowCloseByOutsideClick:[1,"allowCloseByOutsideClick"],noneButtonNotes:[1,"noneButtonNotes"],content:[1,"content"],selector:[1,"selector"],targetUrl:[1,"targetUrl"],buttonData:[1,"buttonData"],menuData:[1,"menuData"],buttonOption:[1,"buttonOption"],styles:[1,"styles"],x:[1,"x"],y:[1,"y"],languages:[1,"languages"],lang:[1,"lang"],translation:[1,"translation"],openMenu:[1,"openMenu"],position:[1,"position"],allowToDragAndDrop:[1,"allowToDragAndDrop"],menuIsHiddenByConfiguration:[1,"menuIsHiddenByConfiguration"],userMainMenuUserConfig:[1,"userMainMenuUserConfig"]},features:[ze],decls:0,vars:0,template:function(t,o){},encapsulation:2})}}function One(n,e){if(1&n&&$(0,"gl-attached-menu",0),2&n){const t=D();A("configureMode",t.configureMode())("title",t.title())("notes",t.notes())("contentItems",t.contentItems())("events",t.events())("zIndex",t.zIndex())("allowCloseByOutsideClick",t.allowCloseByOutsideClick())("content",t.content())("buttonOption",t.buttonOption())("noneButtonNotes",t.noneButtonNotes())("buttonData",t.buttonData())("menuData",t.menuData())("selector",t.selector())("targetUrl",t.targetUrl())("styles",t.styles())("y",t.y())("x",t.x())("openMenu",t.openMenu())("allowToDragAndDrop",t.allowToDragAndDrop())("menuIsHiddenByConfiguration",t.menuIsHiddenByConfiguration())("userMainMenuUserConfig",t.userMainMenuUserConfig())("element",t.element())("languages",t.languages())("lang",t.lang())("translation",t.translation())("flowGuid",t.flowGuid())("visibleFlowsIds",t.visibleFlowsIds())("flowId",t.flowId())}}function Pne(n,e){if(1&n&&$(0,"gl-native-menu",1),2&n){const t=D();A("configureMode",t.configureMode())("title",t.title())("notes",t.notes())("contentItems",t.contentItems())("events",t.events())("zIndex",t.zIndex())("allowCloseByOutsideClick",t.allowCloseByOutsideClick())("content",t.content())("buttonOption",t.buttonOption())("noneButtonNotes",t.noneButtonNotes())("buttonData",t.buttonData())("menuData",t.menuData())("selector",t.selector())("targetUrl",t.targetUrl())("styles",t.styles())("y",t.y())("x",t.x())("openMenu",t.openMenu())("allowToDragAndDrop",t.allowToDragAndDrop())("menuIsHiddenByConfiguration",t.menuIsHiddenByConfiguration())("userMainMenuUserConfig",t.userMainMenuUserConfig())("languages",t.languages())("lang",t.lang())("translation",t.translation())("flowGuid",t.flowGuid())("visibleFlowsIds",t.visibleFlowsIds())("flowId",t.flowId())("isScrollToElement",t.isScrollToElement())}}class Op extends qr{constructor(){super(...arguments),this.flowGuid=v(),this.configureMode=v(),this.title=v(),this.notes=v(),this.contentItems=v([]),this.events=v(),this.isInProgress=v(),this.visibleFlowsIds=v(),this.zIndex=v(),this.allowCloseByOutsideClick=v(!0),this.allowToDragAndDrop=v(!1),this.noneButtonNotes=v(),this.content=v(),this.targetUrl=v(),this.buttonData=v(),this.menuData=v(),this.menuIsHiddenByConfiguration=v(),this.buttonOption=v(Fd.FloatingButton),this.styles=v(void 0),this.x=v(0),this.y=v(0),this.userMainMenuUserConfig=v(null),this.openMenu=v(null),this.languages=v(),this.lang=v(),this.translation=v({})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Op)))(o||Op)}})()}static{this.\u0275cmp=$e({type:Op,selectors:[["gl-menu"]],inputs:{flowGuid:[1,"flowGuid"],configureMode:[1,"configureMode"],title:[1,"title"],notes:[1,"notes"],contentItems:[1,"contentItems"],events:[1,"events"],isInProgress:[1,"isInProgress"],visibleFlowsIds:[1,"visibleFlowsIds"],zIndex:[1,"zIndex"],allowCloseByOutsideClick:[1,"allowCloseByOutsideClick"],allowToDragAndDrop:[1,"allowToDragAndDrop"],noneButtonNotes:[1,"noneButtonNotes"],content:[1,"content"],targetUrl:[1,"targetUrl"],buttonData:[1,"buttonData"],menuData:[1,"menuData"],menuIsHiddenByConfiguration:[1,"menuIsHiddenByConfiguration"],buttonOption:[1,"buttonOption"],styles:[1,"styles"],x:[1,"x"],y:[1,"y"],userMainMenuUserConfig:[1,"userMainMenuUserConfig"],openMenu:[1,"openMenu"],languages:[1,"languages"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:2,vars:1,consts:[[3,"configureMode","title","notes","contentItems","events","zIndex","allowCloseByOutsideClick","content","buttonOption","noneButtonNotes","buttonData","menuData","selector","targetUrl","styles","y","x","openMenu","allowToDragAndDrop","menuIsHiddenByConfiguration","userMainMenuUserConfig","element","languages","lang","translation","flowGuid","visibleFlowsIds","flowId"],[3,"configureMode","title","notes","contentItems","events","zIndex","allowCloseByOutsideClick","content","buttonOption","noneButtonNotes","buttonData","menuData","selector","targetUrl","styles","y","x","openMenu","allowToDragAndDrop","menuIsHiddenByConfiguration","userMainMenuUserConfig","languages","lang","translation","flowGuid","visibleFlowsIds","flowId","isScrollToElement"]],template:function(t,o){if(1&t&&te(0,One,1,28,"gl-attached-menu",0)(1,Pne,1,28,"gl-native-menu",1),2&t){let r;ge(null!=(r=o.buttonData())&&r.attachedToHostElement?0:1)}},dependencies:[Zb,Qb],encapsulation:2,changeDetection:0})}}function Fne(n,e){if(1&n&&(Qt(0),$(1,"gl-menu",1),fn(2,"sortByProp"),Zt()),2&n){const t=D(),o=mo(0),r=mo(1);P(),A("configureMode",o.data.configureMode)("title",o.data.title)("notes",o.data.notes)("contentItems",pi(2,24,o.data.contentItems,"order"))("events",o.events)("zIndex",o.data.zIndex)("allowCloseByOutsideClick",o.data.allowCloseByOutsideClick)("content",o.data.content)("flowId",r.id)("flowGuid",r.guid)("isInProgress",t.isInProgress())("visibleFlowsIds",t.visibleFlowsIds())("buttonData",o.data.buttonData)("menuData",o.data.menuData)("buttonOption",o.data.buttonOption)("selector",o.data.selector)("styles",o.data.styles)("isScrollToElement",!1)("openMenu",t.openMenu())("userMainMenuUserConfig",t.menuUserSettings())("allowToDragAndDrop",o.data.allowToDragAndDrop)("languages",t.languages())("lang",t.lang())("translation",o.data.translation)}}class JI{constructor(){this.flow=v(),this.flowItem=v(),this.isInProgress=v(),this.visibleFlowsIds=v(),this.openMenu=v(),this.menuUserSettings=v(),this.languages=v([]),this.lang=v(Lt)}static{this.\u0275fac=function(t){return new(t||JI)}}static{this.\u0275cmp=$e({type:JI,selectors:[["gl-menu-flow-view"]],inputs:{flow:[1,"flow"],flowItem:[1,"flowItem"],isInProgress:[1,"isInProgress"],visibleFlowsIds:[1,"visibleFlowsIds"],openMenu:[1,"openMenu"],menuUserSettings:[1,"menuUserSettings"],languages:[1,"languages"],lang:[1,"lang"]},decls:4,vars:5,consts:[[4,"ngIf"],[3,"configureMode","title","notes","contentItems","events","zIndex","allowCloseByOutsideClick","content","flowId","flowGuid","isInProgress","visibleFlowsIds","buttonData","menuData","buttonOption","selector","styles","isScrollToElement","openMenu","userMainMenuUserConfig","allowToDragAndDrop","languages","lang","translation"]],template:function(t,o){if(1&t&&(Mv(0)(1),te(2,Fne,3,27,"ng-container",0),fn(3,"frameFilter")),2&t){const r=lg(o.flowItem());P(),lg(o.flow()),P(),A("ngIf",Hi(3,3,r.data))}},dependencies:[zn,Op,Wo,of],encapsulation:2})}}class Jb{writeText(e){return Gv(navigator?.clipboard?.writeText)?navigator?.clipboard?.writeText(e):Promise.reject("No clipboard.writeText()")}static{this.\u0275fac=function(t){return new(t||Jb)}}static{this.\u0275prov=F({token:Jb,factory:Jb.\u0275fac,providedIn:"root"})}}const Nne=["aiHelper"],Rne=["trigger"],Lne=["aiHelperPopup"];function Vne(n,e){1&n&&(V(0,"span"),Hn(1,"Generation in progress..."),j())}function Bne(n,e){1&n&&(V(0,"span"),Hn(1,"Error"),j())}function Une(n,e){1&n&&(Qt(0),V(1,"span"),Hn(2,"AI-enhanced"),j(),$(3,"i",6),Zt())}function Hne(n,e){if(1&n&&$(0,"div",28),2&n){const t=D(3);A("lang",t.lang())("translation",t.translation())("fallbackValue",t.tip())}}function jne(n,e){if(1&n&&(Qt(0),V(1,"div",25),te(2,Hne,1,3,"div",26),V(3,"div",27),Hn(4),j()(),Zt()),2&n){const t=D(2);P(2),A("ngIf",t.tip),P(2),ag(" ",t.txt()," ")}}function $ne(n,e){if(1&n){const t=pt();Qt(0),V(1,"div",25)(2,"div",27)(3,"span"),Hn(4,"Something went wrong. Please try again!"),j(),V(5,"i",29),Ie("click",function(){_e(t);return Me(D(2).handleRegenerate())}),j()()(),Zt()}}function Gne(n,e){1&n&&(Qt(0),V(1,"div",25)(2,"div",30),$(3,"div",31),j(),V(4,"div",27),$(5,"div",32)(6,"div",31)(7,"div",33)(8,"div",34)(9,"div",32),j()(),Zt())}function zne(n,e){if(1&n){const t=pt();V(0,"div",9,2)(2,"div",10),$(3,"div",11),j(),V(4,"div",12)(5,"div",13)(6,"div",14),te(7,Vne,2,0,"span",15)(8,Bne,2,0,"span",15)(9,Une,4,0,"ng-container",15),j(),V(10,"div",16),Ie("click",function(){_e(t);return Me(D().handleClosePopup())}),$(11,"i",17),j()(),te(12,jne,5,2,"ng-container",15)(13,$ne,6,0,"ng-container",15)(14,Gne,10,0,"ng-container",15),V(15,"div",18)(16,"div",19)(17,"div",20),Ie("click",function(){_e(t);return Me(D().handleCopy())}),$(18,"i",21),j(),V(19,"div",22),Ie("click",function(){_e(t);return Me(D().handleRegenerate())}),$(20,"i",23),j()(),V(21,"button",24),Ie("click",function(){_e(t);return Me(D().handleApply())}),Hn(22," Apply "),j()()()()}if(2&n){const t=D();P(7),A("ngIf","loading"===t.state()),P(),A("ngIf","error"===t.state()),P(),A("ngIf","default"===t.state()),P(3),A("ngIf","default"===t.state()),P(),A("ngIf","error"===t.state()),P(),A("ngIf","loading"===t.state()),P(3),Mn("tooltip",t.copyTooltipText())}}class KI{constructor(){this.element=v(null),this.configureMode=v(!1),this.position=v(),this.selector=v(null),this.prompt=v(),this.tip=v(),this.flowId=v(),this.name=v(),this.id=v(),this.targetUrl=v(),this.zIndex=v(),this.attachedToHostElement=v(!1),this.isHighlightActive=v(!1),this.lang=v(Lt),this.translation=v({}),this.openAction=tn(),this.enhanceAction=tn(),this.applyAction=tn(),this.closeAction=tn(),this.inactiveAction=tn(),this.extensionMessageService=C(Ao),this.inactivityTrackerService=C(su),this.logger=C(Be),this.injector=C(We),this.translationService=C(qc),this.clipboardService=C(Jb),this.isShowPopUp=ue(!1),this.state=ue("loading"),this.enhancedText=ue(""),this.copyTooltipText=ue("Copy"),this.defaultEnhancedText="This content will be generated and displayed for the user, crafted by an artificial intelligence system based on the provided prompt. The AI will interpret the input to create a customized response, tailored to meet the specified requirements, ensuring that the information aligns with the user's intent while offering a dynamic and adaptable result.",this.txt=G(()=>this.enhancedText()||this.defaultEnhancedText),this.resetTooltipTimeout=null,this.defaultPlacement=me.BottomRight,this.arrowPosition=G(()=>{const e=this.position()?.placement||this.defaultPlacement;return`gl-ai-helper--${Dn[e]}`}),this.value=ue(""),this.disabled=G(()=>!this.value()),this.triggerTooltip=G(()=>this.disabled()?"Please enter text to enhance":"Enhance"),this.aiHelperPosition=G(()=>({...this.position(),placement:this.defaultPlacement})),this.translatedPrompt=G(()=>this.translationService.translate({section:"prompt",langCode:this.lang(),data:this.translation(),fallbackValue:this.prompt()})),this.trackInactivity(),this.handleInputChange()}updateValue(){const e=this.element(),t=Dk(e)?e.value:"";this.value.set(t)}handleApply(){var e=this;return g(function*(){if(e.enhancedText()){const t=e.element();Dk(t)&&(t.value=e.enhancedText(),t.dispatchEvent(new Event("change")),t.dispatchEvent(new Event("input")),t.focus(),yield e.handlePopupToggle(!1,!0))}})()}handleTriggerClick(){var e=this;return g(function*(){e.updateValue(),e.disabled()||(yield e.handlePopupToggle(!e.isShowPopUp()))})()}handleClosePopup(){var e=this;return g(function*(){yield e.handlePopupToggle(!1)})()}handleCopy(){var e=this;return g(function*(){e.enhancedText()&&(yield e.clipboardService.writeText(e.enhancedText()),e.copyTooltipText.set("Copied"),e.resetTooltipTimeout&&clearTimeout(e.resetTooltipTimeout),e.resetTooltipTimeout=setTimeout(()=>{e.copyTooltipText.set("Copy"),e.resetTooltipTimeout=null},2e3))})()}handleRegenerate(){var e=this;return g(function*(){e.value()&&(yield e.enhance())})()}enhance(){var e=this;return g(function*(){try{e.changeState("loading");const t=yield e.extensionMessageService.getEnhancedText(e.value(),e.translatedPrompt());e.enhancedText.set(t),e.changeState("default"),e.emitEnhanceAction(t)}catch(t){e.changeState("error"),e.logger.error(t),e.emitEnhanceAction(String(t))}})()}emitEnhanceAction(e){this.enhanceAction.emit({textToEnhance:this.value(),enhanceText:e})}changeState(e){this.state.set(e)}clickSubscription(){var e=this;return yo(document,"click").pipe(jn(()=>this.isShowPopUp()&&!this.configureMode())).subscribe(function(){var t=g(function*(o){const r=o.composedPath()[0];e.popUp?.nativeElement?.contains(r)||e.trigger?.nativeElement?.contains(r)||(yield e.handlePopupToggle(!1))});return function(o){return t.apply(this,arguments)}}())}handlePopupToggle(e,t){var o=this;return g(function*(){o.isShowPopUp.set(e),e?(o.openAction.emit(),yield o.enhance()):(t&&o.applyAction.emit(),o.closeAction.emit())})()}startInactivityTracking(){return this.inactivityTrackerService.createTracker().subscribe(()=>{this.inactiveAction.emit()})}trackInactivity(){return Ve(e=>{const t=this.isShowPopUp();let o=null,r=null;t&&(o=this.startInactivityTracking(),r=this.clickSubscription()),e(()=>{o&&o.unsubscribe(),r&&r.unsubscribe()})},{injector:this.injector})}handleInputChange(){return Ve(e=>{const t=this.element();let o=null;if(this.updateValue(),t){const r=yo(t,"input"),i=yo(t,"change");o=Sl(r,i).subscribe(()=>{this.updateValue()})}return e(()=>{o&&o.unsubscribe()})},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||KI)}}static{this.\u0275cmp=$e({type:KI,selectors:[["gl-ai-helper"]],viewQuery:function(t,o){if(1&t&&(pr(Nne,7),pr(Rne,7),pr(Lne,5)),2&t){let r;mr(r=_r())&&(o.root=r.first),mr(r=_r())&&(o.trigger=r.first),mr(r=_r())&&(o.popUp=r.first)}},inputs:{element:[1,"element"],configureMode:[1,"configureMode"],position:[1,"position"],selector:[1,"selector"],prompt:[1,"prompt"],tip:[1,"tip"],flowId:[1,"flowId"],name:[1,"name"],id:[1,"id"],targetUrl:[1,"targetUrl"],zIndex:[1,"zIndex"],attachedToHostElement:[1,"attachedToHostElement"],isHighlightActive:[1,"isHighlightActive"],lang:[1,"lang"],translation:[1,"translation"]},outputs:{openAction:"openAction",enhanceAction:"enhanceAction",applyAction:"applyAction",closeAction:"closeAction",inactiveAction:"inactiveAction"},decls:8,vars:20,consts:[["aiHelper",""],["trigger",""],["aiHelperPopup",""],["glElementPositionSync","",3,"targetElement","position","defaultPlacement","strategy","attachToHostElement"],[1,"gl-ai-helper-trigger-tooltip"],[1,"gl-ai-helper-trigger",3,"click"],[1,"o-gl-icon","dds-gl-icon_shine__s__stroke"],[1,"gl-ai-helper-popup-wrapper"],["class","gl-ai-helper-popup",4,"ngIf"],[1,"gl-ai-helper-popup"],[1,"gl-ai-helper-progress"],[1,"gl-ai-helper-progress__inner"],[1,"gl-ai-helper-popup-inner"],[1,"gl-ai-helper-popup-header"],[1,"gl-ai-helper-popup-header-chip"],[4,"ngIf"],[1,"gl-ai-helper-popup-header-close",3,"click"],[1,"o-gl-icon","dds-gl-icon_close__s__stroke"],[1,"gl-ai-helper-popup-footer"],[1,"gl-ai-helper-popup-footer-controls"],["data-testid","ai-helper-copy-button",1,"gl-ai-helper-popup-footer-control",3,"click"],[1,"o-gl-icon","dds-gl-icon_copy__s__stroke"],["data-testid","ai-helper-regenerate-button","tooltip","Regenerate",1,"gl-ai-helper-popup-footer-control",3,"click"],[1,"o-gl-icon","dds-gl-icon_arrow_rotate_right__s__stroke"],["data-testid","ai-helper-apply-button",1,"gl-ai-helper-popup-footer-button",3,"click"],[1,"gl-ai-helper-popup-body"],["glTranslation","","section","tip","class","gl-ai-helper-popup-body-title",3,"lang","translation","fallbackValue",4,"ngIf"],[1,"gl-ai-helper-popup-body-text"],["glTranslation","","section","tip",1,"gl-ai-helper-popup-body-title",3,"lang","translation","fallbackValue"],[1,"o-gl-icon","dds-gl-icon_arrow_rotate_right__s__stroke",3,"click"],[1,"gl-ai-helper-popup-body-title"],[1,"gl-ai-helper-popup-loading-item","gl-ai-helper-popup-loading-item--w80"],[1,"gl-ai-helper-popup-loading-item","gl-ai-helper-popup-loading-item--w95"],[1,"gl-ai-helper-popup-loading-item","gl-ai-helper-popup-loading-item--w70"],[1,"gl-ai-helper-popup-loading-item","gl-ai-helper-popup-loading-item--w60"]],template:function(t,o){if(1&t){const r=pt();V(0,"div",3,0)(2,"div",4)(3,"div",5,1),Ie("click",function(){return _e(r),Me(o.handleTriggerClick())}),$(5,"i",6),j()(),V(6,"div",7),te(7,zne,23,7,"div",8),j()()}if(2&t){let r;Go("gl-ai-helper ",o.arrowPosition(),""),$o("z-index",o.zIndex()),Qe("configure",o.configureMode())("disabled",o.disabled())("gl-ai-helper-error","error"===o.state())("gl-ai-helper-loading","loading"===o.state()),A("targetElement",o.element())("position",o.aiHelperPosition())("defaultPlacement",o.defaultPlacement)("strategy",null!=(r=o.position())&&r.isFixed?"fixed":"absolute")("attachToHostElement",o.attachedToHostElement()),P(2),Mn("tooltip",o.triggerTooltip()),P(5),A("ngIf",o.isShowPopUp())}},dependencies:[zn,ru,qn],styles:['@keyframes _ngcontent-%COMP%_progress-animation{0%{width:0}to{width:100%}}@keyframes _ngcontent-%COMP%_left-to-right{0%{background-position:50% 0}to{background-position:-50% 0}}.gl-ai-helper[_ngcontent-%COMP%]{font-family:Open Sans GL,Arial,Helvetica,sans-serif;position:absolute;top:0;left:0;z-index:100020;display:flex;flex-direction:column}.gl-ai-helper.visible[_ngcontent-%COMP%]{opacity:1}.gl-ai-helper[_ngcontent-%COMP%]   [tooltip][_ngcontent-%COMP%]:hover:before{z-index:var(--with-tooltip-z-index, 100020);position:absolute;top:-44px;left:50%;transform:translate(-50%);width:max-content;max-height:32px;content:attr(tooltip);background:#000;color:#fff;padding:8px 12px;font-size:12px;line-height:16px}.gl-ai-helper[_ngcontent-%COMP%]   [tooltip][_ngcontent-%COMP%]:hover:after{z-index:var(--with-tooltip-z-index, 100020);position:absolute;top:-12px;left:50%;transform:translate(-50%);width:0;height:0;content:" ";border-left:2px solid transparent;border-right:2px solid transparent;border-top:4px solid #000000}.gl-ai-helper-popup-wrapper[_ngcontent-%COMP%]{position:absolute}.gl-ai-helper-trigger-tooltip[_ngcontent-%COMP%]{position:relative}.gl-ai-helper--bottom-left[_ngcontent-%COMP%]   .gl-ai-helper-trigger-tooltip[_ngcontent-%COMP%]{align-self:flex-start}.gl-ai-helper--bottom-right[_ngcontent-%COMP%]   .gl-ai-helper-trigger-tooltip[_ngcontent-%COMP%]{align-self:flex-end}.gl-ai-helper--top-left[_ngcontent-%COMP%]   .gl-ai-helper-trigger-tooltip[_ngcontent-%COMP%]{align-self:flex-start;order:2}.gl-ai-helper--top-right[_ngcontent-%COMP%]   .gl-ai-helper-trigger-tooltip[_ngcontent-%COMP%]{align-self:flex-end;order:2}.gl-ai-helper-trigger[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:24px;height:24px;background-color:var(--gl-background-on-primary);color:var(--gl-color-on-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-ai-helper-trigger[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,black var(--gl-hover-overlay),var(--gl-background-on-primary))}.gl-ai-helper-trigger[_ngcontent-%COMP%]:active{background-color:color-mix(in srgb,black var(--gl-active-overlay),var(--gl-background-on-primary))}.gl-ai-helper-trigger[_ngcontent-%COMP%]:disabled, .gl-ai-helper-trigger.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.disabled[_ngcontent-%COMP%]   .gl-ai-helper-trigger[_ngcontent-%COMP%]{opacity:.4;cursor:default}.gl-ai-helper-trigger[_ngcontent-%COMP%]:before{content:"";position:absolute;width:10px;height:10px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);top:-10px;right:0}.gl-ai-helper--bottom-right[_ngcontent-%COMP%]   .gl-ai-helper-trigger[_ngcontent-%COMP%]{align-self:flex-end}.gl-ai-helper--top-left[_ngcontent-%COMP%]   .gl-ai-helper-trigger[_ngcontent-%COMP%]{order:2}.gl-ai-helper--top-right[_ngcontent-%COMP%]   .gl-ai-helper-trigger[_ngcontent-%COMP%]{align-self:flex-end;order:2}.gl-ai-helper-progress[_ngcontent-%COMP%]{height:4px;overflow:hidden;position:relative;left:-1px;right:-1px;width:calc(100% + 2px);background-color:var(--gl-color-line)}.gl-ai-helper-progress__inner[_ngcontent-%COMP%]{width:100%;height:100%;background-color:var(--gl-color-border)}.gl-ai-helper-loading[_ngcontent-%COMP%]   .gl-ai-helper-progress__inner[_ngcontent-%COMP%]{width:0;animation:_ngcontent-%COMP%_progress-animation 4s ease-in-out infinite}.gl-ai-helper-popup[_ngcontent-%COMP%]{position:absolute;width:630px;background-color:var(--gl-background-primary);color:var(--gl-color);box-shadow:0 4px 4px #00000040;border-left:1px solid var(--gl-main-content-border);border-right:1px solid var(--gl-main-content-border)}.gl-ai-helper-popup-inner[_ngcontent-%COMP%]{padding:24px}.gl-ai-helper-popup[_ngcontent-%COMP%]:before{content:"";position:absolute;width:16px;height:16px}.gl-ai-helper--bottom-left[_ngcontent-%COMP%]   .gl-ai-helper-popup[_ngcontent-%COMP%]{transform:translateY(24px);margin-top:16px;border-bottom:1px solid var(--gl-main-content-border)}.gl-ai-helper--bottom-left[_ngcontent-%COMP%]   .gl-ai-helper-popup[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);top:-16px;left:0}.gl-ai-helper--bottom-right[_ngcontent-%COMP%]   .gl-ai-helper-popup[_ngcontent-%COMP%]{transform:translate(calc(-100% + 24px),24px);margin-top:16px;border-bottom:1px solid var(--gl-main-content-border)}.gl-ai-helper--bottom-right[_ngcontent-%COMP%]   .gl-ai-helper-popup[_ngcontent-%COMP%]:before{background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);top:-16px;right:0}.gl-ai-helper--top-left[_ngcontent-%COMP%]   .gl-ai-helper-popup[_ngcontent-%COMP%]{transform:translateY(calc(-100% - 16px));margin-bottom:16px;border-top:1px solid var(--gl-main-content-border)}.gl-ai-helper--top-left[_ngcontent-%COMP%]   .gl-ai-helper-popup[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);bottom:-16px;left:0;transform:rotate(-90deg)}.gl-ai-helper--top-right[_ngcontent-%COMP%]   .gl-ai-helper-popup[_ngcontent-%COMP%]{transform:translate(calc(-100% + 24px),calc(-100% - 16px));margin-bottom:16px;border-top:1px solid var(--gl-main-content-border)}.gl-ai-helper--top-right[_ngcontent-%COMP%]   .gl-ai-helper-popup[_ngcontent-%COMP%]:before{background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);bottom:-16px;right:0;transform:rotate(90deg)}.gl-ai-helper-popup-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}.gl-ai-helper-popup-header-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;padding:3px 5px 5px 8px;color:var(--gl-background-on-primary);border:1px solid var(--gl-background-on-primary);font-size:12px;line-height:16px}.gl-ai-helper-error[_ngcontent-%COMP%]   .gl-ai-helper-popup-header-chip[_ngcontent-%COMP%]{border-color:var(--gl-color-error);color:var(--gl-color-error)}.gl-ai-helper-popup-header-chip[_ngcontent-%COMP%]   .o-gl-icon[_ngcontent-%COMP%]{font-size:16px}.gl-ai-helper-loading[_ngcontent-%COMP%]   .gl-ai-helper-popup-header-chip[_ngcontent-%COMP%]   .o-gl-icon[_ngcontent-%COMP%], .gl-ai-helper-error[_ngcontent-%COMP%]   .gl-ai-helper-popup-header-chip[_ngcontent-%COMP%]   .o-gl-icon[_ngcontent-%COMP%]{display:none}.gl-ai-helper-popup-header-close[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:24px;width:26px;min-width:26px;background-color:transparent;color:var(--gl-color);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-ai-helper-popup-header-close[_ngcontent-%COMP%]:hover{background-color:var(--gl-transparent-hover-overlay)}.gl-ai-helper-popup-header-close[_ngcontent-%COMP%]:active{background-color:var(--gl-transparent-active-overlay)}.gl-ai-helper-popup-header-close[_ngcontent-%COMP%]:disabled, .gl-ai-helper-popup-header-close.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-ai-helper-error[_ngcontent-%COMP%]   .gl-ai-helper-popup-body[_ngcontent-%COMP%]   .gl-ai-helper-popup-body-title[_ngcontent-%COMP%]{display:none}.gl-ai-helper-error[_ngcontent-%COMP%]   .gl-ai-helper-popup-body[_ngcontent-%COMP%]   .gl-ai-helper-popup-body-text[_ngcontent-%COMP%]{border:1px solid var(--gl-color-error);padding:14px;background:#da291c1f;color:var(--gl-color-error);display:flex;align-items:center;justify-content:space-between}.gl-ai-helper-error[_ngcontent-%COMP%]   .gl-ai-helper-popup-body[_ngcontent-%COMP%]   .gl-ai-helper-popup-body-text[_ngcontent-%COMP%]   .o-gl-icon[_ngcontent-%COMP%]{cursor:pointer}.gl-ai-helper-popup-body-title[_ngcontent-%COMP%]{font-weight:600;line-height:20px;margin-bottom:16px;word-wrap:break-word;text-align:left}.gl-ai-helper-popup-body-text[_ngcontent-%COMP%]{border:1px solid var(--gl-color-line);padding:16px;background:var(--gl-background-helper-section)}.gl-ai-helper-popup-loading-item[_ngcontent-%COMP%]{height:16px;background:linear-gradient(90deg,#d0d0ce33,#d0d0cecc,#d0d0ce33 50%);background-size:200%;background-position:50% 0;animation:_ngcontent-%COMP%_left-to-right 4s ease-in-out infinite}.gl-ai-helper-popup-loading-item[_ngcontent-%COMP%]:not(:last-child){margin-bottom:8px}.gl-ai-helper-popup-loading-item--w60[_ngcontent-%COMP%]{width:60%}.gl-ai-helper-popup-loading-item--w70[_ngcontent-%COMP%]{width:70%}.gl-ai-helper-popup-loading-item--w80[_ngcontent-%COMP%]{width:80%}.gl-ai-helper-popup-loading-item--w95[_ngcontent-%COMP%]{width:95%}.gl-ai-helper-popup-footer[_ngcontent-%COMP%]{margin-top:16px;display:flex;align-items:center;justify-content:space-between}.gl-ai-helper-loading[_ngcontent-%COMP%]   .gl-ai-helper-popup-footer[_ngcontent-%COMP%]{opacity:.4}.gl-ai-helper-loading[_ngcontent-%COMP%]   .gl-ai-helper-popup-footer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.gl-ai-helper-error[_ngcontent-%COMP%]   .gl-ai-helper-popup-footer[_ngcontent-%COMP%]{display:none}.gl-ai-helper-popup-footer-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.gl-ai-helper-popup-footer-control[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;height:24px;width:26px;min-width:26px;background-color:transparent;color:var(--gl-color);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-ai-helper-popup-footer-control[_ngcontent-%COMP%]:hover{background-color:var(--gl-transparent-hover-overlay)}.gl-ai-helper-popup-footer-control[_ngcontent-%COMP%]:active{background-color:var(--gl-transparent-active-overlay)}.gl-ai-helper-popup-footer-control[_ngcontent-%COMP%]:disabled, .gl-ai-helper-popup-footer-control.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-ai-helper-popup-footer-control[_ngcontent-%COMP%]   .o-gl-icon[_ngcontent-%COMP%]{font-size:16px}.gl-ai-helper-popup-footer-button[_ngcontent-%COMP%]{padding:5px 12px 7px;min-width:88px;text-align:var(--gl-button-text-align);font-size:14px;line-height:20px;font-weight:400;background-color:var(--gl-background-on-primary);color:var(--gl-color-on-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-ai-helper-popup-footer-button[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,black var(--gl-hover-overlay),var(--gl-background-on-primary))}.gl-ai-helper-popup-footer-button[_ngcontent-%COMP%]:active{background-color:color-mix(in srgb,black var(--gl-active-overlay),var(--gl-background-on-primary))}.gl-ai-helper-popup-footer-button[_ngcontent-%COMP%]:disabled, .gl-ai-helper-popup-footer-button.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}']})}}function qne(n,e){if(1&n){const t=pt();Qt(0),$(1,"gl-element-overlay",1),V(2,"gl-ai-helper",2),Ie("enhanceAction",function(r){_e(t);return Me(D().onTrackEnhanceAnalyticEvent(r))})("openAction",function(){_e(t);return Me(D().onTrackOpenAnalyticEvent())})("applyAction",function(){_e(t);return Me(D().onTrackApplyAnalyticEvent())})("closeAction",function(){_e(t);return Me(D().onTrackCloseAnalyticEvent())})("inactiveAction",function(){_e(t);return Me(D().onTrackInactiveAnalyticEvent())}),j(),Zt()}if(2&n){const t=D();P(),A("element",t.element())("isHighlightActive",t.isHighlightActive())("zIndex",t.zIndex()),P(),A("configureMode",t.configureMode())("id",t.id())("name",t.name())("position",t.position())("prompt",t.prompt())("selector",t.selector())("tip",t.tip())("zIndex",t.zIndex())("element",t.element())("isHighlightActive",t.isHighlightActive())("lang",t.lang())("translation",t.translation())}}class Pp extends qr{constructor(){super(...arguments),this.flowId=v(),this.id=v(),this.isScrollToElement=v(!1),this.configureMode=v(!1),this.position=v(),this.prompt=v(),this.selector=v(null),this.tip=v(),this.name=v(),this.targetUrl=v(),this.zIndex=v(),this.attachedToHostElement=v(!1),this.lang=v(),this.translation=v(),this.isHighlightActive=this.configureMode,this.contentSideStoreService=C(xn),this.clientSideAnalyticService=C(zr)}getCommonAnalyticsEventData(){return{flowId:this.flowId(),flowItemInternalId:this.id(),systemFlowActionKindId:null,analyticsTitle:"AiHelper"}}onTrackOpenAnalyticEvent(){this.clientSideAnalyticService.sendAnalyticEvent({...this.getCommonAnalyticsEventData(),analyticsEventType:st.Visited})}onTrackEnhanceAnalyticEvent(e){this.clientSideAnalyticService.sendAnalyticEvent({...this.getCommonAnalyticsEventData(),analyticsEventType:st.Enhance,analyticsTitle:this.name()?this.name():"AiHelper",details:{type:"aiHelperEnhance",id:this.id(),name:this.name(),selector:this.selector()?.value,prompt:this.prompt(),textToEnhance:e.textToEnhance,enhanceText:e.enhanceText}})}onTrackApplyAnalyticEvent(){this.clientSideAnalyticService.sendAnalyticEvent({...this.getCommonAnalyticsEventData(),analyticsEventType:st.Apply})}onTrackCloseAnalyticEvent(){this.clientSideAnalyticService.sendAnalyticEvent({...this.getCommonAnalyticsEventData(),analyticsEventType:st.Close})}onTrackInactiveAnalyticEvent(){this.clientSideAnalyticService.sendAnalyticEvent({...this.getCommonAnalyticsEventData(),analyticsEventType:st.Inactive})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Pp)))(o||Pp)}})()}static{this.\u0275cmp=$e({type:Pp,selectors:[["gl-native-highlight-ai-helper"]],inputs:{flowId:[1,"flowId"],id:[1,"id"],isScrollToElement:[1,"isScrollToElement"],configureMode:[1,"configureMode"],position:[1,"position"],prompt:[1,"prompt"],selector:[1,"selector"],tip:[1,"tip"],name:[1,"name"],targetUrl:[1,"targetUrl"],zIndex:[1,"zIndex"],attachedToHostElement:[1,"attachedToHostElement"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:1,vars:1,consts:[[4,"ngIf"],[3,"element","isHighlightActive","zIndex"],[3,"enhanceAction","openAction","applyAction","closeAction","inactiveAction","configureMode","id","name","position","prompt","selector","tip","zIndex","element","isHighlightActive","lang","translation"]],template:function(t,o){1&t&&te(0,qne,3,15,"ng-container",0),2&t&&A("ngIf",o.display())},dependencies:[zn,KI,Tl],encapsulation:2})}}class Kb extends nu{constructor(){super(...arguments),this.element=v(null),this.flowId=v(),this.id=v(),this.isScrollToElement=v(!1),this.configureMode=v(!1),this.position=v(),this.prompt=v(),this.selector=v(null),this.tip=v(),this.name=v(),this.targetUrl=v(),this.zIndex=v(),this.attachedToHostElement=v(!1),this.lang=v(),this.translation=v(),this.component=Pp}getInputs(){return{flowId:this.flowId(),id:this.id(),isScrollToElement:this.isScrollToElement(),configureMode:this.configureMode(),position:this.position(),prompt:this.prompt(),selector:this.selector(),tip:this.tip(),zIndex:this.zIndex(),attachedToHostElement:this.attachedToHostElement(),lang:this.lang(),translation:this.translation()}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Kb)))(o||Kb)}})()}static{this.\u0275cmp=$e({type:Kb,selectors:[["gl-attached-highlight-ai-helper"]],inputs:{element:[1,"element"],flowId:[1,"flowId"],id:[1,"id"],isScrollToElement:[1,"isScrollToElement"],configureMode:[1,"configureMode"],position:[1,"position"],prompt:[1,"prompt"],selector:[1,"selector"],tip:[1,"tip"],name:[1,"name"],targetUrl:[1,"targetUrl"],zIndex:[1,"zIndex"],attachedToHostElement:[1,"attachedToHostElement"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:0,vars:0,template:function(t,o){},encapsulation:2,changeDetection:0})}}function Yne(n,e){if(1&n&&$(0,"gl-attached-highlight-ai-helper",0),2&n){const t=D();A("element",t.element())("flowId",t.flowId())("id",t.id())("isScrollToElement",t.isScrollToElement())("configureMode",t.configureMode())("position",t.position())("prompt",t.prompt())("selector",t.selector())("tip",t.tip())("name",t.name())("targetUrl",t.targetUrl())("zIndex",t.zIndex())("attachedToHostElement",t.attachedToHostElement())("lang",t.lang())("translation",t.translation())}}function Xne(n,e){if(1&n&&$(0,"gl-native-highlight-ai-helper",1),2&n){const t=D();A("flowId",t.flowId())("id",t.id())("isScrollToElement",t.isScrollToElement())("configureMode",t.configureMode())("position",t.position())("prompt",t.prompt())("selector",t.selector())("tip",t.tip())("name",t.name())("targetUrl",t.targetUrl())("zIndex",t.zIndex())("attachedToHostElement",t.attachedToHostElement())("lang",t.lang())("translation",t.translation())}}class Fp extends qr{constructor(){super(...arguments),this.flowId=v(),this.id=v(),this.isScrollToElement=v(!1),this.configureMode=v(!1),this.position=v(),this.prompt=v(),this.selector=v(null),this.tip=v(),this.name=v(),this.targetUrl=v(),this.zIndex=v(),this.attachedToHostElement=v(!1),this.lang=v(Lt),this.translation=v({})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Fp)))(o||Fp)}})()}static{this.\u0275cmp=$e({type:Fp,selectors:[["gl-highlight-ai-helper"]],inputs:{flowId:[1,"flowId"],id:[1,"id"],isScrollToElement:[1,"isScrollToElement"],configureMode:[1,"configureMode"],position:[1,"position"],prompt:[1,"prompt"],selector:[1,"selector"],tip:[1,"tip"],name:[1,"name"],targetUrl:[1,"targetUrl"],zIndex:[1,"zIndex"],attachedToHostElement:[1,"attachedToHostElement"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:2,vars:1,consts:[[3,"element","flowId","id","isScrollToElement","configureMode","position","prompt","selector","tip","name","targetUrl","zIndex","attachedToHostElement","lang","translation"],[3,"flowId","id","isScrollToElement","configureMode","position","prompt","selector","tip","name","targetUrl","zIndex","attachedToHostElement","lang","translation"]],template:function(t,o){1&t&&te(0,Yne,1,15,"gl-attached-highlight-ai-helper",0)(1,Xne,1,14,"gl-native-highlight-ai-helper",1),2&t&&ge(o.attachedToHostElement()?0:1)},dependencies:[Kb,Pp],encapsulation:2})}}function Qne(n,e){if(1&n&&(Qt(0),$(1,"gl-highlight-ai-helper",2),Zt()),2&n){const t=D().$implicit,o=D(2);P(),A("flowId",o.flow.id)("id",t.data.id)("isScrollToElement",!1)("name",t.data.name)("position",t.data.position)("prompt",t.data.prompt)("selector",t.data.selector)("tip",t.data.tip)("zIndex",t.data.zIndex)("attachedToHostElement",t.data.attachedToHostElement)("lang",o.lang())("translation",t.data.translation)}}function Zne(n,e){if(1&n&&(Qt(0),te(1,Qne,2,12,"ng-container",0),fn(2,"frameFilter"),Zt()),2&n){const t=e.$implicit;P(),A("ngIf",Hi(2,1,t))}}function Jne(n,e){if(1&n&&(Qt(0),te(1,Zne,3,3,"ng-container",1),Zt()),2&n){const t=D();P(),A("ngForOf",t.flowItems)}}class eE{constructor(){this.lang=v(Lt)}get flowItems(){return this.flow?.dataFlow.items||[]}static{this.\u0275fac=function(t){return new(t||eE)}}static{this.\u0275cmp=$e({type:eE,selectors:[["gl-ai-helper-flow-view"]],inputs:{flow:"flow",lang:[1,"lang"]},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"flowId","id","isScrollToElement","name","position","prompt","selector","tip","zIndex","attachedToHostElement","lang","translation"]],template:function(t,o){1&t&&te(0,Jne,2,1,"ng-container",0),2&t&&A("ngIf",o.flowItems.length)},dependencies:[zn,wl,Fp,Wo],encapsulation:2})}}var y3,eO,b3,tO;!function(n){n[n.List=0]="List",n[n.Item=1]="Item"}(y3||(y3={})),function(n){n.Info="Informational",n.Question="Question"}(eO||(eO={})),function(n){n.Configuration="Configuration",n.Content="Content",n.Icon="Icon",n.Styling="CSS editor"}(b3||(b3={})),function(n){n.HoverOnIcon="HoverOnIcon",n.HoverOnElement="HoverOnElement"}(tO||(tO={}));const eoe=["smartNudge"],toe=["nudgePopup"],noe=["nudgeTrigger"],ooe=(n,e,t,o)=>({"gl-smart-nudge--hovered":n,"gl-smart-nudge--show-on-hover-element":e,configure:t,visible:o}),roe=n=>({"z-index":n}),C3=n=>[n],ioe=(n,e)=>({"z-index":n,width:e}),soe=n=>({"gl-smart-nudge-pop-up__note--hidden":n});class tE{onMouseOver(){this.configureMode()||this.handleOnMouseOver()}onMouseLeave(){this.configureMode()||this.handleOnMouseLeave()}constructor(){this.element=v(null),this.configureMode=v(!1),this.position=v(),this.nudgePosition=v(),this.selector=v(null),this.description=v(""),this.iconType=v(),this.width=v(),this.flowId=v(),this.name=v(),this.id=v(),this.targetUrl=v(),this.nudgeDistance=v(),this.actionTargetType=v(),this.zIndex=v(),this.styles=v(void 0),this.attachedToHostElement=v(!1),this.isHighlightActive=v(!1),this.lang=v(Lt),this.translation=v({}),this.normalizedNote=ue(""),this.smartNudgeContent=v(null),this.hoverElementAction=tn(),this.unHoverElementAction=tn(),this.inactiveAction=tn(),this.renderer=C(fr),this.injector=C(We),this.contentTransformerService=C(ml),this.inactivityTrackerService=C(su),this.safePipeContentType=Wn,this.defaultPlacement=me.Right,this.defaultPopupPlacement=me.BottomRight,this.ECssStepElement=ln,this.containerPosition=null,this.popupArrowPosition=G(()=>{const e=this.nudgePosition()||this.defaultPopupPlacement;return`gl-smart-nudge-pop-up--${Dn[e]}`}),this.typeIcon=G(()=>this.iconType()===eO.Info?"dds-gl-icon_info__s__stroke":"dds-gl-icon_question_mark__s__stroke"),this.isHovered=ue(!1),this.strategy=G(()=>this.position()?.isFixed?"fixed":"absolute"),this.zIndexByActionTargetType=G(()=>this.isHoverOnElement()?this.zIndex()+1:this.zIndex()),this.minWidth=G(()=>`${this.width()<50?50:this.width()}px`),this.nudgePositionObj=G(()=>({...this.position(),placement:this.nudgePosition(),distance:this.nudgeDistance()})),this.flowElementPosition=G(()=>this.isHoverOnElement()?this.nudgePositionObj():this.position()),this.isHoverOnElement=G(()=>this.actionTargetType()===tO.HoverOnElement),this.flowElement=G(()=>this.isViewLoaded()?this.isHoverOnElement()?this.popup?.nativeElement:this.smartNudge?.nativeElement:null),this.flowElementOffset=G(()=>this.isHoverOnElement()?16:0),this.leaveTimeoutId=null,this.isViewLoaded=ue(!1),this.isVisible=G(()=>!this.configureMode()||this.isViewLoaded()),this.popupCfg=TI.flowCfg.SmartNudge.SmartNudge.sections,this.labels={noteTitle:this.popupCfg.noteTitle.defaultValue},this.trackInactivity(),this.handleMouseEvents(),this.handlePopupPosition(),this.trackHoverAndUnHover(),this.handleNoteChange()}ngAfterContentInit(){setTimeout(()=>{this.isViewLoaded.set(!0)},300)}onSnBodyClick(e){e.composedPath().some(o=>"A"===o.tagName||"BUTTON"===o.tagName)&&this.isHovered.set(!1)}recalculatePopupPosition(){const e=this.calculatePopupTopLeftPosition();if(!e)return;const{top:t,left:o}=e;this.popup?.nativeElement&&(this.renderer.setStyle(this.popup.nativeElement,"top",`${t}px`),this.renderer.setStyle(this.popup.nativeElement,"left",`${o}px`))}calculatePopupTopLeftPosition(){if(!this.element())return{top:0,left:0};const{width:t,height:o}=this.getCurrentElementRect(),r=this.getPopupElementRect();if(!r)return{top:0,left:0};const{width:i,height:s}=r,a=o/2,c=t/2,m=20,b=16;if(!this.nudgePosition())return{top:o+m,left:t/2-i+b};let T={top:0,left:0};switch(this.nudgePosition()){case me.LeftTop:T={top:0+a-0-b,left:0-(i+m)};break;case me.LeftBottom:T={top:0-s+a+b,left:0-(i+m)};break;case me.RightTop:T={top:0+a-0-b,left:0+t+m};break;case me.RightBottom:T={top:0-s+a+b,left:0+t+m};break;case me.TopLeft:T={top:0-(s+m),left:0+c-0-b};break;case me.TopRight:T={top:0-(s+m),left:0-i+c+b};break;case me.BottomRight:T={top:0+o+m,left:0-i+c+b};break;case me.BottomLeft:T={top:0+o+m,left:0+c-0-b}}return this.applyNudgeDistanceOffset(T)}applyNudgeDistanceOffset(e){const t=this.nudgeDistance();if(!t)return e;const o=t.x??0,r=t.y??0;return{left:e.left+o,top:e.top-r}}getCurrentElementRect(){const e=this.smartNudge.nativeElement;return e?e.getBoundingClientRect():null}getPopupElementRect(){const e=this.popup?.nativeElement;return e?e.getBoundingClientRect():null}startInactivityTracking(){return this.inactivityTrackerService.createTracker().subscribe(()=>{this.inactiveAction.emit()})}handleOnMouseOver(){this.leaveTimeoutId&&(clearTimeout(this.leaveTimeoutId),this.leaveTimeoutId=null),this.isHovered.set(!0)}handleOnMouseLeave(){this.leaveTimeoutId=setTimeout(()=>{this.isHovered.set(!1)},500)}trackHoverAndUnHover(){return function Kne(n,e,t=(o,r)=>o===r){let r,o=!0;return Ve(()=>{const i=n();o?o=!1:t(r,i)||e(i,r),r=i})}(this.isHovered,e=>{e?this.hoverElementAction.emit():this.unHoverElementAction.emit()})}trackInactivity(){return Ve(e=>{const t=this.isHovered();let o=null;t&&(o=this.startInactivityTracking()),e(()=>{o&&o.unsubscribe()})},{injector:this.injector})}handleMouseEvents(){return Ve(e=>{const t=this.isHoverOnElement(),o=this.element(),r=this.configureMode();if(!t||!o||r)return;const i=()=>this.handleOnMouseOver(),s=()=>this.handleOnMouseLeave();o.addEventListener("mouseover",i),o.addEventListener("mouseleave",s),e(()=>{o.removeEventListener("mouseover",i),o.removeEventListener("mouseleave",s)})},{injector:this.injector})}handlePopupPosition(){return Ve(e=>{this.isViewLoaded(),this.nudgeDistance(),this.nudgePosition(),this.position(),this.isHoverOnElement()||(queueMicrotask(()=>{this.recalculatePopupPosition()}),e(()=>{}))},{injector:this.injector})}handleNoteChange(){return Ve(()=>{this.contentTransformerService.transformGuidedTourPopupBodyContent({content:this.smartNudgeContent()?.note?.content??"",flowId:this.flowId(),flowItemId:this.id()}).then(e=>{this.normalizedNote.set(e)})},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||tE)}}static{this.\u0275cmp=$e({type:tE,selectors:[["gl-smart-nudge"]],viewQuery:function(t,o){if(1&t&&(pr(eoe,7),pr(toe,5),pr(noe,7)),2&t){let r;mr(r=_r())&&(o.smartNudge=r.first),mr(r=_r())&&(o.popup=r.first),mr(r=_r())&&(o.trigger=r.first)}},hostBindings:function(t,o){1&t&&Ie("mouseover",function(i){return o.onMouseOver(i)})("mouseleave",function(i){return o.onMouseLeave(i)})},inputs:{element:[1,"element"],configureMode:[1,"configureMode"],position:[1,"position"],nudgePosition:[1,"nudgePosition"],selector:[1,"selector"],description:[1,"description"],iconType:[1,"iconType"],width:[1,"width"],flowId:[1,"flowId"],name:[1,"name"],id:[1,"id"],targetUrl:[1,"targetUrl"],nudgeDistance:[1,"nudgeDistance"],actionTargetType:[1,"actionTargetType"],zIndex:[1,"zIndex"],styles:[1,"styles"],attachedToHostElement:[1,"attachedToHostElement"],isHighlightActive:[1,"isHighlightActive"],lang:[1,"lang"],translation:[1,"translation"],smartNudgeContent:[1,"smartNudgeContent"]},outputs:{hoverElementAction:"hoverElementAction",unHoverElementAction:"unHoverElementAction",inactiveAction:"inactiveAction"},decls:17,vars:48,consts:[["smartNudge",""],["nudgeTrigger",""],["nudgePopup",""],["translatedNote","glTranslation"],["glElementPositionSync","",1,"gl-smart-nudge",3,"targetElement","position","defaultPlacement","strategy","attachToHostElement","offset","flowElement","ngClass","ngStyle"],[1,"gl-smart-nudge__content"],["glCustomStyles","","componentSelector","gl-smart-nudge","elementSelector","gl-smart-nudge__trigger",1,"gl-smart-nudge__trigger",3,"styles","componentType","injectStylesInHost"],[1,"o-gl-icon",3,"ngClass"],["glCustomStyles","","componentSelector","gl-smart-nudge","elementSelector","gl-smart-nudge-pop-up",1,"gl-smart-nudge-pop-up",3,"styles","componentType","injectStylesInHost","ngClass","ngStyle"],[1,"gl-smart-nudge-pop-up__inner"],["data-testid","smart-nudge-pop-up-body","glTranslation","","section","body",1,"gl-smart-nudge-pop-up__body",3,"click","lang","translation","fallbackValue"],[1,"gl-smart-nudge-pop-up__note",3,"ngClass"],[1,"gl-smart-nudge-pop-up__note-title"],[1,"gl-smart-nudge-pop-up__note-icon","o-gl-icon","dds-gl-icon_alert__s__stroke"],["glTranslation","","section","noteTitle",3,"lang","translation","fallbackValue"],["glTranslation","","section","note",1,"gl-smart-nudge-pop-up__note-content",3,"click","lang","translation","fallbackValue"],[1,"gl-smart-nudge-pop-up__gradient"]],template:function(t,o){if(1&t){const r=pt();V(0,"div",4,0)(2,"div",5)(3,"div",6,1),$(5,"i",7),j(),V(6,"div",8,2)(8,"div",9)(9,"div",10),Ie("click",function(s){return _e(r),Me(o.onSnBodyClick(s))}),j(),V(10,"div",11)(11,"div",12),$(12,"i",13)(13,"span",14),j(),V(14,"div",15,3),Ie("click",function(s){return _e(r),Me(o.onSnBodyClick(s))}),j()()(),$(16,"div",16),j()()()}if(2&t){const r=Ui(15);A("targetElement",o.element())("position",o.flowElementPosition())("defaultPlacement",o.defaultPlacement)("strategy",o.strategy())("attachToHostElement",o.attachedToHostElement())("offset",o.flowElementOffset())("flowElement",o.flowElement())("ngClass",u2(32,ooe,o.isHovered(),o.isHoverOnElement(),o.configureMode(),o.isVisible()))("ngStyle",xc(37,roe,o.zIndexByActionTargetType())),P(3),A("styles",o.styles())("componentType",o.ECssStepElement.SmartNudgeIcon)("injectStylesInHost",o.attachedToHostElement()),P(2),A("ngClass",xc(39,C3,o.typeIcon())),P(),Qe("configure",o.configureMode())("visible",o.configureMode()),A("styles",o.styles())("componentType",o.ECssStepElement.SmartNudge)("injectStylesInHost",o.attachedToHostElement())("ngClass",xc(41,C3,o.popupArrowPosition()))("ngStyle",c2(43,ioe,o.zIndexByActionTargetType(),o.minWidth())),P(3),A("lang",o.lang())("translation",o.translation())("fallbackValue",o.description()),P(),A("ngClass",xc(46,soe,!r.translationStr())),P(3),A("lang",o.lang())("translation",o.translation())("fallbackValue",o.labels.noteTitle),P(),A("lang",o.lang())("translation",o.translation())("fallbackValue",o.normalizedNote())}},dependencies:[$c,Ds,ru,Yr,Kg,qn],styles:['.gl-smart-nudge[_ngcontent-%COMP%]{visibility:hidden;font-family:Open Sans GL,Arial,Helvetica,sans-serif;position:absolute;top:0;left:0;width:24px;height:24px;z-index:100020}.gl-smart-nudge.visible[_ngcontent-%COMP%]{visibility:visible}.gl-smart-nudge.gl-smart-nudge--hovered[_ngcontent-%COMP%]{z-index:100021}.gl-smart-nudge--show-on-hover-element[_ngcontent-%COMP%]   .gl-smart-nudge__content[_ngcontent-%COMP%]{position:unset}.gl-smart-nudge--show-on-hover-element[_ngcontent-%COMP%]   .gl-smart-nudge__trigger[_ngcontent-%COMP%]{display:none}.gl-smart-nudge__content[_ngcontent-%COMP%]{position:relative}.gl-smart-nudge__trigger[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;width:24px;height:24px;background-color:var(--gl-background-on-primary);color:var(--gl-color-on-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-smart-nudge__trigger[_ngcontent-%COMP%]:hover, .gl-smart-nudge__trigger[_ngcontent-%COMP%]:active{background-color:color-mix(in srgb,black var(--gl-hover-overlay),var(--gl-background-on-primary))}.gl-smart-nudge__trigger[_ngcontent-%COMP%]:disabled, .gl-smart-nudge__trigger.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-smart-nudge__trigger[_ngcontent-%COMP%]   .o-gl-icon[_ngcontent-%COMP%]{font-size:16px;pointer-events:none}.disabled[_ngcontent-%COMP%]   .gl-smart-nudge__trigger[_ngcontent-%COMP%]{opacity:.4;cursor:default}.configure[_ngcontent-%COMP%]   .gl-smart-nudge__trigger[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.gl-smart-nudge__hidden[_ngcontent-%COMP%]{display:none}.gl-smart-nudge-pop-up[_ngcontent-%COMP%]{visibility:hidden;background-color:var(--gl-step-background-primary);color:var(--gl-step-color-primary);position:absolute;z-index:100040;width:266px;font-family:Open Sans GL,Arial,Helvetica,sans-serif;box-sizing:border-box;box-shadow:-40px 64px 80px #0000001a}.gl-smart-nudge-pop-up__inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:18px;padding:16px;border-width:1px;border-style:solid;border-color:var(--gl-step-color-line)}.gl-smart-nudge--hovered[_ngcontent-%COMP%]   .gl-smart-nudge-pop-up[_ngcontent-%COMP%], .gl-smart-nudge.visible[_ngcontent-%COMP%]   .gl-smart-nudge-pop-up.visible[_ngcontent-%COMP%]{visibility:visible}.gl-smart-nudge-pop-up[_ngcontent-%COMP%]:before{content:"";position:absolute;width:16px;height:16px}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--bottom-left[_ngcontent-%COMP%]{border-top:6px solid var(--gl-step-color-border)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--bottom-left[_ngcontent-%COMP%]   .gl-smart-nudge-pop-up__inner[_ngcontent-%COMP%]{border-top:none}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--bottom-left[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);top:-22px;left:0}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--bottom-right[_ngcontent-%COMP%]{border-top:6px solid var(--gl-step-color-border)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--bottom-right[_ngcontent-%COMP%]   .gl-smart-nudge-pop-up__inner[_ngcontent-%COMP%]{border-top:none}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--bottom-right[_ngcontent-%COMP%]:before{background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);top:-22px;right:0}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--top-left[_ngcontent-%COMP%]{border-bottom:6px solid var(--gl-step-color-border)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--top-left[_ngcontent-%COMP%]   .gl-smart-nudge-pop-up__inner[_ngcontent-%COMP%]{border-bottom:none}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--top-left[_ngcontent-%COMP%]:before{background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);bottom:-22px;left:0;transform:rotate(-90deg)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--top-right[_ngcontent-%COMP%]{border-bottom:6px solid var(--gl-step-color-border)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--top-right[_ngcontent-%COMP%]   .gl-smart-nudge-pop-up__inner[_ngcontent-%COMP%]{border-bottom:none}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--top-right[_ngcontent-%COMP%]:before{background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);bottom:-22px;right:0;transform:rotate(90deg)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--left-top[_ngcontent-%COMP%]{border-right:6px solid var(--gl-step-color-border)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--left-top[_ngcontent-%COMP%]   .gl-smart-nudge-pop-up__inner[_ngcontent-%COMP%]{border-right:none}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--left-top[_ngcontent-%COMP%]:before{top:0;right:-22px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--left-bottom[_ngcontent-%COMP%]{border-right:6px solid var(--gl-step-color-border)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--left-bottom[_ngcontent-%COMP%]   .gl-smart-nudge-pop-up__inner[_ngcontent-%COMP%]{border-right:none}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--left-bottom[_ngcontent-%COMP%]:before{bottom:0;right:-22px;background:linear-gradient(to top right,var(--gl-arrow-gradient-from) 0%,var(--gl-arrow-gradient-to) 50%,transparent 50%,transparent 0%);transform:rotate(90deg)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--right-top[_ngcontent-%COMP%]{border-left:6px solid var(--gl-step-color-border)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--right-top[_ngcontent-%COMP%]   .gl-smart-nudge-pop-up__inner[_ngcontent-%COMP%]{border-left:none}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--right-top[_ngcontent-%COMP%]:before{top:0;left:-22px;background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--right-bottom[_ngcontent-%COMP%]{border-left:6px solid var(--gl-step-color-border)}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--right-bottom[_ngcontent-%COMP%]   .gl-smart-nudge-pop-up__inner[_ngcontent-%COMP%]{border-left:none}.gl-smart-nudge-pop-up.gl-smart-nudge-pop-up--right-bottom[_ngcontent-%COMP%]:before{bottom:0;left:-22px;background:linear-gradient(to bottom right,transparent 0%,transparent 50%,var(--gl-arrow-gradient-to) 50%,var(--gl-arrow-gradient-from) 100%);transform:rotate(-90deg)}.gl-smart-nudge-pop-up__gradient[_ngcontent-%COMP%]{display:flex;align-items:flex-end;position:absolute;right:0;left:0;bottom:0;z-index:-1;background-image:var(--gl-gradient-visibility);background-repeat:no-repeat;background-position:bottom;background-size:cover;aspect-ratio:4/1}.gl-smart-nudge-pop-up__gradient[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:auto}.gl-smart-nudge-pop-up__body[_ngcontent-%COMP%]{cursor:default;min-height:20px;font-size:14px;line-height:20px;font-weight:400;word-break:break-word}.gl-smart-nudge-pop-up__note[_ngcontent-%COMP%]{cursor:default;min-height:20px;font-size:12px;line-height:16px;font-weight:400;word-break:break-word;padding:3px 12px 6px;background-color:var(--gl-step-background-note);color:var(--gl-step-color-primary)}.gl-smart-nudge-pop-up__note--hidden[_ngcontent-%COMP%]{display:none}.gl-smart-nudge-pop-up__note-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px;display:flex;align-items:center;gap:6px}.gl-smart-nudge-pop-up__note-icon[_ngcontent-%COMP%]{color:var(--gl-step-note-icon)}.gl-smart-nudge-pop-up__note-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:500;text-decoration:underline;color:var(--gl-step-background-primary)}[_nghost-%COMP%]     .gl-smart-nudge-pop-up__body .gl-rte-action-link, [_nghost-%COMP%]     .gl-smart-nudge-pop-up__body a, [_nghost-%COMP%]     .gl-smart-nudge-pop-up__note a{font-weight:500;text-decoration:underline;color:var(--gl-step-rte-link)}[_nghost-%COMP%]     .gl-smart-nudge-pop-up__body .gl-rte-action-link--btn, [_nghost-%COMP%]     .gl-smart-nudge-pop-up__note .gl-rte-action-link--btn{color:var(--gl-step-rte-link-btn-color);background-color:var(--gl-step-rte-link-btn-bg);border:1px solid var(--gl-step-rte-link-btn-border);text-decoration:none}']})}}function coe(n,e){if(1&n){const t=pt();$(0,"gl-element-overlay",0),V(1,"gl-smart-nudge",1),Ie("hoverElementAction",function(){_e(t);return Me(D().onTrackHoverAnalyticEvent())})("unHoverElementAction",function(){_e(t);return Me(D().onTrackUnHoverAnalyticEvent())})("inactiveAction",function(){_e(t);return Me(D().onTrackInactiveAnalyticEvent())}),j()}if(2&n){const t=D();A("element",t.element())("isHighlightActive",t.isHighlightActive())("zIndex",t.zIndex()),P(),A("element",t.element())("configureMode",t.configureMode())("description",t.normalizedDescription())("iconType",t.iconType())("id",t.id())("name",t.name())("nudgePosition",t.nudgePosition())("position",t.position())("selector",t.selector())("width",t.width())("actionTargetType",t.actionTargetType())("nudgeDistance",t.nudgeDistance())("zIndex",t.zIndex())("styles",t.styles())("isHighlightActive",t.isHighlightActive())("smartNudgeContent",t.smartNudgeContent())("flowId",t.flowId())("lang",t.lang())("translation",t.translation())}}class ew extends qr{constructor(){super(),this.configureMode=v(!1),this.selector=v(null),this.nudgePosition=v(),this.iconType=v(),this.width=v(),this.position=v(),this.name=v(),this.id=v(),this.targetUrl=v(),this.actionTargetType=v(),this.nudgeDistance=v(),this.zIndex=v(),this.styles=v(),this.description=v(""),this.flowId=v(),this.isScrollToElement=v(!0),this.attachedToHostElement=v(!1),this.smartNudgeContent=v(null),this.lang=v(),this.translation=v(),this.isHighlightActive=this.configureMode,this.hasBeenOpened=!1,this.contentSideStoreService=C(xn),this.clientSideAnalyticService=C(zr),this.ECssStepElement=ln,this.handleBodyContentChange()}sendSmartNudgeAnalyticsEvent(e,t){this.configureMode()||this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:e,systemFlowActionKindId:null,analyticsTitle:t?.name?t.name:"SmartNudges",details:t})}onTrackHoverAnalyticEvent(){if(!this.hasBeenOpened){this.hasBeenOpened=!0;const e={type:"visitSmartNudge",id:this.id(),name:this.name(),selector:this.selector()?.value,description:this.description()};this.sendSmartNudgeAnalyticsEvent(st.Visited,e)}}onTrackUnHoverAnalyticEvent(){this.hasBeenOpened&&(this.hasBeenOpened=!1,this.sendSmartNudgeAnalyticsEvent(st.Close))}onTrackInactiveAnalyticEvent(){this.sendSmartNudgeAnalyticsEvent(st.Inactive)}handleBodyContentChange(){return Ve(()=>{this.contentTransformerService.transformGuidedTourPopupBodyContent({content:this.smartNudgeContent()?.body?.content||this.description()||"",flowId:this.flowId(),flowItemId:this.id()}).then(e=>{this.normalizedDescription.set(e)})},{injector:this.injector})}static{this.\u0275fac=function(t){return new(t||ew)}}static{this.\u0275cmp=$e({type:ew,selectors:[["gl-native-highlight-smart-nudge"]],inputs:{configureMode:[1,"configureMode"],selector:[1,"selector"],nudgePosition:[1,"nudgePosition"],iconType:[1,"iconType"],width:[1,"width"],position:[1,"position"],name:[1,"name"],id:[1,"id"],targetUrl:[1,"targetUrl"],actionTargetType:[1,"actionTargetType"],nudgeDistance:[1,"nudgeDistance"],zIndex:[1,"zIndex"],styles:[1,"styles"],description:[1,"description"],flowId:[1,"flowId"],isScrollToElement:[1,"isScrollToElement"],attachedToHostElement:[1,"attachedToHostElement"],smartNudgeContent:[1,"smartNudgeContent"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:1,vars:1,consts:[[3,"element","isHighlightActive","zIndex"],[3,"hoverElementAction","unHoverElementAction","inactiveAction","element","configureMode","description","iconType","id","name","nudgePosition","position","selector","width","actionTargetType","nudgeDistance","zIndex","styles","isHighlightActive","smartNudgeContent","flowId","lang","translation"]],template:function(t,o){1&t&&te(0,coe,2,22),2&t&&ge(o.display()?0:-1)},dependencies:[tE,Tl],encapsulation:2})}}class tw extends nu{constructor(){super(...arguments),this.element=v(null),this.configureMode=v(!1),this.selector=v(null),this.description=v(null),this.isScrollToElement=v(!0),this.nudgePosition=v(),this.iconType=v(),this.width=v(),this.position=v(),this.name=v(),this.id=v(),this.flowId=v(),this.targetUrl=v(),this.actionTargetType=v(),this.nudgeDistance=v(),this.zIndex=v(),this.styles=v(),this.attachedToHostElement=v(),this.smartNudgeContent=v(),this.lang=v(),this.translation=v(),this.component=ew}getInputs(){return{configureMode:this.configureMode(),selector:this.selector(),nudgePosition:this.nudgePosition(),iconType:this.iconType(),width:this.width(),position:this.position(),name:this.name(),id:this.id(),targetUrl:this.targetUrl(),actionTargetType:this.actionTargetType(),nudgeDistance:this.nudgeDistance(),zIndex:this.zIndex(),styles:this.styles(),description:this.description(),flowId:this.flowId(),isScrollToElement:this.isScrollToElement(),attachedToHostElement:this.attachedToHostElement(),smartNudgeContent:this.smartNudgeContent(),lang:this.lang(),translation:this.translation()}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(tw)))(o||tw)}})()}static{this.\u0275cmp=$e({type:tw,selectors:[["gl-attached-highlight-smart-nudge"]],inputs:{element:[1,"element"],configureMode:[1,"configureMode"],selector:[1,"selector"],description:[1,"description"],isScrollToElement:[1,"isScrollToElement"],nudgePosition:[1,"nudgePosition"],iconType:[1,"iconType"],width:[1,"width"],position:[1,"position"],name:[1,"name"],id:[1,"id"],flowId:[1,"flowId"],targetUrl:[1,"targetUrl"],actionTargetType:[1,"actionTargetType"],nudgeDistance:[1,"nudgeDistance"],zIndex:[1,"zIndex"],styles:[1,"styles"],attachedToHostElement:[1,"attachedToHostElement"],smartNudgeContent:[1,"smartNudgeContent"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:0,vars:0,template:function(t,o){},encapsulation:2,changeDetection:0})}}function uoe(n,e){if(1&n&&$(0,"gl-attached-highlight-smart-nudge",0),2&n){const t=D();A("element",t.element())("configureMode",t.configureMode())("selector",t.selector())("nudgePosition",t.nudgePosition())("iconType",t.iconType())("width",t.width())("position",t.position())("name",t.name())("id",t.id())("targetUrl",t.targetUrl())("actionTargetType",t.actionTargetType())("nudgeDistance",t.nudgeDistance())("zIndex",t.zIndex())("styles",t.styles())("description",t.description())("flowId",t.flowId())("isScrollToElement",t.isScrollToElement())("attachedToHostElement",t.attachedToHostElement())("smartNudgeContent",t.smartNudgeContent())("lang",t.lang())("translation",t.translation())}}function doe(n,e){if(1&n&&$(0,"gl-native-highlight-smart-nudge",1),2&n){const t=D();A("configureMode",t.configureMode())("selector",t.selector())("nudgePosition",t.nudgePosition())("iconType",t.iconType())("width",t.width())("position",t.position())("name",t.name())("id",t.id())("targetUrl",t.targetUrl())("actionTargetType",t.actionTargetType())("nudgeDistance",t.nudgeDistance())("zIndex",t.zIndex())("styles",t.styles())("description",t.description())("flowId",t.flowId())("isScrollToElement",t.isScrollToElement())("attachedToHostElement",t.attachedToHostElement())("smartNudgeContent",t.smartNudgeContent())("lang",t.lang())("translation",t.translation())}}class Np extends qr{constructor(){super(...arguments),this.configureMode=v(!1),this.selector=v(null),this.nudgePosition=v(),this.iconType=v(),this.width=v(),this.position=v(),this.name=v(),this.id=v(),this.targetUrl=v(),this.actionTargetType=v(),this.nudgeDistance=v(),this.zIndex=v(),this.styles=v(),this.description=v(""),this.flowId=v(),this.isScrollToElement=v(!0),this.attachedToHostElement=v(!1),this.smartNudgeContent=v(null),this.lang=v(Lt),this.translation=v({})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Np)))(o||Np)}})()}static{this.\u0275cmp=$e({type:Np,selectors:[["gl-highlight-smart-nudge"]],inputs:{configureMode:[1,"configureMode"],selector:[1,"selector"],nudgePosition:[1,"nudgePosition"],iconType:[1,"iconType"],width:[1,"width"],position:[1,"position"],name:[1,"name"],id:[1,"id"],targetUrl:[1,"targetUrl"],actionTargetType:[1,"actionTargetType"],nudgeDistance:[1,"nudgeDistance"],zIndex:[1,"zIndex"],styles:[1,"styles"],description:[1,"description"],flowId:[1,"flowId"],isScrollToElement:[1,"isScrollToElement"],attachedToHostElement:[1,"attachedToHostElement"],smartNudgeContent:[1,"smartNudgeContent"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:2,vars:1,consts:[[3,"element","configureMode","selector","nudgePosition","iconType","width","position","name","id","targetUrl","actionTargetType","nudgeDistance","zIndex","styles","description","flowId","isScrollToElement","attachedToHostElement","smartNudgeContent","lang","translation"],[3,"configureMode","selector","nudgePosition","iconType","width","position","name","id","targetUrl","actionTargetType","nudgeDistance","zIndex","styles","description","flowId","isScrollToElement","attachedToHostElement","smartNudgeContent","lang","translation"]],template:function(t,o){1&t&&te(0,uoe,1,21,"gl-attached-highlight-smart-nudge",0)(1,doe,1,20,"gl-native-highlight-smart-nudge",1),2&t&&ge(o.attachedToHostElement()?0:1)},dependencies:[ew,tw],encapsulation:2})}}function foe(n,e){if(1&n&&(Qt(0),$(1,"gl-highlight-smart-nudge",2),Zt()),2&n){const t=D(2).$implicit,o=D(2);P(),A("description",t.data.description)("flowId",o.flow().id)("iconType",t.data.iconType)("id",t.data.id)("isScrollToElement",!1)("name",t.data.name)("nudgePosition",t.data.nudgePosition)("position",t.data.position)("selector",t.data.selector)("width",t.data.width)("actionTargetType",t.data.actionTargetType)("nudgeDistance",t.data.nudgeDistance)("zIndex",t.data.zIndex)("styles",t.data.styles)("attachedToHostElement",t.data.attachedToHostElement)("smartNudgeContent",t.data.smartNudgeContent)("lang",o.lang())("translation",t.data.translation)}}function hoe(n,e){if(1&n&&(Qt(0),te(1,foe,2,18,"ng-container",0),Zt()),2&n){const t=D().$implicit;P(),A("ngIf",null==t?null:t.isVisible)}}function goe(n,e){if(1&n&&(Qt(0),te(1,hoe,2,1,"ng-container",0),fn(2,"frameFilter"),Zt()),2&n){const t=e.$implicit;P(),A("ngIf",Hi(2,1,t))}}function poe(n,e){if(1&n&&(Qt(0),te(1,goe,3,3,"ng-container",1),Zt()),2&n){const t=D();P(),A("ngForOf",t.flowItems())}}class nE{constructor(){this.flow=v(),this.visibleFlowsIds=v(new Map),this.lang=v(Lt),this.flowItems=G(()=>{const e=this.flow()?.dataFlow.items,t=this.visibleFlowsIds()||new Map;return e?e.map(o=>{const r=o.data.ruleSet?.conditions?.length,i=t.has(o.data.id);return r&&i?{...o,isVisible:!!t.get(o.data.id)}:o}):[]})}static{this.\u0275fac=function(t){return new(t||nE)}}static{this.\u0275cmp=$e({type:nE,selectors:[["gl-smart-nudge-flow-view"]],inputs:{flow:[1,"flow"],visibleFlowsIds:[1,"visibleFlowsIds"],lang:[1,"lang"]},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"description","flowId","iconType","id","isScrollToElement","name","nudgePosition","position","selector","width","actionTargetType","nudgeDistance","zIndex","styles","attachedToHostElement","smartNudgeContent","lang","translation"]],template:function(t,o){1&t&&te(0,poe,2,1,"ng-container",0),2&t&&A("ngIf",o.flowItems().length)},dependencies:[wl,zn,Np,Wo],encapsulation:2})}}const moe=["button"];class oE{constructor(){this.configureMode=v(!1),this.selector=v(null),this.element=v(null),this.name=v(),this.text=v(),this.action=v(),this.position=v(),this.id=v(),this.targetUrl=v(),this.zIndex=v(),this.styles=v(),this.attachedToHostElement=v(!1),this.isHighlightActive=v(!1),this.lang=v(),this.translation=v(),this.clickedButton=tn(),this.CssStepElements=ln,this.defaultPlacement=me.Right,this.translate=G(()=>{const{x:e=0,y:t=0,type:o=bd.PX}=this.position()?.distance||{},r=o===bd.PX?"px":"%";return`translate(${e+r}, ${-t+r})`})}onClick(){this.clickedButton.emit()}static{this.\u0275fac=function(t){return new(t||oE)}}static{this.\u0275cmp=$e({type:oE,selectors:[["gl-user-button"]],viewQuery:function(t,o){if(1&t&&pr(moe,7),2&t){let r;mr(r=_r())&&(o.buttonEl=r.first)}},inputs:{configureMode:[1,"configureMode"],selector:[1,"selector"],element:[1,"element"],name:[1,"name"],text:[1,"text"],action:[1,"action"],position:[1,"position"],id:[1,"id"],targetUrl:[1,"targetUrl"],zIndex:[1,"zIndex"],styles:[1,"styles"],attachedToHostElement:[1,"attachedToHostElement"],isHighlightActive:[1,"isHighlightActive"],lang:[1,"lang"],translation:[1,"translation"]},outputs:{clickedButton:"clickedButton"},decls:3,vars:18,consts:[["button",""],["glElementPositionSync","","glCustomStyles","","componentSelector","gl-user-button","glTranslation","","section","text",1,"gl-user-button",3,"click","targetElement","position","defaultPlacement","strategy","attachToHostElement","styles","componentType","injectStylesInHost","lang","translation","fallbackValue"]],template:function(t,o){if(1&t){const r=pt();V(0,"button",1,0),Ie("click",function(){return _e(r),Me(o.onClick())}),Hn(2),j()}if(2&t){let r;$o("transform",o.translate())("z-index",o.zIndex()),Qe("gl-user-button_text-empty",!o.text()),A("targetElement",o.element())("position",o.position())("defaultPlacement",o.defaultPlacement)("strategy",null!=(r=o.position())&&r.isFixed?"fixed":"absolute")("attachToHostElement",o.attachedToHostElement())("styles",o.styles())("componentType",o.CssStepElements.Button)("injectStylesInHost",o.attachedToHostElement())("lang",o.lang())("translation",o.translation())("fallbackValue",o.text()),P(2),ag(" ",o.text(),"\n")}},dependencies:[ru,Yr,qn],styles:[".gl-user-button[_ngcontent-%COMP%]{padding:9px 16px 11px;position:absolute;font-size:14px;line-height:1.429;z-index:100010;font-family:Open Sans GL,Arial,Helvetica,sans-serif;white-space:nowrap;background-color:var(--gl-background-on-primary);color:var(--gl-color-on-primary);border:none;cursor:pointer;transition:background-color .15s ease,color .15s ease,opacity .15s ease;outline:none}.gl-user-button[_ngcontent-%COMP%]:hover{background-color:color-mix(in srgb,black var(--gl-hover-overlay),var(--gl-background-on-primary))}.gl-user-button[_ngcontent-%COMP%]:active{background-color:color-mix(in srgb,black var(--gl-active-overlay),var(--gl-background-on-primary))}.gl-user-button[_ngcontent-%COMP%]:disabled, .gl-user-button.disabled[_ngcontent-%COMP%]{opacity:.4;cursor:not-allowed;pointer-events:none}.gl-user-button_text-empty[_ngcontent-%COMP%]{min-width:80px;height:40px}"]})}}function _oe(n,e){if(1&n){const t=pt();$(0,"gl-element-overlay",0),V(1,"gl-user-button",1),Ie("clickedButton",function(){_e(t);return Me(D().onClickButton())}),j()}if(2&n){const t=D();A("element",t.element())("isHighlightActive",t.isHighlightActive())("zIndex",t.zIndex()),P(),A("element",t.element())("configureMode",t.configureMode())("selector",t.selector())("position",t.position())("text",t.text())("action",t.action())("id",t.id())("zIndex",t.zIndex())("styles",t.styles())("isHighlightActive",t.isHighlightActive())("lang",t.lang())("translation",t.translation())("attachedToHostElement",t.attachedToHostElement())}}class nw extends qr{constructor(){super(),this.configureMode=v(!1),this.selector=v(null),this.position=v(),this.id=v(),this.name=v(),this.text=v(),this.action=v(),this.zIndex=v(),this.flowId=v(),this.styles=v(),this.attachedToHostElement=v(),this.lang=v(),this.translation=v(),this.isHighlightActive=this.configureMode,this.contentSideStoreService=C(xn),this.clientSideAnalyticService=C(zr),this.eventService=C(Oo),this.injector=C(We)}onClickButton(){var e=this;return g(function*(){if(e.trackClickAnalyticEvent(e.getAnalyticDetails()),e.action().type===hy.Menu){const t=e.contentSideStoreService.getState().isMenuExpanded;yield e.eventService.setMenuState(!t)}else e.handleRunTourAction()})()}trackClickAnalyticEvent(e){this.clientSideAnalyticService.sendAnalyticEvent({flowId:this.flowId(),flowItemInternalId:this.id(),analyticsEventType:st.Visited,systemFlowActionKindId:null,analyticsTitle:e?.name?e.name:"Button",details:e})}handleRunTourAction(){var e=this;return g(function*(){if(e.configureMode()){const t={command:q.AdminRunTourFromButton,details:{...e.action()}};chrome.runtime.sendMessage(t,()=>!chrome.runtime.lastError)}else yield e.eventService.stopProcessingFlowsByType({originator:"user",flowTypes:[Te.GuidedTour]}),yield e.eventService.handleEvent({type:Nt.RunTourByGuid,flowId:e.flowId(),flowItemId:e.id()||null,action:{type:zi.RunFlow,payload:{flowGuid:e.action().guideTourId,startFromStepId:e.action().guideTourStepId,runFlowTriggerType:Gi.Button}}})})()}getAnalyticDetails(){if(this.configureMode())return null;try{return{id:this.id(),name:this.name(),text:this.text(),action:this.action(),selector:this.selector()?.value,type:"visitButton"}}catch(e){return this.logger.warn(e),null}}static{this.\u0275fac=function(t){return new(t||nw)}}static{this.\u0275cmp=$e({type:nw,selectors:[["gl-native-highlight-button"]],inputs:{configureMode:[1,"configureMode"],selector:[1,"selector"],position:[1,"position"],id:[1,"id"],name:[1,"name"],text:[1,"text"],action:[1,"action"],zIndex:[1,"zIndex"],flowId:[1,"flowId"],styles:[1,"styles"],attachedToHostElement:[1,"attachedToHostElement"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:1,vars:1,consts:[[3,"element","isHighlightActive","zIndex"],[3,"clickedButton","element","configureMode","selector","position","text","action","id","zIndex","styles","isHighlightActive","lang","translation","attachedToHostElement"]],template:function(t,o){1&t&&te(0,_oe,2,16),2&t&&ge(o.display()?0:-1)},dependencies:[oE,Tl],encapsulation:2})}}class ow extends nu{constructor(){super(...arguments),this.element=v(null),this.configureMode=v(!1),this.selector=v(null),this.position=v(),this.id=v(),this.name=v(),this.text=v(),this.action=v(),this.zIndex=v(),this.flowId=v(),this.styles=v(),this.attachedToHostElement=v(),this.isScrollToElement=v(!0),this.lang=v(),this.translation=v(),this.component=nw}getInputs(){return{configureMode:this.configureMode(),selector:this.selector(),position:this.position(),id:this.id(),name:this.name(),text:this.text(),action:this.action(),zIndex:this.zIndex(),flowId:this.flowId(),styles:this.styles(),attachedToHostElement:this.attachedToHostElement(),isScrollToElement:this.isScrollToElement(),lang:this.lang(),translation:this.translation()}}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(ow)))(o||ow)}})()}static{this.\u0275cmp=$e({type:ow,selectors:[["gl-attached-highlight-button"]],inputs:{element:[1,"element"],configureMode:[1,"configureMode"],selector:[1,"selector"],position:[1,"position"],id:[1,"id"],name:[1,"name"],text:[1,"text"],action:[1,"action"],zIndex:[1,"zIndex"],flowId:[1,"flowId"],styles:[1,"styles"],attachedToHostElement:[1,"attachedToHostElement"],isScrollToElement:[1,"isScrollToElement"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:0,vars:0,template:function(t,o){},encapsulation:2,changeDetection:0})}}function voe(n,e){if(1&n&&$(0,"gl-attached-highlight-button",0),2&n){const t=D();A("element",t.element())("configureMode",t.configureMode())("selector",t.selector())("position",t.position())("id",t.id())("name",t.name())("text",t.text())("action",t.action())("zIndex",t.zIndex())("flowId",t.flowId())("styles",t.styles())("isScrollToElement",t.isScrollToElement())("attachedToHostElement",t.attachedToHostElement())("lang",t.lang())("translation",t.translation())}}function yoe(n,e){if(1&n&&$(0,"gl-native-highlight-button",1),2&n){const t=D();A("configureMode",t.configureMode())("selector",t.selector())("position",t.position())("id",t.id())("name",t.name())("text",t.text())("action",t.action())("zIndex",t.zIndex())("flowId",t.flowId())("styles",t.styles())("isScrollToElement",t.isScrollToElement())("attachedToHostElement",t.attachedToHostElement())("lang",t.lang())("translation",t.translation())}}class Rp extends qr{constructor(){super(...arguments),this.configureMode=v(!1),this.selector=v(null),this.position=v(),this.id=v(),this.name=v(),this.text=v(),this.action=v(),this.zIndex=v(),this.flowId=v(),this.styles=v(),this.attachedToHostElement=v(),this.lang=v(Lt),this.translation=v({})}static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=rt(Rp)))(o||Rp)}})()}static{this.\u0275cmp=$e({type:Rp,selectors:[["gl-highlight-button"]],inputs:{configureMode:[1,"configureMode"],selector:[1,"selector"],position:[1,"position"],id:[1,"id"],name:[1,"name"],text:[1,"text"],action:[1,"action"],zIndex:[1,"zIndex"],flowId:[1,"flowId"],styles:[1,"styles"],attachedToHostElement:[1,"attachedToHostElement"],lang:[1,"lang"],translation:[1,"translation"]},features:[ze],decls:2,vars:1,consts:[[3,"element","configureMode","selector","position","id","name","text","action","zIndex","flowId","styles","isScrollToElement","attachedToHostElement","lang","translation"],[3,"configureMode","selector","position","id","name","text","action","zIndex","flowId","styles","isScrollToElement","attachedToHostElement","lang","translation"]],template:function(t,o){1&t&&te(0,voe,1,15,"gl-attached-highlight-button",0)(1,yoe,1,14,"gl-native-highlight-button",1),2&t&&ge(o.attachedToHostElement()?0:1)},dependencies:[nw,ow],encapsulation:2})}}function boe(n,e){if(1&n&&(Qt(0),$(1,"gl-highlight-button",2),Zt()),2&n){const t=D(2).$implicit,o=D(2);P(),A("selector",t.data.selector)("position",t.data.position)("id",t.data.id)("name",t.data.name)("text",t.data.text)("action",t.data.action)("zIndex",t.data.zIndex)("isScrollToElement",!1)("flowId",o.flow().id)("styles",t.data.styles)("attachedToHostElement",t.data.attachedToHostElement)("lang",o.lang())("translation",t.data.translation)}}function woe(n,e){if(1&n&&(Qt(0),te(1,boe,2,13,"ng-container",0),Zt()),2&n){const t=D().$implicit;P(),A("ngIf",null==t?null:t.isVisible)}}function Coe(n,e){if(1&n&&(Qt(0),te(1,woe,2,1,"ng-container",0),fn(2,"frameFilter"),Zt()),2&n){const t=e.$implicit;P(),A("ngIf",Hi(2,1,t))}}function Soe(n,e){if(1&n&&(Qt(0),te(1,Coe,3,3,"ng-container",1),Zt()),2&n){const t=D();P(),A("ngForOf",t.flowItems())}}class rE{constructor(){this.flow=v(),this.visibleFlowsIds=v(),this.lang=v(Lt),this.flowItems=G(()=>{const e=this.flow()?.dataFlow.items,t=this.visibleFlowsIds();return e?e.map(o=>{const r=o.data.ruleSet?.conditions?.length,i=t.has(o.data.id);return r&&i?{...o,isVisible:!!t.get(o.data.id)}:o}):[]})}static{this.\u0275fac=function(t){return new(t||rE)}}static{this.\u0275cmp=$e({type:rE,selectors:[["gl-button-flow-view"]],inputs:{flow:[1,"flow"],visibleFlowsIds:[1,"visibleFlowsIds"],lang:[1,"lang"]},decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"selector","position","id","name","text","action","zIndex","isScrollToElement","flowId","styles","attachedToHostElement","lang","translation"]],template:function(t,o){1&t&&te(0,Soe,2,1,"ng-container",0),2&t&&A("ngIf",o.flowItems().length)},dependencies:[Kg,wl,zn,Rp,Wo],encapsulation:2})}}function Toe(n,e){if(1&n&&$(0,"div",2),2&n){const t=D();A("lang",t.lang())("translation",t.translation())("fallbackValue",t.title())}}function Ioe(n,e){if(1&n&&$(0,"div",3),2&n){const t=D();A("lang",t.lang())("translation",t.translation())("fallbackValue",t.text())}}class iE{constructor(){this.toastService=C(Bd),this.configureMode=v(!1),this.title=v(""),this.text=v(""),this.lang=v(Lt),this.translation=v({})}handleClose(){this.toastService.hide()}static{this.\u0275fac=function(t){return new(t||iE)}}static{this.\u0275cmp=$e({type:iE,selectors:[["gl-toast"]],inputs:{configureMode:[1,"configureMode"],title:[1,"title"],text:[1,"text"],lang:[1,"lang"],translation:[1,"translation"]},decls:7,vars:4,consts:[[1,"gl-toast"],[1,"gl-toast__content"],["glTranslation","","section","toastTitle",1,"gl-toast__title",3,"lang","translation","fallbackValue"],["glTranslation","","section","toastText",1,"gl-toast__text",3,"lang","translation","fallbackValue"],[1,"gl-toast__closeContainer"],[1,"gl-toast__closeButton",3,"click"],[1,"o-gl-icon","dds-gl-icon_close__s__stroke"]],template:function(t,o){1&t&&(V(0,"div",0)(1,"div",1),te(2,Toe,1,3,"div",2)(3,Ioe,1,3,"div",3),j(),V(4,"div",4)(5,"div",5),Ie("click",function(){return o.handleClose()}),$(6,"span",6),j()()()),2&t&&(P(2),ge(o.title()?2:-1),P(),ge(o.text()?3:-1),P(2),Qe("gl-toast__closeButton--disabled",o.configureMode()))},dependencies:[qn],styles:[".gl-toast[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);width:400px;min-height:48px;background-color:var(--gl-background-on-primary);color:var(--gl-color-on-primary);z-index:100050;display:flex}.gl-toast__content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;row-gap:14px;padding:13px 20px 15px;overflow:hidden;font-family:Open Sans GL,Arial,Helvetica,sans-serif}.gl-toast__title[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:24px}.gl-toast__text[_ngcontent-%COMP%]{font-weight:400;font-size:14px;line-height:20px}.gl-toast__closeContainer[_ngcontent-%COMP%]{flex-shrink:0;width:48px}.gl-toast__closeButton[_ngcontent-%COMP%]{padding:16px;cursor:pointer}.gl-toast__closeButton--disabled[_ngcontent-%COMP%]{pointer-events:none}"],changeDetection:0})}}class sE{static{this.\u0275fac=function(t){return new(t||sE)}}static{this.\u0275cmp=$e({type:sE,selectors:[["gl-global-styles-provider"]],decls:0,vars:0,template:function(t,o){},styles:['@charset "UTF-8";[class^=o-gl-icon],[class*=" o-gl-icon"]{font-family:dds-gl-icon!important;speak:never;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.o-gl-icon--currentSize{font-size:inherit}.o-gl-icon--xxs{font-size:12px}.o-gl-icon--xs{font-size:18px}.o-gl-icon--sm{font-size:28px}.o-gl-icon--md{font-size:32px}.o-gl-icon--lg{font-size:42px}.o-gl-icon--blue{color:#00a3e0}.o-gl-icon--green{color:#86bc25}.o-gl-icon--red{color:#d12510}.o-gl-icon--gray{color:#97999b}.o-gl-icon--transform{transform:scaleX(-1)}.o-gl-icon--svg{margin-right:10px}.o-gl-icon--animate-spin{display:inline-block;animation:spin 2s linear infinite}.dds-gl-icon_file_csv__l__filled:before{content:"\\e939"}.dds-gl-icon_file_doc__l__filled:before{content:"\\e93a"}.dds-gl-icon_file_png__l__filled:before{content:"\\e93b"}.dds-gl-icon_file_psd__l__filled:before{content:"\\e93c"}.dds-gl-icon_file_pdf__l__filled:before{content:"\\e93d"}.dds-gl-icon_file_txt__l__filled:before{content:"\\e93e"}.dds-gl-icon_file_xls__l__filled:before{content:"\\e93f"}.dds-gl-icon_file_xml__l__filled:before{content:"\\e940"}.dds-gl-icon_file_zip__l__filled:before{content:"\\e941"}.dds-gl-icon_file_jpg__l__filled:before{content:"\\e942"}.dds-gl-icon_file_other__l__filled:before{content:"\\e943"}.dds-gl-icon_search__l__stroke:before{content:"\\e96b"}.dds-gl-icon_ascending_sorting__l__stroke:before{content:"\\e96c"}.dds-gl-icon_descending_sorting__l__stroke:before{content:"\\e96d"}.dds-gl-icon_sort_down__l__stroke:before{content:"\\e96e"}.dds-gl-icon_sort_up__l__stroke:before{content:"\\e96f"}.dds-gl-icon_upload__l__stroke:before{content:"\\e970"}.dds-gl-icon_download__l__stroke:before{content:"\\e971"}.dds-gl-icon_delete__l__stroke:before{content:"\\e972"}.dds-gl-icon_bold__l__stroke:before{content:"\\e973"}.dds-gl-icon_italic__l__stroke:before{content:"\\e974"}.dds-gl-icon_underline__l__stroke:before{content:"\\e975"}.dds-gl-icon_strikethrough__l__stroke:before{content:"\\e976"}.dds-gl-icon_superscript__l__stroke:before{content:"\\e977"}.dds-gl-icon_subscript__l__stroke:before{content:"\\e978"}.dds-gl-icon_unordered_list__l__stroke:before{content:"\\e979"}.dds-gl-icon_orderlist__l__stroke:before{content:"\\e97a"}.dds-gl-icon_truncate__l__stroke:before{content:"\\e97b"}.dds-gl-icon_context_menu__l__filled:before{content:"\\e97c"}.dds-gl-icon_draggable_indicator__l__stroke:before{content:"\\e97d"}.dds-gl-icon_align_right__l__stroke:before{content:"\\e97e"}.dds-gl-icon_align_center__l__stroke:before{content:"\\e97f"}.dds-gl-icon_align_left__l__stroke:before{content:"\\e980"}.dds-gl-icon_link__l__stroke:before{content:"\\e981"}.dds-gl-icon_bookmark__l__stroke:before{content:"\\e982"}.dds-gl-icon_bookmark__l__filled:before{content:"\\e9ed"}.dds-gl-icon_info__l__stroke:before{content:"\\e983"}.dds-gl-icon_close__l__stroke:before{content:"\\e984"}.dds-gl-icon_plus__l__stroke:before{content:"\\e985"}.dds-gl-icon_minus__l__stroke:before{content:"\\e986"}.dds-gl-icon_include__l__stroke:before{content:"\\e987"}.dds-gl-icon_add_line__l__stroke:before{content:"\\e988"}.dds-gl-icon_add_folder__l__stroke:before{content:"\\e989"}.dds-gl-icon_heading_1__l__stroke:before{content:"\\e98a"}.dds-gl-icon_heading_2__l__stroke:before{content:"\\e98b"}.dds-gl-icon_heading_3__l__stroke:before{content:"\\e98c"}.dds-gl-icon_user__l__stroke:before{content:"\\e98d"}.dds-gl-icon_users__l__stroke:before{content:"\\e98e"}.dds-gl-icon_add_user__l__stroke:before{content:"\\e98f"}.dds-gl-icon_achievement__l__stroke:before{content:"\\e99a"}.dds-gl-icon_calendar__l__stroke:before{content:"\\e99b"}.dds-gl-icon_resize__l__stroke:before{content:"\\e99c"}.dds-gl-icon_chevron_down__l__stroke:before{content:"\\e99d"}.dds-gl-icon_chevron_up__l__stroke:before{content:"\\e99e"}.dds-gl-icon_chevron_left__l__stroke:before{content:"\\e99f"}.dds-gl-icon_chevron_right__l__stroke:before{content:"\\e9a0"}.dds-gl-icon_checkmark__l__stroke:before{content:"\\e9a1"}.dds-gl-icon_select_all__l__stroke:before{content:"\\e9a2"}.dds-gl-icon_adjustments__l__stroke:before{content:"\\e9a3"}.dds-gl-icon_archive__l__stroke:before{content:"\\e9a4"}.dds-gl-icon_edit__l__stroke:before{content:"\\e9a5"}.dds-gl-icon_copy__l__stroke:before{content:"\\e9a6"}.dds-gl-icon_chat__l__stroke:before{content:"\\e9a7"}.dds-gl-icon_file__l__stroke:before{content:"\\e9a8"}.dds-gl-icon_folder__l__stroke:before{content:"\\e9a9"}.dds-gl-icon_email__l__stroke:before{content:"\\e9aa"}.dds-gl-icon_crop__l__stroke:before{content:"\\e9ab"}.dds-gl-icon_setting__l__stroke:before{content:"\\e9ac"}.dds-gl-icon_exit__l__stroke:before{content:"\\e9ad"}.dds-gl-icon_filter__l__stroke:before{content:"\\e9ae"}.dds-gl-icon_home__l__stroke:before{content:"\\e9af"}.dds-gl-icon_show__l__stroke:before{content:"\\e9b0"}.dds-gl-icon_hide__l__stroke:before{content:"\\e9b1"}.dds-gl-icon_attachment__l__stroke:before{content:"\\e9b2"}.dds-gl-icon_clock__l__stroke:before{content:"\\e9b3"}.dds-gl-icon_arrange_horizontally__l__stroke:before{content:"\\e9b4"}.dds-gl-icon_arrange_vertically__l__stroke:before{content:"\\e9b5"}.dds-gl-icon_arrow_down__l__stroke:before{content:"\\e9b6"}.dds-gl-icon_arrow_up__l__stroke:before{content:"\\e9b7"}.dds-gl-icon_arrow_left__l__stroke:before{content:"\\e9b8"}.dds-gl-icon_arrow_right__l__stroke:before{content:"\\e9b9"}.dds-gl-icon_arrow_rotate_right__l__stroke:before{content:"\\e9ba"}.dds-gl-icon_arrow_back__l__stroke:before{content:"\\e9bb"}.dds-gl-icon_arrow_redo__l__stroke:before{content:"\\ea2b"}.dds-gl-icon_arrow_turn_right__l__stroke:before{content:"\\e9bc"}.dds-gl-icon_hourglass__l__stroke:before{content:"\\e9bd"}.dds-gl-icon_canceled_hourglass__l__stroke:before{content:"\\e9be"}.dds-gl-icon_print__l__stroke:before{content:"\\e9bf"}.dds-gl-icon_alert__l__stroke:before{content:"\\e9c0"}.dds-gl-icon_target__l__stroke:before{content:"\\e9c1"}.dds-gl-icon_exclude__l__stroke:before{content:"\\e9c2"}.dds-gl-icon_help__l__stroke:before{content:"\\e9c3"}.dds-gl-icon_cancel__l__stroke:before{content:"\\e9c4"}.dds-gl-icon_lightbulb__l__stroke:before{content:"\\e9c5"}.dds-gl-icon_location__l__stroke:before{content:"\\e9c6"}.dds-gl-icon_notification__l__stroke:before{content:"\\e9c7"}.dds-gl-icon_heart__l__stroke:before{content:"\\e9c8"}.dds-gl-icon_heart__l__filled:before{content:"\\e9ee"}.dds-gl-icon_accrual__l__stroke:before{content:"\\e9c9"}.dds-gl-icon_credit_memo__l__stroke:before{content:"\\e9ca"}.dds-gl-icon_percentage__l__stroke:before{content:"\\e9cb"}.dds-gl-icon_grid__l__stroke:before{content:"\\e9cc"}.dds-gl-icon_pin__l__stroke:before{content:"\\e9cd"}.dds-gl-icon_locked__l__stroke:before{content:"\\e9ce"}.dds-gl-icon_unlocked__l__stroke:before{content:"\\e9cf"}.dds-gl-icon_camera__l__stroke:before{content:"\\e9d0"}.dds-gl-icon_screen__l__stroke:before{content:"\\e9d1"}.dds-gl-icon_play_bordered__l__stroke:before{content:"\\e9d2"}.dds-gl-icon_pause_bordered__l__stroke:before{content:"\\e9d3"}.dds-gl-icon_play__l__stroke:before{content:"\\e9d4"}.dds-gl-icon_pause__l__stroke:before{content:"\\e9d5"}.dds-gl-icon_share__l__stroke:before{content:"\\e9d6"}.dds-gl-icon_external_link__l__stroke:before{content:"\\e9d7"}.dds-gl-icon_star__l__stroke:before{content:"\\e9d8"}.dds-gl-icon_star__l__filled:before{content:"\\e9d9"}.dds-gl-icon_cut__l__stroke:before{content:"\\e9da"}.dds-gl-icon_align_horizontal__l__stroke:before{content:"\\e9db"}.dds-gl-icon_align_vertical__l__stroke:before{content:"\\e9dc"}.dds-gl-icon_distribute_horizontal__l__stroke:before{content:"\\e9dd"}.dds-gl-icon_distribute_vertical__l__stroke:before{content:"\\e9de"}.dds-gl-icon_list__l__stroke:before{content:"\\e9df"}.dds-gl-icon_wide_view__l__filled:before{content:"\\e9e0"}.dds-gl-icon_chair__l__stroke:before{content:"\\e9e1"}.dds-gl-icon_payment_method__l__stroke:before{content:"\\e9e3"}.dds-gl-icon_money__l__stroke:before{content:"\\e9e4"}.dds-gl-icon_collapse__l__stroke:before{content:"\\e9e7"}.dds-gl-icon_expand__l__stroke:before{content:"\\e9e8"}.dds-gl-icon_sun__l__stroke:before{content:"\\e9e9"}.dds-gl-icon_bag__l__stroke:before{content:"\\e9f1"}.dds-gl-icon_bagcrossed__l__stroke:before{content:"\\e9f3"}.dds-gl-icon_globe__l__stroke:before{content:"\\e9f5"}.dds-gl-icon_flag__l__stroke:before{content:"\\e9f7"}.dds-gl-icon_service__l__stroke:before{content:"\\e9f9"}.dds-gl-icon_chart__l__stroke:before{content:"\\e9fb"}.dds-gl-icon_education__l__stroke:before{content:"\\e9fd"}.dds-gl-icon_antenna__l__stroke:before{content:"\\e9ff"}.dds-gl-icon_dna__l__stroke:before{content:"\\ea01"}.dds-gl-icon_basket__l__stroke:before{content:"\\ea03"}.dds-gl-icon_lighting__l__filled:before{content:"\\ea05"}.dds-gl-icon_quote__l__stroke:before{content:"\\ea07"}.dds-gl-icon_qr__l__stroke:before{content:"\\ea09"}.dds-gl-icon_sound_on__l__stroke:before{content:"\\ea0b"}.dds-gl-icon_sound_off__l__stroke:before{content:"\\ea0c"}.dds-gl-icon_key__l__stroke:before{content:"\\ea0d"}.dds-gl-icon_chart__l__stroke1:before{content:"\\ea0e"}.dds-gl-icon_enter__l__stroke:before{content:"\\ea0f"}.dds-gl-icon_add_file__l__stroke:before{content:"\\ea10"}.dds-gl-icon_create_message__l__stroke:before{content:"\\ea17"}.dds-gl-icon_image__l__stroke:before{content:"\\ea18"}.dds-gl-icon_add_link__l__stroke:before{content:"\\ea19"}.dds-gl-icon_prize_cup__l__stroke:before{content:"\\ea1a"}.dds-gl-icon_send__l__stroke:before{content:"\\ea1b"}.dds-gl-icon_todo_list__l__stroke:before{content:"\\ea1c"}.dds-gl-icon_many_files__l__stroke:before{content:"\\ea1d"}.dds-gl-icon_delegate_user__l__stroke:before{content:"\\ea25"}.dds-gl-icon_wifi__l__stroke:before{content:"\\ea27"}.dds-gl-icon_mobile__l__stroke:before{content:"\\ea28"}.dds-gl-icon_shield__l__stroke:before{content:"\\ea2c"}.dds-gl-icon_laptop__l__stroke:before{content:"\\ea2d"}.dds-gl-icon_save__l__stroke:before{content:"\\ea31"}.dds-gl-icon_open_envelope__l__stroke:before{content:"\\ea33"}.dds-gl-icon_sensor__l__stroke:before{content:"\\ea35"}.dds-gl-icon_move_arrows__l__stroke:before{content:"\\ea36"}.dds-gl-icon_select_area__l__stroke:before{content:"\\ea37"}.dds-gl-icon_skip_forward__l__stroke:before{content:"\\ea38"}.dds-gl-icon_skip_backward__l__stroke:before{content:"\\ea39"}.dds-gl-icon_font_color__l__stroke:before{content:"\\ea3f"}.dds-gl-icon_bg_color__l__stroke:before{content:"\\ea40"}.dds-gl-icon_reset_font_style__l__stroke:before{content:"\\ea41"}.dds-gl-icon_book__l__stroke:before{content:"\\ea45"}.dds-gl-icon_book_opened__l__stroke:before{content:"\\ea46"}.dds-gl-icon_pin__l__filled:before{content:"\\ea49"}.dds-gl-icon_diamond__l__stroke:before{content:"\\ea4b"}.dds-gl-icon_crystal__l__stroke:before{content:"\\ea4c"}.dds-gl-icon_crown__l__stroke:before{content:"\\ea4d"}.dds-gl-icon_shine__l__stroke:before{content:"\\ea4e"}.dds-gl-icon_fire__l__stroke:before{content:"\\ea4f"}.dds-gl-icon_service_credit__l__stroke:before{content:"\\ea55"}.dds-gl-icon_comment__l__stroke:before{content:"\\ea56"}.dds-gl-icon_question_mark__l__stroke:before{content:"\\ea59"}.dds-gl-icon_exclamation_mark__l__stroke:before{content:"\\ea5a"}.dds-gl-icon_import__l__stroke:before{content:"\\ea5d"}.dds-gl-icon_export__l__stroke:before{content:"\\ea5e"}.dds-gl-icon_inbox__l__stroke:before{content:"\\ea61"}.dds-gl-icon_outbox__l__stroke:before{content:"\\ea62"}.dds-gl-icon_rocket__l__stroke:before{content:"\\ea66"}.dds-gl-icon_header__l__stroke:before{content:"\\ea67"}.dds-gl-icon_footer__l__stroke:before{content:"\\ea68"}.dds-gl-icon_card__l__stroke:before{content:"\\ea69"}.dds-gl-icon_external_window__l__stroke:before{content:"\\ea6e"}.dds-gl-icon_trending__l__stroke:before{content:"\\ea70"}.dds-gl-icon_code__l__stroke:before{content:"\\ea72"}.dds-gl-icon_edit_user__l__stroke:before{content:"\\ea77"}.dds-gl-icon_delete_user__l__stroke:before{content:"\\ea78"}.dds-gl-icon_arrange_horizontally_cross__l__stroke:before{content:"\\ea79"}.dds-gl-icon_search:before{content:"\\e90b"}.dds-gl-icon_search__s__stroke:before{content:"\\e90b"}.dds-gl-icon_sorting-Z-A:before{content:"\\e901"}.dds-gl-icon_ascending_sorting__s__stroke:before{content:"\\e901"}.dds-gl-icon_sorting-A-Z:before{content:"\\e902"}.dds-gl-icon_descending_sorting__s__stroke:before{content:"\\e902"}.dds-gl-icon_sort-down:before{content:"\\e910"}.dds-gl-icon_sort_down__s__stroke:before{content:"\\e910"}.dds-gl-icon_sort-up:before{content:"\\e90f"}.dds-gl-icon_sort_up__s__stroke:before{content:"\\e90f"}.dds-gl-icon_upload:before{content:"\\e903"}.dds-gl-icon_upload__s__stroke:before{content:"\\e903"}.dds-gl-icon_download:before{content:"\\e911"}.dds-gl-icon_download__s__stroke:before{content:"\\e911"}.dds-gl-icon_delete:before{content:"\\e912"}.dds-gl-icon_delete__s__stroke:before{content:"\\e912"}.dds-gl-icon_bold:before{content:"\\e916"}.dds-gl-icon_bold__s__stroke:before{content:"\\e916"}.dds-gl-icon_italic:before{content:"\\e917"}.dds-gl-icon_italic__s__stroke:before{content:"\\e917"}.dds-gl-icon_underline:before{content:"\\e918"}.dds-gl-icon_underline__s__stroke:before{content:"\\e918"}.dds-gl-icon_crossed-out:before{content:"\\e919"}.dds-gl-icon_strikethrough__s__stroke:before{content:"\\e919"}.dds-gl-icon_x2:before{content:"\\e92c"}.dds-gl-icon_superscript__s__stroke:before{content:"\\e92c"}.dds-gl-icon_x2-2:before{content:"\\e92b"}.dds-gl-icon_subscript__s__stroke:before{content:"\\e92b"}.dds-gl-icon_list-bulit:before{content:"\\e921"}.dds-gl-icon_unordered_list__s__stroke:before{content:"\\e921"}.dds-gl-icon_number-list:before{content:"\\e922"}.dds-gl-icon_orderlist__s__stroke:before{content:"\\e922"}.dds-gl-icon_truncate:before{content:"\\e914"}.dds-gl-icon_truncate__s__stroke:before{content:"\\e914"}.dds-gl-icon_dots-v:before{content:"\\e904"}.dds-gl-icon_context_menu__s__filled:before{content:"\\e904"}.dds-gl-icon_drag-drop:before{content:"\\e95d"}.dds-gl-icon_draggable_indicator__s__stroke:before{content:"\\e95d"}.dds-gl-icon_align-right:before{content:"\\e913"}.dds-gl-icon_align_right__s__stroke:before{content:"\\e913"}.dds-gl-icon_align-center:before{content:"\\e908"}.dds-gl-icon_align_center__s__stroke:before{content:"\\e908"}.dds-gl-icon_align-left:before{content:"\\e900"}.dds-gl-icon_align_left__s__stroke:before{content:"\\e900"}.dds-gl-icon_hyperlink:before{content:"\\e923"}.dds-gl-icon_link__s__stroke:before{content:"\\e923"}.dds-gl-icon_bookmark:before{content:"\\e925"}.dds-gl-icon_bookmark__s__stroke:before{content:"\\e925"}.dds-gl-icon_bookmark__s__filled:before{content:"\\e9ef"}.dds-gl-icon_info:before{content:"\\e91a"}.dds-gl-icon_info__s__stroke:before{content:"\\e91a"}.dds-gl-icon_close:before{content:"\\e92d"}.dds-gl-icon_close__s__stroke:before{content:"\\e92d"}.dds-gl-icon_plus:before{content:"\\e947"}.dds-gl-icon_plus__s__stroke:before{content:"\\e947"}.dds-gl-icon_minus:before{content:"\\e946"}.dds-gl-icon_minus__s__stroke:before{content:"\\e946"}.dds-gl-icon_add-dot:before{content:"\\e963"}.dds-gl-icon_include__s__stroke:before{content:"\\e963"}.dds-gl-icon_add-line:before{content:"\\ea65"}.dds-gl-icon_add_line__s__stroke:before{content:"\\ea65"}.dds-gl-icon_add-folder:before{content:"\\e95c"}.dds-gl-icon_add_folder__s__stroke:before{content:"\\e95c"}.dds-gl-icon_h1:before{content:"\\e92f"}.dds-gl-icon_heading_1__s__stroke:before{content:"\\e92f"}.dds-gl-icon_h2:before{content:"\\e930"}.dds-gl-icon_heading_2__s__stroke:before{content:"\\e930"}.dds-gl-icon_h3:before{content:"\\e931"}.dds-gl-icon_heading_3__s__stroke:before{content:"\\e931"}.dds-gl-icon_user:before{content:"\\e938"}.dds-gl-icon_user__s__stroke:before{content:"\\e938"}.dds-gl-icon_users:before{content:"\\e905"}.dds-gl-icon_users__s__stroke:before{content:"\\e905"}.dds-gl-icon_addfriend:before{content:"\\e927"}.dds-gl-icon_add_user__s__stroke:before{content:"\\e927"}.dds-gl-icon_achievement:before{content:"\\e969"}.dds-gl-icon_achievement_medal__s__stroke:before{content:"\\e969"}.dds-gl-icon_calendar:before{content:"\\e90c"}.dds-gl-icon_calendar__s__stroke:before{content:"\\e90c"}.dds-gl-icon_add-space:before{content:"\\e96a"}.dds-gl-icon_resize__s__stroke:before{content:"\\e96a"}.dds-gl-icon_arrow-down:before{content:"\\e932"}.dds-gl-icon_chevron_down__s__stroke:before{content:"\\e932"}.dds-gl-icon_arrow-up:before{content:"\\e935"}.dds-gl-icon_chevron_up__s__stroke:before{content:"\\e935"}.dds-gl-icon_arrow-left:before{content:"\\e933"}.dds-gl-icon_chevron_left__s__stroke:before{content:"\\e933"}.dds-gl-icon_arrow-right:before{content:"\\e934"}.dds-gl-icon_chevron_right__s__stroke:before{content:"\\e934"}.dds-gl-icon_check:before{content:"\\e945"}.dds-gl-icon_checkmark__s__stroke:before{content:"\\e945"}.dds-gl-icon_select-all:before{content:"\\e94b"}.dds-gl-icon_select_all__s__stroke:before{content:"\\e94b"}.dds-gl-icon_adjustment:before{content:"\\e994"}.dds-gl-icon_adjustments__s__stroke:before{content:"\\e994"}.dds-gl-icon_archive:before{content:"\\e915"}.dds-gl-icon_archive__s__stroke:before{content:"\\e915"}.dds-gl-icon_edit:before{content:"\\e90a"}.dds-gl-icon_edit__s__filled:before{content:"\\e90a"}.dds-gl-icon_copy:before{content:"\\e91b"}.dds-gl-icon_copy__s__stroke:before{content:"\\e91b"}.dds-gl-icon_chat:before{content:"\\e91c"}.dds-gl-icon_chat__s__stroke:before{content:"\\e91c"}.dds-gl-icon_file:before{content:"\\e937"}.dds-gl-icon_file__s__stroke:before{content:"\\e937"}.dds-gl-icon_folder:before{content:"\\e909"}.dds-gl-icon_folder__s__stroke:before{content:"\\e909"}.dds-gl-icon_email:before{content:"\\e954"}.dds-gl-icon_email__s__stroke:before{content:"\\e954"}.dds-gl-icon_crop:before{content:"\\e91d"}.dds-gl-icon_crop__s__stroke:before{content:"\\e91d"}.dds-gl-icon_setting:before{content:"\\e91e"}.dds-gl-icon_setting__s__stroke:before{content:"\\e91e"}.dds-gl-icon_exit:before{content:"\\e960"}.dds-gl-icon_exit__s__stroke:before{content:"\\e960"}.dds-gl-icon_filter:before{content:"\\e920"}.dds-gl-icon_filter__s__stroke:before{content:"\\e920"}.dds-gl-icon_home:before{content:"\\e953"}.dds-gl-icon_home__s__stroke:before{content:"\\e953"}.dds-gl-icon_eyeopen:before{content:"\\e92e"}.dds-gl-icon_show__s__stroke:before{content:"\\e92e"}.dds-gl-icon_eyeclose:before{content:"\\e936"}.dds-gl-icon_hide__s__stroke:before{content:"\\e936"}.dds-gl-icon_clip:before{content:"\\e944"}.dds-gl-icon_attachment__s__stroke:before{content:"\\e944"}.dds-gl-icon_timer:before{content:"\\e92a"}.dds-gl-icon_clock__s__stroke:before{content:"\\e92a"}.dds-gl-icon_switch:before{content:"\\e924"}.dds-gl-icon_arrange_horizontally__s__stroke:before{content:"\\e924"}.dds-gl-icon_sort:before{content:"\\e91f"}.dds-gl-icon_arrange_vertically__s__stroke:before{content:"\\e91f"}.dds-gl-icon_arrow-long-down:before{content:"\\e998"}.dds-gl-icon_arrow_down__s__stroke:before{content:"\\e998"}.dds-gl-icon_arrow-long-up:before{content:"\\e997"}.dds-gl-icon_arrow_up__s__stroke:before{content:"\\e997"}.dds-gl-icon_arrow_v3:before{content:"\\e961"}.dds-gl-icon_arrow_left__s__stroke:before{content:"\\e961"}.dds-gl-icon_arrow_v2:before{content:"\\e928"}.dds-gl-icon_arrow_right__s__stroke:before{content:"\\e928"}.dds-gl-icon_arrow-round-right:before{content:"\\e996"}.dds-gl-icon_arrow_rotate_right__s__stroke:before{content:"\\e996"}.dds-gl-icon_arrow-back:before{content:"\\e968"}.dds-gl-icon_arrow_back__s__stroke:before{content:"\\e968"}.dds-gl-icon_arrow_redo__s__stroke:before{content:"\\ea2e"}.dds-gl-icon_arrow-turn-right:before{content:"\\e995"}.dds-gl-icon_arrow_turn_right__s__stroke:before{content:"\\e995"}.dds-gl-icon_hourglass:before{content:"\\e94"}.dds-gl-icon_hourglass__s__stroke:before{content:"\\e94"}.dds-gl-icon_canceled-hourglass:before{content:"\\e999"}.dds-gl-icon_canceled_hourglass__s__stroke:before{content:"\\e999"}.dds-gl-icon_print:before{content:"\\e94a"}.dds-gl-icon_print__s__stroke:before{content:"\\e94a"}.dds-gl-icon_exclemation-mark:before{content:"\\e94d"}.dds-gl-icon_alert__s__stroke:before{content:"\\e94d"}.dds-gl-icon_dot-size:before{content:"\\e962"}.dds-gl-icon_target__s__stroke:before{content:"\\e962"}.dds-gl-icon_removefrom:before{content:"\\e929"}.dds-gl-icon_exclude__s__stroke:before{content:"\\e929"}.dds-gl-icon_help:before{content:"\\e95a"}.dds-gl-icon_help__s__stroke:before{content:"\\e95a"}.dds-gl-icon_cancel:before{content:"\\e991"}.dds-gl-icon_cancel__s__stroke:before{content:"\\e991"}.dds-gl-icon_lightbulb:before{content:"\\e90d"}.dds-gl-icon_lightbulb__s__stroke:before{content:"\\e90d"}.dds-gl-icon_location:before{content:"\\e959"}.dds-gl-icon_location__s__stroke:before{content:"\\e959"}.dds-gl-icon_bell:before{content:"\\e95b"}.dds-gl-icon_notification__s__stroke:before{content:"\\e95b"}.dds-gl-icon_heart:before{content:"\\e956"}.dds-gl-icon_heart__s__stroke:before{content:"\\e956"}.dds-gl-icon_heart__s__filled:before{content:"\\e9f0"}.dds-gl-icon_accrual:before{content:"\\e993"}.dds-gl-icon_accrual__s__stroke:before{content:"\\e993"}.dds-gl-icon_credit-memo:before{content:"\\e992"}.dds-gl-icon_credit_memo__s__stroke:before{content:"\\e992"}.dds-gl-icon_discount:before{content:"\\e990"}.dds-gl-icon_percentage__s__stroke:before{content:"\\e990"}.dds-gl-icon_grid__s__filled:before{content:"\\e907"}.dds-gl-icon_pin:before{content:"\\e952"}.dds-gl-icon_pin__s__stroke:before{content:"\\e952"}.dds-gl-icon_lock:before{content:"\\e95e"}.dds-gl-icon_locked__s__stroke:before{content:"\\e95e"}.dds-gl-icon_unlock:before{content:"\\e95f"}.dds-gl-icon_unlocked__s__stroke:before{content:"\\e95f"}.dds-gl-icon_camera:before{content:"\\e955"}.dds-gl-icon_camera__s__stroke:before{content:"\\e955"}.dds-gl-icon_screen:before{content:"\\e958"}.dds-gl-icon_screen__s__stroke:before{content:"\\e958"}.dds-gl-icon_play-stroke:before{content:"\\e94f"}.dds-gl-icon_play_bordered__s__stroke:before{content:"\\e94f"}.dds-gl-icon_pause-stroke:before{content:"\\e951"}.dds-gl-icon_pause_bordered__s__stroke:before{content:"\\e951"}.dds-gl-icon_play:before{content:"\\e94e"}.dds-gl-icon_play__s__stroke:before{content:"\\e94e"}.dds-gl-icon_pause:before{content:"\\e950"}.dds-gl-icon_pause__s__stroke:before{content:"\\e950"}.dds-gl-icon_share:before{content:"\\e957"}.dds-gl-icon_share__s__stroke:before{content:"\\e957"}.dds-gl-icon_external-link:before{content:"\\e90e"}.dds-gl-icon_external_link__s__stroke:before{content:"\\e90e"}.dds-gl-icon_star-border:before{content:"\\e948"}.dds-gl-icon_star__s__stroke:before{content:"\\e948"}.dds-gl-icon_star-filled:before{content:"\\e949"}.dds-gl-icon_star__s__filled:before{content:"\\e949"}.dds-gl-icon_scissors:before{content:"\\e926"}.dds-gl-icon_cut__s__stroke:before{content:"\\e926"}.dds-gl-icon_align-horizontal:before{content:"\\e964"}.dds-gl-icon_align_horizontal__l__stroke1:before{content:"\\e964"}.dds-gl-icon_align-vertical:before{content:"\\e965"}.dds-gl-icon_align_vertical__s__stroke:before{content:"\\e965"}.dds-gl-icon_distribute-horizontal:before{content:"\\e967"}.dds-gl-icon_distribute_horizontal__s__stroke:before{content:"\\e967"}.dds-gl-icon_distribute-vertical:before{content:"\\e966"}.dds-gl-icon_distribute_vertical__s__stroke:before{content:"\\e966"}.dds-gl-icon_list:before{content:"\\e906"}.dds-gl-icon_list__s__stroke:before{content:"\\e906"}.dds-gl-icon_wide-view:before{content:"\\e94c"}.dds-gl-icon_wide_view__s__filled:before{content:"\\e94c"}.dds-gl-icon_chair__s__stroke:before{content:"\\e9e2"}.dds-gl-icon_payment_method__s__stroke:before{content:"\\e9e5"}.dds-gl-icon_money__s__filled:before{content:"\\e9e6"}.dds-gl-icon_collapse__s__stroke:before{content:"\\e9ea"}.dds-gl-icon_expand__s__stroke:before{content:"\\e9eb"}.dds-gl-icon_sun__s__stroke:before{content:"\\e9ec"}.dds-gl-icon_bag__s__stroke:before{content:"\\e9f2"}.dds-gl-icon_bagcrossed__s__stroke:before{content:"\\e9f4"}.dds-gl-icon_globe__s__stroke:before{content:"\\e9f6"}.dds-gl-icon_flag__s__stroke:before{content:"\\e9f8"}.dds-gl-icon_service__s__stroke:before{content:"\\e9fa"}.dds-gl-icon_chart__s__stroke:before{content:"\\e9fc"}.dds-gl-icon_education__s__stroke:before{content:"\\e9fe"}.dds-gl-icon_antenna__s__stroke:before{content:"\\ea00"}.dds-gl-icon_dna__s__stroke:before{content:"\\ea02"}.dds-gl-icon_basket__s__stroke:before{content:"\\ea04"}.dds-gl-icon_lighting__s__filled:before{content:"\\ea06"}.dds-gl-icon_quote__s__stroke:before{content:"\\ea08"}.dds-gl-icon_qr__s__stroke:before{content:"\\ea0a"}.dds-gl-icon_sound_on__s__stroke:before{content:"\\ea11"}.dds-gl-icon_sound_off__s__stroke:before{content:"\\ea12"}.dds-gl-icon_key__s__stroke:before{content:"\\ea13"}.dds-gl-icon_chart__s__stroke1:before{content:"\\ea14"}.dds-gl-icon_enter__s__stroke:before{content:"\\ea15"}.dds-gl-icon_add_file__s__stroke:before{content:"\\ea16"}.dds-gl-icon_create_message__s__stroke:before{content:"\\ea1e"}.dds-gl-icon_image__s__stroke:before{content:"\\ea1f"}.dds-gl-icon_add_link__s__stroke:before{content:"\\ea20"}.dds-gl-icon_prize_cup__s__stroke:before{content:"\\ea21"}.dds-gl-icon_send__s__stroke:before{content:"\\ea22"}.dds-gl-icon_todo_list__s__stroke:before{content:"\\ea23"}.dds-gl-icon_many_files__s__stroke:before{content:"\\ea24"}.dds-gl-icon_delegate_user__s__stroke:before{content:"\\ea26"}.dds-gl-icon_wifi__s__stroke:before{content:"\\ea29"}.dds-gl-icon_mobile__s__stroke:before{content:"\\ea2a"}.dds-gl-icon_shield__s__stroke:before{content:"\\ea2f"}.dds-gl-icon_laptop__s__stroke:before{content:"\\ea30"}.dds-gl-icon_save__s__stroke:before{content:"\\ea32"}.dds-gl-icon_open_envelope__s__stroke:before{content:"\\ea34"}.dds-gl-icon_sensor__s__stroke:before{content:"\\ea3a"}.dds-gl-icon_move_arrows__s__stroke:before{content:"\\ea3b"}.dds-gl-icon_select_area__s__stroke:before{content:"\\ea3c"}.dds-gl-icon_skip_forward__s__stroke:before{content:"\\ea3d"}.dds-gl-icon_skip_backward__s__stroke:before{content:"\\ea3e"}.dds-gl-icon_font_color__s__stroke:before{content:"\\ea42"}.dds-gl-icon_bg_color__s__stroke:before{content:"\\ea43"}.dds-gl-icon_reset_font_style__s__stroke:before{content:"\\ea44"}.dds-gl-icon_book__s__stroke:before{content:"\\ea47"}.dds-gl-icon_book_opened__s__stroke:before{content:"\\ea48"}.dds-gl-icon_pin__s__filled:before{content:"\\ea4a"}.dds-gl-icon_diamond__s__stroke:before{content:"\\ea50"}.dds-gl-icon_crystal__s__stroke:before{content:"\\ea51"}.dds-gl-icon_crown__s__stroke:before{content:"\\ea52"}.dds-gl-icon_shine__s__stroke:before{content:"\\ea53"}.dds-gl-icon_fire__s__stroke:before{content:"\\ea54"}.dds-gl-icon_service_credit__s__stroke:before{content:"\\ea57"}.dds-gl-icon_comment__s__stroke:before{content:"\\ea58"}.dds-gl-icon_question_mark__s__stroke:before{content:"\\ea5b"}.dds-gl-icon_exclamation_mark__s__stroke:before{content:"\\ea5c"}.dds-gl-icon_import__s__stroke:before{content:"\\ea5f"}.dds-gl-icon_export__s__stroke:before{content:"\\ea60"}.dds-gl-icon_inbox__s__stroke:before{content:"\\ea63"}.dds-gl-icon_outbox__s__stroke:before{content:"\\ea64"}.dds-gl-icon_rocket__s__stroke:before{content:"\\ea6a"}.dds-gl-icon_header__s__stroke:before{content:"\\ea6b"}.dds-gl-icon_footer__s__stroke:before{content:"\\ea6c"}.dds-gl-icon_card__s__stroke:before{content:"\\ea6d"}.dds-gl-icon_external_window__s__stroke:before{content:"\\ea6f"}.dds-gl-icon_trending__s__stroke:before{content:"\\ea71"}.dds-gl-icon_code__s__stroke:before{content:"\\ea73"}.dds-gl-icon_edit_user__s__stroke:before{content:"\\ea74"}.dds-gl-icon_delete_user__s__stroke:before{content:"\\ea75"}.dds-gl-icon_arrange_horizontally_cross__s__stroke:before{content:"\\ea76"}.dds-gl-icon_side_panel{font-size:unset!important;padding:0 4px}.dds-gl-icon_side_panel:before{content:url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'14\' height=\'14\' viewBox=\'0 0 14 14\' fill=\'none\'%3E%3Cpath fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M6.00812 2H12V12H6.00812V2ZM4.00812 2H2V12H4.00812V2ZM0 14V0H14V14H0Z\' fill=\'white\'/%3E%3C/svg%3E");width:24px;height:24px}.gl-rte-action-link--btn{display:inline-block;padding:5px;color:#fff;background-color:#26890d;border:1px solid #ffffff;cursor:pointer;text-decoration:none;white-space:nowrap}.toastrs-container{position:fixed;bottom:70px;left:50%;z-index:20000}.toastrs-container--end-user .alert{width:auto!important;min-width:400px}.toastrs-container--end-user .toastr-content__message,.toastrs-container--end-user .toastr-content__close-icon{padding:14px 20px}.toastrs-container .alert{display:inline-block;border:none;width:calc(100vw - 48px);max-width:568px;text-align:left;transform:translate(-50%);font-size:14px;line-height:20px;word-wrap:break-word;word-break:break-word;color:#000}.toastrs-container .alert .close{display:none}.toastrs-container .alert-success{background-color:#c4d600;color:#000}.toastrs-container .alert-error{background-color:#da291c}.toastrs-container .alert-info{background-color:#00a3e0}.toastrs-container .alert-warning{background-color:#ed8b00}.toastrs-container .dds-gl-icon_close:before{line-height:20px}.toastrs-container .toastr-content{display:flex;justify-content:space-between}.cursor-pointer{cursor:pointer!important}.gl-attached-to-host{font-size:initial;font-weight:initial;font-style:initial;line-height:initial;white-space:break-spaces}[class^=glide-icon-],[class*=" glide-icon-"]{font-family:glide!important;speak:never;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glide-icon-interaction:before{content:"\\e904"}.glide-icon-hover-element:before{content:"\\e901"}.glide-icon-visibility:before{content:"\\e900";color:#53565a}.glide-icon-connect:before{content:"\\e902";color:#53565a}.glide-icon-disconnect:before{content:"\\e903";color:#53565a}.glide-icon-move:before{content:"\\e906"}\n'],encapsulation:2})}}const Moe=["*"];function Doe(n,e){if(1&n){const t=pt();V(0,"button",2),Ie("click",function(){_e(t);return Me(D(2).close())}),V(1,"span",3),Hn(2,"\xd7"),j(),V(3,"span",4),Hn(4,"Close"),j()()}}function xoe(n,e){if(1&n&&(V(0,"div",1),te(1,Doe,5,0,"ng-template",0),w1(2),j()),2&n){const t=D();qN("alert alert-"+t.type),A("ngClass",t.classes),P(),A("ngIf",t.dismissible)}}class rw{constructor(){this.type="warning",this.dismissible=!1,this.dismissOnTimeout=void 0}static{this.\u0275fac=function(t){return new(t||rw)}}static{this.\u0275prov=F({token:rw,factory:rw.\u0275fac,providedIn:"root"})}}class iw{constructor(e,t){this.changeDetection=t,this.type="warning",this.dismissible=!1,this.isOpen=!0,this.onClose=new Pt,this.onClosed=new Pt,this.classes="",this.dismissibleChange=new Pt,Object.assign(this,e),this.dismissibleChange.subscribe(()=>{this.classes=this.dismissible?"alert-dismissible":"",this.changeDetection.markForCheck()})}ngOnInit(){this.dismissOnTimeout&&setTimeout(()=>this.close(),parseInt(this.dismissOnTimeout,10))}close(){this.isOpen&&(this.onClose.emit(this),this.isOpen=!1,this.changeDetection.markForCheck(),this.onClosed.emit(this))}static{this.\u0275fac=function(t){return new(t||iw)(ne(rw),ne(Ac))}}static{this.\u0275cmp=$e({type:iw,selectors:[["alert"],["bs-alert"]],inputs:{type:"type",dismissible:"dismissible",dismissOnTimeout:"dismissOnTimeout",isOpen:"isOpen"},outputs:{onClose:"onClose",onClosed:"onClosed"},ngContentSelectors:Moe,decls:1,vars:1,consts:[[3,"ngIf"],["role","alert",3,"ngClass"],["type","button","aria-label","Close",1,"close","btn-close",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"sr-only","visually-hidden"]],template:function(t,o){1&t&&(b1(),te(0,xoe,3,4,"ng-template",0)),2&t&&A("ngIf",o.isOpen)},dependencies:[zn,Ds],encapsulation:2,changeDetection:0})}}SV([function Pee(){const n="Change";return function(t,o){const r=` __${o}Value`;Object.defineProperty(t,o,{get(){return this[r]},set(i){const s=this[r];this[r]=i,s!==i&&this[o+n]&&this[o+n].emit(i)}})}}(),TV("design:type",Object)],iw.prototype,"dismissible",void 0);class sw{static forRoot(){return{ngModule:sw,providers:[]}}static{this.\u0275fac=function(t){return new(t||sw)}}static{this.\u0275mod=gi({type:sw})}static{this.\u0275inj=Ro({})}}const koe=(n,e)=>e.id;function Aoe(n,e){if(1&n&&(V(0,"strong"),Hn(1),j()),2&n){const t=D().$implicit;P(),C1(t.title)}}function Ooe(n,e){if(1&n){const t=pt();V(0,"div",5)(1,"i",6),Ie("click",function(){_e(t);const r=D().$implicit;return Me(D().onClose(r.id))}),j()()}}function Poe(n,e){if(1&n){const t=pt();V(0,"div")(1,"alert",1),Ie("onClose",function(){const r=_e(t).$implicit;return Me(D().onClose(r.id))}),V(2,"div",2),Ie("click",function(r){const i=_e(t).$implicit;return Me(D().onContentClick(r,i.id))}),V(3,"div",3)(4,"div"),te(5,Aoe,2,1,"strong"),j(),$(6,"div",4),fn(7,"safe"),j(),te(8,Ooe,2,0,"div",5),j()()()}if(2&n){const t=e.$implicit,o=D();P(),A("type",t.type)("dismissOnTimeout",t.timeout)("dismissible",t.dismissible),P(4),ge(t.title?5:-1),P(),A("innerHTML",pi(7,6,t.message,o.safePipeContentType.HTML),XS),P(2),ge(t.isCloseIcon?8:-1)}}class aE{constructor(){this.isHostOnly=v(!1),this.toastrService=C(Dd),this.safePipeContentType=Wn,this.alerts=this.toastrService.toasts,this.isContentSide=v(!1)}onClose(e){this.toastrService.close(e)}onContentClick(e,t){this.isLinkOrButton(e)&&this.onClose(t)}isLinkOrButton(e){return!!e.target?.closest("a, button")}static{this.\u0275fac=function(t){return new(t||aE)}}static{this.\u0275cmp=$e({type:aE,selectors:[["gl-toastr-component"]],inputs:{isHostOnly:[1,"isHostOnly"],isContentSide:[1,"isContentSide"]},decls:3,vars:2,consts:[[1,"toastrs-container"],[3,"onClose","type","dismissOnTimeout","dismissible"],[1,"toastr-content",3,"click"],[1,"toastr-content__message"],[3,"innerHTML"],[1,"toastr-content__close-icon"],[1,"o-icon","o-gl-icon","dds-icon_close__s__stroke","dds-gl-icon_close","cursor-pointer",3,"click"]],template:function(t,o){1&t&&(V(0,"div",0),ws(1,Poe,9,9,"div",null,koe),j()),2&t&&(Qe("toastrs-container--end-user",o.isContentSide()),P(),Cs(o.alerts()))},dependencies:[sw,iw,rb],encapsulation:2,changeDetection:0})}}class aw{constructor(e){this.messageService=e,this.windowSize=ue({width:window.innerWidth,height:window.innerHeight}),this.originator=ue(void 0),Ve(()=>{if("admin"===this.originator())return;const r=yo(window,"resize").pipe(sI(100),mt(()=>({width:window.innerWidth,height:window.innerHeight}))).subscribe(i=>this.windowSize.set(i));return()=>r.unsubscribe()}),Ve(()=>{this.messageService.applyNewWindowSize(this.windowSize())})}init(e){this.originator.set(e),this.windowSize.set({width:window.innerWidth,height:window.innerHeight})}static{this.\u0275fac=function(t){return new(t||aw)(L(Ao))}}static{this.\u0275prov=F({token:aw,factory:aw.\u0275fac,providedIn:"root"})}}function Foe(n,e){if(1&n&&$(0,"gl-guided-tour-flow-view",11),2&n){const t=D(),o=D(2);A("flow",t.flow)("flowItem",e)("lang",o.lang())}}function Noe(n,e){if(1&n&&te(0,Foe,1,3,"gl-guided-tour-flow-view",11),2&n){let t;ge((t=e.flowItem)?0:-1,t)}}function Roe(n,e){if(1&n&&$(0,"gl-menu-flow-view",14),2&n){let t;const o=D(2).$implicit,r=D(2);A("flow",r.getFlow(o.flow,r.ESystemFlowType.Menu))("flowItem",r.getDataFlowItem(e,r.ESystemFlowType.Menu))("isInProgress",r.menuInProgress())("visibleFlowsIds",r.visibleFlowsIds())("openMenu",r.isMenuExpanded())("menuUserSettings",null==(t=r.userSettings())?null:t.mainMenuConfiguration)("lang",r.lang())("languages",r.langs())}}function Loe(n,e){if(1&n&&te(0,Roe,1,8,"gl-menu-flow-view",14),2&n){let t;ge((t=D().$implicit.flowItem)?0:-1,t)}}function Voe(n,e){if(1&n&&$(0,"gl-ai-helper-flow-view",12),2&n){const t=D().$implicit,o=D(2);A("flow",o.getFlow(t.flow,o.ESystemFlowType.AiHelper))("lang",o.lang())}}function Boe(n,e){if(1&n&&$(0,"gl-smart-nudge-flow-view",13),2&n){const t=D().$implicit,o=D(2);A("flow",o.getFlow(t.flow,o.ESystemFlowType.SmartNudges))("visibleFlowsIds",o.visibleFlowsIds())("lang",o.lang())}}function Uoe(n,e){if(1&n&&$(0,"gl-button-flow-view",13),2&n){const t=D().$implicit,o=D(2);A("flow",o.getFlow(t.flow,o.ESystemFlowType.Button))("visibleFlowsIds",o.visibleFlowsIds())("lang",o.lang())}}function Hoe(n,e){if(1&n&&te(0,Loe,1,1)(1,Voe,1,2,"gl-ai-helper-flow-view",12)(2,Boe,1,3,"gl-smart-nudge-flow-view",13)(3,Uoe,1,3,"gl-button-flow-view",13),2&n){let t;const o=e.$implicit,r=D(2);ge((t=null==o.flow?null:o.flow.systemFlowType)===r.ESystemFlowType.Menu?0:t===r.ESystemFlowType.AiHelper?1:t===r.ESystemFlowType.SmartNudges?2:t===r.ESystemFlowType.Button?3:-1)}}function joe(n,e){if(1&n&&$(0,"gl-toast",10),2&n){const t=e,o=D(2);A("title",t.title)("text",t.text)("lang",o.lang())("translation",t.translation)}}function $oe(n,e){if(1&n&&(te(0,Noe,1,1),ws(1,Hoe,4,1,null,null,ig),te(3,joe,1,4,"gl-toast",10)),2&n){let t,o;const r=D();ge((t=r.activeTour())?0:-1,t),P(),Cs(r.activeFlowList()),P(2),ge((o=r.activeToast())?3:-1,o)}}function Goe(n,e){if(1&n&&($(0,"gl-menu",0),fn(1,"sortByProp")),2&n){const t=e,o=D();A("configureMode",t.configureMode)("title",t.title)("notes",t.notes)("contentItems",pi(1,23,o.menuContentItems(),"order"))("events",t.events)("zIndex",t.zIndex)("allowCloseByOutsideClick",t.allowCloseByOutsideClick)("allowToDragAndDrop",t.allowToDragAndDrop)("content",t.content)("buttonOption",t.buttonOption)("noneButtonNotes",t.noneButtonNotes)("buttonData",t.buttonData)("menuData",t.menuData)("menuIsHiddenByConfiguration",t.menuIsHiddenByConfiguration)("selector",t.selector)("targetUrl",t.targetUrl)("styles",t.styles)("y",t.y)("x",t.x)("openMenu",o.isMenuExpanded())("languages",t.languages)("lang",t.lang)("translation",t.translation)}}function zoe(n,e){if(1&n&&$(0,"gl-highlight",1),2&n){const t=e,o=D();A("configureMode",t.configureMode)("selector",t.selector)("title",t.title)("description",t.description)("position",t.position)("styles",t.styles)("isScrollToElement",!o.isElementFixed(t))("triggerType",t.triggerType)("overlay",t.overlay)("stepContent",t.stepContent)("cases",t.cases)("mainTrigger",t.mainTrigger)("zIndex",t.zIndex)("continueInNewTab",t.continueInNewTab)("attachedToHostElement",t.attachedToHostElement)("translation",t.translation)("lang",t.lang)}}function Woe(n,e){if(1&n&&$(0,"gl-pop-up",2),2&n){const t=e;A("configureMode",t.configureMode)("height",t.height)("popUpContent",t.popUpContent)("position",t.position)("width",t.width)("overlay",t.overlay)("styles",t.styles)("translation",t.translation)("lang",t.lang)}}function qoe(n,e){if(1&n&&$(0,"gl-resource-pop-up",3),2&n){const t=e;A("configureMode",t.configureMode)("popup",t.popup)("file",t.file)("display",t.display)("resourceLink",t.link)("overlay",t.overlay)("styles",t.styles)("translation",t.translation)("lang",t.lang)}}function Yoe(n,e){if(1&n&&$(0,"gl-survey",4),2&n){const t=e;A("configureMode",t.configureMode)("description",t.description)("annotation",t.annotation)("category",t.category)("questions",t.questions)("title",t.title)("styles",t.styles)("translation",t.translation)("lang",t.lang)}}function Xoe(n,e){if(1&n&&$(0,"gl-highlight-ai-helper",5),2&n){const t=e;A("configureMode",t.configureMode)("isScrollToElement",t.configureMode)("position",t.position)("prompt",t.prompt)("selector",t.selector)("tip",t.tip)("zIndex",t.zIndex)("attachedToHostElement",t.attachedToHostElement)("translation",t.translation)("lang",t.lang)}}function Qoe(n,e){if(1&n&&$(0,"gl-highlight-smart-nudge",6),2&n){const t=e;A("configureMode",t.configureMode)("description",t.description)("smartNudgeContent",t.smartNudgeContent)("iconType",t.iconType)("nudgePosition",t.nudgePosition)("position",t.position)("selector",t.selector)("width",t.width)("nudgeDistance",t.nudgeDistance)("actionTargetType",t.actionTargetType)("zIndex",t.zIndex)("styles",t.styles)("attachedToHostElement",t.attachedToHostElement)("translation",t.translation)("lang",t.lang)}}function Zoe(n,e){if(1&n&&$(0,"gl-highlight-button",7),2&n){let t;const o=e,r=D();A("configureMode",o.configureMode)("selector",o.selector)("position",o.position)("text",o.text)("action",o.action)("isScrollToElement",!(null!=(t=r.activeFlowList())&&t.length))("zIndex",o.zIndex)("styles",o.styles)("attachedToHostElement",o.attachedToHostElement)("translation",o.translation)("lang",o.lang)}}function Joe(n,e){if(1&n&&$(0,"gl-toast",8),2&n){const t=e;A("title",t.title)("text",t.text)("configureMode",!0)}}class lw extends op{constructor(){super(),this.glideAuthService=C(Ay),this.contentSideStoreService=C(xn),this.supportPlayModeService=C(Gc),this.clientSizeWatcherService=C(aw),this.clientSideComponentEventService=C(Oo),this.languageDetectionService=C(Vd),this.injector=C(We),this.logger=C(Be),this.alertsTrackerService=C(Ud),this.activeFlowList=vn(this.contentSideStoreService.activeFlows$,{initialValue:[]}),this.activeToast=vn(this.contentSideStoreService.activeToast$),this.activeTour=vn(this.contentSideStoreService.activeTour$),this.editingMenu=vn(this.contentSideStoreService.editingMenu$,{initialValue:{}}),this.editingGuidedTourStep=vn(this.contentSideStoreService.editingGuidedTourStep$,{initialValue:{}}),this.editingPopUp=vn(this.contentSideStoreService.editingPopUp$,{initialValue:{}}),this.editingSurvey=vn(this.contentSideStoreService.editingSurvey$,{initialValue:{}}),this.editingAIHelper=vn(this.contentSideStoreService.editingAIHelper$,{initialValue:{}}),this.editingSmartNudge=vn(this.contentSideStoreService.editingSmartNudge$,{initialValue:{}}),this.editingButton=vn(this.contentSideStoreService.editingButton$,{initialValue:{}}),this.editingToast=vn(this.contentSideStoreService.editingToast$,{initialValue:void 0}),this.editingResource=vn(this.contentSideStoreService.editingResource$,{initialValue:{}}),this.menuInProgress=vn(this.contentSideStoreService.menuInProgress$),this.isMenuExpanded=vn(this.contentSideStoreService.isMenuExpanded$),this.isShowContentBasedOnCondition=vn(this.contentSideStoreService.isShowContentBasedOnCondition$.pipe(hl()),{injector:this.injector,initialValue:!0}),this.userSettings=vn(this.contentSideStoreService.userSettings$),this.lang=vn(this.contentSideStoreService.lang$),this.langs=vn(this.contentSideStoreService.langs$.pipe(hl((e,t)=>JSON.stringify(e||[])===JSON.stringify(t||[]))),{injector:this.injector,initialValue:[]}),this.visibleFlowsIds=vn(this.contentSideStoreService.visibleFlowsIds$.pipe(hl((e,t)=>JSON.stringify(e||[])===JSON.stringify(t||[])),mt(e=>e.reduce((t,{flowItemId:o,isVisible:r})=>t.set(o,r),new Map)))),this.menuContentItems=G(()=>this.editingMenu().contentItems),this.ESystemFlowType=Te,this.langChangeSignal=this.languageDetectionService.getLangChangeSignal({strategy:"HTMLBodyLang"}),this.isInIframe()||this.watchLangChanges()}ngOnInit(){var e=this;return g(function*(){yield e.initAuthorization(),e.handleStateChanges(),e.handleWindowSizeForUser(),e.watchContentBasedOnConditionChanges()})()}ngAfterViewInit(){this.supportPlayModeService.initBodyListeners()}ngOnDestroy(){var e=this;return g(function*(){e.supportPlayModeService.removeBodyListeners(),yield e.glideAuthService.cleanUp(),e.langChangeSignal.unsub(),e.destroy$.next(),e.destroy$.complete()})()}isElementFixed(e){return(C_(e.position)?e.position():e.position).isFixed}getFlow(e,t){return e}getDataFlowItem(e,t){return e}initAuthorization(){var e=this;return g(function*(){yield e.glideAuthService.init()})()}handleWindowSizeForUser(){this.contentSideStoreService.activeTour$.pipe(jn(e=>!!e),mt(e=>e.originator),jn(e=>"user"===e),qi(this.destroy$)).subscribe(e=>{this.clientSizeWatcherService.init(e)})}handleStateChanges(){this.contentSideStoreService.state$.pipe(function Eoe(n,e=rp){const t=lp(n,e);return JA(()=>t)}(50),hl((t,o)=>JSON.stringify(t||{})===JSON.stringify(o||{})),qi(this.destroy$)).subscribe(()=>{})}watchLangChanges(){return Ve(()=>{if("admin"===this.activeTour()?.originator)return;const e=this.lang();if(null===e)return;const o=this.langChangeSignal.value()??Lt;if(o===e)return;const i=this.langs().find(a=>a.code===o),s=i?i.code:Lt;s!==e&&this.clientSideComponentEventService.changeLang({lang:s})},{injector:this.injector})}watchContentBasedOnConditionChanges(){return Ve(()=>{this.isShowContentBasedOnCondition()?this.logger.log("Glide content is visible based on screen size."):(this.logger.warn("Glide content is hidden due to screen size!"),this.isInIframe()||this.alertsTrackerService.notifyHiddenDueToResolution())},{injector:this.injector})}isInIframe(){return x0()}static{this.\u0275fac=function(t){return new(t||lw)}}static{this.\u0275cmp=$e({type:lw,selectors:[["glide-app-root"]],features:[ze],decls:21,vars:33,consts:[[3,"configureMode","title","notes","contentItems","events","zIndex","allowCloseByOutsideClick","allowToDragAndDrop","content","buttonOption","noneButtonNotes","buttonData","menuData","menuIsHiddenByConfiguration","selector","targetUrl","styles","y","x","openMenu","languages","lang","translation"],[3,"configureMode","selector","title","description","position","styles","isScrollToElement","triggerType","overlay","stepContent","cases","mainTrigger","zIndex","continueInNewTab","attachedToHostElement","translation","lang"],[3,"configureMode","height","popUpContent","position","width","overlay","styles","translation","lang"],[3,"configureMode","popup","file","display","resourceLink","overlay","styles","translation","lang"],[3,"configureMode","description","annotation","category","questions","title","styles","translation","lang"],[3,"configureMode","isScrollToElement","position","prompt","selector","tip","zIndex","attachedToHostElement","translation","lang"],[3,"configureMode","description","smartNudgeContent","iconType","nudgePosition","position","selector","width","nudgeDistance","actionTargetType","zIndex","styles","attachedToHostElement","translation","lang"],[3,"configureMode","selector","position","text","action","isScrollToElement","zIndex","styles","attachedToHostElement","translation","lang"],[3,"title","text","configureMode"],[3,"isHostOnly","isContentSide"],[3,"title","text","lang","translation"],[3,"flow","flowItem","lang"],[3,"flow","lang"],[3,"flow","visibleFlowsIds","lang"],[3,"flow","flowItem","isInProgress","visibleFlowsIds","openMenu","menuUserSettings","lang","languages"]],template:function(t,o){if(1&t&&(te(0,$oe,4,2)(1,Goe,2,26,"gl-menu",0),fn(2,"frameFilter"),te(3,zoe,1,17,"gl-highlight",1),fn(4,"frameFilter"),te(5,Woe,1,9,"gl-pop-up",2),fn(6,"frameFilter"),te(7,qoe,1,9,"gl-resource-pop-up",3),fn(8,"frameFilter"),te(9,Yoe,1,9,"gl-survey",4),fn(10,"frameFilter"),te(11,Xoe,1,10,"gl-highlight-ai-helper",5),fn(12,"frameFilter"),te(13,Qoe,1,15,"gl-highlight-smart-nudge",6),fn(14,"frameFilter"),te(15,Zoe,1,11,"gl-highlight-button",7),fn(16,"frameFilter"),te(17,Joe,1,3,"gl-toast",8),fn(18,"frameFilter"),$(19,"gl-toastr-component",9)(20,"gl-global-styles-provider")),2&t){let r,i,s,a,c,d,f,p,y;ge(o.isShowContentBasedOnCondition()?0:-1),P(),ge((r=Hi(2,12,o.editingMenu()))?1:-1,r),P(2),ge((i=Hi(4,14,o.editingGuidedTourStep()))?3:-1,i),P(2),ge((s=pi(6,16,o.editingPopUp(),!0))?5:-1,s),P(2),ge((a=pi(8,19,o.editingResource(),!0))?7:-1,a),P(2),ge((c=pi(10,22,o.editingSurvey(),!0))?9:-1,c),P(2),ge((d=Hi(12,25,o.editingAIHelper()))?11:-1,d),P(2),ge((f=Hi(14,27,o.editingSmartNudge()))?13:-1,f),P(2),ge((p=Hi(16,29,o.editingButton()))?15:-1,p),P(2),ge((y=Hi(18,31,o.editingToast()))?17:-1,y),P(2),A("isHostOnly",!0)("isContentSide",!0)}},dependencies:[Wo,qb,JI,eE,Op,iu,Cp,Wb,Fp,Np,nE,Rp,rE,sE,aE,of,Lb,iE],styles:['@charset "UTF-8";[class^=o-gl-icon],[class*=" o-gl-icon"]{font-family:dds-gl-icon!important;speak:never;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;font-size:16px;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.o-gl-icon--currentSize{font-size:inherit}.o-gl-icon--xxs{font-size:12px}.o-gl-icon--xs{font-size:18px}.o-gl-icon--sm{font-size:28px}.o-gl-icon--md{font-size:32px}.o-gl-icon--lg{font-size:42px}.o-gl-icon--blue{color:#00a3e0}.o-gl-icon--green{color:#86bc25}.o-gl-icon--red{color:#d12510}.o-gl-icon--gray{color:#97999b}.o-gl-icon--transform{transform:scaleX(-1)}.o-gl-icon--svg{margin-right:10px}.o-gl-icon--animate-spin{display:inline-block;animation:spin 2s linear infinite}.dds-gl-icon_file_csv__l__filled:before{content:"\\e939"}.dds-gl-icon_file_doc__l__filled:before{content:"\\e93a"}.dds-gl-icon_file_png__l__filled:before{content:"\\e93b"}.dds-gl-icon_file_psd__l__filled:before{content:"\\e93c"}.dds-gl-icon_file_pdf__l__filled:before{content:"\\e93d"}.dds-gl-icon_file_txt__l__filled:before{content:"\\e93e"}.dds-gl-icon_file_xls__l__filled:before{content:"\\e93f"}.dds-gl-icon_file_xml__l__filled:before{content:"\\e940"}.dds-gl-icon_file_zip__l__filled:before{content:"\\e941"}.dds-gl-icon_file_jpg__l__filled:before{content:"\\e942"}.dds-gl-icon_file_other__l__filled:before{content:"\\e943"}.dds-gl-icon_search__l__stroke:before{content:"\\e96b"}.dds-gl-icon_ascending_sorting__l__stroke:before{content:"\\e96c"}.dds-gl-icon_descending_sorting__l__stroke:before{content:"\\e96d"}.dds-gl-icon_sort_down__l__stroke:before{content:"\\e96e"}.dds-gl-icon_sort_up__l__stroke:before{content:"\\e96f"}.dds-gl-icon_upload__l__stroke:before{content:"\\e970"}.dds-gl-icon_download__l__stroke:before{content:"\\e971"}.dds-gl-icon_delete__l__stroke:before{content:"\\e972"}.dds-gl-icon_bold__l__stroke:before{content:"\\e973"}.dds-gl-icon_italic__l__stroke:before{content:"\\e974"}.dds-gl-icon_underline__l__stroke:before{content:"\\e975"}.dds-gl-icon_strikethrough__l__stroke:before{content:"\\e976"}.dds-gl-icon_superscript__l__stroke:before{content:"\\e977"}.dds-gl-icon_subscript__l__stroke:before{content:"\\e978"}.dds-gl-icon_unordered_list__l__stroke:before{content:"\\e979"}.dds-gl-icon_orderlist__l__stroke:before{content:"\\e97a"}.dds-gl-icon_truncate__l__stroke:before{content:"\\e97b"}.dds-gl-icon_context_menu__l__filled:before{content:"\\e97c"}.dds-gl-icon_draggable_indicator__l__stroke:before{content:"\\e97d"}.dds-gl-icon_align_right__l__stroke:before{content:"\\e97e"}.dds-gl-icon_align_center__l__stroke:before{content:"\\e97f"}.dds-gl-icon_align_left__l__stroke:before{content:"\\e980"}.dds-gl-icon_link__l__stroke:before{content:"\\e981"}.dds-gl-icon_bookmark__l__stroke:before{content:"\\e982"}.dds-gl-icon_bookmark__l__filled:before{content:"\\e9ed"}.dds-gl-icon_info__l__stroke:before{content:"\\e983"}.dds-gl-icon_close__l__stroke:before{content:"\\e984"}.dds-gl-icon_plus__l__stroke:before{content:"\\e985"}.dds-gl-icon_minus__l__stroke:before{content:"\\e986"}.dds-gl-icon_include__l__stroke:before{content:"\\e987"}.dds-gl-icon_add_line__l__stroke:before{content:"\\e988"}.dds-gl-icon_add_folder__l__stroke:before{content:"\\e989"}.dds-gl-icon_heading_1__l__stroke:before{content:"\\e98a"}.dds-gl-icon_heading_2__l__stroke:before{content:"\\e98b"}.dds-gl-icon_heading_3__l__stroke:before{content:"\\e98c"}.dds-gl-icon_user__l__stroke:before{content:"\\e98d"}.dds-gl-icon_users__l__stroke:before{content:"\\e98e"}.dds-gl-icon_add_user__l__stroke:before{content:"\\e98f"}.dds-gl-icon_achievement__l__stroke:before{content:"\\e99a"}.dds-gl-icon_calendar__l__stroke:before{content:"\\e99b"}.dds-gl-icon_resize__l__stroke:before{content:"\\e99c"}.dds-gl-icon_chevron_down__l__stroke:before{content:"\\e99d"}.dds-gl-icon_chevron_up__l__stroke:before{content:"\\e99e"}.dds-gl-icon_chevron_left__l__stroke:before{content:"\\e99f"}.dds-gl-icon_chevron_right__l__stroke:before{content:"\\e9a0"}.dds-gl-icon_checkmark__l__stroke:before{content:"\\e9a1"}.dds-gl-icon_select_all__l__stroke:before{content:"\\e9a2"}.dds-gl-icon_adjustments__l__stroke:before{content:"\\e9a3"}.dds-gl-icon_archive__l__stroke:before{content:"\\e9a4"}.dds-gl-icon_edit__l__stroke:before{content:"\\e9a5"}.dds-gl-icon_copy__l__stroke:before{content:"\\e9a6"}.dds-gl-icon_chat__l__stroke:before{content:"\\e9a7"}.dds-gl-icon_file__l__stroke:before{content:"\\e9a8"}.dds-gl-icon_folder__l__stroke:before{content:"\\e9a9"}.dds-gl-icon_email__l__stroke:before{content:"\\e9aa"}.dds-gl-icon_crop__l__stroke:before{content:"\\e9ab"}.dds-gl-icon_setting__l__stroke:before{content:"\\e9ac"}.dds-gl-icon_exit__l__stroke:before{content:"\\e9ad"}.dds-gl-icon_filter__l__stroke:before{content:"\\e9ae"}.dds-gl-icon_home__l__stroke:before{content:"\\e9af"}.dds-gl-icon_show__l__stroke:before{content:"\\e9b0"}.dds-gl-icon_hide__l__stroke:before{content:"\\e9b1"}.dds-gl-icon_attachment__l__stroke:before{content:"\\e9b2"}.dds-gl-icon_clock__l__stroke:before{content:"\\e9b3"}.dds-gl-icon_arrange_horizontally__l__stroke:before{content:"\\e9b4"}.dds-gl-icon_arrange_vertically__l__stroke:before{content:"\\e9b5"}.dds-gl-icon_arrow_down__l__stroke:before{content:"\\e9b6"}.dds-gl-icon_arrow_up__l__stroke:before{content:"\\e9b7"}.dds-gl-icon_arrow_left__l__stroke:before{content:"\\e9b8"}.dds-gl-icon_arrow_right__l__stroke:before{content:"\\e9b9"}.dds-gl-icon_arrow_rotate_right__l__stroke:before{content:"\\e9ba"}.dds-gl-icon_arrow_back__l__stroke:before{content:"\\e9bb"}.dds-gl-icon_arrow_redo__l__stroke:before{content:"\\ea2b"}.dds-gl-icon_arrow_turn_right__l__stroke:before{content:"\\e9bc"}.dds-gl-icon_hourglass__l__stroke:before{content:"\\e9bd"}.dds-gl-icon_canceled_hourglass__l__stroke:before{content:"\\e9be"}.dds-gl-icon_print__l__stroke:before{content:"\\e9bf"}.dds-gl-icon_alert__l__stroke:before{content:"\\e9c0"}.dds-gl-icon_target__l__stroke:before{content:"\\e9c1"}.dds-gl-icon_exclude__l__stroke:before{content:"\\e9c2"}.dds-gl-icon_help__l__stroke:before{content:"\\e9c3"}.dds-gl-icon_cancel__l__stroke:before{content:"\\e9c4"}.dds-gl-icon_lightbulb__l__stroke:before{content:"\\e9c5"}.dds-gl-icon_location__l__stroke:before{content:"\\e9c6"}.dds-gl-icon_notification__l__stroke:before{content:"\\e9c7"}.dds-gl-icon_heart__l__stroke:before{content:"\\e9c8"}.dds-gl-icon_heart__l__filled:before{content:"\\e9ee"}.dds-gl-icon_accrual__l__stroke:before{content:"\\e9c9"}.dds-gl-icon_credit_memo__l__stroke:before{content:"\\e9ca"}.dds-gl-icon_percentage__l__stroke:before{content:"\\e9cb"}.dds-gl-icon_grid__l__stroke:before{content:"\\e9cc"}.dds-gl-icon_pin__l__stroke:before{content:"\\e9cd"}.dds-gl-icon_locked__l__stroke:before{content:"\\e9ce"}.dds-gl-icon_unlocked__l__stroke:before{content:"\\e9cf"}.dds-gl-icon_camera__l__stroke:before{content:"\\e9d0"}.dds-gl-icon_screen__l__stroke:before{content:"\\e9d1"}.dds-gl-icon_play_bordered__l__stroke:before{content:"\\e9d2"}.dds-gl-icon_pause_bordered__l__stroke:before{content:"\\e9d3"}.dds-gl-icon_play__l__stroke:before{content:"\\e9d4"}.dds-gl-icon_pause__l__stroke:before{content:"\\e9d5"}.dds-gl-icon_share__l__stroke:before{content:"\\e9d6"}.dds-gl-icon_external_link__l__stroke:before{content:"\\e9d7"}.dds-gl-icon_star__l__stroke:before{content:"\\e9d8"}.dds-gl-icon_star__l__filled:before{content:"\\e9d9"}.dds-gl-icon_cut__l__stroke:before{content:"\\e9da"}.dds-gl-icon_align_horizontal__l__stroke:before{content:"\\e9db"}.dds-gl-icon_align_vertical__l__stroke:before{content:"\\e9dc"}.dds-gl-icon_distribute_horizontal__l__stroke:before{content:"\\e9dd"}.dds-gl-icon_distribute_vertical__l__stroke:before{content:"\\e9de"}.dds-gl-icon_list__l__stroke:before{content:"\\e9df"}.dds-gl-icon_wide_view__l__filled:before{content:"\\e9e0"}.dds-gl-icon_chair__l__stroke:before{content:"\\e9e1"}.dds-gl-icon_payment_method__l__stroke:before{content:"\\e9e3"}.dds-gl-icon_money__l__stroke:before{content:"\\e9e4"}.dds-gl-icon_collapse__l__stroke:before{content:"\\e9e7"}.dds-gl-icon_expand__l__stroke:before{content:"\\e9e8"}.dds-gl-icon_sun__l__stroke:before{content:"\\e9e9"}.dds-gl-icon_bag__l__stroke:before{content:"\\e9f1"}.dds-gl-icon_bagcrossed__l__stroke:before{content:"\\e9f3"}.dds-gl-icon_globe__l__stroke:before{content:"\\e9f5"}.dds-gl-icon_flag__l__stroke:before{content:"\\e9f7"}.dds-gl-icon_service__l__stroke:before{content:"\\e9f9"}.dds-gl-icon_chart__l__stroke:before{content:"\\e9fb"}.dds-gl-icon_education__l__stroke:before{content:"\\e9fd"}.dds-gl-icon_antenna__l__stroke:before{content:"\\e9ff"}.dds-gl-icon_dna__l__stroke:before{content:"\\ea01"}.dds-gl-icon_basket__l__stroke:before{content:"\\ea03"}.dds-gl-icon_lighting__l__filled:before{content:"\\ea05"}.dds-gl-icon_quote__l__stroke:before{content:"\\ea07"}.dds-gl-icon_qr__l__stroke:before{content:"\\ea09"}.dds-gl-icon_sound_on__l__stroke:before{content:"\\ea0b"}.dds-gl-icon_sound_off__l__stroke:before{content:"\\ea0c"}.dds-gl-icon_key__l__stroke:before{content:"\\ea0d"}.dds-gl-icon_chart__l__stroke1:before{content:"\\ea0e"}.dds-gl-icon_enter__l__stroke:before{content:"\\ea0f"}.dds-gl-icon_add_file__l__stroke:before{content:"\\ea10"}.dds-gl-icon_create_message__l__stroke:before{content:"\\ea17"}.dds-gl-icon_image__l__stroke:before{content:"\\ea18"}.dds-gl-icon_add_link__l__stroke:before{content:"\\ea19"}.dds-gl-icon_prize_cup__l__stroke:before{content:"\\ea1a"}.dds-gl-icon_send__l__stroke:before{content:"\\ea1b"}.dds-gl-icon_todo_list__l__stroke:before{content:"\\ea1c"}.dds-gl-icon_many_files__l__stroke:before{content:"\\ea1d"}.dds-gl-icon_delegate_user__l__stroke:before{content:"\\ea25"}.dds-gl-icon_wifi__l__stroke:before{content:"\\ea27"}.dds-gl-icon_mobile__l__stroke:before{content:"\\ea28"}.dds-gl-icon_shield__l__stroke:before{content:"\\ea2c"}.dds-gl-icon_laptop__l__stroke:before{content:"\\ea2d"}.dds-gl-icon_save__l__stroke:before{content:"\\ea31"}.dds-gl-icon_open_envelope__l__stroke:before{content:"\\ea33"}.dds-gl-icon_sensor__l__stroke:before{content:"\\ea35"}.dds-gl-icon_move_arrows__l__stroke:before{content:"\\ea36"}.dds-gl-icon_select_area__l__stroke:before{content:"\\ea37"}.dds-gl-icon_skip_forward__l__stroke:before{content:"\\ea38"}.dds-gl-icon_skip_backward__l__stroke:before{content:"\\ea39"}.dds-gl-icon_font_color__l__stroke:before{content:"\\ea3f"}.dds-gl-icon_bg_color__l__stroke:before{content:"\\ea40"}.dds-gl-icon_reset_font_style__l__stroke:before{content:"\\ea41"}.dds-gl-icon_book__l__stroke:before{content:"\\ea45"}.dds-gl-icon_book_opened__l__stroke:before{content:"\\ea46"}.dds-gl-icon_pin__l__filled:before{content:"\\ea49"}.dds-gl-icon_diamond__l__stroke:before{content:"\\ea4b"}.dds-gl-icon_crystal__l__stroke:before{content:"\\ea4c"}.dds-gl-icon_crown__l__stroke:before{content:"\\ea4d"}.dds-gl-icon_shine__l__stroke:before{content:"\\ea4e"}.dds-gl-icon_fire__l__stroke:before{content:"\\ea4f"}.dds-gl-icon_service_credit__l__stroke:before{content:"\\ea55"}.dds-gl-icon_comment__l__stroke:before{content:"\\ea56"}.dds-gl-icon_question_mark__l__stroke:before{content:"\\ea59"}.dds-gl-icon_exclamation_mark__l__stroke:before{content:"\\ea5a"}.dds-gl-icon_import__l__stroke:before{content:"\\ea5d"}.dds-gl-icon_export__l__stroke:before{content:"\\ea5e"}.dds-gl-icon_inbox__l__stroke:before{content:"\\ea61"}.dds-gl-icon_outbox__l__stroke:before{content:"\\ea62"}.dds-gl-icon_rocket__l__stroke:before{content:"\\ea66"}.dds-gl-icon_header__l__stroke:before{content:"\\ea67"}.dds-gl-icon_footer__l__stroke:before{content:"\\ea68"}.dds-gl-icon_card__l__stroke:before{content:"\\ea69"}.dds-gl-icon_external_window__l__stroke:before{content:"\\ea6e"}.dds-gl-icon_trending__l__stroke:before{content:"\\ea70"}.dds-gl-icon_code__l__stroke:before{content:"\\ea72"}.dds-gl-icon_edit_user__l__stroke:before{content:"\\ea77"}.dds-gl-icon_delete_user__l__stroke:before{content:"\\ea78"}.dds-gl-icon_arrange_horizontally_cross__l__stroke:before{content:"\\ea79"}.dds-gl-icon_search:before{content:"\\e90b"}.dds-gl-icon_search__s__stroke:before{content:"\\e90b"}.dds-gl-icon_sorting-Z-A:before{content:"\\e901"}.dds-gl-icon_ascending_sorting__s__stroke:before{content:"\\e901"}.dds-gl-icon_sorting-A-Z:before{content:"\\e902"}.dds-gl-icon_descending_sorting__s__stroke:before{content:"\\e902"}.dds-gl-icon_sort-down:before{content:"\\e910"}.dds-gl-icon_sort_down__s__stroke:before{content:"\\e910"}.dds-gl-icon_sort-up:before{content:"\\e90f"}.dds-gl-icon_sort_up__s__stroke:before{content:"\\e90f"}.dds-gl-icon_upload:before{content:"\\e903"}.dds-gl-icon_upload__s__stroke:before{content:"\\e903"}.dds-gl-icon_download:before{content:"\\e911"}.dds-gl-icon_download__s__stroke:before{content:"\\e911"}.dds-gl-icon_delete:before{content:"\\e912"}.dds-gl-icon_delete__s__stroke:before{content:"\\e912"}.dds-gl-icon_bold:before{content:"\\e916"}.dds-gl-icon_bold__s__stroke:before{content:"\\e916"}.dds-gl-icon_italic:before{content:"\\e917"}.dds-gl-icon_italic__s__stroke:before{content:"\\e917"}.dds-gl-icon_underline:before{content:"\\e918"}.dds-gl-icon_underline__s__stroke:before{content:"\\e918"}.dds-gl-icon_crossed-out:before{content:"\\e919"}.dds-gl-icon_strikethrough__s__stroke:before{content:"\\e919"}.dds-gl-icon_x2:before{content:"\\e92c"}.dds-gl-icon_superscript__s__stroke:before{content:"\\e92c"}.dds-gl-icon_x2-2:before{content:"\\e92b"}.dds-gl-icon_subscript__s__stroke:before{content:"\\e92b"}.dds-gl-icon_list-bulit:before{content:"\\e921"}.dds-gl-icon_unordered_list__s__stroke:before{content:"\\e921"}.dds-gl-icon_number-list:before{content:"\\e922"}.dds-gl-icon_orderlist__s__stroke:before{content:"\\e922"}.dds-gl-icon_truncate:before{content:"\\e914"}.dds-gl-icon_truncate__s__stroke:before{content:"\\e914"}.dds-gl-icon_dots-v:before{content:"\\e904"}.dds-gl-icon_context_menu__s__filled:before{content:"\\e904"}.dds-gl-icon_drag-drop:before{content:"\\e95d"}.dds-gl-icon_draggable_indicator__s__stroke:before{content:"\\e95d"}.dds-gl-icon_align-right:before{content:"\\e913"}.dds-gl-icon_align_right__s__stroke:before{content:"\\e913"}.dds-gl-icon_align-center:before{content:"\\e908"}.dds-gl-icon_align_center__s__stroke:before{content:"\\e908"}.dds-gl-icon_align-left:before{content:"\\e900"}.dds-gl-icon_align_left__s__stroke:before{content:"\\e900"}.dds-gl-icon_hyperlink:before{content:"\\e923"}.dds-gl-icon_link__s__stroke:before{content:"\\e923"}.dds-gl-icon_bookmark:before{content:"\\e925"}.dds-gl-icon_bookmark__s__stroke:before{content:"\\e925"}.dds-gl-icon_bookmark__s__filled:before{content:"\\e9ef"}.dds-gl-icon_info:before{content:"\\e91a"}.dds-gl-icon_info__s__stroke:before{content:"\\e91a"}.dds-gl-icon_close:before{content:"\\e92d"}.dds-gl-icon_close__s__stroke:before{content:"\\e92d"}.dds-gl-icon_plus:before{content:"\\e947"}.dds-gl-icon_plus__s__stroke:before{content:"\\e947"}.dds-gl-icon_minus:before{content:"\\e946"}.dds-gl-icon_minus__s__stroke:before{content:"\\e946"}.dds-gl-icon_add-dot:before{content:"\\e963"}.dds-gl-icon_include__s__stroke:before{content:"\\e963"}.dds-gl-icon_add-line:before{content:"\\ea65"}.dds-gl-icon_add_line__s__stroke:before{content:"\\ea65"}.dds-gl-icon_add-folder:before{content:"\\e95c"}.dds-gl-icon_add_folder__s__stroke:before{content:"\\e95c"}.dds-gl-icon_h1:before{content:"\\e92f"}.dds-gl-icon_heading_1__s__stroke:before{content:"\\e92f"}.dds-gl-icon_h2:before{content:"\\e930"}.dds-gl-icon_heading_2__s__stroke:before{content:"\\e930"}.dds-gl-icon_h3:before{content:"\\e931"}.dds-gl-icon_heading_3__s__stroke:before{content:"\\e931"}.dds-gl-icon_user:before{content:"\\e938"}.dds-gl-icon_user__s__stroke:before{content:"\\e938"}.dds-gl-icon_users:before{content:"\\e905"}.dds-gl-icon_users__s__stroke:before{content:"\\e905"}.dds-gl-icon_addfriend:before{content:"\\e927"}.dds-gl-icon_add_user__s__stroke:before{content:"\\e927"}.dds-gl-icon_achievement:before{content:"\\e969"}.dds-gl-icon_achievement_medal__s__stroke:before{content:"\\e969"}.dds-gl-icon_calendar:before{content:"\\e90c"}.dds-gl-icon_calendar__s__stroke:before{content:"\\e90c"}.dds-gl-icon_add-space:before{content:"\\e96a"}.dds-gl-icon_resize__s__stroke:before{content:"\\e96a"}.dds-gl-icon_arrow-down:before{content:"\\e932"}.dds-gl-icon_chevron_down__s__stroke:before{content:"\\e932"}.dds-gl-icon_arrow-up:before{content:"\\e935"}.dds-gl-icon_chevron_up__s__stroke:before{content:"\\e935"}.dds-gl-icon_arrow-left:before{content:"\\e933"}.dds-gl-icon_chevron_left__s__stroke:before{content:"\\e933"}.dds-gl-icon_arrow-right:before{content:"\\e934"}.dds-gl-icon_chevron_right__s__stroke:before{content:"\\e934"}.dds-gl-icon_check:before{content:"\\e945"}.dds-gl-icon_checkmark__s__stroke:before{content:"\\e945"}.dds-gl-icon_select-all:before{content:"\\e94b"}.dds-gl-icon_select_all__s__stroke:before{content:"\\e94b"}.dds-gl-icon_adjustment:before{content:"\\e994"}.dds-gl-icon_adjustments__s__stroke:before{content:"\\e994"}.dds-gl-icon_archive:before{content:"\\e915"}.dds-gl-icon_archive__s__stroke:before{content:"\\e915"}.dds-gl-icon_edit:before{content:"\\e90a"}.dds-gl-icon_edit__s__filled:before{content:"\\e90a"}.dds-gl-icon_copy:before{content:"\\e91b"}.dds-gl-icon_copy__s__stroke:before{content:"\\e91b"}.dds-gl-icon_chat:before{content:"\\e91c"}.dds-gl-icon_chat__s__stroke:before{content:"\\e91c"}.dds-gl-icon_file:before{content:"\\e937"}.dds-gl-icon_file__s__stroke:before{content:"\\e937"}.dds-gl-icon_folder:before{content:"\\e909"}.dds-gl-icon_folder__s__stroke:before{content:"\\e909"}.dds-gl-icon_email:before{content:"\\e954"}.dds-gl-icon_email__s__stroke:before{content:"\\e954"}.dds-gl-icon_crop:before{content:"\\e91d"}.dds-gl-icon_crop__s__stroke:before{content:"\\e91d"}.dds-gl-icon_setting:before{content:"\\e91e"}.dds-gl-icon_setting__s__stroke:before{content:"\\e91e"}.dds-gl-icon_exit:before{content:"\\e960"}.dds-gl-icon_exit__s__stroke:before{content:"\\e960"}.dds-gl-icon_filter:before{content:"\\e920"}.dds-gl-icon_filter__s__stroke:before{content:"\\e920"}.dds-gl-icon_home:before{content:"\\e953"}.dds-gl-icon_home__s__stroke:before{content:"\\e953"}.dds-gl-icon_eyeopen:before{content:"\\e92e"}.dds-gl-icon_show__s__stroke:before{content:"\\e92e"}.dds-gl-icon_eyeclose:before{content:"\\e936"}.dds-gl-icon_hide__s__stroke:before{content:"\\e936"}.dds-gl-icon_clip:before{content:"\\e944"}.dds-gl-icon_attachment__s__stroke:before{content:"\\e944"}.dds-gl-icon_timer:before{content:"\\e92a"}.dds-gl-icon_clock__s__stroke:before{content:"\\e92a"}.dds-gl-icon_switch:before{content:"\\e924"}.dds-gl-icon_arrange_horizontally__s__stroke:before{content:"\\e924"}.dds-gl-icon_sort:before{content:"\\e91f"}.dds-gl-icon_arrange_vertically__s__stroke:before{content:"\\e91f"}.dds-gl-icon_arrow-long-down:before{content:"\\e998"}.dds-gl-icon_arrow_down__s__stroke:before{content:"\\e998"}.dds-gl-icon_arrow-long-up:before{content:"\\e997"}.dds-gl-icon_arrow_up__s__stroke:before{content:"\\e997"}.dds-gl-icon_arrow_v3:before{content:"\\e961"}.dds-gl-icon_arrow_left__s__stroke:before{content:"\\e961"}.dds-gl-icon_arrow_v2:before{content:"\\e928"}.dds-gl-icon_arrow_right__s__stroke:before{content:"\\e928"}.dds-gl-icon_arrow-round-right:before{content:"\\e996"}.dds-gl-icon_arrow_rotate_right__s__stroke:before{content:"\\e996"}.dds-gl-icon_arrow-back:before{content:"\\e968"}.dds-gl-icon_arrow_back__s__stroke:before{content:"\\e968"}.dds-gl-icon_arrow_redo__s__stroke:before{content:"\\ea2e"}.dds-gl-icon_arrow-turn-right:before{content:"\\e995"}.dds-gl-icon_arrow_turn_right__s__stroke:before{content:"\\e995"}.dds-gl-icon_hourglass:before{content:"\\e94"}.dds-gl-icon_hourglass__s__stroke:before{content:"\\e94"}.dds-gl-icon_canceled-hourglass:before{content:"\\e999"}.dds-gl-icon_canceled_hourglass__s__stroke:before{content:"\\e999"}.dds-gl-icon_print:before{content:"\\e94a"}.dds-gl-icon_print__s__stroke:before{content:"\\e94a"}.dds-gl-icon_exclemation-mark:before{content:"\\e94d"}.dds-gl-icon_alert__s__stroke:before{content:"\\e94d"}.dds-gl-icon_dot-size:before{content:"\\e962"}.dds-gl-icon_target__s__stroke:before{content:"\\e962"}.dds-gl-icon_removefrom:before{content:"\\e929"}.dds-gl-icon_exclude__s__stroke:before{content:"\\e929"}.dds-gl-icon_help:before{content:"\\e95a"}.dds-gl-icon_help__s__stroke:before{content:"\\e95a"}.dds-gl-icon_cancel:before{content:"\\e991"}.dds-gl-icon_cancel__s__stroke:before{content:"\\e991"}.dds-gl-icon_lightbulb:before{content:"\\e90d"}.dds-gl-icon_lightbulb__s__stroke:before{content:"\\e90d"}.dds-gl-icon_location:before{content:"\\e959"}.dds-gl-icon_location__s__stroke:before{content:"\\e959"}.dds-gl-icon_bell:before{content:"\\e95b"}.dds-gl-icon_notification__s__stroke:before{content:"\\e95b"}.dds-gl-icon_heart:before{content:"\\e956"}.dds-gl-icon_heart__s__stroke:before{content:"\\e956"}.dds-gl-icon_heart__s__filled:before{content:"\\e9f0"}.dds-gl-icon_accrual:before{content:"\\e993"}.dds-gl-icon_accrual__s__stroke:before{content:"\\e993"}.dds-gl-icon_credit-memo:before{content:"\\e992"}.dds-gl-icon_credit_memo__s__stroke:before{content:"\\e992"}.dds-gl-icon_discount:before{content:"\\e990"}.dds-gl-icon_percentage__s__stroke:before{content:"\\e990"}.dds-gl-icon_grid__s__filled:before{content:"\\e907"}.dds-gl-icon_pin:before{content:"\\e952"}.dds-gl-icon_pin__s__stroke:before{content:"\\e952"}.dds-gl-icon_lock:before{content:"\\e95e"}.dds-gl-icon_locked__s__stroke:before{content:"\\e95e"}.dds-gl-icon_unlock:before{content:"\\e95f"}.dds-gl-icon_unlocked__s__stroke:before{content:"\\e95f"}.dds-gl-icon_camera:before{content:"\\e955"}.dds-gl-icon_camera__s__stroke:before{content:"\\e955"}.dds-gl-icon_screen:before{content:"\\e958"}.dds-gl-icon_screen__s__stroke:before{content:"\\e958"}.dds-gl-icon_play-stroke:before{content:"\\e94f"}.dds-gl-icon_play_bordered__s__stroke:before{content:"\\e94f"}.dds-gl-icon_pause-stroke:before{content:"\\e951"}.dds-gl-icon_pause_bordered__s__stroke:before{content:"\\e951"}.dds-gl-icon_play:before{content:"\\e94e"}.dds-gl-icon_play__s__stroke:before{content:"\\e94e"}.dds-gl-icon_pause:before{content:"\\e950"}.dds-gl-icon_pause__s__stroke:before{content:"\\e950"}.dds-gl-icon_share:before{content:"\\e957"}.dds-gl-icon_share__s__stroke:before{content:"\\e957"}.dds-gl-icon_external-link:before{content:"\\e90e"}.dds-gl-icon_external_link__s__stroke:before{content:"\\e90e"}.dds-gl-icon_star-border:before{content:"\\e948"}.dds-gl-icon_star__s__stroke:before{content:"\\e948"}.dds-gl-icon_star-filled:before{content:"\\e949"}.dds-gl-icon_star__s__filled:before{content:"\\e949"}.dds-gl-icon_scissors:before{content:"\\e926"}.dds-gl-icon_cut__s__stroke:before{content:"\\e926"}.dds-gl-icon_align-horizontal:before{content:"\\e964"}.dds-gl-icon_align_horizontal__l__stroke1:before{content:"\\e964"}.dds-gl-icon_align-vertical:before{content:"\\e965"}.dds-gl-icon_align_vertical__s__stroke:before{content:"\\e965"}.dds-gl-icon_distribute-horizontal:before{content:"\\e967"}.dds-gl-icon_distribute_horizontal__s__stroke:before{content:"\\e967"}.dds-gl-icon_distribute-vertical:before{content:"\\e966"}.dds-gl-icon_distribute_vertical__s__stroke:before{content:"\\e966"}.dds-gl-icon_list:before{content:"\\e906"}.dds-gl-icon_list__s__stroke:before{content:"\\e906"}.dds-gl-icon_wide-view:before{content:"\\e94c"}.dds-gl-icon_wide_view__s__filled:before{content:"\\e94c"}.dds-gl-icon_chair__s__stroke:before{content:"\\e9e2"}.dds-gl-icon_payment_method__s__stroke:before{content:"\\e9e5"}.dds-gl-icon_money__s__filled:before{content:"\\e9e6"}.dds-gl-icon_collapse__s__stroke:before{content:"\\e9ea"}.dds-gl-icon_expand__s__stroke:before{content:"\\e9eb"}.dds-gl-icon_sun__s__stroke:before{content:"\\e9ec"}.dds-gl-icon_bag__s__stroke:before{content:"\\e9f2"}.dds-gl-icon_bagcrossed__s__stroke:before{content:"\\e9f4"}.dds-gl-icon_globe__s__stroke:before{content:"\\e9f6"}.dds-gl-icon_flag__s__stroke:before{content:"\\e9f8"}.dds-gl-icon_service__s__stroke:before{content:"\\e9fa"}.dds-gl-icon_chart__s__stroke:before{content:"\\e9fc"}.dds-gl-icon_education__s__stroke:before{content:"\\e9fe"}.dds-gl-icon_antenna__s__stroke:before{content:"\\ea00"}.dds-gl-icon_dna__s__stroke:before{content:"\\ea02"}.dds-gl-icon_basket__s__stroke:before{content:"\\ea04"}.dds-gl-icon_lighting__s__filled:before{content:"\\ea06"}.dds-gl-icon_quote__s__stroke:before{content:"\\ea08"}.dds-gl-icon_qr__s__stroke:before{content:"\\ea0a"}.dds-gl-icon_sound_on__s__stroke:before{content:"\\ea11"}.dds-gl-icon_sound_off__s__stroke:before{content:"\\ea12"}.dds-gl-icon_key__s__stroke:before{content:"\\ea13"}.dds-gl-icon_chart__s__stroke1:before{content:"\\ea14"}.dds-gl-icon_enter__s__stroke:before{content:"\\ea15"}.dds-gl-icon_add_file__s__stroke:before{content:"\\ea16"}.dds-gl-icon_create_message__s__stroke:before{content:"\\ea1e"}.dds-gl-icon_image__s__stroke:before{content:"\\ea1f"}.dds-gl-icon_add_link__s__stroke:before{content:"\\ea20"}.dds-gl-icon_prize_cup__s__stroke:before{content:"\\ea21"}.dds-gl-icon_send__s__stroke:before{content:"\\ea22"}.dds-gl-icon_todo_list__s__stroke:before{content:"\\ea23"}.dds-gl-icon_many_files__s__stroke:before{content:"\\ea24"}.dds-gl-icon_delegate_user__s__stroke:before{content:"\\ea26"}.dds-gl-icon_wifi__s__stroke:before{content:"\\ea29"}.dds-gl-icon_mobile__s__stroke:before{content:"\\ea2a"}.dds-gl-icon_shield__s__stroke:before{content:"\\ea2f"}.dds-gl-icon_laptop__s__stroke:before{content:"\\ea30"}.dds-gl-icon_save__s__stroke:before{content:"\\ea32"}.dds-gl-icon_open_envelope__s__stroke:before{content:"\\ea34"}.dds-gl-icon_sensor__s__stroke:before{content:"\\ea3a"}.dds-gl-icon_move_arrows__s__stroke:before{content:"\\ea3b"}.dds-gl-icon_select_area__s__stroke:before{content:"\\ea3c"}.dds-gl-icon_skip_forward__s__stroke:before{content:"\\ea3d"}.dds-gl-icon_skip_backward__s__stroke:before{content:"\\ea3e"}.dds-gl-icon_font_color__s__stroke:before{content:"\\ea42"}.dds-gl-icon_bg_color__s__stroke:before{content:"\\ea43"}.dds-gl-icon_reset_font_style__s__stroke:before{content:"\\ea44"}.dds-gl-icon_book__s__stroke:before{content:"\\ea47"}.dds-gl-icon_book_opened__s__stroke:before{content:"\\ea48"}.dds-gl-icon_pin__s__filled:before{content:"\\ea4a"}.dds-gl-icon_diamond__s__stroke:before{content:"\\ea50"}.dds-gl-icon_crystal__s__stroke:before{content:"\\ea51"}.dds-gl-icon_crown__s__stroke:before{content:"\\ea52"}.dds-gl-icon_shine__s__stroke:before{content:"\\ea53"}.dds-gl-icon_fire__s__stroke:before{content:"\\ea54"}.dds-gl-icon_service_credit__s__stroke:before{content:"\\ea57"}.dds-gl-icon_comment__s__stroke:before{content:"\\ea58"}.dds-gl-icon_question_mark__s__stroke:before{content:"\\ea5b"}.dds-gl-icon_exclamation_mark__s__stroke:before{content:"\\ea5c"}.dds-gl-icon_import__s__stroke:before{content:"\\ea5f"}.dds-gl-icon_export__s__stroke:before{content:"\\ea60"}.dds-gl-icon_inbox__s__stroke:before{content:"\\ea63"}.dds-gl-icon_outbox__s__stroke:before{content:"\\ea64"}.dds-gl-icon_rocket__s__stroke:before{content:"\\ea6a"}.dds-gl-icon_header__s__stroke:before{content:"\\ea6b"}.dds-gl-icon_footer__s__stroke:before{content:"\\ea6c"}.dds-gl-icon_card__s__stroke:before{content:"\\ea6d"}.dds-gl-icon_external_window__s__stroke:before{content:"\\ea6f"}.dds-gl-icon_trending__s__stroke:before{content:"\\ea71"}.dds-gl-icon_code__s__stroke:before{content:"\\ea73"}.dds-gl-icon_edit_user__s__stroke:before{content:"\\ea74"}.dds-gl-icon_delete_user__s__stroke:before{content:"\\ea75"}.dds-gl-icon_arrange_horizontally_cross__s__stroke:before{content:"\\ea76"}.dds-gl-icon_side_panel{font-size:unset!important;padding:0 4px}.dds-gl-icon_side_panel:before{content:url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'14\' height=\'14\' viewBox=\'0 0 14 14\' fill=\'none\'%3E%3Cpath fill-rule=\'evenodd\' clip-rule=\'evenodd\' d=\'M6.00812 2H12V12H6.00812V2ZM4.00812 2H2V12H4.00812V2ZM0 14V0H14V14H0Z\' fill=\'white\'/%3E%3C/svg%3E");width:24px;height:24px}.gl-rte-action-link--btn{display:inline-block;padding:5px;color:#fff;background-color:#26890d;border:1px solid #ffffff;cursor:pointer;text-decoration:none;white-space:nowrap}.toastrs-container{position:fixed;bottom:70px;left:50%;z-index:20000}.toastrs-container--end-user .alert{width:auto!important;min-width:400px}.toastrs-container--end-user .toastr-content__message,.toastrs-container--end-user .toastr-content__close-icon{padding:14px 20px}.toastrs-container .alert{display:inline-block;border:none;width:calc(100vw - 48px);max-width:568px;text-align:left;transform:translate(-50%);font-size:14px;line-height:20px;word-wrap:break-word;word-break:break-word;color:#000}.toastrs-container .alert .close{display:none}.toastrs-container .alert-success{background-color:#c4d600;color:#000}.toastrs-container .alert-error{background-color:#da291c}.toastrs-container .alert-info{background-color:#00a3e0}.toastrs-container .alert-warning{background-color:#ed8b00}.toastrs-container .dds-gl-icon_close:before{line-height:20px}.toastrs-container .toastr-content{display:flex;justify-content:space-between}.cursor-pointer{cursor:pointer!important}.gl-attached-to-host{font-size:initial;font-weight:initial;font-style:initial;line-height:initial;white-space:break-spaces}[class^=glide-icon-],[class*=" glide-icon-"]{font-family:glide!important;speak:never;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.glide-icon-interaction:before{content:"\\e904"}.glide-icon-hover-element:before{content:"\\e901"}.glide-icon-visibility:before{content:"\\e900";color:#53565a}.glide-icon-connect:before{content:"\\e902";color:#53565a}.glide-icon-disconnect:before{content:"\\e903";color:#53565a}.glide-icon-move:before{content:"\\e906"}\n'],encapsulation:3})}}const S3=n=>{nZ(n),oZ(n)},Koe=()=>{const n=window;return"function"!=typeof n.DA?.getCspNonce?"":n.DA.getCspNonce()},ere=function(){var n=g(function*(e){const t={appRef:null,root:null};try{S3("extension"),t.root=document.createElement(e),t.root.classList.add("glide-app-extension"),document.body.appendChild(t.root),t.appRef=yield wU(lw,{providers:[...fX,{provide:fg,useClass:fg},{provide:hg,useClass:hg},{provide:gg,useClass:gg},{provide:Wo,useClass:Wo}]})}catch(r){throw t.root&&document.body.removeChild(t.root),r}return t});return function(t){return n.apply(this,arguments)}}(),tre=function(){var n=g(function*(e){const t={appRef:null,root:null};try{S3("snippet"),t.root=document.createElement(e),t.root.classList.add("glide-app-standalone"),document.body.appendChild(t.root),t.appRef=yield wU(lw,{providers:[...hX,{provide:fg,useClass:fg},{provide:hg,useClass:hg},{provide:gg,useClass:gg},{provide:x_,useValue:Koe()},{provide:Wo,useClass:Wo}]})}catch(r){throw t.root&&document.body.removeChild(t.root),r}return t});return function(t){return n.apply(this,arguments)}}();var rf,lE;!function(n){n[n.Page=0]="Page",n[n.Components=1]="Components"}(rf||(rf={}));class Lp{constructor(e,t){this.renderManager=e,this.contentScriptColleagueService=t,this.on=!1,this.onSend=null,this.mode=null,this.rootIsHovered=!1,this.frameRef=null,this.renderSelectionFrameAndScheduleClear=fA(o=>{if(o){if(this.nonTargetable(o)||!this.rootIsHovered)return;this.frameRef?.destroy();const r=this.renderManager.renderSelectionFrame({targetDimensions:this.getBoundingClientRect(o)});this.frameRef=r;const i=()=>r?.destroy();o.addEventListener("mouseout",i,{once:!0}),o.addEventListener("mouseleave",i,{once:!0})}},50),this.handleClick=o=>{const r=this.stopEventAndGetTarget(o);r&&this.composeAndSendSelectionInfo(r)},this.handleMouseOver=o=>{this.rootIsHovered=!0;const r=this.stopEventAndGetTarget(o);this.renderSelectionFrameAndScheduleClear(r)},this.handleMouseDown=o=>{this.stopEventAndGetTarget(o)},this.handleMouseOut=o=>{o.relatedTarget||(this.rootIsHovered=!1)},this.handleWindowBlur=()=>{this.onSend?.(),this.turnOff(),this.contentScriptColleagueService.cancelSelectionAllFrames()},this.handleDocumentVisibilityChange=()=>{"hidden"===document.visibilityState&&(this.onSend?.(),this.turnOff(),this.contentScriptColleagueService.cancelSelectionAllFrames())}}clearState(){this.onSend=null,this.mode=null}clearComponents(){this.frameRef?.destroy(),this.frameRef=null}clear(){this.clearState(),this.clearComponents()}nonTargetable(e){return this.nonTargetableGLElement(e)||this.isIframe(e)}isIframe(e){return"IFRAME"===e.tagName}nonTargetableGLElement(e){return this.mode===rf.Components&&!this.getGLStyleClass(e)}getGLStyleClass(e){return Array.from(e.classList).find(t=>t.startsWith("gl-style"))}stopEventAndGetTarget(e){return e.stopPropagation(),e.preventDefault(),e.target}getBoundingClientRect(e){const t=e?.getBoundingClientRect();return t?new DOMRect(t.left,t.top+window.scrollY,t.width,t.height):null}generateSelectionInfo(e){return{status:"new item",selector:{type:yr.XPath,value:Rt.getXPathForElement(e)},class:this.getGLStyleClass(e),targetUrl:this.getTargetURL()}}getTargetURL(){return x0()?window.location.href:""}composeAndSendSelectionInfo(e){const t=this.generateSelectionInfo(e);this.onSend?.(t),this.turnOff(),this.contentScriptColleagueService.cancelSelectionAllFrames()}getRoot(){const e=document.querySelector(va);return e||(this.mode=rf.Page),{root:this.mode===rf.Components?e.shadowRoot:window,clickRoot:this.mode===rf.Components?e.shadowRoot:document}}turnOn({onSend:e,mode:t}){if(!this.on){this.on=!0,this.onSend=e||null,this.mode=t||null;const{root:o,clickRoot:r}=this.getRoot();o.addEventListener("mouseover",this.handleMouseOver,!0),o.addEventListener("mousedown",this.handleMouseDown,!0),o.addEventListener("mouseout",this.handleMouseOut,!0),r.addEventListener("click",this.handleClick,!0),window.addEventListener("blur",this.handleWindowBlur),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange)}}turnOff(){if(this.on){this.on=!1;const{root:e,clickRoot:t}=this.getRoot();e.removeEventListener("mouseover",this.handleMouseOver,!0),e.removeEventListener("mousedown",this.handleMouseDown,!0),e.removeEventListener("mouseout",this.handleMouseOut,!0),t.removeEventListener("click",this.handleClick,!0),window.removeEventListener("blur",this.handleWindowBlur),document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange)}this.clear()}static{this.\u0275fac=function(t){return new(t||Lp)(L(tu),L(nf))}}static{this.\u0275prov=F({token:Lp,factory:Lp.\u0275fac,providedIn:"root"})}}!function(n){n.Highlight="Highlight",n.Click="Click",n.Menu="Menu",n.PopUp="Pop-up"}(lE||(lE={}));class Vp{constructor(e,t){this.renderManager=e,this.contentSideStoreService=t,this.on=!1,this.ref=null}get ready(){return!this.on}turnOn(e,t){if(this.ready)switch(this.on=!0,e){case lE.Highlight:this.ref=this.renderManager.renderHighlight({...t,configureMode:!0});break;case lE.PopUp:this.ref=this.renderManager.renderPopUp({...t,configureMode:!0});break;default:this.on=!1}}modify(e){this.on&&(Object.keys(e).forEach(t=>{this.ref?.setInput(t,e[t])}),this.ref?.changeDetectorRef.detectChanges())}turnOff(){this.on&&(this.ref?.destroy(),this.ref=null,this.on=!1)}updateEditingGuidedTourStep(e){this.contentSideStoreService.setEditingGuidedTourStep({...e,configureMode:!0})}destroyEditingGuidedTourStep(){this.contentSideStoreService.setEditingGuidedTourStep(null)}updateEditingMenu(e){this.contentSideStoreService.setEditingMenu({...e,configureMode:!0})}destroyEditingMenu(){this.contentSideStoreService.setEditingMenu(null)}updateEditingPopUp(e){this.contentSideStoreService.setEditingPopUp({...e,configureMode:!0})}destroyEditingPopUp(){this.contentSideStoreService.destroyEditingPopUp(null)}updateEditingResource(e){this.contentSideStoreService.setEditingResource({...e,configureMode:!0})}destroyEditingResource(){this.contentSideStoreService.destroyEditingResource(null)}updateEditingSurvey(e){this.contentSideStoreService.setEditingSurvey({...e,configureMode:!0})}destroyEditingSurvey(){this.contentSideStoreService.setEditingSurvey(null)}updateEditingAIHelper(e){this.contentSideStoreService.setEditingAIHelper({...e,configureMode:!0})}destroyEditingAIHelper(){this.contentSideStoreService.setEditingAIHelper(null)}updateEditingSmartNudge(e){this.contentSideStoreService.setEditingSmartNudge({...e,configureMode:!0})}destroyEditingSmartNudge(){this.contentSideStoreService.setEditingSmartNudge(null)}updateEditingButton(e){this.contentSideStoreService.setEditingButton({...e,configureMode:!0})}destroyEditingButton(){this.contentSideStoreService.setEditingButton(null)}updateEditingToast(e){this.contentSideStoreService.setEditingToast({...e,configureMode:!0})}destroyEditingToast(){this.contentSideStoreService.setEditingToast(null)}destroyAllEditing(){this.destroyEditingMenu(),this.destroyEditingGuidedTourStep(),this.destroyEditingPopUp(),this.destroyEditingResource(),this.destroyEditingSurvey(),this.destroyEditingAIHelper(),this.destroyEditingSmartNudge(),this.destroyEditingButton(),this.destroyEditingToast()}getCurrentCustomClasses(e){const t=[],o=[],r=document.getElementsByTagName(va)[0];r?.shadowRoot&&this.populateClasses({childNodes:r.shadowRoot.childNodes},t);const i=t.filter(s=>s.includes("gl-style-")&&s.split(".").length>1);return e.forEach(s=>{const a=i.find(d=>d.includes(`gl-style-${s.element}-`));if(!a)return;const c={cssClass:a,element:s.element,comment:s.comment};o.push(c)}),o}populateClasses(e,t){e.classList&&e.classList.forEach(o=>t.push(o)),e.childNodes.forEach(o=>{o instanceof HTMLElement&&this.populateClasses(o,t)})}static{this.\u0275fac=function(t){return new(t||Vp)(L(tu),L(xn))}}static{this.\u0275prov=F({token:Vp,factory:Vp.\u0275fac,providedIn:"root"})}}class cw{constructor(e,t,o,r,i,s,a,c){this.selectionService=e,this.realtimeConfigureService=t,this.ruleEngineDataService=o,this.contentSideStoreService=r,this.pageInteractionService=i,this.clientSideThemeService=s,this.pageLoadCompleteProvider=a,this.logger=c,this.contentScriptColleagueService=C(nf)}init(){this.initListeners()}initListeners(){this.addAdminListener(),this.addUserListener(),this.contentScriptColleagueService.notifyFrameLoad()}addAdminListener(){chrome.runtime.onMessage.addListener((e,t,o)=>{switch(e.command){case q.RenderMenu:case q.ModifyMenu:return this.realtimeConfigureService.updateEditingMenu(e.menuFlow),o(),!0;case q.DestroyMenu:return this.realtimeConfigureService.destroyEditingMenu(),o(),!0;case q.StartStepSelectionFlow:return this.selectionService.turnOn({onSend:o,mode:rf.Page}),!0;case q.StartStepRenderingFlow:return e.guidedTourFlowItem?(this.realtimeConfigureService.updateEditingGuidedTourStep({selector:e.guidedTourFlowItem.selector,title:e.guidedTourFlowItem.title,description:e.guidedTourFlowItem.description,position:e.guidedTourFlowItem.position,nextBehavior:e.guidedTourFlowItem.nextBehavior,mainTrigger:e.guidedTourFlowItem.mainTrigger,overlay:e.guidedTourFlowItem.overlay,styles:e.guidedTourFlowItem.styles,stepContent:e.guidedTourFlowItem.stepContent,cases:e.guidedTourFlowItem.cases,targetUrl:e.guidedTourFlowItem.targetUrl,continueInNewTab:e.guidedTourFlowItem.continueInNewTab,zIndex:e.guidedTourFlowItem.zIndex,attachedToHostElement:e.guidedTourFlowItem.attachedToHostElement,lang:e.guidedTourFlowItem.lang}),o(),!0):void 0;case q.CancelSelection:return this.selectionService.turnOff(),this.realtimeConfigureService.destroyAllEditing(),o(),!0;case q.ModifyStepFlow:return e.guidedTourFlowItem?(this.realtimeConfigureService.updateEditingGuidedTourStep({selector:e.guidedTourFlowItem.selector,title:e.guidedTourFlowItem.stepContent.header.content,description:e.guidedTourFlowItem.stepContent.header.content,position:e.guidedTourFlowItem.position,nextBehavior:e.guidedTourFlowItem.nextBehavior,mainTrigger:e.guidedTourFlowItem.mainTrigger,overlay:e.guidedTourFlowItem.overlay,styles:e.guidedTourFlowItem.styles,stepContent:e.guidedTourFlowItem.stepContent,targetUrl:e.guidedTourFlowItem.targetUrl,continueInNewTab:e.guidedTourFlowItem.continueInNewTab,zIndex:e.guidedTourFlowItem.zIndex,attachedToHostElement:e.guidedTourFlowItem.attachedToHostElement,translation:e.guidedTourFlowItem.translation,lang:e.guidedTourFlowItem.lang}),o(),!0):void 0;case q.RenderAIHelper:case q.ModifyAIHelper:return this.realtimeConfigureService.updateEditingAIHelper(e.aiHelper),o(),!0;case q.DestroyAIHelper:return this.realtimeConfigureService.destroyEditingAIHelper(),o(),!0;case q.RenderSmartNudge:case q.ModifySmartNudge:return this.realtimeConfigureService.updateEditingSmartNudge(e.smartNudge),o(),!0;case q.DestroySmartNudge:return this.realtimeConfigureService.destroyEditingSmartNudge(),o(),!0;case q.RenderButton:case q.ModifyButton:return this.realtimeConfigureService.updateEditingButton(e.button),o(),!0;case q.DestroyButton:return this.realtimeConfigureService.destroyEditingButton(),o(),!0;case q.OpenAdminEditorStateChange:return e.isOpen||(this.realtimeConfigureService.destroyAllEditing(),this.selectionService.turnOff()),o(),!0;case q.UrlChange:this.pageLoadCompleteProvider.isPageLoadingComplete.next(!1),this.realtimeConfigureService.destroyEditingGuidedTourStep();break;case q.GetCurrentCustomClasses:if(e.targetUrl&&!NB(e.targetUrl))break;const i=e.stylesMapping,s=this.realtimeConfigureService.getCurrentCustomClasses(i);return setTimeout(()=>{o(s)},300),!0;case q.ApplyTheme:o(this.clientSideThemeService.isThemeSet(e.theme));break;case q.GetBrowserCtx:const c=e;return this.ruleEngineDataService.getBrowserContext({globalContextValues:c.details}).then(m=>{this.logger.log("browserCtx",m),o(m)}).catch(()=>o(null)),!0;case q.GetElementByXpath:case q.GetElementVisibilityByXPath:case q.GetElementCount:case q.GetElementValue:const{xPath:d,type:f}=e.details;return(m=>{switch(m){case q.GetElementByXpath:return this.ruleEngineDataService.getElementByXpath(d,o),!0;case q.GetElementVisibilityByXPath:return this.ruleEngineDataService.getElementVisibilityByXPath(d,o),!0;case q.GetElementCount:return this.ruleEngineDataService.getElementCountByXpath(d,o),!0;case q.GetElementValue:return this.ruleEngineDataService.getElementValueByXpath(d,f,o),!0}})(e.command);case q.GetElementValueMap:const{xPaths:y}=e.details;return this.ruleEngineDataService.getElementValueMap(y,o),!0;case q.GetElementType:{const{xPath:m}=e.details;o(Rt.getElementType(m));break}case q.PageLoadComplete:this.pageLoadCompleteProvider.isPageLoadingComplete.next(!0)}})}addUserListener(){chrome.runtime.onMessage.addListener((e,t,o)=>{switch(e.command){case q.UpdateClientSideState:const r=e;this.contentSideStoreService.updateClientSideState(r?.details),this.logger.log("client side state",r?.details),o();break;case q.RunFlowEffect:const i=e.details;if("scroll"===i.type)this.pageInteractionService.scrollEffect(i);break;case q.EmulateUserInteraction:const s=e;return this.pageInteractionService.dispatchUserEvent(s.details.selector,s.details.interaction).then(p=>o(p)),!0;case q.UpdateClientSideActiveTour:const a=e.details;this.contentSideStoreService.setActiveTour(a),o();break;case q.UpdateVisibilityFlows:const c=e.details;this.contentSideStoreService.setVisibleFlowsIds(c),o();break;case q.ShowContentBasedOnCondition:const d=e.details;this.contentSideStoreService.setShouldShowContentBasedOnCondition(d),o();break;case q.UpdateClientSideMenuExpandedState:const f=e.details;return this.contentSideStoreService.setMenuExpandedState(f),o(),!0}})}static{this.\u0275fac=function(t){return new(t||cw)(L(Lp),L(Vp),L(Uc),L(xn),L(xd),L(Rd),L(kd),L(Be))}}static{this.\u0275prov=F({token:cw,factory:cw.\u0275fac,providedIn:"root"})}}class uw{constructor(){this.messageService=C(Ao),this.logger=C(Be)}log(e,t){this.logByType(e,"log",t)}warn(e,t){this.logByType(e,"warn",t)}error(e,t){this.logByType(e,"error",t)}logByType(e,t,o){o?this.messageService.logByType({tabId:o,args:e,type:t}):this.logger[t](...e)}static{this.\u0275fac=function(t){return new(t||uw)}}static{this.\u0275prov=F({token:uw,factory:uw.\u0275fac,providedIn:"root"})}}class Bp extends cw{constructor(e,t,o,r,i,s,a,c,d,f,p,y){super(e,t,o,i,r,p,s,d),this.selectionService=e,this.realtimeConfigureService=t,this.ruleEngineDataService=o,this.pageInteractionService=r,this.contentSideStoreService=i,this.pageLoadCompleteProvider=s,this.iframeAuthService=a,this.glidePlatformService=c,this.logger=d,this.glideDataService=f,this.clientSideThemeService=p,this.siteAuthProviderService=y,this.contentSideLogger=C(uw),this.languageDetectionService=C(Vd),this.toastService=C(Bd)}init(){this.initListeners()}initListeners(){this.glidePlatformService.isExtensionPlatform()&&(this.addPingListener(),this.addAdminListener(),this.addUserListener(),this.addAuthListener())}addAdminListener(){super.addAdminListener(),chrome.runtime.onMessage.addListener((e,t,o)=>{switch(e.command){case q.RenderMenu:case q.ModifyMenu:return this.realtimeConfigureService.updateEditingMenu(e.menuFlow),o(),!0;case q.DestroyMenu:return this.realtimeConfigureService.destroyEditingMenu(),o(),!0;case q.RenderPopUp:case q.ModifyPopUp:return this.realtimeConfigureService.updateEditingPopUp(e.popUpFlow),o(),!0;case q.DestroyPopUp:return this.realtimeConfigureService.destroyEditingPopUp(),o(),!0;case q.RenderResource:case q.ModifyResource:return this.realtimeConfigureService.updateEditingResource(e.resourceFlowItem),o(),!0;case q.DestroyResource:return this.realtimeConfigureService.destroyEditingResource(),o(),!0;case q.RenderSurvey:case q.ModifySurvey:return this.realtimeConfigureService.updateEditingSurvey(e.surveyFlowItem),o(),!0;case q.DestroySurvey:return this.realtimeConfigureService.destroyEditingSurvey(),o(),!0;case q.RenderToast:case q.ModifyToast:return this.realtimeConfigureService.updateEditingToast(e.toast),o(),!0;case q.DestroyToast:return this.realtimeConfigureService.destroyEditingToast(),o(),!0;case q.ValidateXPathFormat:const r=e.details;return o(Rt.isValidXPathFormat(r)),!0}})}addUserListener(){super.addUserListener(),chrome.runtime.onMessage.addListener((e,t,o)=>{switch(e.command){case q.NavigateTo:const r=e;this.pageInteractionService.navigateTo(r.details),o();break;case q.MenuInProgress:const i=e.details;this.contentSideStoreService.setMenuInProgress(i),o();break;case q.SetGlideVariable:const s=e.details;return this.glideDataService.saveData(s).then(()=>{o()}),!0;case q.RunFlowEffect:const a=e.details;switch(a.type){case"warning":this.pageInteractionService.warningEffect(a);break;case"toast":this.toastService.show(a.details)}break;case q.LogByType:const{type:c,args:d}=e.details;this.contentSideLogger.logByType(d,c);break;case q.GetLang:const{langs:f}=e.details;return this.languageDetectionService.detectLang({filterLanguages:f}).then(p=>{o(p)}),!0}})}addPingListener(){chrome.runtime.onMessage.addListener((e,t,o)=>{switch(e.command){case q.PingGlideContentScript:case q.PingRuntimeLoaded:o("loaded")}})}addAuthListener(){chrome.runtime.onMessage.addListener((e,t,o)=>{switch(e.command){case q.AuthorizeSilentlyWithIframe:const r=e;return this.iframeAuthService.authorizeSilentlyWithIframe({iframeUrl:r.url,isPrevTokenFallback:Jt.usePrevisousAccessTokenFallback,expiredAccessTokenProlongedLifetimeMins:Jt.expiredAccessTokenProlongedLifetimeMins,expiredAccessTokenMaxLifetimeMins:Jt.expiredAccessTokenMaxLifetimeMins}).then(s=>{o(s.accessToken)}),!0;case q.GetAuthEmail:const i=e;return this.siteAuthProviderService.extractAuthEmail(i.details).then(s=>{o(s)}),!0}})}static{this.\u0275fac=function(t){return new(t||Bp)(L(Lp),L(Vp),L(Uc),L(xd),L(xn),L(kd),L(gg),L(Hr),L(Be),L(Og),L(Rd),L(Wg))}}static{this.\u0275prov=F({token:Bp,factory:Bp.\u0275fac,providedIn:"root"})}}class Up{constructor(e,t,o){this.fetchService=e,this.glideConfigService=t,this.logger=o}getAssignedSystemFlows(e){var t=this;return g(function*(){let o=null,r=null,i=null,s=null,a=null,c=[];const p={resource:`${t.glideConfigService.getCachedConfig().widgetOriginName}systemflows/assigned`,options:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:e})}},y=yield t.fetchService.performFetch(p);if(y)try{let m=null,b=[];const T=yield y.json();Array.isArray(T)?b=T:(b=T.systemFlows,m=T.theme,s=T.systemId,a=T.environmentId),i=T.settings,c=i?.languages??[],o=b.map(M=>({...M,isPublished:"boolean"!=typeof M.isPublished||M.isPublished}));try{r={name:m.name,configuration:Cq(m.configuration)}}catch{t.logger.warn("Can`t parse the theme for this system")}}catch{t.logger.warn("Flows for "+e+" doesn't exist")}return{systemFlows:o,theme:r,settings:i,systemId:s,environmentId:a,languages:c}})()}activatedAutoTriggersByTours(e,t,o){var r=this;return g(function*(){let i=null;const d={resource:`${r.glideConfigService.getCachedConfig().widgetOriginName}systemflowevents/list/system`,options:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({siteUrl:t,systemId:e,systemFlowActionKindId:At.AutoRunTrigger,eventTypeId:st.AutoStart})},tabId:o,caching:!0},f=yield r.fetchService.performFetch(d);if(f)try{i=yield f.json()}catch(p){r.logger.warn(p)}return i})()}getSystemByUrl(e){var t=this;return g(function*(){const i={resource:`${t.glideConfigService.getCachedConfig().widgetOriginName}systems/by-url`,options:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({url:e})}},s=yield t.fetchService.performFetch(i);return s.ok?yield s.json():{systemId:null}})()}static{this.\u0275fac=function(t){return new(t||Up)(L(Gr),L(no),L(Be))}}static{this.\u0275prov=F({token:Up,factory:Up.\u0275fac,providedIn:"root"})}}class dw{constructor(e,t,o,r,i,s,a){this.playModeService=e,this.endUserFlowApiService=t,this.messageService=o,this.logger=r,this.translationDataService=i,this.persistentStateService=s,this.userSettingsService=a}flowProcessing(e,t){var o=this;return g(function*(){t?yield o.playModeService.startProcessingFlows(e):yield o.getConfiguredFlowsAndStartProcessing(e),o.publicOnLoadTrigger(e)})()}stopProcessingFlows(e){this.playModeService.stopProcessingFlows({tabId:e.tabId,url:e.url,frameId:e.iframeId},{originator:e.originator})}getConfiguredFlowsAndStartProcessing(e){var t=this;return g(function*(){const{systemFlows:o,theme:r,settings:i,systemId:s,environmentId:a,languages:c}=yield t.endUserFlowApiService.getAssignedSystemFlows(e.url);if(!s||!a)return void t.logger.warn("No system or environment assigned for this site URL. Flow processing will not start.");const[d,f]=yield Promise.all([t.userSettingsService.getUserSettings(s,a),t.userSettingsService.getUserContext(s,a)]);yield t.persistentStateService.setEndUserViewOptions({tabId:e.tabId,options:{systemId:s,environmentId:a,userSettings:d,minimumSupportedWidth:i?.minimumSupportedWidth,minimumSupportedHeight:i?.minimumSupportedHeight,theme:r}}),yield t.persistentStateService.setEndUserErrorsOptions({tabId:e.tabId,options:{isErrorsOn:i?.isErrorsOn,messageResolution:i?.messageResolution,messageXPathNotFound:i?.messageXPathNotFound,messageContentUnavailable:i?.messageContentUnavailable}});const{tabId:p,frameId:y}=e;if(("number"!=typeof y||0===y)&&(yield t.setLang({tabId:p,frameId:y,filterLangs:c})),yield t.persistentStateService.setEndUserCurrentTheme({tabId:e.tabId,theme:r}),yield t.messageService.applyTheme({tabId:e.tabId,theme:r}),!o?.length)return;const b=yield t.loadActivatedAutoTriggers(o,e.url,e.tabId),T=o.map(M=>({...M,id:M.systemFlowId})).filter(M=>!!M.isPublished);t.logger.log("configured flows",T),yield t.playModeService.startProcessingFlows(e,T,b,f)})()}loadActivatedAutoTriggers(e,t,o){var r=this;return g(function*(){let i=[];if(e?.length)try{i=yield r.endUserFlowApiService.activatedAutoTriggersByTours(e[0].systemId,t,o)}catch{r.logger.warn("Error during receiving last run of auto trigger. Proceed with empty."),i=[]}return i})()}publicOnLoadTrigger(e){var t=this;setTimeout(g(function*(){t.playModeService.handleTrigger(e,{type:ji.Load,action:$i.AutoPlay}),t.notifyOnLoadPageComplete(e)}),200)}notifyOnLoadPageComplete(e){this.messageService.emitPageLoadComplete(e.tabId)}setLang(e){var t=this;return g(function*(){const{tabId:o,filterLangs:r}=e,i=yield t.persistentStateService.getState(o),s=yield t.messageService.resolveLang(e);yield t.persistentStateService.setState({...i,lang:s,langs:t.getLangsByCodes({langCodes:r})},o)})()}getLangsByCodes(e){const{langCodes:t}=e;return this.translationDataService.getLanguagesByCodes({langCodes:t,withDefault:!0})}static{this.\u0275fac=function(t){return new(t||dw)(L(Nd),L(Up),L(Ao),L(Be),L($r),L(_l),L(Gg))}}static{this.\u0275prov=F({token:dw,factory:dw.\u0275fac,providedIn:"root"})}}class fw{constructor(e,t,o){this.fetchService=e,this.glideConfigService=t,this.logger=o}getCurrentSystemSettings(){var e=this;return g(function*(){const t=yield e.glideConfigService.getSystemGuid();return t?e.getSystemSettingsByGuid(t):(e.logger.warn("There are no current system GUID specified"),null)})()}getSystemSettingsByGuid(e){var t=this;return g(function*(){const i={resource:`${t.glideConfigService.getCachedConfig().widgetOriginName}systems/guid/${e}`,options:{method:"GET",headers:{Accept:"application/json"}}};return yield(yield t.fetchService.performFetch(i)).json()})()}static{this.\u0275fac=function(t){return new(t||fw)(L(Gr),L(no),L(Be))}}static{this.\u0275prov=F({token:fw,factory:fw.\u0275fac,providedIn:"root"})}}class hw{constructor(){this.configService=C(no),this.fetchService=C(Gr)}save(e){var t=this;return g(function*(){const{data:o}=e,r=yield t.getConfig();yield t.fetchService.performFetch({resource:`${r.widgetOriginName}web-analytics/events`,options:{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o)},authFailedAllowed:!0,caching:!1})})()}getConfig(){var e=this;return g(function*(){return e.configService.getCachedConfig()})()}static{this.\u0275fac=function(t){return new(t||hw)}}static{this.\u0275prov=F({token:hw,factory:hw.\u0275fac,providedIn:"root"})}}class gw{constructor(){this.platformStorage=C(B0),this.storageKey="glideUnsavedEvents"}withUnsentEventsStorage(e){var t=this;const{eventStream:o,bufferTimeMs:r,beforeUnloadStream:i}=e,s=this.storageKey;let a=[],c=!0;const d=i.pipe(_a(()=>{c=!1}),mt(()=>a),jn(p=>p.length>0),vi(p=>Wi(this.saveUnsavedEvents({storageKey:s,events:p}).then(()=>p)))),f=o.pipe(_a(p=>{c=!0,a.push(p)}),this.makeBuffer({bufferTimeMs:r}),jn(()=>c),vi(function(){var p=g(function*(y){return[...y,...yield t.getAndDeleteUnsavedEvents({storageKey:s})].filter((b,T,M)=>T===M.findIndex(O=>O.id===b.id))});return function(y){return p.apply(this,arguments)}}()));return Sl(d,f).pipe(jn(p=>p.length>0),_a(()=>{a=[]}))}makeBuffer(e){const{bufferTimeMs:t}=e;return function ore(n,...e){var t,o;const r=null!==(t=pg(e))&&void 0!==t?t:rp,i=null!==(o=e[0])&&void 0!==o?o:null,s=e[1]||1/0;return kn((a,c)=>{let d=[],f=!1;const p=b=>{const{buffer:T,subs:M}=b;M.unsubscribe(),pu(d,b),c.next(T),f&&y()},y=()=>{if(d){const b=new bn;c.add(b);const M={buffer:[],subs:b};d.push(M),Is(b,r,()=>p(M),n)}};null!==i&&i>=0?Is(c,r,y,i,!0):f=!0,y();const m=cn(c,b=>{const T=d.slice();for(const M of T){const{buffer:O}=M;O.push(b),s<=O.length&&p(M)}},()=>{for(;d?.length;)c.next(d.shift().buffer);m?.unsubscribe(),c.complete(),c.unsubscribe()},void 0,()=>d=null);a.subscribe(m)})}(t)}getAndDeleteUnsavedEvents(e){var t=this;return g(function*(){const{storageKey:o}=e,r=yield t.platformStorage.loadFromStorage(o),i=r??[];return r&&(yield t.platformStorage.deleteFromStorage(o)),i})()}saveUnsavedEvents(e){var t=this;return g(function*(){const{storageKey:o,events:r}=e;yield t.platformStorage.saveToStorage(r,o)})()}static{this.\u0275fac=function(t){return new(t||gw)}}static{this.\u0275prov=F({token:gw,factory:gw.\u0275fac,providedIn:"root"})}}class pw{constructor(){this.eventSubj=new gn,this.events$=this.eventSubj.asObservable()}addAppEvent(e){this.eventSubj.next(e)}static{this.\u0275fac=function(t){return new(t||pw)}}static{this.\u0275prov=F({token:pw,factory:pw.\u0275fac,providedIn:"root"})}}function T3(){return crypto?.randomUUID?crypto?.randomUUID():function rre(){let e=(new Date).getTime(),t=performance&&performance.now&&performance.now()*br||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,o=>{let r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),("x"===o?r:3&r|8).toString(16)})}()}class mw{constructor(){this.platformStorage=C(B0),this.eventsSubj=new gn,this.events$=this.eventsSubj.asObservable()}onEvent(e){var t=this;return g(function*(){const{event:o}=e,r={...o,id:T3(),timestamp:(new Date).toISOString(),browserId:yield t.getOrCreateEventBrowserId()};t.eventsSubj.next(r)})()}getOrCreateEventBrowserId(){var e=this;return g(function*(){const t="glideAnalyticsEventBrowserId",o=yield e.platformStorage.loadFromStorage(t);if(o)return o;const r=T3();return yield e.platformStorage.saveToStorage(r,t),r})()}static{this.\u0275fac=function(t){return new(t||mw)}}static{this.\u0275prov=F({token:mw,factory:mw.\u0275fac,providedIn:"root"})}}const ire={systems:[]};function I3(n){const{text:e,doc:t}=n;return Array.from(t.querySelectorAll("*")).find(o=>o.textContent.trim().includes(e))}const sre={figmaRequestEditingModal:n=>{const{doc:e}=n;return!!I3({text:"You need a Full seat to edit files",doc:e})},pluginLocalSandboxModal:n=>{const{doc:e}=n;return!!I3({text:"This is a simple modal window",doc:e})}};class _w{constructor(){this.window=C(Gd).win,this.document=this.window.document,this.bodyClicks$=yo(this.document.body,"click"),this.bodyClicksEvents$=this.bodyClicks$.pipe(mt(e=>({type:"elementClick",event:e})),v0()),this.domMutations$=new ht(e=>{const t=new this.window.MutationObserver(o=>{e.next(o)});return t.observe(this.document.body,{childList:!0,subtree:!0,attributes:!1,characterData:!1}),()=>t.disconnect()}),this.domMutationsEvents$=this.domMutations$.pipe(mt(e=>({type:"domMutation",event:e})),v0()),this.events$=Sl(this.bodyClicksEvents$,this.domMutationsEvents$)}isEventElementClick(e){return"elementClick"===e.type}isEventDonMutation(e){return"domMutation"===e.type}static{this.\u0275fac=function(t){return new(t||_w)}}static{this.\u0275prov=F({token:_w,factory:_w.\u0275fac,providedIn:"root"})}}class vw{constructor(){this.eventProvider=C(_w),this.windowService=C(Gd)}getMessageAppEventStream(e){const{systemEvents:t}=e,o=t.map(r=>this.getMessageAppEventStreamFromSystemEvent({systemEvent:r})).filter(Boolean);return o.length?Sl(...o):qv}getMessageAppEventStreamFromSystemEvent(e){const{systemEvent:t}=e,{win:o}=this.windowService;if(this.isTrackingEventsElementShown(t)){let r=!1;return this.eventProvider.domMutationsEvents$.pipe(mt(()=>this.isElementShownByPredicate({predicateName:t.data.selectorPredicateName,defaultValue:!1})),jn(i=>i!==r),_a(i=>{r=i}),jn(Boolean),mt(()=>{const{text:i}=t.data;return{type:"appEvent",payload:{url:o.location.href,systemId:null,type:"elementShown",data:{text:i}}}}))}return null}isTrackingEventsElementShown(e){return"elementShown"===e.type}isElementShownByPredicate(e){const{document:t}=this.windowService.win,{predicateName:o,defaultValue:r}=e;if(!o)return r;const i=sre[o];return"function"!=typeof i?r:i({doc:t})}static{this.\u0275fac=function(t){return new(t||vw)}}static{this.\u0275prov=F({token:vw,factory:vw.\u0275fac,providedIn:"root"})}}const E3_trackingEvents=[{type:"pageView",requiresPageInteraction:!1},{type:"elementClick",requiresPageInteraction:!0},{type:"elementShown",requiresPageInteraction:!0}],E3_snippetEventBufferTimeMs=1e3;class yw{constructor(){this.endUserFlowApiService=C(Up),this.tabIdToSystemId={}}getSystemId(e){var t=this;return g(function*(){const{tabId:o,url:r}=e;if(!o)return null;if(r){const s=t.tabIdToSystemId[o]?.[r];if(s)return s}const i=yield t.resolveSystemId({url:r});return i&&r&&t.setTabData({tabId:o,url:r,systemId:i}),i})()}setTabData(e){const{tabId:t,url:o,systemId:r}=e;this.tabIdToSystemId[t]={[o]:r}}clearTabData(e){const{tabId:t}=e;this.tabIdToSystemId[t]&&delete this.tabIdToSystemId[t]}resolveSystemId(e){var t=this;return g(function*(){const{url:o}=e;if(!o)return null;try{return yield t.getSystemIdByUrl({url:o})}catch{return null}})()}getSystemIdByUrl(e){var t=this;return g(function*(){const{url:o}=e;return(yield t.endUserFlowApiService.getSystemByUrl(o)).systemId})()}static{this.\u0275fac=function(t){return new(t||yw)}}static{this.\u0275prov=F({token:yw,factory:yw.\u0275fac,providedIn:"root"})}}class bw{constructor(){this.glideCommonService=C(Nc)}getSystemTrackingEvents(e){var t=this;return g(function*(){const{systemsConfig:o,url:r}=e;return o.systems.find(s=>t.glideCommonService.checkUrlMatchesAny(r,s.urls))?.trackingEvents??[]})()}static{this.\u0275fac=function(t){return new(t||bw)}}static{this.\u0275prov=F({token:bw,factory:bw.\u0275fac,providedIn:"root"})}}class Hp{constructor(){this.analyticsEventTrackerService=C(mw),this.analyticsEventBatchService=C(gw),this.analyticsApiService=C(hw),this.analyticsEventBusService=C(pw),this.analyticsEventHandlerService=C(vw),this.analyticsSystemService=C(yw),this.analyticsSystemEventService=C(bw),this.analyticsSystemsConfig=ire,this.trackingEvents=E3_trackingEvents,this.snippetTabIdFallback=-1,this.systemEventsSubj=new gn,this.beforeWindowUnloadStream$=yo(window,"beforeunload").pipe(mt(()=>!0)),this.bufferTimeMs=E3_snippetEventBufferTimeMs,this.subscriptions=[]}init(){this.watchAnalyticsEvents(),this.watchAnalyticsMessage(),this.watchAppEvents()}cleanUp(){this.subscriptions.forEach(e=>e.unsubscribe())}handleNavigation(e){var t=this;return g(function*(){const{url:o,pageTitle:r}=e;yield t.handleSystemEvents({url:o});const s={type:"pageView",url:o,systemId:yield t.getSystemId({url:o}),data:{title:r}};t.onEvent({event:s})})()}handleSystemEvents(e){var t=this;return g(function*(){const{url:o}=e,r=yield t.analyticsSystemEventService.getSystemTrackingEvents({systemsConfig:t.analyticsSystemsConfig,url:o});t.systemEventsSubj.next(r)})()}setSystemId(e){const{systemId:t,url:o}=e;this.analyticsSystemService.setTabData({tabId:this.snippetTabIdFallback,url:o,systemId:t})}onEvent(e){var t=this;return g(function*(){return t.analyticsEventTrackerService.onEvent(e)})()}watchAnalyticsEvents(){this.subscriptions.push(this.analyticsEventBatchService.withUnsentEventsStorage({eventStream:this.analyticsEventTrackerService.events$,bufferTimeMs:this.bufferTimeMs,beforeUnloadStream:this.beforeWindowUnloadStream$}).pipe(vi(e=>Wi(this.analyticsApiService.save({data:{events:e}})))).subscribe())}watchAnalyticsMessage(){this.subscriptions.push(this.analyticsEventBusService.events$.pipe(vi(e=>Wi(this.getSystemId({}).then(t=>this.analyticsEventTrackerService.onEvent({event:{...e.payload,systemId:t}}))))).subscribe())}watchAppEvents(){this.subscriptions.push(this.systemEventsSubj.pipe(jn(e=>this.hasPageInteractionTracking({systemEvents:e})),vi(e=>this.analyticsEventHandlerService.getMessageAppEventStream({systemEvents:e})),_a(e=>{this.analyticsEventBusService.addAppEvent(e)})).subscribe())}hasPageInteractionTracking(e){const{systemEvents:t}=e;return t.some(o=>this.trackingEvents.some(r=>r.type===o.type&&r.requiresPageInteraction))}getSystemId(e){var t=this;return g(function*(){const{url:o}=e;return t.analyticsSystemService.getSystemId({tabId:t.snippetTabIdFallback,url:o})})()}static{this.\u0275fac=function(t){return new(t||Hp)}}static{this.\u0275prov=F({token:Hp,factory:Hp.\u0275fac,providedIn:"root"})}}class ww{constructor(){this.userFlowService=C(dw),this.playModeService=C(Nd),this.userSystemSettings=C(fw),this.logger=C(Be),this.applicationContextService=C(Td),this.glideCommonService=C(Nc),this.translationDataService=C($r),this.analyticsSnippetFacadeService=C(Hp),this.systemEnvironmentSettings=null,this.isTrackingEnabled=!1,this.history=history,this.window=window,this.document=document,this.storeFlows=()=>{const e=this.window.location.href;this.playModeService.storeFlowsIfNavigation({url:e,tabId:null,parentFrameId:null,frameId:null})},this.handleNavigation=()=>{this.handleNavigationEvent(),this.loadUserFlows()}}init(){var e=this;return g(function*(){yield e.initTranslation(),yield e.getSystemSettings(),e.subscribeOnComplete(),e.subscribeOnHistoryChange()})()}subscribeOnComplete(){const e=fA(this.handleNavigation,this.configuredDebounceOrDefault());"complete"===this.document.readyState?e():this.window.addEventListener("load",e)}getSystemSettings(){var e=this;return g(function*(){try{const t=yield e.userSystemSettings.getCurrentSystemSettings(),o=e.window.location.href;e.analyticsSnippetFacadeService.setSystemId({systemId:t.id,url:o});const r=t.systemUrls.find(({systemUrl:a})=>e.glideCommonService.urlMatchesMask(o,a));e.isTrackingEnabled=r.isTrackingEnabled;const i=r?.environment,s=t.settings.environmentSettings.find(({environment:a})=>a===i);e.systemEnvironmentSettings=s}catch{e.logger.error("Unable to retrieve system settings for current system, default values will be used")}})()}subscribeOnHistoryChange(){const e=this.history.pushState,t=this.history.replaceState,o=this,r=fA(this.handleNavigation,this.configuredDebounceOrDefault()),i=this.storeFlows;this.history.pushState=function(...s){const c=s[2],d=o.window.location.pathname+o.window.location.search+o.window.location.hash;e.apply(this,arguments);const f=o.ignoreUrlsFromConfig(),p="/"===d.charAt(0);let y=c.toString();p&&"/"!==c.toString().charAt(0)&&(y="/"+c.toString());const m=o.shouldIgnoreReload(f,o.window.location.origin+y,o.window.location.origin+d);d!==c&&!m&&(i(),r())},this.history.replaceState=function(...s){const c=s[2],d=o.window.location.pathname+o.window.location.search+o.window.location.hash;t.apply(this,arguments);const f=o.ignoreUrlsFromConfig(),p="/"===d.charAt(0);let y=c.toString();p&&"/"!==c.toString().charAt(0)&&(y="/"+c.toString());const m=o.shouldIgnoreReload(f,o.window.location.origin+y,o.window.location.origin+d);d!==c&&!m&&(i(),r())},this.window.addEventListener("popstate",r)}configuredDebounceOrDefault(){return this.systemEnvironmentSettings?.startContentDelay?this.systemEnvironmentSettings?.startContentDelay*br:fl.onTabNavigationDebounceMs}ignoreUrlsFromConfig(){return this.systemEnvironmentSettings?.ignoreScriptRefreshOnUrls?this.systemEnvironmentSettings.ignoreScriptRefreshOnUrls:[]}shouldIgnoreReload(e,t,o){return e.filter(s=>this.glideCommonService.wholeUrlMatchesMask(o,s.from)).some(s=>this.glideCommonService.wholeUrlMatchesMask(t,s.to))}initTranslation(){return this.translationDataService.loadLanguageList()}loadUserFlows(){const e=this.window.location.href;this.applicationContextService.refreshApplicationContext({tabInfo:{tabId:0,url:e,frameId:null}}),this.userFlowService.flowProcessing({url:e,tabId:null,parentFrameId:null,frameId:null},!1)}handleNavigationEvent(){if(!this.isTrackingEnabled)return;const e=this.window.location.href,t=this.window.document.title??"";this.analyticsSnippetFacadeService.handleNavigation({url:e,pageTitle:t})}static{this.\u0275fac=function(t){return new(t||ww)}}static{this.\u0275prov=F({token:ww,factory:ww.\u0275fac,providedIn:"root"})}}var lu;!function(n){n.StartTour="GlStartTour",n.StopAllTours="GlStopAllTours",n.StartTourByName="GlStartTourByName",n.OpenMenu="GlOpenMenu",n.CloseMenu="GlCloseMenu"}(lu||(lu={}));class jp{constructor(){this.browserContextService=C(Pg),this.clientSideComponentEventService=C(Oo)}init(){this.registerScript(),this.registerEventListeners()}registerScript(){this.browserContextService.registerGlobalVariableScript()}registerEventListeners(){window.addEventListener("message",e=>{if(e.source!==window)return;const t=e.data;this.isGlGlobalVarMessage(t)&&(this.isGlobalVarActionStartTourByGuid(t)?this.clientSideComponentEventService.startUserGuidedTourByGuid({flowGuid:t.data}):this.isGlobalVarActionStartTourByUniqueId(t)?this.clientSideComponentEventService.startUserGuidedTourById({flowId:+t.data}):this.isGlobalVarActionOpenMenu(t)?this.clientSideComponentEventService.setMenuState(!0):this.isGlobalVarActionCloseMenu(t)?this.clientSideComponentEventService.setMenuState(!1):this.isGlobalVarActionStopAllTours(t)?this.clientSideComponentEventService.stopProcessingFlowsByType({originator:"user",flowTypes:[Te.GuidedTour]}):this.isGlobalVarActionStartTourByName(t)&&this.clientSideComponentEventService.startUserGuidedTourByName({name:t.data}))},!1)}isGlGlobalVarMessage(e){return e&&"object"==typeof e&&"GlGlobalVarMessage"===e.type}isGlobalVarActionStartTourByUniqueId(e){const{data:t}=e,o=String(t);return e.action===lu.StartTour&&o.length>0&&ck(o)}isGlobalVarActionStartTourByGuid(e){const{data:t}=e,o=String(t);return e.action===lu.StartTour&&o.length>0&&!ck(o)}isGlobalVarActionOpenMenu(e){return e.action===lu.OpenMenu}isGlobalVarActionCloseMenu(e){return e.action===lu.CloseMenu}isGlobalVarActionStopAllTours(e){return e.action===lu.StopAllTours}isGlobalVarActionStartTourByName(e){return e.action===lu.StartTourByName&&"string"==typeof e.data&&e.data.length>0}static{this.\u0275fac=function(t){return new(t||jp)}}static{this.\u0275prov=F({token:jp,factory:jp.\u0275fac,providedIn:"root"})}}(class cre{static init(e){var t=this;return g(function*(){if(!document.querySelector(va)){yield t.ensureZoneJs();const{appRef:r}=yield ere(va);r.injector.get(e).init(),r.injector.get(jp).init(),r.injector.get(Hd).init()}})()}static initStandalone(){var e=this;return g(function*(){if(!document.querySelector(va)){yield e.ensureZoneJs();const{appRef:o}=yield tre(va);o.injector.get(Bp).init(),o.injector.get(jp).init(),yield o.injector.get(no).init(),o.injector.get(ww).init(),o.injector.get(Hd).init(),o.injector.get(Bc).init({skipListeners:!0}),o.injector.get(zg).init({skipListeners:!0}),o.injector.get(Fg).init({skipListeners:!0}),o.injector.get(Eg).init({skipListeners:!0}),o.injector.get(Hg).init({skipListeners:!0}),o.injector.get(Hp).init()}})()}static ensureZoneJs(){return g(function*(){typeof Zone>"u"&&(yield B.e(809).then(B.t.bind(B,96935,23)))})()}}).init(Bp)},51012:(K,we,B)=>{var fe=B(54385)(B(81464),"Map");K.exports=fe},53327:K=>{var B=Object.prototype.toString;K.exports=function Z(g){return B.call(g)}},54385:(K,we,B)=>{var Z=B(60298),g=B(58737);K.exports=function fe(ae,pe){var se=g(ae,pe);return Z(se)?se:void 0}},54717:(K,we,B)=>{var Z=B(87005);K.exports=function g(fe){return null==fe?"":Z(fe)}},56399:(K,we,B)=>{var Z=B(58247);K.exports=function g(){this.__data__=Z?Z(null):{},this.size=0}},57433:K=>{K.exports=function we(B){return null!=B&&"object"==typeof B}},58130:(K,we,B)=>{var Z=B(15153),g=1/0;K.exports=function fe(ae){if("string"==typeof ae||Z(ae))return ae;var pe=ae+"";return"0"==pe&&1/ae==-g?"-0":pe}},58247:(K,we,B)=>{var g=B(54385)(Object,"create");K.exports=g},58653:(K,we,B)=>{var Z=B(61057),g=B(83278);K.exports=function be(he){if(!g(he))return!1;var dt=Z(he);return"[object Function]"==dt||"[object GeneratorFunction]"==dt||"[object AsyncFunction]"==dt||"[object Proxy]"==dt}},58737:K=>{K.exports=function we(B,Z){return B?.[Z]}},60298:(K,we,B)=>{var Z=B(58653),g=B(48401),fe=B(83278),ae=B(68020),se=/^\[object .+?Constructor\]$/,be=Function.prototype,he=Object.prototype,dt=be.toString,qt=he.hasOwnProperty,Zr=RegExp("^"+dt.call(qt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");K.exports=function Si(so){return!(!fe(so)||g(so))&&(Z(so)?Zr:se).test(ae(so))}},61057:(K,we,B)=>{var Z=B(8516),g=B(8488),fe=B(53327),se=Z?Z.toStringTag:void 0;K.exports=function be(he){return null==he?void 0===he?"[object Undefined]":"[object Null]":se&&se in Object(he)?g(he):fe(he)}},61483:K=>{K.exports=function we(B){var Z=this.has(B)&&delete this.__data__[B];return this.size-=Z?1:0,Z}},63028:(K,we,B)=>{var Z=B(56399),g=B(61483),fe=B(83434),ae=B(5230),pe=B(33718);function se(be){var he=-1,dt=null==be?0:be.length;for(this.clear();++he<dt;){var qt=be[he];this.set(qt[0],qt[1])}}se.prototype.clear=Z,se.prototype.delete=g,se.prototype.get=fe,se.prototype.has=ae,se.prototype.set=pe,K.exports=se},67376:function(K,we,B){var Z;K=B.nmd(K),function(){var g,se="Expected a function",he="__lodash_hash_undefined__",qt="__lodash_placeholder__",Tr=128,Fo=1/0,Vs=9007199254740991,Kr=4294967295,mE=[["ary",Tr],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],fu="[object Arguments]",Bs="[object Array]",hf="[object Boolean]",xa="[object Date]",hu="[object Error]",gf="[object Function]",Dw="[object GeneratorFunction]",ei="[object Map]",pf="[object Number]",ti="[object Object]",gu="[object Promise]",ka="[object RegExp]",ni="[object Set]",mf="[object String]",at="[object Symbol]",Aa="[object WeakMap]",bn="[object ArrayBuffer]",Oa="[object DataView]",_f="[object Float32Array]",vf="[object Float64Array]",es="[object Int8Array]",Ol="[object Int16Array]",yf="[object Int32Array]",Pa="[object Uint8Array]",Wp="[object Uint8ClampedArray]",qp="[object Uint16Array]",Yp="[object Uint32Array]",Xp=/\b__p \+= '';/g,Fa=/\b(__p \+=) '' \+/g,bf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xw=/&(?:amp|lt|gt|quot|#39);/g,wf=/[&<>"']/g,yE=RegExp(xw.source),Qp=RegExp(wf.source),bE=/<%-([\s\S]+?)%>/g,Pl=/<%([\s\S]+?)%>/g,mu=/<%=([\s\S]+?)%>/g,wE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zp=/^\w*$/,CE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_u=/[\\^$.*+?()[\]{}|]/g,Na=RegExp(_u.source),kw=/^\s+/,Aw=/\s/,ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ow=/\{\n\/\* \[wrapped with (.+)\] \*/,SE=/,? & /,TE=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,IE=/[()=,{}\[\]\/\s]/,gn=/\\(\\)?/g,Pw=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hs=/\w*$/,Fw=/^[-+]0x[0-9a-f]+$/i,Jp=/^0b[01]+$/i,Nw=/^\[object .+?Constructor\]$/,Rw=/^0o[0-7]+$/i,sO=/^(?:0|[1-9]\d*)$/,Kp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cf=/($^)/,EE=/['\n\r\u2028\u2029\\]/g,Ae="\\ud800-\\udfff",em="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Vw="\\u2700-\\u27bf",xE="a-z\\xdf-\\xf6\\xf8-\\xff",tm="A-Z\\xc0-\\xd6\\xd8-\\xde",Bw="\\ufe0e\\ufe0f",Uw="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",nm="['\u2019]",FE="["+Ae+"]",Hw="["+Uw+"]",om="["+em+"]",jw="\\d+",js="["+Vw+"]",Sf="["+xE+"]",vu="[^"+Ae+Uw+jw+Vw+xE+tm+"]",Tf="\\ud83c[\\udffb-\\udfff]",rm="[^"+Ae+"]",If="(?:\\ud83c[\\udde6-\\uddff]){2}",im="[\\ud800-\\udbff][\\udc00-\\udfff]",Fl="["+tm+"]",yu="(?:"+Sf+"|"+vu+")",zw="(?:"+Fl+"|"+vu+")",Ef="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",bu="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ww="(?:"+om+"|"+Tf+")"+"?",sm="["+Bw+"]?",am=sm+Ww+("(?:\\u200d(?:"+[rm,If,im].join("|")+")"+sm+Ww+")*"),lm="(?:"+[js,If,im].join("|")+")"+am,NE="(?:"+[rm+om+"?",om,If,im,FE].join("|")+")",RE=RegExp(nm,"g"),LE=RegExp(om,"g"),cm=RegExp(Tf+"(?="+Tf+")|"+NE+am,"g"),um=RegExp([Fl+"?"+Sf+"+"+Ef+"(?="+[Hw,Fl,"$"].join("|")+")",zw+"+"+bu+"(?="+[Hw,Fl+yu,"$"].join("|")+")",Fl+"?"+yu+"+"+Ef,Fl+"+"+bu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jw,lm].join("|"),"g"),VE=RegExp("[\\u200d"+Ae+em+Bw+"]"),BE=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Qw=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],UE=-1,Yt={};Yt[_f]=Yt[vf]=Yt[es]=Yt[Ol]=Yt[yf]=Yt[Pa]=Yt[Wp]=Yt[qp]=Yt[Yp]=!0,Yt[fu]=Yt[Bs]=Yt[bn]=Yt[hf]=Yt[Oa]=Yt[xa]=Yt[hu]=Yt[gf]=Yt[ei]=Yt[pf]=Yt[ti]=Yt[ka]=Yt[ni]=Yt[mf]=Yt[Aa]=!1;var Vt={};Vt[fu]=Vt[Bs]=Vt[bn]=Vt[Oa]=Vt[hf]=Vt[xa]=Vt[_f]=Vt[vf]=Vt[es]=Vt[Ol]=Vt[yf]=Vt[ei]=Vt[pf]=Vt[ti]=Vt[ka]=Vt[ni]=Vt[mf]=Vt[at]=Vt[Pa]=Vt[Wp]=Vt[qp]=Vt[Yp]=!0,Vt[hu]=Vt[gf]=Vt[Aa]=!1;var jE={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$E=parseFloat,GE=parseInt,Zw="object"==typeof global&&global&&global.Object===Object&&global,Ra="object"==typeof self&&self&&self.Object===Object&&self,ao=Zw||Ra||Function("return this")(),Jw=we&&!we.nodeType&&we,Nl=Jw&&K&&!K.nodeType&&K,Kw=Nl&&Nl.exports===Jw,dm=Kw&&Zw.process,Ko=function(){try{return Nl&&Nl.require&&Nl.require("util").types||dm&&dm.binding&&dm.binding("util")}catch{}}(),fm=Ko&&Ko.isArrayBuffer,zE=Ko&&Ko.isDate,hm=Ko&&Ko.isMap,WE=Ko&&Ko.isRegExp,qE=Ko&&Ko.isSet,YE=Ko&&Ko.isTypedArray;function Ir(R,W,H){switch(H.length){case 0:return R.call(W);case 1:return R.call(W,H[0]);case 2:return R.call(W,H[0],H[1]);case 3:return R.call(W,H[0],H[1],H[2])}return R.apply(W,H)}function cO(R,W,H,Ce){for(var je=-1,gt=null==R?0:R.length;++je<gt;){var Cn=R[je];W(Ce,Cn,H(Cn),R)}return Ce}function Er(R,W){for(var H=-1,Ce=null==R?0:R.length;++H<Ce&&!1!==W(R[H],H,R););return R}function kn(R,W){for(var H=null==R?0:R.length;H--&&!1!==W(R[H],H,R););return R}function cn(R,W){for(var H=-1,Ce=null==R?0:R.length;++H<Ce;)if(!W(R[H],H,R))return!1;return!0}function $s(R,W){for(var H=-1,Ce=null==R?0:R.length,je=0,gt=[];++H<Ce;){var Cn=R[H];W(Cn,H,R)&&(gt[je++]=Cn)}return gt}function mt(R,W){return!!(null==R?0:R.length)&&oi(R,W,0)>-1}function eC(R,W,H){for(var Ce=-1,je=null==R?0:R.length;++Ce<je;)if(H(W,R[Ce]))return!0;return!1}function $t(R,W){for(var H=-1,Ce=null==R?0:R.length,je=Array(Ce);++H<Ce;)je[H]=W(R[H],H,R);return je}function J(R,W){for(var H=-1,Ce=W.length,je=R.length;++H<Ce;)R[je+H]=W[H];return R}function gm(R,W,H,Ce){var je=-1,gt=null==R?0:R.length;for(Ce&&gt&&(H=R[++je]);++je<gt;)H=W(H,R[je],je,R);return H}function ts(R,W,H,Ce){var je=null==R?0:R.length;for(Ce&&je&&(H=R[--je]);je--;)H=W(H,R[je],je,R);return H}function Rl(R,W){for(var H=-1,Ce=null==R?0:R.length;++H<Ce;)if(W(R[H],H,R))return!0;return!1}var tC=Gs("length");function Ti(R,W,H){var Ce;return H(R,function(je,gt,Cn){if(W(je,gt,Cn))return Ce=gt,!1}),Ce}function ns(R,W,H,Ce){for(var je=R.length,gt=H+(Ce?1:-1);Ce?gt--:++gt<je;)if(W(R[gt],gt,R))return gt;return-1}function oi(R,W,H){return W==W?function No(R,W,H){for(var Ce=H-1,je=R.length;++Ce<je;)if(R[Ce]===W)return Ce;return-1}(R,W,H):ns(R,Vl,H)}function Ll(R,W,H,Ce){for(var je=H-1,gt=R.length;++je<gt;)if(Ce(R[je],W))return je;return-1}function Vl(R){return R!=R}function Mf(R,W){var H=null==R?0:R.length;return H?oC(R,W)/H:NaN}function Gs(R){return function(W){return null==W?g:W[R]}}function Ii(R){return function(W){return null==R?g:R[W]}}function en(R,W,H,Ce,je){return je(R,function(gt,Cn,Ot){H=Ce?(Ce=!1,gt):W(H,gt,Cn,Ot)}),H}function oC(R,W){for(var H,Ce=-1,je=R.length;++Ce<je;){var gt=W(R[Ce]);gt!==g&&(H=H===g?gt:H+gt)}return H}function yt(R,W){for(var H=-1,Ce=Array(R);++H<R;)Ce[H]=W(H);return Ce}function wn(R){return R&&R.slice(0,KE(R)+1).replace(kw,"")}function bo(R){return function(W){return R(W)}}function rC(R,W){return $t(W,function(H){return R[H]})}function wu(R,W){return R.has(W)}function Mt(R,W){for(var H=-1,Ce=R.length;++H<Ce&&oi(W,R[H],0)>-1;);return H}function Ue(R,W){for(var H=R.length;H--&&oi(W,R[H],0)>-1;);return H}var er=Ii({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),fO=Ii({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function QE(R){return"\\"+jE[R]}function Mr(R){return VE.test(R)}function iC(R){var W=-1,H=Array(R.size);return R.forEach(function(Ce,je){H[++W]=[je,Ce]}),H}function ZE(R,W){return function(H){return R(W(H))}}function zs(R,W){for(var H=-1,Ce=R.length,je=0,gt=[];++H<Ce;){var Cn=R[H];(Cn===W||Cn===qt)&&(R[H]=qt,gt[je++]=H)}return gt}function pm(R){var W=-1,H=Array(R.size);return R.forEach(function(Ce){H[++W]=Ce}),H}function Cu(R){return Mr(R)?function _O(R){for(var W=cm.lastIndex=0;cm.test(R);)++W;return W}(R):tC(R)}function Ei(R){return Mr(R)?function F(R){return R.match(cm)||[]}(R):function uO(R){return R.split("")}(R)}function KE(R){for(var W=R.length;W--&&Aw.test(R.charAt(W)););return W}var mO=Ii({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var La=function R(W){var l,H=(W=null==W?ao:La.defaults(ao.Object(),W,La.pick(ao,Qw))).Array,Ce=W.Date,je=W.Error,gt=W.Function,Cn=W.Math,Ot=W.Object,de=W.RegExp,mm=W.String,wo=W.TypeError,Su=H.prototype,_m=gt.prototype,Bl=Ot.prototype,Va=W["__core-js_shared__"],vm=_m.toString,Dt=Bl.hasOwnProperty,yO=0,eM=(l=/[^.]+$/.exec(Va&&Va.keys&&Va.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",ym=Bl.toString,bm=vm.call(Ot),Ul=ao._,wm=de("^"+vm.call(Dt).replace(_u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hl=Kw?W.Buffer:g,os=W.Symbol,Dr=W.Uint8Array,jl=Hl?Hl.allocUnsafe:g,Tu=ZE(Ot.getPrototypeOf,Ot),Ge=Ot.create,_t=Bl.propertyIsEnumerable,Cm=Su.splice,sC=os?os.isConcatSpreadable:g,$l=os?os.iterator:g,Gl=os?os.toStringTag:g,xf=function(){try{var l=Ka(Ot,"defineProperty");return l({},"",{}),l}catch{}}(),Sm=W.clearTimeout!==ao.clearTimeout&&W.clearTimeout,Ke=Ce&&Ce.now!==ao.Date.now&&Ce.now,Tm=W.setTimeout!==ao.setTimeout&&W.setTimeout,Iu=Cn.ceil,Yn=Cn.floor,kf=Ot.getOwnPropertySymbols,bO=Hl?Hl.isBuffer:g,tM=W.isFinite,Ba=Su.join,Im=ZE(Ot.keys,Ot),Sn=Cn.max,An=Cn.min,nM=Ce.now,oM=W.parseInt,aC=Cn.random,lC=Su.reverse,Em=Ka(W,"DataView"),L=Ka(W,"Map"),Af=Ka(W,"Promise"),C=Ka(W,"Set"),Ws=Ka(W,"WeakMap"),Ua=Ka(Ot,"create"),qs=Ws&&new Ws,zl={},rM=el(Em),iM=el(L),sM=el(Af),Of=el(C),aM=el(Ws),Wl=os?os.prototype:g,Eu=Wl?Wl.valueOf:g,Ys=Wl?Wl.toString:g;function S(l){if(on(l)&&!ue(l)&&!(l instanceof et)){if(l instanceof tr)return l;if(Dt.call(l,"__wrapped__"))return ia(l)}return new tr(l)}var On=function(){function l(){}return function(u){if(!nn(u))return{};if(Ge)return Ge(u);l.prototype=u;var h=new l;return l.prototype=g,h}}();function rs(){}function tr(l,u){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=g}function et(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Kr,this.__views__=[]}function Pn(l){var u=-1,h=null==l?0:l.length;for(this.clear();++u<h;){var _=l[u];this.set(_[0],_[1])}}function Fn(l){var u=-1,h=null==l?0:l.length;for(this.clear();++u<h;){var _=l[u];this.set(_[0],_[1])}}function Gt(l){var u=-1,h=null==l?0:l.length;for(this.clear();++u<h;){var _=l[u];this.set(_[0],_[1])}}function is(l){var u=-1,h=null==l?0:l.length;for(this.__data__=new Gt;++u<h;)this.add(l[u])}function Mi(l){var u=this.__data__=new Fn(l);this.size=u.size}function Qs(l,u){var h=ue(l),_=!h&&gc(l),w=!h&&!_&&Lr(l),I=!h&&!_&&!w&&ol(l),E=h||_||w||I,k=E?yt(l.length,mm):[],N=k.length;for(var Q in l)(u||Dt.call(l,Q))&&(!E||!("length"==Q||w&&("offset"==Q||"parent"==Q)||I&&("buffer"==Q||"byteLength"==Q||"byteOffset"==Q)||ra(Q,N)))&&k.push(Q);return k}function pC(l){var u=l.length;return u?l[Kl(0,u-1)]:g}function Am(l,u){return Ru(Vo(l),Js(u,0,l.length))}function Rf(l){return Ru(Vo(l))}function Lf(l,u,h){(h!==g&&!ct(l[u],h)||h===g&&!(u in l))&&ss(l,u,h)}function Ha(l,u,h){var _=l[u];(!Dt.call(l,u)||!ct(_,h)||h===g&&!(u in l))&&ss(l,u,h)}function ja(l,u){for(var h=l.length;h--;)if(ct(l[h][0],u))return h;return-1}function Co(l,u,h,_){return Di(l,function(w,I,E){u(_,w,h(w),E)}),_}function Zs(l,u){return l&&Or(u,Un(u),l)}function ss(l,u,h){"__proto__"==u&&xf?xf(l,u,{configurable:!0,enumerable:!0,value:h,writable:!0}):l[u]=h}function Pm(l,u){for(var h=-1,_=u.length,w=H(_),I=null==l;++h<_;)w[h]=I?g:Ku(l,u[h]);return w}function Js(l,u,h){return l==l&&(h!==g&&(l=l<=h?l:h),u!==g&&(l=l>=u?l:u)),l}function lo(l,u,h,_,w,I){var E,k=1&u,N=2&u,Q=4&u;if(h&&(E=w?h(l,_,w,I):h(l)),E!==g)return E;if(!nn(l))return l;var ee=ue(l);if(ee){if(E=function Fu(l){var u=l.length,h=new l.constructor(u);return u&&"string"==typeof l[0]&&Dt.call(l,"index")&&(h.index=l.index,h.input=l.input),h}(l),!k)return Vo(l,E)}else{var re=_e(l),ve=re==gf||re==Dw;if(Lr(l))return _M(l,k);if(re==ti||re==fu||ve&&!w){if(E=N||ve?{}:Fr(l),!k)return N?function St(l,u){return Or(l,Le(l),u)}(l,function Om(l,u){return l&&Or(u,cr(u),l)}(E,l)):function bM(l,u){return Or(l,U(l),u)}(l,Zs(E,l))}else{if(!Vt[re])return w?l:{};E=function e_(l,u,h){var _=l.constructor;switch(u){case bn:return TC(l);case hf:case xa:return new _(+l);case Oa:return function vM(l,u){var h=u?TC(l.buffer):l.buffer;return new l.constructor(h,l.byteOffset,l.byteLength)}(l,h);case _f:case vf:case es:case Ol:case yf:case Pa:case Wp:case qp:case Yp:return $m(l,h);case ei:return new _;case pf:case mf:return new _(l);case ka:return function IC(l){var u=new l.constructor(l.source,Hs.exec(l));return u.lastIndex=l.lastIndex,u}(l);case ni:return new _;case at:return function ta(l){return Eu?Ot(Eu.call(l)):{}}(l)}}(l,re,k)}}I||(I=new Mi);var Ee=I.get(l);if(Ee)return Ee;I.set(l,E),hS(l)?l.forEach(function(Re){E.add(lo(Re,u,h,Re,l,I))}):gh(l)&&l.forEach(function(Re,it){E.set(it,lo(Re,u,h,it,l,I))});var Je=ee?g:(Q?N?Qm:Xm:N?cr:Un)(l);return Er(Je||l,function(Re,it){Je&&(Re=l[it=Re]),Ha(E,it,lo(Re,u,h,it,l,I))}),E}function mC(l,u,h){var _=h.length;if(null==l)return!_;for(l=Ot(l);_--;){var w=h[_],I=u[w],E=l[w];if(E===g&&!(w in l)||!I(E))return!1}return!0}function _C(l,u,h){if("function"!=typeof l)throw new wo(se);return ac(function(){l.apply(g,h)},u)}function Du(l,u,h,_){var w=-1,I=mt,E=!0,k=l.length,N=[],Q=u.length;if(!k)return N;h&&(u=$t(u,bo(h))),_?(I=eC,E=!1):u.length>=200&&(I=wu,E=!1,u=new is(u));e:for(;++w<k;){var ee=l[w],re=null==h?ee:h(ee);if(ee=_||0!==ee?ee:0,E&&re==re){for(var ve=Q;ve--;)if(u[ve]===re)continue e;N.push(ee)}else I(u,re,_)||N.push(ee)}return N}S.templateSettings={escape:bE,evaluate:Pl,interpolate:mu,variable:"",imports:{_:S}},S.prototype=rs.prototype,S.prototype.constructor=S,tr.prototype=On(rs.prototype),tr.prototype.constructor=tr,et.prototype=On(rs.prototype),et.prototype.constructor=et,Pn.prototype.clear=function Mm(){this.__data__=Ua?Ua(null):{},this.size=0},Pn.prototype.delete=function Mu(l){var u=this.has(l)&&delete this.__data__[l];return this.size-=u?1:0,u},Pn.prototype.get=function lM(l){var u=this.__data__;if(Ua){var h=u[l];return h===he?g:h}return Dt.call(u,l)?u[l]:g},Pn.prototype.has=function ri(l){var u=this.__data__;return Ua?u[l]!==g:Dt.call(u,l)},Pn.prototype.set=function vt(l,u){var h=this.__data__;return this.size+=this.has(l)?0:1,h[l]=Ua&&u===g?he:u,this},Fn.prototype.clear=function dC(){this.__data__=[],this.size=0},Fn.prototype.delete=function Dm(l){var u=this.__data__,h=ja(u,l);return!(h<0)&&(h==u.length-1?u.pop():Cm.call(u,h,1),--this.size,!0)},Fn.prototype.get=function Ff(l){var u=this.__data__,h=ja(u,l);return h<0?g:u[h][1]},Fn.prototype.has=function nr(l){return ja(this.__data__,l)>-1},Fn.prototype.set=function nt(l,u){var h=this.__data__,_=ja(h,l);return _<0?(++this.size,h.push([l,u])):h[_][1]=u,this},Gt.prototype.clear=function or(){this.size=0,this.__data__={hash:new Pn,map:new(L||Fn),string:new Pn}},Gt.prototype.delete=function ql(l){var u=eh(this,l).delete(l);return this.size-=u?1:0,u},Gt.prototype.get=function Xs(l){return eh(this,l).get(l)},Gt.prototype.has=function wO(l){return eh(this,l).has(l)},Gt.prototype.set=function cM(l,u){var h=eh(this,l),_=h.size;return h.set(l,u),this.size+=h.size==_?0:1,this},is.prototype.add=is.prototype.push=function fC(l){return this.__data__.set(l,he),this},is.prototype.has=function Nf(l){return this.__data__.has(l)},Mi.prototype.clear=function xm(){this.__data__=new Fn,this.size=0},Mi.prototype.delete=function uM(l){var u=this.__data__,h=u.delete(l);return this.size=u.size,h},Mi.prototype.get=function km(l){return this.__data__.get(l)},Mi.prototype.has=function hC(l){return this.__data__.has(l)},Mi.prototype.set=function gC(l,u){var h=this.__data__;if(h instanceof Fn){var _=h.__data__;if(!L||_.length<199)return _.push([l,u]),this.size=++h.size,this;h=this.__data__=new Gt(_)}return h.set(l,u),this.size=h.size,this};var Di=lt(xi),Xl=lt(Ga,!0);function Fm(l,u){var h=!0;return Di(l,function(_,w,I){return h=!!u(_,w,I)}),h}function xr(l,u,h){for(var _=-1,w=l.length;++_<w;){var I=l[_],E=u(I);if(null!=E&&(k===g?E==E&&!lr(E):h(E,k)))var k=E,N=I}return N}function Nm(l,u){var h=[];return Di(l,function(_,w,I){u(_,w,I)&&h.push(_)}),h}function Ln(l,u,h,_,w){var I=-1,E=l.length;for(h||(h=MC),w||(w=[]);++I<E;){var k=l[I];u>0&&h(k)?u>1?Ln(k,u-1,h,_,w):J(w,k):_||(w[w.length]=k)}return w}var pn=Gf(),Rm=Gf(!0);function xi(l,u){return l&&pn(l,u,Un)}function Ga(l,u){return l&&Rm(l,u,Un)}function Vf(l,u){return $s(u,function(h){return Vr(l[h])})}function za(l,u){for(var h=0,_=(u=Qa(u,l)).length;null!=l&&h<_;)l=l[Nr(u[h++])];return h&&h==_?l:g}function vC(l,u,h){var _=u(l);return ue(l)?_:J(_,h(l))}function So(l){return null==l?l===g?"[object Undefined]":"[object Null]":Gl&&Gl in Ot(l)?function CM(l){var u=Dt.call(l,Gl),h=l[Gl];try{l[Gl]=g;var _=!0}catch{}var w=ym.call(l);return _&&(u?l[Gl]=h:delete l[Gl]),w}(l):function IM(l){return ym.call(l)}(l)}function Lm(l,u){return l>u}function dM(l,u){return null!=l&&Dt.call(l,u)}function Vm(l,u){return null!=l&&u in Ot(l)}function bt(l,u,h){for(var _=h?eC:mt,w=l[0].length,I=l.length,E=I,k=H(I),N=1/0,Q=[];E--;){var ee=l[E];E&&u&&(ee=$t(ee,bo(u))),N=An(ee.length,N),k[E]=!h&&(u||w>=120&&ee.length>=120)?new is(E&&ee):g}ee=l[0];var re=-1,ve=k[0];e:for(;++re<w&&Q.length<N;){var Ee=ee[re],Oe=u?u(Ee):Ee;if(Ee=h||0!==Ee?Ee:0,!(ve?wu(ve,Oe):_(Q,Oe,h))){for(E=I;--E;){var Je=k[E];if(!(Je?wu(Je,Oe):_(l[E],Oe,h)))continue e}ve&&ve.push(Oe),Q.push(Ee)}}return Q}function ke(l,u,h){var _=null==(l=oh(l,u=Qa(u,l)))?l:l[Nr(ui(u))];return null==_?g:Ir(_,l,h)}function Xt(l){return on(l)&&So(l)==fu}function Nn(l,u,h,_,w){return l===u||(null==l||null==u||!on(l)&&!on(u)?l!=l&&u!=u:function Ql(l,u,h,_,w,I){var E=ue(l),k=ue(u),N=E?Bs:_e(l),Q=k?Bs:_e(u),ee=(N=N==fu?ti:N)==ti,re=(Q=Q==fu?ti:Q)==ti,ve=N==Q;if(ve&&Lr(l)){if(!Lr(u))return!1;E=!0,ee=!1}if(ve&&!ee)return I||(I=new Mi),E||ol(l)?He(l,u,h,_,w,I):function Pu(l,u,h,_,w,I,E){switch(h){case Oa:if(l.byteLength!=u.byteLength||l.byteOffset!=u.byteOffset)return!1;l=l.buffer,u=u.buffer;case bn:return!(l.byteLength!=u.byteLength||!I(new Dr(l),new Dr(u)));case hf:case xa:case pf:return ct(+l,+u);case hu:return l.name==u.name&&l.message==u.message;case ka:case mf:return l==u+"";case ei:var k=iC;case ni:var N=1&_;if(k||(k=pm),l.size!=u.size&&!N)return!1;var Q=E.get(l);if(Q)return Q==u;_|=2,E.set(l,u);var ee=He(k(l),k(u),_,w,I,E);return E.delete(l),ee;case at:if(Eu)return Eu.call(l)==Eu.call(u)}return!1}(l,u,N,h,_,w,I);if(!(1&h)){var Ee=ee&&Dt.call(l,"__wrapped__"),Oe=re&&Dt.call(u,"__wrapped__");if(Ee||Oe){var Je=Ee?l.value():l,Re=Oe?u.value():u;return I||(I=new Mi),w(Je,Re,h,_,I)}}return!!ve&&(I||(I=new Mi),function Ym(l,u,h,_,w,I){var E=1&h,k=Xm(l),N=k.length,Q=Xm(u),ee=Q.length;if(N!=ee&&!E)return!1;for(var re=N;re--;){var ve=k[re];if(!(E?ve in u:Dt.call(u,ve)))return!1}var Ee=I.get(l),Oe=I.get(u);if(Ee&&Oe)return Ee==u&&Oe==l;var Je=!0;I.set(l,u),I.set(u,l);for(var Re=E;++re<N;){var it=l[ve=k[re]],ut=u[ve];if(_)var jo=E?_(ut,it,ve,u,l,I):_(it,ut,ve,l,u,I);if(!(jo===g?it===ut||w(it,ut,h,_,I):jo)){Je=!1;break}Re||(Re="constructor"==ve)}if(Je&&!Re){var go=l.constructor,dr=u.constructor;go!=dr&&"constructor"in l&&"constructor"in u&&!("function"==typeof go&&go instanceof go&&"function"==typeof dr&&dr instanceof dr)&&(Je=!1)}return I.delete(l),I.delete(u),Je}(l,u,h,_,w,I))}(l,u,h,_,Nn,w))}function zt(l,u,h,_){var w=h.length,I=w,E=!_;if(null==l)return!I;for(l=Ot(l);w--;){var k=h[w];if(E&&k[2]?k[1]!==l[k[0]]:!(k[0]in l))return!1}for(;++w<I;){var N=(k=h[w])[0],Q=l[N],ee=k[1];if(E&&k[2]){if(Q===g&&!(N in l))return!1}else{var re=new Mi;if(_)var ve=_(Q,ee,N,l,u,re);if(!(ve===g?Nn(ee,Q,3,_,re):ve))return!1}}return!0}function ii(l){return!(!nn(l)||function Io(l){return!!eM&&eM in l}(l))&&(Vr(l)?wm:Nw).test(el(l))}function qa(l){return"function"==typeof l?l:null==l?ho:"object"==typeof l?ue(l)?Bm(l[0],l[1]):Zl(l):B_(l)}function Bt(l){if(!ic(l))return Im(l);var u=[];for(var h in Ot(l))Dt.call(l,h)&&"constructor"!=h&&u.push(h);return u}function Ya(l){if(!nn(l))return function TM(l){var u=[];if(null!=l)for(var h in Ot(l))u.push(h);return u}(l);var u=ic(l),h=[];for(var _ in l)"constructor"==_&&(u||!Dt.call(l,_))||h.push(_);return h}function Ks(l,u){return l<u}function ki(l,u){var h=-1,_=Eo(l)?H(l.length):[];return Di(l,function(w,I,E){_[++h]=u(w,I,E)}),_}function Zl(l){var u=Jm(l);return 1==u.length&&u[0][2]?Ai(u[0][0],u[0][1]):function(h){return h===l||zt(h,l,u)}}function Bm(l,u){return th(l)&&ar(u)?Ai(Nr(l),u):function(h){var _=Ku(h,l);return _===g&&_===u?wS(h,l):Nn(u,_,3)}}function si(l,u,h,_,w){l!==u&&pn(u,function(I,E){if(w||(w=new Mi),nn(I))!function Hf(l,u,h,_,w,I,E){var k=sc(l,h),N=sc(u,h),Q=E.get(N);if(Q)return void Lf(l,h,Q);var ee=I?I(k,N,h+"",l,u,E):g,re=ee===g;if(re){var ve=ue(N),Ee=!ve&&Lr(N),Oe=!ve&&!Ee&&ol(N);ee=N,ve||Ee||Oe?ue(k)?ee=k:mn(k)?ee=Vo(k):Ee?(re=!1,ee=_M(N,!0)):Oe?(re=!1,ee=$m(N,!0)):ee=[]:ds(N)||gc(N)?(ee=k,gc(k)?ee=M_(k):(!nn(k)||Vr(k))&&(ee=Fr(N))):re=!1}re&&(E.set(N,ee),w(ee,N,_,I,E),E.delete(N)),Lf(l,h,ee)}(l,u,E,h,si,_,w);else{var k=_?_(sc(l,E),I,E+"",l,u,w):g;k===g&&(k=I),Lf(l,E,k)}},cr)}function ea(l,u){var h=l.length;if(h)return ra(u+=u<0?h:0,h)?l[u]:g}function Lo(l,u,h){u=u.length?$t(u,function(I){return ue(I)?function(E){return za(E,1===I.length?I[0]:I)}:I}):[ho];var _=-1;return u=$t(u,bo(Ne())),function dO(R,W){var H=R.length;for(R.sort(W);H--;)R[H]=R[H].value;return R}(ki(l,function(I,E,k){return{criteria:$t(u,function(Q){return Q(I)}),index:++_,value:I}}),function(I,E){return function yM(l,u,h){for(var _=-1,w=l.criteria,I=u.criteria,E=w.length,k=h.length;++_<E;){var N=EC(w[_],I[_]);if(N)return _>=k?N:N*("desc"==h[_]?-1:1)}return l.index-u.index}(I,E,h)})}function Se(l,u,h){for(var _=-1,w=u.length,I={};++_<w;){var E=u[_],k=za(l,E);h(k,E)&&To(I,Qa(E,l),k)}return I}function rr(l,u,h,_){var w=_?Ll:oi,I=-1,E=u.length,k=l;for(l===u&&(u=Vo(u)),h&&(k=$t(l,bo(h)));++I<E;)for(var N=0,Q=u[I],ee=h?h(Q):Q;(N=w(k,ee,N,_))>-1;)k!==l&&Cm.call(k,N,1),Cm.call(l,N,1);return l}function ai(l,u){for(var h=l?u.length:0,_=h-1;h--;){var w=u[h];if(h==_||w!==I){var I=w;ra(w)?Cm.call(l,w,1):bC(l,w)}}return l}function Kl(l,u){return l+Yn(aC()*(u-l+1))}function Ut(l,u){var h="";if(!l||u<1||u>Vs)return h;do{u%2&&(h+=l),(u=Yn(u/2))&&(l+=l)}while(u);return h}function De(l,u){return Nu(nh(l,u,ho),l+"")}function Rn(l){return pC(ps(l))}function Hm(l,u){var h=ps(l);return Ru(h,Js(u,0,h.length))}function To(l,u,h,_){if(!nn(l))return l;for(var w=-1,I=(u=Qa(u,l)).length,E=I-1,k=l;null!=k&&++w<I;){var N=Nr(u[w]),Q=h;if("__proto__"===N||"constructor"===N||"prototype"===N)return l;if(w!=E){var ee=k[N];(Q=_?_(ee,N,k):g)===g&&(Q=nn(ee)?ee:ra(u[w+1])?[]:{})}Ha(k,N,Q),k=k[N]}return l}var xu=qs?function(l,u){return qs.set(l,u),l}:ho,ir=xf?function(l,u){return xf(l,"toString",{configurable:!0,enumerable:!1,value:ca(u),writable:!0})}:ho;function as(l){return Ru(ps(l))}function sr(l,u,h){var _=-1,w=l.length;u<0&&(u=-u>w?0:w+u),(h=h>w?w:h)<0&&(h+=w),w=u>h?0:h-u>>>0,u>>>=0;for(var I=H(w);++_<w;)I[_]=l[_+u];return I}function fM(l,u){var h;return Di(l,function(_,w,I){return!(h=u(_,w,I))}),!!h}function kr(l,u,h){var _=0,w=null==l?_:l.length;if("number"==typeof u&&u==u&&w<=2147483647){for(;_<w;){var I=_+w>>>1,E=l[I];null!==E&&!lr(E)&&(h?E<=u:E<u)?_=I+1:w=I}return w}return jf(l,u,ho,h)}function jf(l,u,h,_){var w=0,I=null==l?0:l.length;if(0===I)return 0;for(var E=(u=h(u))!=u,k=null===u,N=lr(u),Q=u===g;w<I;){var ee=Yn((w+I)/2),re=h(l[ee]),ve=re!==g,Ee=null===re,Oe=re==re,Je=lr(re);if(E)var Re=_||Oe;else Re=Q?Oe&&(_||ve):k?Oe&&ve&&(_||!Ee):N?Oe&&ve&&!Ee&&(_||!Je):!Ee&&!Je&&(_?re<=u:re<u);Re?w=ee+1:I=ee}return An(I,4294967294)}function yC(l,u){for(var h=-1,_=l.length,w=0,I=[];++h<_;){var E=l[h],k=u?u(E):E;if(!h||!ct(k,N)){var N=k;I[w++]=0===E?0:E}}return I}function ku(l){return"number"==typeof l?l:lr(l)?NaN:+l}function Ar(l){if("string"==typeof l)return l;if(ue(l))return $t(l,Ar)+"";if(lr(l))return Ys?Ys.call(l):"";var u=l+"";return"0"==u&&1/l==-Fo?"-0":u}function Xa(l,u,h){var _=-1,w=mt,I=l.length,E=!0,k=[],N=k;if(h)E=!1,w=eC;else if(I>=200){var Q=u?null:Qf(l);if(Q)return pm(Q);E=!1,w=wu,N=new is}else N=u?[]:k;e:for(;++_<I;){var ee=l[_],re=u?u(ee):ee;if(ee=h||0!==ee?ee:0,E&&re==re){for(var ve=N.length;ve--;)if(N[ve]===re)continue e;u&&N.push(re),k.push(ee)}else w(N,re,h)||(N!==k&&N.push(re),k.push(ee))}return k}function bC(l,u){return null==(l=oh(l,u=Qa(u,l)))||delete l[Nr(ui(u))]}function hM(l,u,h,_){return To(l,u,h(za(l,u)),_)}function jm(l,u,h,_){for(var w=l.length,I=_?w:-1;(_?I--:++I<w)&&u(l[I],I,l););return h?sr(l,_?0:I,_?I+1:w):sr(l,_?I+1:0,_?w:I)}function gM(l,u){var h=l;return h instanceof et&&(h=h.value()),gm(u,function(_,w){return w.func.apply(w.thisArg,J([_],w.args))},h)}function $f(l,u,h){var _=l.length;if(_<2)return _?Xa(l[0]):[];for(var w=-1,I=H(_);++w<_;)for(var E=l[w],k=-1;++k<_;)k!=w&&(I[w]=Du(I[w]||E,l[k],u,h));return Xa(Ln(I,1),u,h)}function pM(l,u,h){for(var _=-1,w=l.length,I=u.length,E={};++_<w;){var k=_<I?u[_]:g;h(E,l[_],k)}return E}function wC(l){return mn(l)?l:[]}function CC(l){return"function"==typeof l?l:ho}function Qa(l,u){return ue(l)?l:th(l,u)?[l]:i_(wt(l))}var SC=De;function ls(l,u,h){var _=l.length;return h=h===g?_:h,!u&&h>=_?l:sr(l,u,h)}var mM=Sm||function(l){return ao.clearTimeout(l)};function _M(l,u){if(u)return l.slice();var h=l.length,_=jl?jl(h):new l.constructor(h);return l.copy(_),_}function TC(l){var u=new l.constructor(l.byteLength);return new Dr(u).set(new Dr(l)),u}function $m(l,u){var h=u?TC(l.buffer):l.buffer;return new l.constructor(h,l.byteOffset,l.length)}function EC(l,u){if(l!==u){var h=l!==g,_=null===l,w=l==l,I=lr(l),E=u!==g,k=null===u,N=u==u,Q=lr(u);if(!k&&!Q&&!I&&l>u||I&&E&&N&&!k&&!Q||_&&E&&N||!h&&N||!w)return 1;if(!_&&!I&&!Q&&l<u||Q&&h&&w&&!_&&!I||k&&h&&w||!E&&w||!N)return-1}return 0}function Gm(l,u,h,_){for(var w=-1,I=l.length,E=h.length,k=-1,N=u.length,Q=Sn(I-E,0),ee=H(N+Q),re=!_;++k<N;)ee[k]=u[k];for(;++w<E;)(re||w<I)&&(ee[h[w]]=l[w]);for(;Q--;)ee[k++]=l[w++];return ee}function zm(l,u,h,_){for(var w=-1,I=l.length,E=-1,k=h.length,N=-1,Q=u.length,ee=Sn(I-k,0),re=H(ee+Q),ve=!_;++w<ee;)re[w]=l[w];for(var Ee=w;++N<Q;)re[Ee+N]=u[N];for(;++E<k;)(ve||w<I)&&(re[Ee+h[E]]=l[w++]);return re}function Vo(l,u){var h=-1,_=l.length;for(u||(u=H(_));++h<_;)u[h]=l[h];return u}function Or(l,u,h,_){var w=!h;h||(h={});for(var I=-1,E=u.length;++I<E;){var k=u[I],N=_?_(h[k],l[k],k,h,l):g;N===g&&(N=l[k]),w?ss(h,k,N):Ha(h,k,N)}return h}function Au(l,u){return function(h,_){var w=ue(h)?cO:Co,I=u?u():{};return w(h,l,Ne(_,2),I)}}function Za(l){return De(function(u,h){var _=-1,w=h.length,I=w>1?h[w-1]:g,E=w>2?h[2]:g;for(I=l.length>3&&"function"==typeof I?(w--,I):g,E&&Uo(h[0],h[1],E)&&(I=w<3?g:I,w=1),u=Ot(u);++_<w;){var k=h[_];k&&l(u,k,_,I)}return u})}function lt(l,u){return function(h,_){if(null==h)return h;if(!Eo(h))return l(h,_);for(var w=h.length,I=u?w:-1,E=Ot(h);(u?I--:++I<w)&&!1!==_(E[I],I,E););return h}}function Gf(l){return function(u,h,_){for(var w=-1,I=Ot(u),E=_(u),k=E.length;k--;){var N=E[l?k:++w];if(!1===h(I[N],N,I))break}return u}}function uo(l){return function(u){var h=Mr(u=wt(u))?Ei(u):g,_=h?h[0]:u.charAt(0),w=h?ls(h,1).join(""):u.slice(1);return _[l]()+w}}function nc(l){return function(u){return gm(Ri(wh(u).replace(RE,"")),l,"")}}function li(l){return function(){var u=arguments;switch(u.length){case 0:return new l;case 1:return new l(u[0]);case 2:return new l(u[0],u[1]);case 3:return new l(u[0],u[1],u[2]);case 4:return new l(u[0],u[1],u[2],u[3]);case 5:return new l(u[0],u[1],u[2],u[3],u[4]);case 6:return new l(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new l(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var h=On(l.prototype),_=l.apply(h,u);return nn(_)?_:h}}function zf(l){return function(u,h,_){var w=Ot(u);if(!Eo(u)){var I=Ne(h,3);u=Un(u),h=function(k){return I(w[k],k,w)}}var E=l(u,h,_);return E>-1?w[I?u[E]:E]:g}}function fo(l){return ci(function(u){var h=u.length,_=h,w=tr.prototype.thru;for(l&&u.reverse();_--;){var I=u[_];if("function"!=typeof I)throw new wo(se);if(w&&!E&&"wrapper"==oc(I))var E=new tr([],!0)}for(_=E?_:h;++_<h;){var k=oc(I=u[_]),N="wrapper"==k?Zm(I):g;E=N&&rc(N[0])&&424==N[1]&&!N[4].length&&1==N[9]?E[oc(N[0])].apply(E,N[3]):1==I.length&&rc(I)?E[k]():E.thru(I)}return function(){var Q=arguments,ee=Q[0];if(E&&1==Q.length&&ue(ee))return E.plant(ee).value();for(var re=0,ve=h?u[re].apply(this,Q):ee;++re<h;)ve=u[re].call(this,ve);return ve}})}function Wf(l,u,h,_,w,I,E,k,N,Q){var ee=u&Tr,re=1&u,ve=2&u,Ee=24&u,Oe=512&u,Je=ve?g:li(l);return function Re(){for(var it=arguments.length,ut=H(it),jo=it;jo--;)ut[jo]=arguments[jo];if(Ee)var go=Pr(Re),dr=function Df(R,W){for(var H=R.length,Ce=0;H--;)R[H]===W&&++Ce;return Ce}(ut,go);if(_&&(ut=Gm(ut,_,w,Ee)),I&&(ut=zm(ut,I,E,Ee)),it-=dr,Ee&&it<Q){var _n=zs(ut,go);return Xf(l,u,Wf,Re.placeholder,h,ut,_n,k,N,Q-it)}var po=re?h:this,Li=ve?po[l]:l;return it=ut.length,k?ut=function n_(l,u){for(var h=l.length,_=An(u.length,h),w=Vo(l);_--;){var I=u[_];l[_]=ra(I,h)?w[I]:g}return l}(ut,k):Oe&&it>1&&ut.reverse(),ee&&N<it&&(ut.length=N),this&&this!==ao&&this instanceof Re&&(Li=Je||li(Li)),Li.apply(po,ut)}}function qf(l,u){return function(h,_){return function le(l,u,h,_){return xi(l,function(w,I,E){u(_,h(w),I,E)}),_}(h,l,u(_),{})}}function Yf(l,u){return function(h,_){var w;if(h===g&&_===g)return u;if(h!==g&&(w=h),_!==g){if(w===g)return _;"string"==typeof h||"string"==typeof _?(h=Ar(h),_=Ar(_)):(h=ku(h),_=ku(_)),w=l(h,_)}return w}}function Bo(l){return ci(function(u){return u=$t(u,bo(Ne())),De(function(h){var _=this;return l(u,function(w){return Ir(w,_,h)})})})}function Ou(l,u){var h=(u=u===g?" ":Ar(u)).length;if(h<2)return h?Ut(u,l):u;var _=Ut(u,Iu(l/Cu(u)));return Mr(u)?ls(Ei(_),0,l).join(""):_.slice(0,l)}function qm(l){return function(u,h,_){return _&&"number"!=typeof _&&Uo(u,h,_)&&(h=_=g),u=Fi(u),h===g?(h=u,u=0):h=Fi(h),function ec(l,u,h,_){for(var w=-1,I=Sn(Iu((u-l)/(h||1)),0),E=H(I);I--;)E[_?I:++w]=l,l+=h;return E}(u,h,_=_===g?u<h?1:-1:Fi(_),l)}}function na(l){return function(u,h){return"string"==typeof u&&"string"==typeof h||(u=Do(u),h=Do(h)),l(u,h)}}function Xf(l,u,h,_,w,I,E,k,N,Q){var ee=8&u;u|=ee?32:64,4&(u&=~(ee?64:32))||(u&=-4);var Je=[l,u,w,ee?I:g,ee?E:g,ee?g:I,ee?g:E,k,N,Q],Re=h.apply(g,Je);return rc(l)&&kC(Re,Je),Re.placeholder=_,o_(Re,l,u)}function oa(l){var u=Cn[l];return function(h,_){if(h=Do(h),(_=null==_?0:An(Ye(_),292))&&tM(h)){var w=(wt(h)+"e").split("e");return+((w=(wt(u(w[0]+"e"+(+w[1]+_)))+"e").split("e"))[0]+"e"+(+w[1]-_))}return u(h)}}var Qf=C&&1/pm(new C([,-0]))[1]==Fo?function(l){return new C(l)}:Tn;function Zf(l){return function(u){var h=_e(u);return h==ei?iC(u):h==ni?function JE(R){var W=-1,H=Array(R.size);return R.forEach(function(Ce){H[++W]=[Ce,Ce]}),H}(u):function XE(R,W){return $t(W,function(H){return[H,R[H]]})}(u,l(u))}}function Xn(l,u,h,_,w,I,E,k){var N=2&u;if(!N&&"function"!=typeof l)throw new wo(se);var Q=_?_.length:0;if(Q||(u&=-97,_=w=g),E=E===g?E:Sn(Ye(E),0),k=k===g?k:Ye(k),Q-=w?w.length:0,64&u){var ee=_,re=w;_=w=g}var ve=N?g:Zm(l),Ee=[l,u,h,_,w,ee,re,I,E,k];if(ve&&function xC(l,u){var h=l[1],_=u[1],w=h|_,I=w<131,E=_==Tr&&8==h||_==Tr&&256==h&&l[7].length<=u[8]||384==_&&u[7].length<=u[8]&&8==h;if(!I&&!E)return l;1&_&&(l[2]=u[2],w|=1&h?0:4);var k=u[3];if(k){var N=l[3];l[3]=N?Gm(N,k,u[4]):k,l[4]=N?zs(l[3],qt):u[4]}return k=u[5],k&&(N=l[5],l[5]=N?zm(N,k,u[6]):k,l[6]=N?zs(l[5],qt):u[6]),k=u[7],k&&(l[7]=k),_&Tr&&(l[8]=null==l[8]?u[8]:An(l[8],u[8])),null==l[9]&&(l[9]=u[9]),l[0]=u[0],l[1]=w,l}(Ee,ve),l=Ee[0],u=Ee[1],h=Ee[2],_=Ee[3],w=Ee[4],!(k=Ee[9]=Ee[9]===g?N?0:l.length:Sn(Ee[9]-Q,0))&&24&u&&(u&=-25),u&&1!=u)Oe=8==u||16==u?function Ja(l,u,h){var _=li(l);return function w(){for(var I=arguments.length,E=H(I),k=I,N=Pr(w);k--;)E[k]=arguments[k];var Q=I<3&&E[0]!==N&&E[I-1]!==N?[]:zs(E,N);return(I-=Q.length)<h?Xf(l,u,Wf,w.placeholder,g,E,Q,g,g,h-I):Ir(this&&this!==ao&&this instanceof w?_:l,this,E)}}(l,u,k):32!=u&&33!=u||w.length?Wf.apply(g,Ee):function Wm(l,u,h,_){var w=1&u,I=li(l);return function E(){for(var k=-1,N=arguments.length,Q=-1,ee=_.length,re=H(ee+N),ve=this&&this!==ao&&this instanceof E?I:l;++Q<ee;)re[Q]=_[Q];for(;N--;)re[Q++]=arguments[++k];return Ir(ve,w?h:this,re)}}(l,u,h,_);else var Oe=function tc(l,u,h){var _=1&u,w=li(l);return function I(){return(this&&this!==ao&&this instanceof I?w:l).apply(_?h:this,arguments)}}(l,u,h);return o_((ve?xu:kC)(Oe,Ee),l,u)}function Jf(l,u,h,_){return l===g||ct(l,Bl[h])&&!Dt.call(_,h)?u:l}function Kf(l,u,h,_,w,I){return nn(l)&&nn(u)&&(I.set(u,l),si(l,u,g,Kf,I),I.delete(u)),l}function wM(l){return ds(l)?g:l}function He(l,u,h,_,w,I){var E=1&h,k=l.length,N=u.length;if(k!=N&&!(E&&N>k))return!1;var Q=I.get(l),ee=I.get(u);if(Q&&ee)return Q==u&&ee==l;var re=-1,ve=!0,Ee=2&h?new is:g;for(I.set(l,u),I.set(u,l);++re<k;){var Oe=l[re],Je=u[re];if(_)var Re=E?_(Je,Oe,re,u,l,I):_(Oe,Je,re,l,u,I);if(Re!==g){if(Re)continue;ve=!1;break}if(Ee){if(!Rl(u,function(it,ut){if(!wu(Ee,ut)&&(Oe===it||w(Oe,it,h,_,I)))return Ee.push(ut)})){ve=!1;break}}else if(Oe!==Je&&!w(Oe,Je,h,_,I)){ve=!1;break}}return I.delete(l),I.delete(u),ve}function ci(l){return Nu(nh(l,g,rh),l+"")}function Xm(l){return vC(l,Un,U)}function Qm(l){return vC(l,cr,Le)}var Zm=qs?function(l){return qs.get(l)}:Tn;function oc(l){for(var u=l.name+"",h=zl[u],_=Dt.call(zl,u)?h.length:0;_--;){var w=h[_],I=w.func;if(null==I||I==l)return w.name}return u}function Pr(l){return(Dt.call(S,"placeholder")?S:l).placeholder}function Ne(){var l=S.iteratee||sl;return l=l===sl?qa:l,arguments.length?l(arguments[0],arguments[1]):l}function eh(l,u){var h=l.__data__;return function DC(l){var u=typeof l;return"string"==u||"number"==u||"symbol"==u||"boolean"==u?"__proto__"!==l:null===l}(u)?h["string"==typeof u?"string":"hash"]:h.map}function Jm(l){for(var u=Un(l),h=u.length;h--;){var _=u[h],w=l[_];u[h]=[_,w,ar(w)]}return u}function Ka(l,u){var h=function hO(R,W){return null==R?g:R[W]}(l,u);return ii(h)?h:g}var U=kf?function(l){return null==l?[]:(l=Ot(l),$s(kf(l),function(u){return _t.call(l,u)}))}:U_,Le=kf?function(l){for(var u=[];l;)J(u,U(l)),l=Tu(l);return u}:U_,_e=So;function Km(l,u,h){for(var _=-1,w=(u=Qa(u,l)).length,I=!1;++_<w;){var E=Nr(u[_]);if(!(I=null!=l&&h(l,E)))break;l=l[E]}return I||++_!=w?I:!!(w=null==l?0:l.length)&&hh(w)&&ra(E,w)&&(ue(l)||gc(l))}function Fr(l){return"function"!=typeof l.constructor||ic(l)?{}:On(Tu(l))}function MC(l){return ue(l)||gc(l)||!!(sC&&l&&l[sC])}function ra(l,u){var h=typeof l;return!!(u=u??Vs)&&("number"==h||"symbol"!=h&&sO.test(l))&&l>-1&&l%1==0&&l<u}function Uo(l,u,h){if(!nn(h))return!1;var _=typeof u;return!!("number"==_?Eo(h)&&ra(u,h.length):"string"==_&&u in h)&&ct(h[u],l)}function th(l,u){if(ue(l))return!1;var h=typeof l;return!("number"!=h&&"symbol"!=h&&"boolean"!=h&&null!=l&&!lr(l))||(Zp.test(l)||!wE.test(l)||null!=u&&l in Ot(u))}function rc(l){var u=oc(l),h=S[u];if("function"!=typeof h||!(u in et.prototype))return!1;if(l===h)return!0;var _=Zm(h);return!!_&&l===_[0]}(Em&&_e(new Em(new ArrayBuffer(1)))!=Oa||L&&_e(new L)!=ei||Af&&_e(Af.resolve())!=gu||C&&_e(new C)!=ni||Ws&&_e(new Ws)!=Aa)&&(_e=function(l){var u=So(l),h=u==ti?l.constructor:g,_=h?el(h):"";if(_)switch(_){case rM:return Oa;case iM:return ei;case sM:return gu;case Of:return ni;case aM:return Aa}return u});var cs=Va?Vr:VS;function ic(l){var u=l&&l.constructor;return l===("function"==typeof u&&u.prototype||Bl)}function ar(l){return l==l&&!nn(l)}function Ai(l,u){return function(h){return null!=h&&(h[l]===u&&(u!==g||l in Ot(h)))}}function nh(l,u,h){return u=Sn(u===g?l.length-1:u,0),function(){for(var _=arguments,w=-1,I=Sn(_.length-u,0),E=H(I);++w<I;)E[w]=_[u+w];w=-1;for(var k=H(u+1);++w<u;)k[w]=_[w];return k[u]=h(E),Ir(l,this,k)}}function oh(l,u){return u.length<2?l:za(l,sr(u,0,-1))}function sc(l,u){if(("constructor"!==u||"function"!=typeof l[u])&&"__proto__"!=u)return l[u]}var kC=r_(xu),ac=Tm||function(l,u){return ao.setTimeout(l,u)},Nu=r_(ir);function o_(l,u,h){var _=u+"";return Nu(l,function t_(l,u){var h=u.length;if(!h)return l;var _=h-1;return u[_]=(h>1?"& ":"")+u[_],u=u.join(h>2?", ":" "),l.replace(ht,"{\n/* [wrapped with "+u+"] */\n")}(_,function Qn(l,u){return Er(mE,function(h){var _="_."+h[0];u&h[1]&&!mt(l,_)&&l.push(_)}),l.sort()}(function tt(l){var u=l.match(Ow);return u?u[1].split(SE):[]}(_),h)))}function r_(l){var u=0,h=0;return function(){var _=nM(),w=16-(_-h);if(h=_,w>0){if(++u>=800)return arguments[0]}else u=0;return l.apply(g,arguments)}}function Ru(l,u){var h=-1,_=l.length,w=_-1;for(u=u===g?_:u;++h<u;){var I=Kl(h,w),E=l[I];l[I]=l[h],l[h]=E}return l.length=u,l}var i_=function SM(l){var u=fc(l,function(_){return 500===h.size&&h.clear(),_}),h=u.cache;return u}(function(l){var u=[];return 46===l.charCodeAt(0)&&u.push(""),l.replace(CE,function(h,_,w,I){u.push(w?I.replace(gn,"$1"):_||h)}),u});function Nr(l){if("string"==typeof l||lr(l))return l;var u=l+"";return"0"==u&&1/l==-Fo?"-0":u}function el(l){if(null!=l){try{return vm.call(l)}catch{}try{return l+""}catch{}}return""}function ia(l){if(l instanceof et)return l.clone();var u=new tr(l.__wrapped__,l.__chain__);return u.__actions__=Vo(l.__actions__),u.__index__=l.__index__,u.__values__=l.__values__,u}var MM=De(function(l,u){return mn(l)?Du(l,Ln(u,1,mn,!0)):[]}),DM=De(function(l,u){var h=ui(u);return mn(h)&&(h=g),mn(l)?Du(l,Ln(u,1,mn,!0),Ne(h,2)):[]}),AC=De(function(l,u){var h=ui(u);return mn(h)&&(h=g),mn(l)?Du(l,Ln(u,1,mn,!0),g,h):[]});function Vu(l,u,h){var _=null==l?0:l.length;if(!_)return-1;var w=null==h?0:Ye(h);return w<0&&(w=Sn(_+w,0)),ns(l,Ne(u,3),w)}function Bu(l,u,h){var _=null==l?0:l.length;if(!_)return-1;var w=_-1;return h!==g&&(w=Ye(h),w=h<0?Sn(_+w,0):An(w,_-1)),ns(l,Ne(u,3),w,!0)}function rh(l){return(null==l?0:l.length)?Ln(l,1):[]}function tl(l){return l&&l.length?l[0]:g}var l_=De(function(l){var u=$t(l,wC);return u.length&&u[0]===l[0]?bt(u):[]}),AM=De(function(l){var u=ui(l),h=$t(l,wC);return u===ui(h)?u=g:h.pop(),h.length&&h[0]===l[0]?bt(h,Ne(u,2)):[]}),OM=De(function(l){var u=ui(l),h=$t(l,wC);return(u="function"==typeof u?u:g)&&h.pop(),h.length&&h[0]===l[0]?bt(h,g,u):[]});function ui(l){var u=null==l?0:l.length;return u?l[u-1]:g}var NC=De(c_);function c_(l,u){return l&&l.length&&u&&u.length?rr(l,u):l}var u_=ci(function(l,u){var h=null==l?0:l.length,_=Pm(l,u);return ai(l,$t(u,function(w){return ra(w,h)?+w:w}).sort(EC)),_});function d_(l){return null==l?l:lC.call(l)}var LM=De(function(l){return Xa(Ln(l,1,mn,!0))}),UC=De(function(l){var u=ui(l);return mn(u)&&(u=g),Xa(Ln(l,1,mn,!0),Ne(u,2))}),HC=De(function(l){var u=ui(l);return u="function"==typeof u?u:g,Xa(Ln(l,1,mn,!0),g,u)});function uc(l){if(!l||!l.length)return[];var u=0;return l=$s(l,function(h){if(mn(h))return u=Sn(h.length,u),!0}),yt(u,function(h){return $t(l,Gs(h))})}function dc(l,u){if(!l||!l.length)return[];var h=uc(l);return null==u?h:$t(h,function(_){return Ir(u,g,_)})}var BM=De(function(l,u){return mn(l)?Du(l,u):[]}),GC=De(function(l){return $f($s(l,mn))}),zC=De(function(l){var u=ui(l);return mn(u)&&(u=g),$f($s(l,mn),Ne(u,2))}),sa=De(function(l){var u=ui(l);return u="function"==typeof u?u:g,$f($s(l,mn),g,u)}),nl=De(uc);var rt=De(function(l){var u=l.length,h=u>1?l[u-1]:g;return h="function"==typeof h?(l.pop(),h):g,dc(l,h)});function lh(l){var u=S(l);return u.__chain__=!0,u}function $u(l,u){return u(l)}var ch=ci(function(l){var u=l.length,h=u?l[0]:0,_=this.__wrapped__,w=function(I){return Pm(I,l)};return!(u>1||this.__actions__.length)&&_ instanceof et&&ra(h)?((_=_.slice(h,+h+(u?1:0))).__actions__.push({func:$u,args:[w],thisArg:g}),new tr(_,this.__chain__).thru(function(I){return u&&!I.length&&I.push(g),I})):this.thru(w)});var zM=Au(function(l,u,h){Dt.call(l,h)?++l[h]:ss(l,h,1)});var XC=zf(Vu),qM=zf(Bu);function m_(l,u){return(ue(l)?Er:Di)(l,Ne(u,3))}function We(l,u){return(ue(l)?kn:Xl)(l,Ne(u,3))}var IO=Au(function(l,u,h){Dt.call(l,h)?l[h].push(u):ss(l,h,[u])});var EO=De(function(l,u,h){var _=-1,w="function"==typeof u,I=Eo(l)?H(l.length):[];return Di(l,function(E){I[++_]=w?Ir(u,E,h):ke(E,u,h)}),I}),ZC=Au(function(l,u,h){ss(l,h,u)});function Bn(l,u){return(ue(l)?$t:ki)(l,Ne(u,3))}var QM=Au(function(l,u,h){l[h?0:1].push(u)},function(){return[[],[]]});var Pt=De(function(l,u){if(null==l)return[];var h=u.length;return h>1&&Uo(l,u[0],u[1])?u=[]:h>2&&Uo(u[0],u[1],u[2])&&(u=[u[0]]),Lo(l,Ln(u,1),[])}),aa=Ke||function(){return ao.Date.now()};function v_(l,u,h){return u=h?g:u,u=l&&null==u?l.length:u,Xn(l,Tr,g,g,g,g,u)}function JM(l,u){var h;if("function"!=typeof u)throw new wo(se);return l=Ye(l),function(){return--l>0&&(h=u.apply(this,arguments)),l<=1&&(u=g),h}}var Wu=De(function(l,u,h){var _=1;if(h.length){var w=zs(h,Pr(Wu));_|=32}return Xn(l,_,u,h,w)}),qu=De(function(l,u,h){var _=3;if(h.length){var w=zs(h,Pr(qu));_|=32}return Xn(u,_,l,h,w)});function nS(l,u,h){var _,w,I,E,k,N,Q=0,ee=!1,re=!1,ve=!0;if("function"!=typeof l)throw new wo(se);function Ee(_n){var po=_,Li=w;return _=w=g,Q=_n,E=l.apply(Li,po)}function Re(_n){var po=_n-N;return N===g||po>=u||po<0||re&&_n-Q>=I}function it(){var _n=aa();if(Re(_n))return ut(_n);k=ac(it,function Je(_n){var Ah=u-(_n-N);return re?An(Ah,I-(_n-Q)):Ah}(_n))}function ut(_n){return k=g,ve&&_?Ee(_n):(_=w=g,E)}function dr(){var _n=aa(),po=Re(_n);if(_=arguments,w=this,N=_n,po){if(k===g)return function Oe(_n){return Q=_n,k=ac(it,u),ee?Ee(_n):E}(N);if(re)return mM(k),k=ac(it,u),Ee(N)}return k===g&&(k=ac(it,u)),E}return u=Do(u)||0,nn(h)&&(ee=!!h.leading,I=(re="maxWait"in h)?Sn(Do(h.maxWait)||0,u):I,ve="trailing"in h?!!h.trailing:ve),dr.cancel=function jo(){k!==g&&mM(k),Q=0,_=N=w=k=g},dr.flush=function go(){return k===g?E:ut(aa())},dr}var y_=De(function(l,u){return _C(l,1,u)}),KM=De(function(l,u,h){return _C(l,Do(u)||0,h)});function fc(l,u){if("function"!=typeof l||null!=u&&"function"!=typeof u)throw new wo(se);var h=function(){var _=arguments,w=u?u.apply(this,_):_[0],I=h.cache;if(I.has(w))return I.get(w);var E=l.apply(this,_);return h.cache=I.set(w,E)||I,E};return h.cache=new(fc.Cache||Gt),h}function Yu(l){if("function"!=typeof l)throw new wo(se);return function(){var u=arguments;switch(u.length){case 0:return!l.call(this);case 1:return!l.call(this,u[0]);case 2:return!l.call(this,u[0],u[1]);case 3:return!l.call(this,u[0],u[1],u[2])}return!l.apply(this,u)}}fc.Cache=Gt;var b_=SC(function(l,u){var h=(u=1==u.length&&ue(u[0])?$t(u[0],bo(Ne())):$t(Ln(u,1),bo(Ne()))).length;return De(function(_){for(var w=-1,I=An(_.length,h);++w<I;)_[w]=u[w].call(this,_[w]);return Ir(l,this,_)})}),w_=De(function(l,u){var h=zs(u,Pr(w_));return Xn(l,32,g,u,h)}),rS=De(function(l,u){var h=zs(u,Pr(rS));return Xn(l,64,g,u,h)}),iS=ci(function(l,u){return Xn(l,256,g,g,g,u)});function ct(l,u){return l===u||l!=l&&u!=u}var lS=na(Lm),C_=na(function(l,u){return l>=u}),gc=Xt(function(){return arguments}())?Xt:function(l){return on(l)&&Dt.call(l,"callee")&&!_t.call(l,"callee")},ue=H.isArray,dh=fm?bo(fm):function co(l){return on(l)&&So(l)==bn};function Eo(l){return null!=l&&hh(l.length)&&!Vr(l)}function mn(l){return on(l)&&Eo(l)}var Lr=bO||VS,sD=zE?bo(zE):function Vn(l){return on(l)&&So(l)==xa};function fh(l){if(!on(l))return!1;var u=So(l);return u==hu||"[object DOMException]"==u||"string"==typeof l.message&&"string"==typeof l.name&&!ds(l)}function Vr(l){if(!nn(l))return!1;var u=So(l);return u==gf||u==Dw||"[object AsyncFunction]"==u||"[object Proxy]"==u}function uS(l){return"number"==typeof l&&l==Ye(l)}function hh(l){return"number"==typeof l&&l>-1&&l%1==0&&l<=Vs}function nn(l){var u=typeof l;return null!=l&&("object"==u||"function"==u)}function on(l){return null!=l&&"object"==typeof l}var gh=hm?bo(hm):function Ct(l){return on(l)&&_e(l)==ei};function Mo(l){return"number"==typeof l||on(l)&&So(l)==pf}function ds(l){if(!on(l)||So(l)!=ti)return!1;var u=Tu(l);if(null===u)return!0;var h=Dt.call(u,"constructor")&&u.constructor;return"function"==typeof h&&h instanceof h&&vm.call(h)==bm}var Zu=WE?bo(WE):function Fe(l){return on(l)&&So(l)==ka};var hS=qE?bo(qE):function Wa(l){return on(l)&&_e(l)==ni};function Ju(l){return"string"==typeof l||!ue(l)&&on(l)&&So(l)==mf}function lr(l){return"symbol"==typeof l||on(l)&&So(l)==at}var ol=YE?bo(YE):function Uf(l){return on(l)&&hh(l.length)&&!!Yt[So(l)]};var dD=na(Ks),fD=na(function(l,u){return l<=u});function pS(l){if(!l)return[];if(Eo(l))return Ju(l)?Ei(l):Vo(l);if($l&&l[$l])return function pO(R){for(var W,H=[];!(W=R.next()).done;)H.push(W.value);return H}(l[$l]());var u=_e(l);return(u==ei?iC:u==ni?pm:ps)(l)}function Fi(l){return l?(l=Do(l))===Fo||l===-Fo?17976931348623157e292*(l<0?-1:1):l==l?l:0:0===l?l:0}function Ye(l){var u=Fi(l),h=u%1;return u==u?h?u-h:u:0}function E_(l){return l?Js(Ye(l),0,Kr):0}function Do(l){if("number"==typeof l)return l;if(lr(l))return NaN;if(nn(l)){var u="function"==typeof l.valueOf?l.valueOf():l;l=nn(u)?u+"":u}if("string"!=typeof l)return 0===l?l:+l;l=wn(l);var h=Jp.test(l);return h||Rw.test(l)?GE(l.slice(2),h?2:8):Fw.test(l)?NaN:+l}function M_(l){return Or(l,cr(l))}function wt(l){return null==l?"":Ar(l)}var _S=Za(function(l,u){if(ic(u)||Eo(u))Or(u,Un(u),l);else for(var h in u)Dt.call(u,h)&&Ha(l,h,u[h])}),vS=Za(function(l,u){Or(u,cr(u),l)}),ph=Za(function(l,u,h,_){Or(u,cr(u),l,_)}),hD=Za(function(l,u,h,_){Or(u,Un(u),l,_)}),gD=ci(Pm);var yS=De(function(l,u){l=Ot(l);var h=-1,_=u.length,w=_>2?u[2]:g;for(w&&Uo(u[0],u[1],w)&&(_=1);++h<_;)for(var I=u[h],E=cr(I),k=-1,N=E.length;++k<N;){var Q=E[k],ee=l[Q];(ee===g||ct(ee,Bl[Q])&&!Dt.call(l,Q))&&(l[Q]=I[Q])}return l}),mD=De(function(l){return l.push(g,Kf),Ir(_h,g,l)});function Ku(l,u,h){var _=null==l?g:za(l,u);return _===g?h:_}function wS(l,u){return null!=l&&Km(l,u,Vm)}var wD=qf(function(l,u,h){null!=u&&"function"!=typeof u.toString&&(u=ym.call(u)),l[u]=h},ca(ho)),x_=qf(function(l,u,h){null!=u&&"function"!=typeof u.toString&&(u=ym.call(u)),Dt.call(l,u)?l[u].push(h):l[u]=[h]},Ne),CD=De(ke);function Un(l){return Eo(l)?Qs(l):Bt(l)}function cr(l){return Eo(l)?Qs(l,!0):Ya(l)}var TD=Za(function(l,u,h){si(l,u,h)}),_h=Za(function(l,u,h,_){si(l,u,h,_)}),k_=ci(function(l,u){var h={};if(null==l)return h;var _=!1;u=$t(u,function(I){return I=Qa(I,l),_||(_=I.length>1),I}),Or(l,Qm(l),h),_&&(h=lo(h,7,wM));for(var w=u.length;w--;)bC(h,u[w]);return h});var CS=ci(function(l,u){return null==l?{}:function Jl(l,u){return Se(l,u,function(h,_){return wS(l,_)})}(l,u)});function ed(l,u){if(null==l)return{};var h=$t(Qm(l),function(_){return[_]});return u=Ne(u),Se(l,h,function(_,w){return u(_,w[0])})}var gs=Zf(Un),yh=Zf(cr);function ps(l){return null==l?[]:rC(l,Un(l))}var IS=nc(function(l,u,h){return u=u.toLowerCase(),l+(h?R_(u):u)});function R_(l){return la(wt(l).toLowerCase())}function wh(l){return(l=wt(l))&&l.replace(Kp,er).replace(LE,"")}var Sh=nc(function(l,u,h){return l+(h?"-":"")+u.toLowerCase()}),_c=nc(function(l,u,h){return l+(h?" ":"")+u.toLowerCase()}),DS=uo("toLowerCase");var xS=nc(function(l,u,h){return l+(h?"_":"")+u.toLowerCase()});var kS=nc(function(l,u,h){return l+(h?" ":"")+la(u)});var il=nc(function(l,u,h){return l+(h?" ":"")+u.toUpperCase()}),la=uo("toUpperCase");function Ri(l,u,h){return l=wt(l),(u=h?g:u)===g?function gO(R){return BE.test(R)}(l)?function vO(R){return R.match(um)||[]}(l):function nC(R){return R.match(TE)||[]}(l):l.match(u)||[]}var yc=De(function(l,u){try{return Ir(l,g,u)}catch(h){return fh(h)?h:new je(h)}}),Eh=ci(function(l,u){return Er(u,function(h){h=Nr(h),ss(l,h,Wu(l[h],l))}),l});function ca(l){return function(){return l}}var bc=fo(),kD=fo(!0);function ho(l){return l}function sl(l){return qa("function"==typeof l?l:lo(l,1))}var NS=De(function(l,u){return function(h){return ke(h,l,u)}}),rd=De(function(l,u){return function(h){return ke(l,h,u)}});function Zn(l,u,h){var _=Un(u),w=Vf(u,_);null==h&&(!nn(u)||!w.length&&_.length)&&(h=u,u=l,l=this,w=Vf(u,Un(u)));var I=!(nn(h)&&"chain"in h&&!h.chain),E=Vr(l);return Er(w,function(k){var N=u[k];l[k]=N,E&&(l.prototype[k]=function(){var Q=this.__chain__;if(I||Q){var ee=l(this.__wrapped__);return(ee.__actions__=Vo(this.__actions__)).push({func:N,args:arguments,thisArg:l}),ee.__chain__=Q,ee}return N.apply(l,J([this.value()],arguments))})}),l}function Tn(){}var PD=Bo($t),V_=Bo(cn),RS=Bo(Rl);function B_(l){return th(l)?Gs(Nr(l)):function Um(l){return function(u){return za(u,l)}}(l)}var AO=qm(),LS=qm(!0);function U_(){return[]}function VS(){return!1}var Cc=Yf(function(l,u){return l+u},0),$_=oa("ceil"),G_=Yf(function(l,u){return l/u},1),BS=oa("floor");var HS=Yf(function(l,u){return l*u},1),LD=oa("round"),jS=Yf(function(l,u){return l-u},0);return S.after=function eS(l,u){if("function"!=typeof u)throw new wo(se);return l=Ye(l),function(){if(--l<1)return u.apply(this,arguments)}},S.ary=v_,S.assign=_S,S.assignIn=vS,S.assignInWith=ph,S.assignWith=hD,S.at=gD,S.before=JM,S.bind=Wu,S.bindAll=Eh,S.bindKey=qu,S.castArray=function tn(){if(!arguments.length)return[];var l=arguments[0];return ue(l)?l:[l]},S.chain=lh,S.chunk=function xt(l,u,h){u=(h?Uo(l,u,h):u===g)?1:Sn(Ye(u),0);var _=null==l?0:l.length;if(!_||u<1)return[];for(var w=0,I=0,E=H(Iu(_/u));w<_;)E[I++]=sr(l,w,w+=u);return E},S.compact=function lc(l){for(var u=-1,h=null==l?0:l.length,_=0,w=[];++u<h;){var I=l[u];I&&(w[_++]=I)}return w},S.concat=function EM(){var l=arguments.length;if(!l)return[];for(var u=H(l-1),h=arguments[0],_=l;_--;)u[_-1]=arguments[_];return J(ue(h)?Vo(h):[h],Ln(u,1))},S.cond=function MD(l){var u=null==l?0:l.length,h=Ne();return l=u?$t(l,function(_){if("function"!=typeof _[1])throw new wo(se);return[h(_[0]),_[1]]}):[],De(function(_){for(var w=-1;++w<u;){var I=l[w];if(Ir(I[0],this,_))return Ir(I[1],this,_)}})},S.conforms=function DD(l){return function Yl(l){var u=Un(l);return function(h){return mC(h,l,u)}}(lo(l,1))},S.constant=ca,S.countBy=zM,S.create=function pD(l,u){var h=On(l);return null==u?h:Zs(h,u)},S.curry=function tS(l,u,h){var _=Xn(l,8,g,g,g,g,g,u=h?g:u);return _.placeholder=tS.placeholder,_},S.curryRight=function ft(l,u,h){var _=Xn(l,16,g,g,g,g,g,u=h?g:u);return _.placeholder=ft.placeholder,_},S.debounce=nS,S.defaults=yS,S.defaultsDeep=mD,S.defer=y_,S.delay=KM,S.difference=MM,S.differenceBy=DM,S.differenceWith=AC,S.drop=function OC(l,u,h){var _=null==l?0:l.length;return _?sr(l,(u=h||u===g?1:Ye(u))<0?0:u,_):[]},S.dropRight=function Lu(l,u,h){var _=null==l?0:l.length;return _?sr(l,0,(u=_-(u=h||u===g?1:Ye(u)))<0?0:u):[]},S.dropRightWhile=function Oi(l,u){return l&&l.length?jm(l,Ne(u,3),!0,!0):[]},S.dropWhile=function xM(l,u){return l&&l.length?jm(l,Ne(u,3),!0):[]},S.fill=function s_(l,u,h,_){var w=null==l?0:l.length;return w?(h&&"number"!=typeof h&&Uo(l,u,h)&&(h=0,_=w),function $a(l,u,h,_){var w=l.length;for((h=Ye(h))<0&&(h=-h>w?0:w+h),(_=_===g||_>w?w:Ye(_))<0&&(_+=w),_=h>_?0:E_(_);h<_;)l[h++]=u;return l}(l,u,h,_)):[]},S.filter=function WM(l,u){return(ue(l)?$s:Nm)(l,Ne(u,3))},S.flatMap=function YM(l,u){return Ln(Bn(l,u),1)},S.flatMapDeep=function TO(l,u){return Ln(Bn(l,u),Fo)},S.flatMapDepth=function QC(l,u,h){return h=h===g?1:Ye(h),Ln(Bn(l,u),h)},S.flatten=rh,S.flattenDeep=function PC(l){return(null==l?0:l.length)?Ln(l,Fo):[]},S.flattenDepth=function FC(l,u){return(null==l?0:l.length)?Ln(l,u=u===g?1:Ye(u)):[]},S.flip=function eD(l){return Xn(l,512)},S.flow=bc,S.flowRight=kD,S.fromPairs=function kM(l){for(var u=-1,h=null==l?0:l.length,_={};++u<h;){var w=l[u];_[w[0]]=w[1]}return _},S.functions=function fs(l){return null==l?[]:Vf(l,Un(l))},S.functionsIn=function bD(l){return null==l?[]:Vf(l,cr(l))},S.groupBy=IO,S.initial=function a_(l){return(null==l?0:l.length)?sr(l,0,-1):[]},S.intersection=l_,S.intersectionBy=AM,S.intersectionWith=OM,S.invert=wD,S.invertBy=x_,S.invokeMap=EO,S.iteratee=sl,S.keyBy=ZC,S.keys=Un,S.keysIn=cr,S.map=Bn,S.mapKeys=function SD(l,u){var h={};return u=Ne(u,3),xi(l,function(_,w,I){ss(h,u(_,w,I),_)}),h},S.mapValues=function hs(l,u){var h={};return u=Ne(u,3),xi(l,function(_,w,I){ss(h,w,u(_,w,I))}),h},S.matches=function Mh(l){return Zl(lo(l,1))},S.matchesProperty=function FS(l,u){return Bm(l,lo(u,1))},S.memoize=fc,S.merge=TD,S.mergeWith=_h,S.method=NS,S.methodOf=rd,S.mixin=Zn,S.negate=Yu,S.nthArg=function OD(l){return l=Ye(l),De(function(u){return ea(u,l)})},S.omit=k_,S.omitBy=function A_(l,u){return ed(l,Yu(Ne(u)))},S.once=function oS(l){return JM(2,l)},S.orderBy=function JC(l,u,h,_){return null==l?[]:(ue(u)||(u=null==u?[]:[u]),ue(h=_?g:h)||(h=null==h?[]:[h]),Lo(l,u,h))},S.over=PD,S.overArgs=b_,S.overEvery=V_,S.overSome=RS,S.partial=w_,S.partialRight=rS,S.partition=QM,S.pick=CS,S.pickBy=ed,S.property=B_,S.propertyOf=function FD(l){return function(u){return null==l?g:za(l,u)}},S.pull=NC,S.pullAll=c_,S.pullAllBy=function cc(l,u,h){return l&&l.length&&u&&u.length?rr(l,u,Ne(h,2)):l},S.pullAllWith=function RC(l,u,h){return l&&l.length&&u&&u.length?rr(l,u,g,h):l},S.pullAt=u_,S.range=AO,S.rangeRight=LS,S.rearg=iS,S.reject=function MO(l,u){return(ue(l)?$s:Nm)(l,Yu(Ne(u,3)))},S.remove=function Hu(l,u){var h=[];if(!l||!l.length)return h;var _=-1,w=[],I=l.length;for(u=Ne(u,3);++_<I;){var E=l[_];u(E,_,l)&&(h.push(E),w.push(_))}return ai(l,w),h},S.rest=function tD(l,u){if("function"!=typeof l)throw new wo(se);return De(l,u=u===g?u:Ye(u))},S.reverse=d_,S.sampleSize=function __(l,u,h){return u=(h?Uo(l,u,h):u===g)?1:Ye(u),(ue(l)?Am:Hm)(l,u)},S.set=function td(l,u,h){return null==l?l:To(l,u,h)},S.setWith=function vh(l,u,h,_){return _="function"==typeof _?_:g,null==l?l:To(l,u,h,_)},S.shuffle=function Rr(l){return(ue(l)?Rf:as)(l)},S.slice=function ju(l,u,h){var _=null==l?0:l.length;return _?(h&&"number"!=typeof h&&Uo(l,u,h)?(u=0,h=_):(u=null==u?0:Ye(u),h=h===g?_:Ye(h)),sr(l,u,h)):[]},S.sortBy=Pt,S.sortedUniq=function Pi(l){return l&&l.length?yC(l):[]},S.sortedUniqBy=function RM(l,u){return l&&l.length?yC(l,Ne(u,2)):[]},S.split=function od(l,u,h){return h&&"number"!=typeof h&&Uo(l,u,h)&&(u=h=g),(h=h===g?Kr:h>>>0)?(l=wt(l))&&("string"==typeof u||null!=u&&!Zu(u))&&(!(u=Ar(u))&&Mr(l))?ls(Ei(l),0,h):l.split(u,h):[]},S.spread=function di(l,u){if("function"!=typeof l)throw new wo(se);return u=null==u?0:Sn(Ye(u),0),De(function(h){var _=h[u],w=ls(h,0,u);return _&&J(w,_),Ir(l,this,w)})},S.tail=function sh(l){var u=null==l?0:l.length;return u?sr(l,1,u):[]},S.take=function h_(l,u,h){return l&&l.length?sr(l,0,(u=h||u===g?1:Ye(u))<0?0:u):[]},S.takeRight=function BC(l,u,h){var _=null==l?0:l.length;return _?sr(l,(u=_-(u=h||u===g?1:Ye(u)))<0?0:u,_):[]},S.takeRightWhile=function ah(l,u){return l&&l.length?jm(l,Ne(u,3),!1,!0):[]},S.takeWhile=function g_(l,u){return l&&l.length?jm(l,Ne(u,3)):[]},S.tap=function HM(l,u){return u(l),l},S.throttle=function nD(l,u,h){var _=!0,w=!0;if("function"!=typeof l)throw new wo(se);return nn(h)&&(_="leading"in h?!!h.leading:_,w="trailing"in h?!!h.trailing:w),nS(l,u,{leading:_,maxWait:u,trailing:w})},S.thru=$u,S.toArray=pS,S.toPairs=gs,S.toPairsIn=yh,S.toPath=function xh(l){return ue(l)?$t(l,Nr):lr(l)?[l]:Vo(i_(wt(l)))},S.toPlainObject=M_,S.transform=function bh(l,u,h){var _=ue(l),w=_||Lr(l)||ol(l);if(u=Ne(u,4),null==h){var I=l&&l.constructor;h=w?_?new I:[]:nn(l)&&Vr(I)?On(Tu(l)):{}}return(w?Er:xi)(l,function(E,k,N){return u(h,E,k,N)}),h},S.unary=function sS(l){return v_(l,1)},S.union=LM,S.unionBy=UC,S.unionWith=HC,S.uniq=function jC(l){return l&&l.length?Xa(l):[]},S.uniqBy=function $C(l,u){return l&&l.length?Xa(l,Ne(u,2)):[]},S.uniqWith=function VM(l,u){return u="function"==typeof u?u:g,l&&l.length?Xa(l,g,u):[]},S.unset=function nd(l,u){return null==l||bC(l,u)},S.unzip=uc,S.unzipWith=dc,S.update=function P_(l,u,h){return null==l?l:hM(l,u,CC(h))},S.updateWith=function F_(l,u,h,_){return _="function"==typeof _?_:g,null==l?l:hM(l,u,CC(h),_)},S.values=ps,S.valuesIn=function SS(l){return null==l?[]:rC(l,cr(l))},S.without=BM,S.words=Ri,S.wrap=function DO(l,u){return w_(CC(u),l)},S.xor=GC,S.xorBy=zC,S.xorWith=sa,S.zip=nl,S.zipObject=function un(l,u){return pM(l||[],u||[],Ha)},S.zipObjectDeep=function UM(l,u){return pM(l||[],u||[],To)},S.zipWith=rt,S.entries=gs,S.entriesIn=yh,S.extend=vS,S.extendWith=ph,Zn(S,S),S.add=Cc,S.attempt=yc,S.camelCase=IS,S.capitalize=R_,S.ceil=$_,S.clamp=function N_(l,u,h){return h===g&&(h=u,u=g),h!==g&&(h=(h=Do(h))==h?h:0),u!==g&&(u=(u=Do(u))==u?u:0),Js(Do(l),u,h)},S.clone=function aS(l){return lo(l,4)},S.cloneDeep=function v(l){return lo(l,5)},S.cloneDeepWith=function rD(l,u){return lo(l,5,u="function"==typeof u?u:g)},S.cloneWith=function oD(l,u){return lo(l,4,u="function"==typeof u?u:g)},S.conformsTo=function hc(l,u){return null==u||mC(l,u,Un(u))},S.deburr=wh,S.defaultTo=function xD(l,u){return null==l||l!=l?u:l},S.divide=G_,S.endsWith=function ES(l,u,h){l=wt(l),u=Ar(u);var _=l.length,w=h=h===g?_:Js(Ye(h),0,_);return(h-=u.length)>=0&&l.slice(h,w)==u},S.eq=ct,S.escape=function MS(l){return(l=wt(l))&&Qp.test(l)?l.replace(wf,fO):l},S.escapeRegExp=function Ch(l){return(l=wt(l))&&Na.test(l)?l.replace(_u,"\\$&"):l},S.every=function YC(l,u,h){var _=ue(l)?cn:Fm;return h&&Uo(l,u,h)&&(u=g),_(l,Ne(u,3))},S.find=XC,S.findIndex=Vu,S.findKey=function _D(l,u){return Ti(l,Ne(u,3),xi)},S.findLast=qM,S.findLastIndex=Bu,S.findLastKey=function vD(l,u){return Ti(l,Ne(u,3),Ga)},S.floor=BS,S.forEach=m_,S.forEachRight=We,S.forIn=function bS(l,u){return null==l?l:pn(l,Ne(u,3),cr)},S.forInRight=function D_(l,u){return null==l?l:Rm(l,Ne(u,3),cr)},S.forOwn=function yD(l,u){return l&&xi(l,Ne(u,3))},S.forOwnRight=function Ni(l,u){return l&&Ga(l,Ne(u,3))},S.get=Ku,S.gt=lS,S.gte=C_,S.has=function mh(l,u){return null!=l&&Km(l,u,dM)},S.hasIn=wS,S.head=tl,S.identity=ho,S.includes=function XM(l,u,h,_){l=Eo(l)?l:ps(l),h=h&&!_?Ye(h):0;var w=l.length;return h<0&&(h=Sn(w+h,0)),Ju(l)?h<=w&&l.indexOf(u,h)>-1:!!w&&oi(l,u,h)>-1},S.indexOf=function Uu(l,u,h){var _=null==l?0:l.length;if(!_)return-1;var w=null==h?0:Ye(h);return w<0&&(w=Sn(_+w,0)),oi(l,u,w)},S.inRange=function mc(l,u,h){return u=Fi(u),h===g?(h=u,u=0):h=Fi(h),function Bf(l,u,h){return l>=An(u,h)&&l<Sn(u,h)}(l=Do(l),u,h)},S.invoke=CD,S.isArguments=gc,S.isArray=ue,S.isArrayBuffer=dh,S.isArrayLike=Eo,S.isArrayLikeObject=mn,S.isBoolean=function iD(l){return!0===l||!1===l||on(l)&&So(l)==hf},S.isBuffer=Lr,S.isDate=sD,S.isElement=function S_(l){return on(l)&&1===l.nodeType&&!ds(l)},S.isEmpty=function cS(l){if(null==l)return!0;if(Eo(l)&&(ue(l)||"string"==typeof l||"function"==typeof l.splice||Lr(l)||ol(l)||gc(l)))return!l.length;var u=_e(l);if(u==ei||u==ni)return!l.size;if(ic(l))return!Bt(l).length;for(var h in l)if(Dt.call(l,h))return!1;return!0},S.isEqual=function Xu(l,u){return Nn(l,u)},S.isEqualWith=function Qu(l,u,h){var _=(h="function"==typeof h?h:g)?h(l,u):g;return _===g?Nn(l,u,g,h):!!_},S.isError=fh,S.isFinite=function pc(l){return"number"==typeof l&&tM(l)},S.isFunction=Vr,S.isInteger=uS,S.isLength=hh,S.isMap=gh,S.isMatch=function aD(l,u){return l===u||zt(l,u,Jm(u))},S.isMatchWith=function lD(l,u,h){return h="function"==typeof h?h:g,zt(l,u,Jm(u),h)},S.isNaN=function Ho(l){return Mo(l)&&l!=+l},S.isNative=function T_(l){if(cs(l))throw new je("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ii(l)},S.isNil=function I_(l){return null==l},S.isNull=function dS(l){return null===l},S.isNumber=Mo,S.isObject=nn,S.isObjectLike=on,S.isPlainObject=ds,S.isRegExp=Zu,S.isSafeInteger=function fS(l){return uS(l)&&l>=-Vs&&l<=Vs},S.isSet=hS,S.isString=Ju,S.isSymbol=lr,S.isTypedArray=ol,S.isUndefined=function cD(l){return l===g},S.isWeakMap=function gS(l){return on(l)&&_e(l)==Aa},S.isWeakSet=function uD(l){return on(l)&&"[object WeakSet]"==So(l)},S.join=function PM(l,u){return null==l?"":Ba.call(l,u)},S.kebabCase=Sh,S.last=ui,S.lastIndexOf=function CO(l,u,h){var _=null==l?0:l.length;if(!_)return-1;var w=_;return h!==g&&(w=(w=Ye(h))<0?Sn(_+w,0):An(w,_-1)),u==u?function Pe(R,W,H){for(var Ce=H+1;Ce--;)if(R[Ce]===W)return Ce;return Ce}(l,u,w):ns(l,Vl,w,!0)},S.lowerCase=_c,S.lowerFirst=DS,S.lt=dD,S.lte=fD,S.max=function US(l){return l&&l.length?xr(l,ho,Lm):g},S.maxBy=function z_(l,u){return l&&l.length?xr(l,Ne(u,2),Lm):g},S.mean=function ND(l){return Mf(l,ho)},S.meanBy=function RD(l,u){return Mf(l,Ne(u,2))},S.min=function Sc(l){return l&&l.length?xr(l,ho,Ks):g},S.minBy=function id(l,u){return l&&l.length?xr(l,Ne(u,2),Ks):g},S.stubArray=U_,S.stubFalse=VS,S.stubObject=function Dh(){return{}},S.stubString=function H_(){return""},S.stubTrue=function j_(){return!0},S.multiply=HS,S.nth=function FM(l,u){return l&&l.length?ea(l,Ye(u)):g},S.noConflict=function AD(){return ao._===this&&(ao._=Ul),this},S.noop=Tn,S.now=aa,S.pad=function ur(l,u,h){l=wt(l);var _=(u=Ye(u))?Cu(l):0;if(!u||_>=u)return l;var w=(u-_)/2;return Ou(Yn(w),h)+l+Ou(Iu(w),h)},S.padEnd=function xO(l,u,h){l=wt(l);var _=(u=Ye(u))?Cu(l):0;return u&&_<u?l+Ou(u-_,h):l},S.padStart=function Th(l,u,h){l=wt(l);var _=(u=Ye(u))?Cu(l):0;return u&&_<u?Ou(u-_,h)+l:l},S.parseInt=function ID(l,u,h){return h||null==u?u=0:u&&(u=+u),oM(wt(l).replace(kw,""),u||0)},S.random=function TS(l,u,h){if(h&&"boolean"!=typeof h&&Uo(l,u,h)&&(u=h=g),h===g&&("boolean"==typeof u?(h=u,u=g):"boolean"==typeof l&&(h=l,l=g)),l===g&&u===g?(l=0,u=1):(l=Fi(l),u===g?(u=l,l=0):u=Fi(u)),l>u){var _=l;l=u,u=_}if(h||l%1||u%1){var w=aC();return An(l+w*(u-l+$E("1e-"+((w+"").length-1))),u)}return Kl(l,u)},S.reduce=function us(l,u,h){var _=ue(l)?gm:en,w=arguments.length<3;return _(l,Ne(u,4),h,w,Di)},S.reduceRight=function Gu(l,u,h){var _=ue(l)?ts:en,w=arguments.length<3;return _(l,Ne(u,4),h,w,Xl)},S.repeat=function rl(l,u,h){return u=(h?Uo(l,u,h):u===g)?1:Ye(u),Ut(wt(l),u)},S.replace=function vc(){var l=arguments,u=wt(l[0]);return l.length<3?u:u.replace(l[1],l[2])},S.result=function O_(l,u,h){var _=-1,w=(u=Qa(u,l)).length;for(w||(w=1,l=g);++_<w;){var I=null==l?g:l[Nr(u[_])];I===g&&(_=w,I=h),l=Vr(I)?I.call(l):I}return l},S.round=LD,S.runInContext=R,S.sample=function KC(l){return(ue(l)?pC:Rn)(l)},S.size=function zu(l){if(null==l)return 0;if(Eo(l))return Ju(l)?Cu(l):l.length;var u=_e(l);return u==ei||u==ni?l.size:Bt(l).length},S.snakeCase=xS,S.some=function ZM(l,u,h){var _=ue(l)?Rl:fM;return h&&Uo(l,u,h)&&(u=g),_(l,Ne(u,3))},S.sortedIndex=function f_(l,u){return kr(l,u)},S.sortedIndexBy=function ih(l,u,h){return jf(l,u,Ne(h,2))},S.sortedIndexOf=function SO(l,u){var h=null==l?0:l.length;if(h){var _=kr(l,u);if(_<h&&ct(l[_],u))return _}return-1},S.sortedLastIndex=function LC(l,u){return kr(l,u,!0)},S.sortedLastIndexBy=function VC(l,u,h){return jf(l,u,Ne(h,2),!0)},S.sortedLastIndexOf=function NM(l,u){if(null==l?0:l.length){var _=kr(l,u,!0)-1;if(ct(l[_],u))return _}return-1},S.startCase=kS,S.startsWith=function AS(l,u,h){return l=wt(l),h=null==h?0:Js(Ye(h),0,l.length),u=Ar(u),l.slice(h,h+u.length)==u},S.subtract=jS,S.sum=function VD(l){return l&&l.length?oC(l,ho):0},S.sumBy=function $S(l,u){return l&&l.length?oC(l,Ne(u,2)):0},S.template=function L_(l,u,h){var _=S.templateSettings;h&&Uo(l,u,h)&&(u=g),l=wt(l),u=ph({},u,_,Jf);var k,N,w=ph({},u.imports,_.imports,Jf),I=Un(w),E=rC(w,I),Q=0,ee=u.interpolate||Cf,re="__p += '",ve=de((u.escape||Cf).source+"|"+ee.source+"|"+(ee===mu?Pw:Cf).source+"|"+(u.evaluate||Cf).source+"|$","g"),Ee="//# sourceURL="+(Dt.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++UE+"]")+"\n";l.replace(ve,function(Re,it,ut,jo,go,dr){return ut||(ut=jo),re+=l.slice(Q,dr).replace(EE,QE),it&&(k=!0,re+="' +\n__e("+it+") +\n'"),go&&(N=!0,re+="';\n"+go+";\n__p += '"),ut&&(re+="' +\n((__t = ("+ut+")) == null ? '' : __t) +\n'"),Q=dr+Re.length,Re}),re+="';\n";var Oe=Dt.call(u,"variable")&&u.variable;if(Oe){if(IE.test(Oe))throw new je("Invalid `variable` option passed into `_.template`")}else re="with (obj) {\n"+re+"\n}\n";re=(N?re.replace(Xp,""):re).replace(Fa,"$1").replace(bf,"$1;"),re="function("+(Oe||"obj")+") {\n"+(Oe?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(k?", __e = _.escape":"")+(N?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+re+"return __p\n}";var Je=yc(function(){return gt(I,Ee+"return "+re).apply(g,E)});if(Je.source=re,fh(Je))throw Je;return Je},S.times=function wc(l,u){if((l=Ye(l))<1||l>Vs)return[];var h=Kr,_=An(l,Kr);u=Ne(u),l-=Kr;for(var w=yt(_,u);++h<l;)u(h);return w},S.toFinite=Fi,S.toInteger=Ye,S.toLength=E_,S.toLower=function ED(l){return wt(l).toLowerCase()},S.toNumber=Do,S.toSafeInteger=function mS(l){return l?Js(Ye(l),-Vs,Vs):0===l?l:0},S.toString=wt,S.toUpper=function OS(l){return wt(l).toUpperCase()},S.trim=function kO(l,u,h){if((l=wt(l))&&(h||u===g))return wn(l);if(!l||!(u=Ar(u)))return l;var _=Ei(l),w=Ei(u);return ls(_,Mt(_,w),Ue(_,w)+1).join("")},S.trimEnd=function dn(l,u,h){if((l=wt(l))&&(h||u===g))return l.slice(0,KE(l)+1);if(!l||!(u=Ar(u)))return l;var _=Ei(l);return ls(_,0,Ue(_,Ei(u))+1).join("")},S.trimStart=function Ih(l,u,h){if((l=wt(l))&&(h||u===g))return l.replace(kw,"");if(!l||!(u=Ar(u)))return l;var _=Ei(l);return ls(_,Mt(_,Ei(u))).join("")},S.truncate=function PS(l,u){var h=30,_="...";if(nn(u)){var w="separator"in u?u.separator:w;h="length"in u?Ye(u.length):h,_="omission"in u?Ar(u.omission):_}var I=(l=wt(l)).length;if(Mr(l)){var E=Ei(l);I=E.length}if(h>=I)return l;var k=h-Cu(_);if(k<1)return _;var N=E?ls(E,0,k).join(""):l.slice(0,k);if(w===g)return N+_;if(E&&(k+=N.length-k),Zu(w)){if(l.slice(k).search(w)){var Q,ee=N;for(w.global||(w=de(w.source,wt(Hs.exec(w))+"g")),w.lastIndex=0;Q=w.exec(ee);)var re=Q.index;N=N.slice(0,re===g?k:re)}}else if(l.indexOf(Ar(w),k)!=k){var ve=N.lastIndexOf(w);ve>-1&&(N=N.slice(0,ve))}return N+_},S.unescape=function It(l){return(l=wt(l))&&yE.test(l)?l.replace(xw,mO):l},S.uniqueId=function kh(l){var u=++yO;return wt(l)+u},S.upperCase=il,S.upperFirst=la,S.each=m_,S.eachRight=We,S.first=tl,Zn(S,function(){var l={};return xi(S,function(u,h){Dt.call(S.prototype,h)||(l[h]=u)}),l}(),{chain:!1}),S.VERSION="4.17.21",Er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){S[l].placeholder=S}),Er(["drop","take"],function(l,u){et.prototype[l]=function(h){h=h===g?1:Sn(Ye(h),0);var _=this.__filtered__&&!u?new et(this):this.clone();return _.__filtered__?_.__takeCount__=An(h,_.__takeCount__):_.__views__.push({size:An(h,Kr),type:l+(_.__dir__<0?"Right":"")}),_},et.prototype[l+"Right"]=function(h){return this.reverse()[l](h).reverse()}}),Er(["filter","map","takeWhile"],function(l,u){var h=u+1,_=1==h||3==h;et.prototype[l]=function(w){var I=this.clone();return I.__iteratees__.push({iteratee:Ne(w,3),type:h}),I.__filtered__=I.__filtered__||_,I}}),Er(["head","last"],function(l,u){var h="take"+(u?"Right":"");et.prototype[l]=function(){return this[h](1).value()[0]}}),Er(["initial","tail"],function(l,u){var h="drop"+(u?"":"Right");et.prototype[l]=function(){return this.__filtered__?new et(this):this[h](1)}}),et.prototype.compact=function(){return this.filter(ho)},et.prototype.find=function(l){return this.filter(l).head()},et.prototype.findLast=function(l){return this.reverse().find(l)},et.prototype.invokeMap=De(function(l,u){return"function"==typeof l?new et(this):this.map(function(h){return ke(h,l,u)})}),et.prototype.reject=function(l){return this.filter(Yu(Ne(l)))},et.prototype.slice=function(l,u){l=Ye(l);var h=this;return h.__filtered__&&(l>0||u<0)?new et(h):(l<0?h=h.takeRight(-l):l&&(h=h.drop(l)),u!==g&&(h=(u=Ye(u))<0?h.dropRight(-u):h.take(u-l)),h)},et.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},et.prototype.toArray=function(){return this.take(Kr)},xi(et.prototype,function(l,u){var h=/^(?:filter|find|map|reject)|While$/.test(u),_=/^(?:head|last)$/.test(u),w=S[_?"take"+("last"==u?"Right":""):u],I=_||/^find/.test(u);w&&(S.prototype[u]=function(){var E=this.__wrapped__,k=_?[1]:arguments,N=E instanceof et,Q=k[0],ee=N||ue(E),re=function(it){var ut=w.apply(S,J([it],k));return _&&ve?ut[0]:ut};ee&&h&&"function"==typeof Q&&1!=Q.length&&(N=ee=!1);var ve=this.__chain__,Ee=!!this.__actions__.length,Oe=I&&!ve,Je=N&&!Ee;if(!I&&ee){E=Je?E:new et(this);var Re=l.apply(E,k);return Re.__actions__.push({func:$u,args:[re],thisArg:g}),new tr(Re,ve)}return Oe&&Je?l.apply(this,k):(Re=this.thru(re),Oe?_?Re.value()[0]:Re.value():Re)})}),Er(["pop","push","shift","sort","splice","unshift"],function(l){var u=Su[l],h=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",_=/^(?:pop|shift)$/.test(l);S.prototype[l]=function(){var w=arguments;if(_&&!this.__chain__){var I=this.value();return u.apply(ue(I)?I:[],w)}return this[h](function(E){return u.apply(ue(E)?E:[],w)})}}),xi(et.prototype,function(l,u){var h=S[u];if(h){var _=h.name+"";Dt.call(zl,_)||(zl[_]=[]),zl[_].push({name:u,func:h})}}),zl[Wf(g,2).name]=[{name:"wrapper",func:g}],et.prototype.clone=function Pf(){var l=new et(this.__wrapped__);return l.__actions__=Vo(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Vo(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Vo(this.__views__),l},et.prototype.reverse=function cC(){if(this.__filtered__){var l=new et(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},et.prototype.value=function uC(){var l=this.__wrapped__.value(),u=this.__dir__,h=ue(l),_=u<0,w=h?l.length:0,I=function Me(l,u,h){for(var _=-1,w=h.length;++_<w;){var I=h[_],E=I.size;switch(I.type){case"drop":l+=E;break;case"dropRight":u-=E;break;case"take":u=An(u,l+E);break;case"takeRight":l=Sn(l,u-E)}}return{start:l,end:u}}(0,w,this.__views__),E=I.start,k=I.end,N=k-E,Q=_?k:E-1,ee=this.__iteratees__,re=ee.length,ve=0,Ee=An(N,this.__takeCount__);if(!h||!_&&w==N&&Ee==N)return gM(l,this.__actions__);var Oe=[];e:for(;N--&&ve<Ee;){for(var Je=-1,Re=l[Q+=u];++Je<re;){var it=ee[Je],ut=it.iteratee,jo=it.type,go=ut(Re);if(2==jo)Re=go;else if(!go){if(1==jo)continue e;break e}}Oe[ve++]=Re}return Oe},S.prototype.at=ch,S.prototype.chain=function jM(){return lh(this)},S.prototype.commit=function WC(){return new tr(this.value(),this.__chain__)},S.prototype.next=function p_(){this.__values__===g&&(this.__values__=pS(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?g:this.__values__[this.__index__++]}},S.prototype.plant=function qC(l){for(var u,h=this;h instanceof rs;){var _=ia(h);_.__index__=0,_.__values__=g,u?w.__wrapped__=_:u=_;var w=_;h=h.__wrapped__}return w.__wrapped__=l,u},S.prototype.reverse=function $M(){var l=this.__wrapped__;if(l instanceof et){var u=l;return this.__actions__.length&&(u=new et(this)),(u=u.reverse()).__actions__.push({func:$u,args:[d_],thisArg:g}),new tr(u,this.__chain__)}return this.thru(d_)},S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=function GM(){return gM(this.__wrapped__,this.__actions__)},S.prototype.first=S.prototype.head,$l&&(S.prototype[$l]=function uh(){return this}),S}();ao._=La,(Z=function(){return La}.call(we,B,we,K))!==g&&(K.exports=Z)}.call(this)},68020:K=>{var B=Function.prototype.toString;K.exports=function Z(g){if(null!=g){try{return B.call(g)}catch{}try{return g+""}catch{}}return""}},68339:(K,we,B)=>{var Z=B(89605);K.exports=function fe(ae){var pe=Z(ae,function(be){return 500===se.size&&se.clear(),be}),se=pe.cache;return pe}},78657:K=>{var we="object"==typeof global&&global&&global.Object===Object&&global;K.exports=we},79038:(K,we,B)=>{var Z=B(83329);K.exports=function g(fe,ae){var pe=fe.__data__;return Z(ae)?pe["string"==typeof ae?"string":"hash"]:pe.map}},81464:(K,we,B)=>{var Z=B(78657),g="object"==typeof self&&self&&self.Object===Object&&self,fe=Z||g||Function("return this")();K.exports=fe},83278:K=>{K.exports=function we(B){var Z=typeof B;return null!=B&&("object"==Z||"function"==Z)}},83329:K=>{K.exports=function we(B){var Z=typeof B;return"string"==Z||"number"==Z||"symbol"==Z||"boolean"==Z?"__proto__"!==B:null===B}},83434:(K,we,B)=>{var Z=B(58247),ae=Object.prototype.hasOwnProperty;K.exports=function pe(se){var be=this.__data__;if(Z){var he=be[se];return"__lodash_hash_undefined__"===he?void 0:he}return ae.call(be,se)?be[se]:void 0}},86316:(K,we,B)=>{var Z=B(12651);K.exports=function g(fe,ae){for(var pe=fe.length;pe--;)if(Z(fe[pe][0],ae))return pe;return-1}},87005:(K,we,B)=>{var Z=B(8516),g=B(12757),fe=B(9812),ae=B(15153),se=Z?Z.prototype:void 0,be=se?se.toString:void 0;K.exports=function he(dt){if("string"==typeof dt)return dt;if(fe(dt))return g(dt,he)+"";if(ae(dt))return be?be.call(dt):"";var qt=dt+"";return"0"==qt&&1/dt==-Infinity?"-0":qt}},89605:(K,we,B)=>{var Z=B(90752);function fe(ae,pe){if("function"!=typeof ae||null!=pe&&"function"!=typeof pe)throw new TypeError("Expected a function");var se=function(){var be=arguments,he=pe?pe.apply(this,be):be[0],dt=se.cache;if(dt.has(he))return dt.get(he);var qt=ae.apply(this,be);return se.cache=dt.set(he,qt)||dt,qt};return se.cache=new(fe.Cache||Z),se}fe.Cache=Z,K.exports=fe},90752:(K,we,B)=>{var Z=B(21891),g=B(92759),fe=B(97766),ae=B(40322),pe=B(47258);function se(be){var he=-1,dt=null==be?0:be.length;for(this.clear();++he<dt;){var qt=be[he];this.set(qt[0],qt[1])}}se.prototype.clear=Z,se.prototype.delete=g,se.prototype.get=fe,se.prototype.has=ae,se.prototype.set=pe,K.exports=se},92759:(K,we,B)=>{var Z=B(79038);K.exports=function g(fe){var ae=Z(this,fe).delete(fe);return this.size-=ae?1:0,ae}},97766:(K,we,B)=>{var Z=B(79038);K.exports=function g(fe){return Z(this,fe).get(fe)}},98137:(K,we,B)=>{var Z=B(43916),g=B(58130);K.exports=function fe(ae,pe){for(var se=0,be=(pe=Z(pe,ae)).length;null!=ae&&se<be;)ae=ae[g(pe[se++])];return se&&se==be?ae:void 0}}},K=>{var Z;Z=49467,K(K.s=Z)}]);