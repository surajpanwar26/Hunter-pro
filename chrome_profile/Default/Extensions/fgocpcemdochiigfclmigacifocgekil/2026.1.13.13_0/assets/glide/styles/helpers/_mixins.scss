@mixin mixin-placeholder($color) {
    &::-webkit-input-placeholder {
        color: $color;
    }

    &::-moz-placeholder {
        color: $color;
    }

    &:-ms-input-placeholder {
        color: $color;
    }
}

// Extra small devices (phones, less than 578px)
@mixin mixin-phones {
    @media (max-width: 575.98px) {
        @content;
    }
}

// Small devices (landscape phones, less than 768px)
@mixin mixin-phones-landscape {
    @media (max-width: 767.98px) {
        @content;
    }
}

// Medium devices (tablets, less than 992px)
@mixin mixin-tablets {
    @media (max-width: 991.98px) {
        @content;
    }
}

// Large devices (desktops, less than 1200px)
@mixin mixin-desktops {
    @media (max-width: 1199.98px) {
        @content;
    }
}

// Large devices (desktops, more than 1200px)
@mixin mixin-desktops-lg {
    @media (min-width: 1600px) {
        @content;
    }
}

@mixin mixin-onlyIE {
    @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
        @content;
    }
}

@mixin mixin-onlyChrome {
    @media all and (-webkit-min-device-pixel-ratio: 0) and (min-resolution: .001dpcm) {
        @content;
    }
}

@mixin mixin-onlyFirefox {
    @media screen and (min--moz-device-pixel-ratio: 0) {
        @content;
    }
}

@mixin mixin-tooltip-arrow-position($position, $color) {
    position: absolute;
    border-color: transparent;
    border-style: solid;
    border-width: 7px 8px 0;
    border-top-color: $color;

    @if $position == 'bottom' {
        left: 50%;
        bottom: 2px;
        transform: translate(-50%, 100%);
    }

    @if $position == 'top' {
        left: 50%;
        top: 2px;
        transform: translate(-50%, -100%) rotate(180deg);
    }

    @if $position == 'left' {
        top: 50%;
        left: 5px;
        transform: translate(-100%, -50%) rotate(90deg);
    }

    @if $position == 'right' {
        top: 50%;
        right: 5px;
        transform: translate(100%, -50%) rotate(-90deg);
    }
}

// Use for a host class of <slate-spinner class="host...
@mixin mixin-spinner-size($size) {
    $half: calc($size / 2);
    $quarter: calc($size / 4);

    width: $size;
    height: $size;
    display: inline-block;

    .spinner-container {
        width: $size !important;
        height: $size !important;

        .lds-spinner div {
            left: $half !important;
            top: 0 !important;
            width: 1px !important;
            height: $quarter !important;
            transform-origin: 0 $half !important;
        }
    }
}

@mixin fontFace($fontFamily,$fontLocalWithSpaces, $fontLocal, $fontPath, $fontStyle: normal, $fontWeight: normal, $fontDisplay: swap) {
    @font-face {
        font-family: $fontFamily;
        src: local($fontLocalWithSpaces), local($fontLocal),
        url('#{$fontPath}.woff2') format('woff2'),
        url('#{$fontPath}.woff') format('woff');
        font-weight: $fontWeight;
        font-style: $fontStyle;
        font-display: $fontDisplay;
    }
}

@mixin line-clamp($lines: 1) {
    overflow: hidden;
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
}

@mixin gl-footer-buttons {
    font-size: 14px;
    line-height: 20px;
    font-weight: 400;
    padding: 5px 12px 7px;
}

@function is-rgba($val) {
    @return str-index(#{$val}, 'rgba') or str-index(#{$val}, 'rgb');
}

@mixin gl-button-states(
    $bg: var(--gl-background-on-primary),
    $color: var(--gl-color-on-primary),
    $variant: 'solid',
    $hover-overlay: var(--gl-hover-overlay),
    $active-overlay: var(--gl-active-overlay),
    $disabled-opacity: 0.4,
    $use-border: false
) {
    background-color: if($variant == 'solid', $bg, transparent);
    color: $color;
    border: if($use-border, 1px solid $color, none);
    cursor: pointer;
    transition: background-color 0.15s ease, color 0.15s ease, opacity 0.15s ease;
    outline: none;

    &:hover {
        @if $variant == 'solid' {
            @if is-rgba($hover-overlay) {
                background-color: $hover-overlay;
            } @else {
                background-color: color-mix(in srgb, black $hover-overlay, $bg);
            }
        } @else if $variant == 'outline' or $variant == 'ghost' {
            background-color: $hover-overlay;
            @if $variant == 'outline' and $use-border {
                border-color: $hover-overlay;
            }
        }
    }

    &:active {
        @if $variant == 'solid' {
            @if is-rgba($active-overlay) {
                background-color: $active-overlay;
            } @else {
                background-color: color-mix(in srgb, black $active-overlay, $bg);
            }
        } @else if $variant == 'outline' or $variant == 'ghost' {
            background-color: $active-overlay;
            @if $variant == 'outline' and $use-border {
                border-color: $active-overlay;
            }
        }
    }

    &:disabled,
    &.disabled {
        opacity: $disabled-opacity;
        cursor: not-allowed;
        pointer-events: none;
    }
}


@mixin gl-button-step {
    @include gl-button-states(
            var(--gl-step-background-on-primary),
            var(--gl-step-color-on-contrast),
            'solid',
            var(--gl-step-hover-overlay),
            var(--gl-step-active-overlay)
    );
}

@mixin gl-button-system {
    @include gl-button-states(
            var(--gl-background-on-primary),
            var(--gl-color-on-primary),
            'solid'
    );
}

@mixin gl-button-step-ghost {
    @include gl-button-states(
            transparent,
            var(--gl-step-color-primary),
            'ghost',
            var(--gl-step-transparent-hover-overlay),
            var(--gl-step-transparent-active-overlay)
    );
}

@mixin gl-button-system-ghost {
    @include gl-button-states(
            transparent,
            var(--gl-color),
            'ghost',
            var(--gl-transparent-hover-overlay),
            var(--gl-transparent-active-overlay)
    );
}

@mixin gl-input-border-states (
    $base: var(--gl-color-line),
    $hover: var(--gl-input-border-hover),
    $active: var(--gl-input-border-active),
    $base-icon: var(--gl-color-placeholder),
    $base-icon-hover: var(--gl-color-placeholder-hover),
) {
    border: 1px solid $base;
    transition: border-color 0.15s ease;

    + .gl-input-search-icon {
        color: $base-icon;
    }

    &::placeholder {
        color: $base;
        transition: color 0.15s ease;
    }

    &:hover {
        border-color: $hover;

        + .gl-input-search-icon {
            color: $base-icon-hover;
        }

        &::placeholder {
            color: $hover;
        }
    }

    &:focus, &:active {
        border-color: $active;

        + .gl-input-search-icon {
            color: $active;
        }

        &::placeholder {
            color: $hover;
        }
    }
}

@mixin gl-input-error-border-states (
    $base-error: var(--gl-color-error),
    $base-error-hover: var(--gl-input-error-border-hover),
) {
    border-color: $base-error;

    &:hover {
        border-color: $base-error-hover;
    }

    &:focus, &:active {
        border-color: $base-error-hover;
    }
}
